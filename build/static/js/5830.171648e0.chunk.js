"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[5830],{2754:(e,s,a)=>{a.d(s,{A:()=>E});var n=a(5043),l=a(5475),t=a(3118),r=a(7671),i=a(7354),c=a(6939),o=a(6213),d=a(2806),u=a(9705),m=(a(8856),a(8753)),h=a(6548),x=a(5455),p=a(6438),g=a(9513),f=a(2608),j=a(2459),N=a(1330),v=(a(7035),a(7070)),_=a(2821),w=a(9932),b=a(3216),y=a(8908),k=a(4117),S=a(2862),A=a(579);const E=function(e){let{refreshNotifications:s}=e;var E="https://backend.amourette.no/api/profile/",M="https://backend.amourette.no/api/members/";const[C,I]=(0,n.useState)(""),[L,R]=(0,n.useState)(!1),[T,O]=(0,n.useState)([]),[$,D]=(0,n.useState)(""),[P,q]=(0,n.useState)(navigator.onLine),[B,F]=(0,n.useState)(""),[J,U]=(0,n.useState)(!1),[H,G]=(0,n.useState)(""),[W,z]=(0,n.useState)(""),Y=(0,b.zy)(),K=new URLSearchParams(Y.search).get("q")||"",[Q,Z]=(0,n.useState)(K),[V,X]=(0,n.useState)("0"),[ee,se]=(0,n.useState)("0"),[ae,ne]=(0,n.useState)("0"),le=(0,n.useRef)(null),[te,re]=(0,n.useState)("0"),[ie,ce]=(0,n.useState)("0"),[oe,de]=(0,n.useState)("0"),[ue,me]=(0,n.useState)("0"),[he,xe]=(0,n.useState)([]),[pe,ge]=(0,n.useState)([]),fe=localStorage.getItem("userLogin"),je=JSON.parse(fe),[Ne,ve]=(0,n.useState)(!1),[_e,we]=(0,n.useState)(1),be=e=>{if(!e)return null;const s=new Date(e);if(isNaN(s.getTime()))return console.error("Invalid date:",e),"Invalid date";const a=new Date,n=new Date(s.getTime()-36e5),l=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Oslo",hour:"2-digit",minute:"2-digit",hour12:!1}).format(n),t=a.getTime()-s.getTime(),r=Math.floor(t/1e3),i=Math.floor(r/60),c=Math.floor(i/60),o=Math.floor(c/24),d=Math.floor(o/7),u=Math.floor(o/30),m=Math.floor(o/365);return i<60||c<24?`${l}`:1===o?`Yesterday at ${l}`:o<7?`${o}d  ${l}`:d<4?`${d}w  ${l}`:u<12?`${u}m  ${l}`:`${m}y  ${l}`},ye=e=>{Le(Ie===e?null:e),qe(),Ee()},[ke,Se]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setInterval((()=>{Ae()}),3e3);return()=>clearInterval(e)}),[]);const Ae=async()=>{const e=localStorage.getItem("userLogin");if(e){const a={user_id:JSON.parse(e).id};try{const e=await o.A.post(M+"getmessageNoRead",a,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(e.data.results),me(e.data.results.length)}catch(s){console.error("Error setting user online:",s.response?s.response.data:s.message)}}},Ee=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await o.A.post(E+"getReceivedMessageheaderTotal",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;xe(a)}catch(n){n.response||n.request}},[Me,Ce]=(0,n.useState)(""),[Ie,Le]=(0,n.useState)(null),[Re,Te]=(0,n.useState)(!1),Oe=()=>{window.scrollY>0?Te(!0):Te(!1)},$e=(0,b.Zp)();(0,n.useEffect)((()=>{const e=new WebSocket("wss://backend.amourette.no");return e.onmessage=e=>{try{const a=JSON.parse(e.data);console.log(a);const n=localStorage.getItem("userLogin"),l=n?JSON.parse(n):null;"friendrequestacceptnotification"===a.event&&Array.isArray(a.user_id)&&a.user_id.some((e=>e.id===l.id))&&s(),"gallerynotification"===a.event&&Array.isArray(a.user_id)&&a.user_id.some((e=>e.id===l.id))&&s(),"grouprequest_acceptnotification"===a.event&&Array.isArray(a.user_id)&&a.user_id.some((e=>e.id===l.id))&&s(),"eventrequest_acceptnotification"===a.event&&Array.isArray(a.user_id)&&a.user_id.some((e=>e.id===l.id))&&s()}catch(a){console.error("Failed to parse WebSocket message:",a),console.error("Raw message:",e.data)}},e.onopen=()=>{console.log("WebSocket connection established")},e.onerror=e=>{console.error("WebSocket error:",e)},()=>{e.close(),console.log("WebSocket connection closed")}}),[s]),(0,n.useEffect)((()=>{const e=localStorage.getItem("userLogin"),s=JSON.parse(e);return console.log("dff"),console.log(s),null!==s&&"null"!==s||(localStorage.removeItem("userLogin"),window.location.reload("/login")),Be(),qe(),window.addEventListener("scroll",Oe),()=>{window.removeEventListener("scroll",Oe)}}),[]);const De=async()=>{const e=localStorage.getItem("userLogin");if(e){const a={user_id:JSON.parse(e).id};try{const e=await o.A.post(E+"/setonline",a,{headers:{Accept:"application/json","Content-Type":"application/json"}});F(e.data.onlineCount)}catch(s){console.error("Error setting user online:",s.response?s.response.data:s.message)}}},Pe=async()=>{const e=localStorage.getItem("userLogin");if(e){const a={user_id:JSON.parse(e).id};try{await o.A.post(E+"/setoffline",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})}catch(s){console.error("Error setting user offline:",s.response?s.response.data:s.message)}}};(0,n.useEffect)((()=>{P?De():Pe();const e=()=>{q(!0)},s=()=>{q(!1)};return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}),[]),(0,n.useEffect)((()=>{P?De():Pe()}),[P]);const qe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const s=localStorage.getItem("userLogin");let a={user_id:JSON.parse(s).id,pageNumber:e};console.log(e);try{var n=(await o.A.post(E+"getReceivedMessageheader",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;O(1===e?n:e=>[...e,...n])}catch(l){l.response||l.request}},Be=async()=>{const e=localStorage.getItem("userLogin"),s=JSON.parse(e);let a={email:s.email,id:s.id};try{const e=await o.A.post("https://backend.amourette.no/api/getUserDetail",a,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log("sd"),""===e.data.result&&(localStorage.removeItem("userLogin"),$e("/login")),console.log(e.data),Ce(e.data.result)}catch(n){n.response||(n.request?console.error("Request data:",n.request):console.error("Error message:",n.message))}},Fe=e=>{S.A.changeLanguage(e),localStorage.setItem("language",e)},{t:Je}=(0,k.Bd)();(0,n.useEffect)((()=>{let e=["/searchpeople","/searchpost","/searchgroup","/searchevent","/searchforum","/searchmember","/searchspeeddate"].includes(Y.pathname)?Y.pathname:"/searchtop?q="+H;setTimeout((()=>{I(e)}),100)}),[Y.pathname,H]),(0,n.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),S.A.language!==e&&S.A.changeLanguage(e),console.log(Je("LeftMenu_yourprofile"))}),[S.A,Je]),(0,n.useEffect)((()=>{const e=e=>{if(console.log(C),""!==C&&""!==H.trim()&&"Enter"===e.key){e.preventDefault();let s=C.includes("?q=")?C:`${C}?q=${encodeURIComponent(H)}`;window.location.href=s}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[C,H]);const Ue=()=>{document.cookie="gdprConsent=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/;",window.location.href="/logout"};(0,n.useEffect)((()=>{const e=setInterval((async()=>{Ge(),Ye(),ze(),We(),He()}),1500);return()=>clearInterval(e)}),[]);const He=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await o.A.post(E+"gettotalEvents",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;de(a.eventsCount)}catch(n){n.response||n.request}},Ge=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id,looking_forr:[]};try{var a=(await o.A.post(M+"getAllMembersPageDashboard",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;if(a.length>0){const e=a.filter((e=>"Online"===e.online_user&&"Yes"===e.online_user_active)).length;console.log(e),F(e);const s=new Date,n=new Date(s.getTime()-2592e6);a.length;let l=0;a.forEach((e=>{new Date(e.created_at)>=n&&l++})),ne(l)}X(a.length)}catch(n){n.response||n.request}},We=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await o.A.post(E+"gettotalGroups",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;ce(a.groupsCount)}catch(n){n.response||n.request}},ze=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await o.A.post(E+"gettotalImages",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;re(a.totalImages)}catch(n){n.response||n.request}},Ye=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await o.A.post(E+"gettotalMembers",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;console.log(a),se(a.memberCount)}catch(n){n.response||n.request}};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(c.h,{}),J&&(0,A.jsx)(y.A,{message:W}),(0,A.jsx)("header",{className:"header "+(Re?"sticky":""),children:(0,A.jsx)("div",{className:"container-lg",children:(0,A.jsxs)("div",{className:"row gy-3 align-items-center justify-content-between",children:[(0,A.jsx)("div",{className:"col-auto col-sm-6  col-md-3",children:(0,A.jsx)(l.N_,{to:"/",className:"toplogo d-inline-block fulw",children:(0,A.jsx)("img",{src:d,alt:"Logo"})})}),(0,A.jsx)("div",{className:"col-md-3 d-md-flex d-none",children:(0,A.jsx)("div",{className:"d-block topsearch",children:(0,A.jsxs)("form",{action:"javascript:void(0)",children:[(0,A.jsx)("input",{type:"text",value:Q,placeholder:Je("headerSearch"),onInput:e=>{const s=e.target.value;Z(s),G(s),R(!0);const a=["/searchpeople","/searchpost","/searchgroup","/searchevent","/searchforum","/searchmember","/searchspeeddate"];""!==s?R(!0):(a.includes(Y.pathname)&&(window.location.href=Y.pathname),R(!1))}}),L&&(0,A.jsx)("ul",{className:"similar_search",children:(0,A.jsx)("li",{children:(0,A.jsxs)("a",{href:C,children:[(0,A.jsx)("div",{className:"block search_icon",children:(0,A.jsx)("img",{className:"w-100 h-100 object-fit-cover",src:a(4319),alt:"Profile"})}),(0,A.jsx)("span",{children:H})]})})})]})})}),(0,A.jsx)("div",{className:"col-auto col-sm-6  col-md-6",children:(0,A.jsxs)("div",{className:"d-flex gap-lg-3 gap-2 flex-wrap rel align-items-md-center justify-content-end",children:[(0,A.jsxs)("div",{className:"d-md-flex d-none",children:[(0,A.jsx)("button",{type:"button",className:"topmenu "+("menu1"===Ie?"active":""),onClick:()=>ye("menu1"),children:(0,A.jsx)("img",{className:"object-contain",src:u,alt:"userp"})}),(0,A.jsx)("div",{className:"menubox menu_scroll",style:{display:"menu1"===Ie?"block":"none"},children:(0,A.jsxs)("div",{className:"d-flex flex-column gap-4 ",children:[(0,A.jsx)("h3",{children:Je("Menu")}),(0,A.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,A.jsxs)(l.N_,{to:"/friendsearch",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:h,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("LeftMenu_Members")}),(0,A.jsx)("p",{children:Je("view_and_browser")})]})]}),(0,A.jsxs)(l.N_,{to:"/receivedmessages",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:x,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Messages")}),(0,A.jsx)("p",{children:Je("view_received_and_sent")})]})]}),(0,A.jsxs)(l.N_,{to:"/allgallery",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:p,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Gallery")}),(0,A.jsx)("p",{children:Je("view_and_upload_images")})]})]}),(0,A.jsxs)(l.N_,{to:"/allgroup",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:g,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Groups")}),(0,A.jsx)("p",{children:Je("Browse_and_create_groups")})]})]}),(0,A.jsxs)(l.N_,{to:"/allevents",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:f,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("LeftMenu_Events")}),(0,A.jsx)("p",{children:Je("Browse_and_create_events")})]})]}),(0,A.jsxs)(l.N_,{to:"/speeddate",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:j,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("LeftMenu_Speedating")}),(0,A.jsx)("p",{children:Je("Meet_new_people")})]})]}),(0,A.jsxs)(l.N_,{to:"/allforums",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:N,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Forum")}),(0,A.jsx)("p",{children:Je("Browse_and_create_forum_threads")})]})]})]})]})})]}),(0,A.jsx)(i.A,{activeMenu:Ie,toggleMenu:ye,refresh:Ne}),(0,A.jsxs)("div",{className:"d-md-none d-block",children:[(0,A.jsx)("button",{type:"button",className:"topmenu "+("menu1"===Ie?"active":""),onClick:()=>ye("menu1"),children:(0,A.jsx)("img",{className:"object-contain",src:u,alt:"userp"})}),(0,A.jsx)("div",{className:"menubox menu_scroll",style:{display:"menu1"===Ie?"block":"none"},children:(0,A.jsx)("div",{className:"d-flex flex-column gap-4 ",children:(0,A.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,A.jsxs)(l.N_,{to:"/editprofile",className:"d-flex align-items-center gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu ofit rounded-circle overflow-hidden",children:Me.profile_image&&0===Me.makeImagePrivate?(0,A.jsx)("img",{src:Me.profile_image,alt:"userpic"}):(0,A.jsx)("img",{src:a(7123),alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Me.username}),(0,A.jsx)("p",{children:Je("Edit_your_profile")})]})]}),(0,A.jsx)("div",{className:"d-block morebtn",children:(0,A.jsx)(l.N_,{to:"/subscription",children:Je("UPGRADE_MEMBERSHIP")})}),(0,A.jsx)("h4",{children:Je("Menu")}),(0,A.jsxs)(l.N_,{to:"/friendsearch",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:h,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("LeftMenu_Members")}),(0,A.jsx)("p",{children:Je("view_and_browser")})]})]}),(0,A.jsxs)(l.N_,{to:"/receivedmessages",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:x,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Messages")}),(0,A.jsx)("p",{children:Je("view_received_and_sent")})]})]}),(0,A.jsxs)(l.N_,{to:"/allgallery",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:p,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Gallery")}),(0,A.jsx)("p",{children:Je("view_and_upload_images")})]})]}),(0,A.jsxs)(l.N_,{to:"/allgroup",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:g,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Groups")}),(0,A.jsx)("p",{children:Je("Browse_and_create_groups")})]})]}),(0,A.jsxs)(l.N_,{to:"/allevents",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:f,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("LeftMenu_Events")}),(0,A.jsx)("p",{children:Je("Browse_and_create_events")})]})]}),(0,A.jsxs)(l.N_,{to:"/speeddate",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:j,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("LeftMenu_Speedating")}),(0,A.jsx)("p",{children:Je("Meet_new_people")})]})]}),(0,A.jsxs)(l.N_,{to:"/allforums",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:N,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Forum")}),(0,A.jsx)("p",{children:Je("Browse_and_create_forum_threads")})]})]}),(0,A.jsx)("hr",{}),(0,A.jsxs)(l.N_,{to:"/setting",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:v,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Settings")}),(0,A.jsx)("p",{children:Je("Site_and_profile_settings")})]})]}),(0,A.jsxs)(l.N_,{to:"/helpsupport",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:w,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Help_and_support")}),(0,A.jsx)("p",{children:Je("Contact_us_FAQ_and_more")})]})]}),(0,A.jsxs)(l.N_,{to:"#",onClick:Ue,className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:_,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Log_out")}),(0,A.jsx)("p",{children:Je("See_you_later")})]})]}),(0,A.jsx)("hr",{}),(0,A.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,A.jsx)("h5",{className:"grouptitle mb-3",children:Je("RightMenu_Statistics")}),(0,A.jsxs)("div",{className:"d-flex flex-column gap-3 listnumber",children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:Je("RightMenu_Onlinenow")}),(0,A.jsx)("h4",{children:B})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:Je("RightMenu_Newmembers")}),(0,A.jsx)("h4",{children:ae})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:Je("RightMenu_Images")}),(0,A.jsx)("h4",{children:te})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:Je("RightMenu_Groups")}),(0,A.jsx)("h4",{children:ie})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:Je("RightMenu_Eventsandparties")}),(0,A.jsx)("h4",{children:oe})]}),(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:Je("RightMenu_Membersintotal")}),(0,A.jsx)("h4",{children:V})]})]})]})]})})})]}),(0,A.jsxs)("div",{className:"d-md-flex d-none",children:[(0,A.jsxs)("button",{type:"button",className:"topmenu "+("menu3"===Ie?"active":""),onClick:()=>ye("menu3"),children:[ue>0&&(0,A.jsx)("span",{className:"notinum",children:ue>99?"99+":ue}),(0,A.jsx)("img",{className:"object-fit-contain",src:m,alt:"userp"})]}),(0,A.jsx)("div",{className:"menubox",style:{display:"menu3"===Ie?"block":"none"},children:(0,A.jsxs)("div",{className:"d-flex flex-column gap-4 ",children:[(0,A.jsx)("h3",{children:Je("Inbox")}),(0,A.jsx)("div",{className:"d-block inboxser",children:(0,A.jsx)("form",{action:"",children:(0,A.jsx)("input",{type:"text",value:$,onChange:async e=>{const s=localStorage.getItem("userLogin"),a=JSON.parse(s);D(e.target.value);let n={search:e.target.value,user_id:a.id};try{var l=(await o.A.post(E+"getReceivedMessageSearch",n,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;O(l)}catch(t){t.response||t.request}},placeholder:Je("searchinbox")})})}),he.length>1&&(0,A.jsx)("div",{className:"d-block inboxser morebtnnotification",children:(0,A.jsx)("button",{type:"button",onClick:()=>{if(le.current){const e=le.current.querySelectorAll(".chat-link");let s=100;e.forEach(((e,a)=>{const n=e.getAttribute("data-url");console.log(n,s),n&&(setTimeout((()=>{window.open(n,"_blank")}),s),s*=2)}))}},className:"float-end",children:Je("All_message")})}),(0,A.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,A.jsxs)("div",{className:"d-flex flex-column gap-3 scroll_bar scrollyover",ref:le,children:[0===T.length?(0,A.jsx)("p",{children:Je("No_inbox_found")}):T.map((e=>{const s=e.user_id===je.id,n=s?e.recipient_profile:e.sender_profile,t=s?e.recipient_username:e.sender_username,r=`/receivedchatmessage/${s?e.recipient_slug:e.sender_slug}`;return(0,A.jsxs)(l.N_,{to:r,className:"d-flex gap-3 chat-link","data-url":r,children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu ofit rounded-circle overflow-hidden",children:n?(0,A.jsx)("img",{src:n,alt:"userpic"}):(0,A.jsx)("img",{src:a(7123),alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,A.jsx)("h4",{children:t})," ",(0,A.jsx)("p",{children:be(e.date)})," "]}),(0,A.jsxs)("h6",{className:"minimsg",children:[e.message," "]})]})]},e.id)})),he.length>10&&(0,A.jsx)("div",{className:"d-block morebtnnotification",children:(0,A.jsx)("button",{type:"button",onClick:()=>{const e=_e+1;we(e),qe(e)},children:Je("seeprevious")})})]})})]})})]}),(0,A.jsxs)("div",{className:"d-md-flex d-none",children:[(0,A.jsx)("button",{type:"button",className:"topmenu rounded-circle overflow-hidden p-0 "+("menu4"===Ie?"active":""),onClick:()=>ye("menu4"),children:1===Me.makeImagePrivate?(0,A.jsx)("img",{src:a(7123),alt:"userpic",className:"rounded-circle overflow-hidden"}):(0,A.jsx)("img",{src:Me.profile_image,alt:"userpic",className:"rounded-circle overflow-hidden"})}),(0,A.jsx)("div",{className:"menubox",style:{display:"menu4"===Ie?"block":"none"},children:(0,A.jsxs)("div",{className:"d-flex flex-column gap-4 ",children:[(0,A.jsx)("h3",{children:Je("Profile_and_settings")}),(0,A.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,A.jsxs)(l.N_,{to:"/editprofile",className:"d-flex align-items-center gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu ofit rounded-circle overflow-hidden",children:Me.profile_image&&0===Me.makeImagePrivate?(0,A.jsx)("img",{src:Me.profile_image,alt:"userpic"}):(0,A.jsx)("img",{src:a(7123),alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Me.username}),(0,A.jsx)("p",{children:Je("Edit_your_profile")})]})]}),(0,A.jsx)("div",{className:"d-block morebtn",children:(0,A.jsx)("button",{type:"button",onClick:()=>{Se(!0),document.body.style.overflowY="hidden"},children:Je("UPGRADE_MEMBERSHIP")})}),(0,A.jsxs)("div",{className:"d-flex flex-column gap-3 helpset pt-3",children:[(0,A.jsxs)(l.N_,{to:"/setting",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:v,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Settings")}),(0,A.jsx)("p",{children:Je("Site_and_profile_settings")})]})]}),(0,A.jsxs)(l.N_,{to:"/helpsupport",className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:w,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Help_and_support")}),(0,A.jsx)("p",{children:Je("Contact_us_FAQ_and_more")})]})]}),(0,A.jsxs)(l.N_,{to:"#",onClick:Ue,className:"d-flex gap-3",children:[(0,A.jsx)("div",{className:"flex-shrink-0",children:(0,A.jsx)("div",{className:"iconmenu fulw",children:(0,A.jsx)("img",{src:_,alt:"userpic"})})}),(0,A.jsxs)("div",{className:"flex-grow-1",children:[(0,A.jsx)("h4",{children:Je("Log_out")}),(0,A.jsx)("p",{children:Je("See_you_later")})]})]})]})]})]})})]}),(0,A.jsxs)("div",{className:"d-flex align-items-center  gap-1 lang_chnage",children:[(0,A.jsx)("button",{className:"flex-shrink-0 "+("en"===S.A.language?"active":""),type:"button",onClick:()=>Fe("en"),children:"EN"}),(0,A.jsx)("h6",{className:"flex-shrink-0",children:"-"}),(0,A.jsx)("button",{className:"flex-shrink-0 "+("no"===S.A.language?"active":""),type:"button",onClick:()=>Fe("no"),children:"NO"})]})]})})]})})}),(0,A.jsx)(r.l,{isOpen:ke,onClose:()=>{Se(!1),document.body.style.overflowY="auto"}}),(0,A.jsx)(t.A,{})]})}},4140:(e,s,a)=>{a.d(s,{Am:()=>r,Ay:()=>c});var n=a(5043),l=a(579);const t=["as","disabled"];function r(e){let{tagName:s,disabled:a,href:n,target:l,rel:t,role:r,onClick:i,tabIndex:c=0,type:o}=e;s||(s=null!=n||null!=l||null!=t?"a":"button");const d={tagName:s};if("button"===s)return[{type:o||"button",disabled:a},d];const u=e=>{(a||"a"===s&&function(e){return!e||"#"===e.trim()}(n))&&e.preventDefault(),a?e.stopPropagation():null==i||i(e)};return"a"===s&&(n||(n="#"),a&&(n=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:a?void 0:c,href:n,target:"a"===s?l:void 0,"aria-disabled":a||void 0,rel:"a"===s?t:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const i=n.forwardRef(((e,s)=>{let{as:a,disabled:n}=e,i=function(e,s){if(null==e)return{};var a={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(s.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);const[c,{tagName:o}]=r(Object.assign({tagName:a,disabled:n},i));return(0,l.jsx)(o,Object.assign({},i,c,{ref:s}))}));i.displayName="Button";const c=i},4282:(e,s,a)=>{a.d(s,{A:()=>d});var n=a(8139),l=a.n(n),t=a(5043),r=a(4140),i=a(7852),c=a(579);const o=t.forwardRef(((e,s)=>{let{as:a,bsPrefix:n,variant:t="primary",size:o,active:d=!1,disabled:u=!1,className:m,...h}=e;const x=(0,i.oU)(n,"btn"),[p,{tagName:g}]=(0,r.Am)({tagName:a,disabled:u,...h}),f=g;return(0,c.jsx)(f,{...p,...h,ref:s,disabled:u,className:l()(m,x,d&&"active",t&&`${x}-${t}`,o&&`${x}-${o}`,h.href&&u&&"disabled")})}));o.displayName="Button";const d=o},5284:(e,s,a)=>{a.d(s,{A:()=>P});var n,l=a(8139),t=a.n(l),r=a(3043),i=a(8279),c=a(182),o=a(8260);function d(e){if((!n&&0!==n||e)&&i.A){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),n=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return n}var u=a(2667),m=a(1456),h=a(8293),x=a(9109),p=a(4232),g=a(5043),f=a(8111),j=a(5675),N=a(8072),v=a(7852),_=a(579);const w=g.forwardRef(((e,s)=>{let{className:a,bsPrefix:n,as:l="div",...r}=e;return n=(0,v.oU)(n,"modal-body"),(0,_.jsx)(l,{ref:s,className:t()(a,n),...r})}));w.displayName="ModalBody";const b=w;var y=a(1602);const k=g.forwardRef(((e,s)=>{let{bsPrefix:a,className:n,contentClassName:l,centered:r,size:i,fullscreen:c,children:o,scrollable:d,...u}=e;a=(0,v.oU)(a,"modal");const m=`${a}-dialog`,h="string"===typeof c?`${a}-fullscreen-${c}`:`${a}-fullscreen`;return(0,_.jsx)("div",{...u,ref:s,className:t()(m,n,i&&`${a}-${i}`,r&&`${m}-centered`,d&&`${m}-scrollable`,c&&h),children:(0,_.jsx)("div",{className:t()(`${a}-content`,l),children:o})})}));k.displayName="ModalDialog";const S=k,A=g.forwardRef(((e,s)=>{let{className:a,bsPrefix:n,as:l="div",...r}=e;return n=(0,v.oU)(n,"modal-footer"),(0,_.jsx)(l,{ref:s,className:t()(a,n),...r})}));A.displayName="ModalFooter";const E=A;var M=a(1833);const C=g.forwardRef(((e,s)=>{let{bsPrefix:a,className:n,closeLabel:l="Close",closeButton:r=!1,...i}=e;return a=(0,v.oU)(a,"modal-header"),(0,_.jsx)(M.A,{ref:s,...i,className:t()(n,a),closeLabel:l,closeButton:r})}));C.displayName="ModalHeader";const I=C;const L=(0,a(4488).A)("h4"),R=g.forwardRef(((e,s)=>{let{className:a,bsPrefix:n,as:l=L,...r}=e;return n=(0,v.oU)(n,"modal-title"),(0,_.jsx)(l,{ref:s,className:t()(a,n),...r})}));R.displayName="ModalTitle";const T=R;function O(e){return(0,_.jsx)(N.A,{...e,timeout:null})}function $(e){return(0,_.jsx)(N.A,{...e,timeout:null})}const D=g.forwardRef(((e,s)=>{let{bsPrefix:a,className:n,style:l,dialogClassName:N,contentClassName:w,children:b,dialogAs:k=S,"data-bs-theme":A,"aria-labelledby":E,"aria-describedby":M,"aria-label":C,show:I=!1,animation:L=!0,backdrop:R=!0,keyboard:T=!0,onEscapeKeyDown:D,onShow:P,onHide:q,container:B,autoFocus:F=!0,enforceFocus:J=!0,restoreFocus:U=!0,restoreFocusOptions:H,onEntered:G,onExit:W,onExiting:z,onEnter:Y,onEntering:K,onExited:Q,backdropClassName:Z,manager:V,...X}=e;const[ee,se]=(0,g.useState)({}),[ae,ne]=(0,g.useState)(!1),le=(0,g.useRef)(!1),te=(0,g.useRef)(!1),re=(0,g.useRef)(null),[ie,ce]=(0,u.A)(),oe=(0,h.A)(s,ce),de=(0,m.A)(q),ue=(0,v.Wz)();a=(0,v.oU)(a,"modal");const me=(0,g.useMemo)((()=>({onHide:de})),[de]);function he(){return V||(0,j.R)({isRTL:ue})}function xe(e){if(!i.A)return;const s=he().getScrollbarWidth()>0,a=e.scrollHeight>(0,c.A)(e).documentElement.clientHeight;se({paddingRight:s&&!a?d():void 0,paddingLeft:!s&&a?d():void 0})}const pe=(0,m.A)((()=>{ie&&xe(ie.dialog)}));(0,x.A)((()=>{(0,o.A)(window,"resize",pe),null==re.current||re.current()}));const ge=()=>{le.current=!0},fe=e=>{le.current&&ie&&e.target===ie.dialog&&(te.current=!0),le.current=!1},je=()=>{ne(!0),re.current=(0,p.A)(ie.dialog,(()=>{ne(!1)}))},Ne=e=>{"static"!==R?te.current||e.target!==e.currentTarget?te.current=!1:null==q||q():(e=>{e.target===e.currentTarget&&je()})(e)},ve=(0,g.useCallback)((e=>(0,_.jsx)("div",{...e,className:t()(`${a}-backdrop`,Z,!L&&"show")})),[L,Z,a]),_e={...l,...ee};_e.display="block";return(0,_.jsx)(y.A.Provider,{value:me,children:(0,_.jsx)(f.A,{show:I,ref:oe,backdrop:R,container:B,keyboard:!0,autoFocus:F,enforceFocus:J,restoreFocus:U,restoreFocusOptions:H,onEscapeKeyDown:e=>{T?null==D||D(e):(e.preventDefault(),"static"===R&&je())},onShow:P,onHide:q,onEnter:(e,s)=>{e&&xe(e),null==Y||Y(e,s)},onEntering:(e,s)=>{null==K||K(e,s),(0,r.Ay)(window,"resize",pe)},onEntered:G,onExit:e=>{null==re.current||re.current(),null==W||W(e)},onExiting:z,onExited:e=>{e&&(e.style.display=""),null==Q||Q(e),(0,o.A)(window,"resize",pe)},manager:he(),transition:L?O:void 0,backdropTransition:L?$:void 0,renderBackdrop:ve,renderDialog:e=>(0,_.jsx)("div",{role:"dialog",...e,style:_e,className:t()(n,a,ae&&`${a}-static`,!L&&"show"),onClick:R?Ne:void 0,onMouseUp:fe,"data-bs-theme":A,"aria-label":C,"aria-labelledby":E,"aria-describedby":M,children:(0,_.jsx)(k,{...X,onMouseDown:ge,className:N,contentClassName:w,children:b})})})})}));D.displayName="Modal";const P=Object.assign(D,{Body:b,Header:I,Title:T,Footer:E,Dialog:S,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}}]);
//# sourceMappingURL=5830.171648e0.chunk.js.map