"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[823],{10823:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var a=s(65043),o=s(73216),n=s(58786),l=s(91620),r=s(81550),c=(s(38421),s(53579)),i=s(27836),d=s(60184),p=s(86213),u=s(93066),h=s(70579);function m(){(0,o.Zp)();const[e,t]=(0,a.useState)([]),[s,m]=(0,a.useState)(!1);var g="http://localhost:5000/api/user/investorreport/";const[x,j]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),v=localStorage.getItem("InvestorData"),y=JSON.parse(v);(0,a.useEffect)((()=>{w()}),[]);const w=async()=>{const e={email:y.email};try{(await p.A.post(g+"getInvestorInfocheck",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results.length}catch(t){console.error("Error generating summary",t)}};(0,a.useEffect)((()=>{N()}),[]);const N=async()=>{const e={email:y.email};try{const s=await p.A.post(g+"getreportForInvestor",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});0===s.data.results.length||(b(s.data.results[0]),t(s.data.results))}catch(s){console.error("Error generating summary",s)}};function C(e){const t=new Date(e);if(isNaN(t))return"";const s=t.getDate(),a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],o=t.getFullYear();return`${a} ${s}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(s)}, ${o}`}const S=[{name:"Report",selector:e=>e.report_type,sortable:!0},{name:"Company Name",selector:e=>e.company_name,sortable:!0},{name:"Date of Report",selector:e=>C(e.date_report),sortable:!0},{name:"Name of Report",selector:e=>e.document_name,sortable:!0},{name:"Action",cell:e=>(0,h.jsx)("div",{className:"d-flex gap-2",children:(0,h.jsx)("button",{type:"button",onClick:()=>k(e.downloadUrl,e.id),rel:"noopener noreferrer",className:"btn btn-sm btn-outline-success fw-bold",title:"Download",children:(0,h.jsx)(d.WCW,{})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],k=async(e,t)=>{let s={id:t};try{await p.A.post(g+"viewReport",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});window.open(e,"_blank")}catch(a){console.error("Error generating summary",a)}},[A,D]=(0,a.useState)(""),I=e.filter((e=>{const t=A.toLowerCase();return(e.document_name||"").toLowerCase().includes(t)||C(e.created_at).toLowerCase().includes(t)||(e.download||"").toLowerCase().includes(t)})),[_,E]=(0,a.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.mO,{children:(0,h.jsxs)("div",{className:"fullpage d-block",children:[(0,h.jsx)(l.A,{}),(0,h.jsx)(c.$K,{className:"d-block py-5",children:(0,h.jsx)("div",{className:"container-fluid",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)(r.A,{isCollapsed:_,setIsCollapsed:E})}),(0,h.jsx)("div",{className:"col-md-9",children:(0,h.jsxs)(i.zP,{className:"d-flex flex-column gap-2",children:[(0,h.jsx)("div",{className:"titleroom d-flex justify-content-between align-items-center border-bottom pb-3",children:(0,h.jsx)("h4",{children:"Report List"})}),(0,h.jsx)("div",{className:"d-flex flex-column justify-content-between align-items-start",children:(0,h.jsx)(n.Ay,{customStyles:{headCells:{style:{fontSize:"14px"}}},columns:S,data:I,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0})})]})})]})})})]})}),s&&(0,h.jsx)(u.A,{onClose:()=>m(!1),records:e,returnrefresh:()=>{m(!1)}})]})}},81550:(e,t,s)=>{s.d(t,{A:()=>p});var a=s(65043),o=(s(38421),s(53579)),n=s(73216),l=s(35475),r=s(42983),c=s(86213),i=s(70579);const d=[{label:"Report",href:"/investor/documentview"},{label:"Company",href:"/investor/allcompany"},{label:"Profile",href:"/investor/profile"}];function p(e){let{isOpen:t}=e;const[s,p]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(null),[x,j]=(0,a.useState)([]);(0,a.useEffect)((()=>{const e=localStorage.getItem("InvestorData"),t=JSON.parse(e);h(t),null===t&&(localStorage.removeItem("InvestorData"),window.location.href="/investor/login")}),[]),(0,a.useEffect)((()=>{f();const e=localStorage.getItem("selectedDropdown");e&&g(Number(e))}),[]);const f=async()=>{let e={id:""};try{const t=await c.A.post("http://localhost:5000/api/user/getModules",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});j(t.data.results)}catch(t){console.error("Error fetching modules:",t)}},b=(0,n.zy)();b.pathname;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.V4,{children:(0,i.jsx)("button",{type:"button",onClick:()=>p(!s),children:(0,i.jsx)(r.A,{strokeWidth:2})})}),(0,i.jsx)(o.vT,{isOpen:t,children:(0,i.jsx)(o.c0,{children:d.map(((e,t)=>{const s=e.matchPaths&&e.matchPaths.some((e=>b.pathname.startsWith(e)))||b.pathname===e.href;return(0,i.jsx)(o.jl,{children:e.dropdown||e.dynamicDropdownKey?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.C,{title:e.label,onClick:()=>(e=>{const t=m===e?null:e;g(t),localStorage.setItem("selectedDropdown",null!==t?t:"")})(t),children:(0,i.jsxs)("div",{className:"d-flex gap-2 align-items-start",children:[(0,i.jsx)(o.i3,{isOpen:m===t,children:"\u25be"}),e.label]})}),m===t&&(0,i.jsx)(o.rI,{children:e.dropdown&&e.dropdown.map(((e,t)=>{const s=b.pathname===e.href;return(0,i.jsx)("li",{children:(0,i.jsx)(l.N_,{title:e.label,to:e.href,className:"sidebar "+(s?"active":""),children:e.label})},t)}))})]}):(0,i.jsx)(l.N_,{to:e.href,title:e.label,className:"sidebar "+(s?"active":""),children:e.label})},t)}))})})]})}},91620:(e,t,s)=>{s.d(t,{A:()=>d});var a=s(65043),o=(s(38421),s(35475)),n=s(53579),l=s(73216),r=s(42983),c=s(86213),i=s(70579);function d(){const[e,t]=(0,a.useState)(""),s=(0,l.g)(),[d,p]=((0,l.Zp)(),(0,a.useState)([]));const[u,h]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=localStorage.getItem("InvestorData"),s=JSON.parse(e);console.log(s),t(s),null===s&&(localStorage.removeItem("InvestorData"),window.location.href="/investor/login")}),[]),(0,a.useEffect)((()=>{m()}),[]);const m=async()=>{let e={code:s};try{const t=await c.A.post("http://localhost:5000/api/user/investorreport/checkinvestorCode",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});0===t.data.results.length||h(t.data.results[0])}catch(t){}};(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{let e={id:""};try{const t=await c.A.post("http://localhost:5000/api/user/getModules",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});p(t.data.results)}catch(t){}},[x,j]=(0,a.useState)(!1),[f,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.SD,{children:(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsxs)("div",{className:"d-flex gap-4 position-relative",children:[(0,i.jsx)(o.N_,{href:"/",className:"logo",children:(0,i.jsx)("img",{src:"/logos/logo.png",alt:"logo"})}),(0,i.jsx)(n.V4,{children:(0,i.jsx)("button",{type:"button",onClick:()=>{j(!x)},children:(0,i.jsx)(r.A,{strokeWidth:2})})}),(0,i.jsx)(n.FC,{children:(0,i.jsx)(o.N_,{to:"/investor/logout",className:"btn bg-dark py-2 hoverbge",children:"Logout"})})]})})}),v&&f&&(0,i.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:"-1",role:"dialog","aria-labelledby":"paymentModalLabel","aria-hidden":"false",children:(0,i.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,i.jsxs)("div",{className:"modal-content rounded-4 shadow-lg p-4",children:[(0,i.jsx)("button",{type:"button",className:"btn-close position-absolute top-0 end-0 m-3",onClick:()=>{y(!1)},"aria-label":"Close"}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"modal-title text-center fw-bold text-dark mb-4 ",id:"paymentModalLabel",children:"Credit Balance"}),(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsxs)("ul",{className:"list-group list-group-flush mt-3",children:[(0,i.jsxs)("li",{className:"list-group-item text-dark ps-0",children:["Access to Dataroom for 3 months (till"," ",(0,i.jsx)("strong",{children:(w=f.valid_until,new Date(w).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}))}),")"]}),(0,i.jsxs)("li",{className:"list-group-item text-dark ps-0",children:["Due diligence documents generated:"," ",(0,i.jsx)("strong",{children:f.total_generated})," / 2 allowed"]}),(0,i.jsxs)("li",{className:"list-group-item text-dark ps-0",children:["Credit Balance Left:"," ",(0,i.jsx)("strong",{children:f.credit_balance})]}),f.extra_generations>0&&(0,i.jsx)("li",{className:"list-group-item text-danger ps-0",children:(0,i.jsxs)("strong",{children:[f.extra_generations," additional generation (s) will incur \u20ac100 each"]})})]})})]})]})})})]});var w}}}]);
//# sourceMappingURL=823.acf0a3a8.chunk.js.map