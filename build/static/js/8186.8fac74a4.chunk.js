"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[8186],{28186:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var n=t(65043),r=t(58786),a=t(43328),l=t(44710),o=(t(38421),t(53579)),i=t(27836),c=t(45394),d=t(86213),x=t(60184),p=t(74754),h=t(73216),u=t(70579);function j(){const e=(0,h.Zp)(),s=localStorage.getItem("SignatoryLoginData"),[t,j]=(0,n.useState)(!1),m=JSON.parse(s),[g,f]=(0,n.useState)([]),[b,y]=(0,n.useState)(!1),[v,w]=(0,n.useState)(""),[N,C]=(0,n.useState)(""),[S,_]=(0,n.useState)("");var k="https://blueprintcatalyst.com/api/user/investor/";document.title="Shared Investor Report";const{id:I}=(0,h.g)();(0,n.useEffect)((()=>{R(),A()}),[]);const R=async()=>{const s={company_id:m.companies[0].id,id:I};try{const t=await d.A.post(k+"checkInvestorRecordround",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});0===t.data.results.length?e("/crm/investorreport"):C(t.data.results[0])}catch(t){console.error("Error generating summary",t)}},A=async()=>{const e={company_id:m.companies[0].id,id:I};try{const s=await d.A.post(k+"getInvestorReportCapitalRound",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});f(s.data.results)}catch(s){console.error("Error generating summary",s)}},$=[{name:"Share Class (Name of Round)",selector:e=>e.shareClassType+" "+e.nameOfRound,sortable:!0},{name:"Target Rasie Amount",selector:e=>Number(e.roundsize).toLocaleString("en-US"),sortable:!0},{name:"Numbers Of Shares",selector:e=>Number(e.issuedshares).toLocaleString("en-US"),sortable:!0},{name:"Date of Report",selector:e=>E(e.created_at),sortable:!0},{name:"Date Viewed",selector:e=>E(e.date_view),sortable:!0},{name:"Status of Round",selector:e=>e.dateroundclosed,sortable:!0,cell:e=>{const s="ACTIVE"===e.roundStatus,t=s?"ACTIVE":`CLOSED: ${E(e.dateroundclosed)}`;return(0,u.jsx)("span",{style:{padding:"4px 12px",borderRadius:"12px",fontWeight:"600",color:s?"#065f46":"#b91c1c",backgroundColor:s?"#d1fae5":"#fee2e2",fontSize:"12px",display:"inline-block"},children:t})}},{name:"Action",cell:e=>(0,u.jsx)("div",{className:"d-flex gap-2",children:(0,u.jsxs)("button",{type:"button",onClick:()=>D(e),rel:"noopener noreferrer",className:"btn btn-sm btn-outline-success fw-bold",title:"View Detail",children:[(0,u.jsx)(x.Ny1,{})," view"]})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],D=e=>{j(!0),w(e)},[L,O]=(0,n.useState)(""),T=g.filter((e=>{const s=L.toLowerCase();return`\n    ${e.nameOfRound||""}\n    ${e.shareClassType||""}\n     ${e.roundsize||""}\n    ${e.issuedshares||""}\n    ${e.description||""}\n    ${e.instrumentType||""}\n    ${e.customInstrument||""}\n    ${e.roundsize||""}\n    ${e.issuedshares||""}\n    ${e.liquidationpreferences||""}\n  `.toLowerCase().includes(s)}));function E(e){const s=new Date(e);if(isNaN(s))return"";const t=s.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()],r=s.getFullYear();return`${n} ${t}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(t)}, ${r}`}const[M,z]=(0,n.useState)(!1),[V,F]=(0,n.useState)(!1);let J=[];if(N.kyc_document)if(Array.isArray(N.kyc_document))try{J=JSON.parse(N.kyc_document[0])}catch(Y){J=N.kyc_document}else try{J=JSON.parse(N.kyc_document)}catch(Y){J=[N.kyc_document]}const W="https://blueprintcatalyst.com/api/upload/investor/inv_"+N.investor_id;return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.mO,{children:(0,u.jsx)("div",{className:"fullpage d-block",children:(0,u.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,u.jsx)(l.A,{isCollapsed:M,setIsCollapsed:z}),(0,u.jsxs)("div",{className:"global_view "+(M?"global_view_col":""),children:[(0,u.jsx)(a.A,{}),(0,u.jsx)(o.$K,{className:"d-block p-md-4 p-3",children:(0,u.jsxs)("div",{className:"container-fluid",children:[S&&(0,u.jsx)("p",{className:b?"mt-3 error_pop":"success_pop mt-3",children:S}),(0,u.jsx)("div",{className:"titleroom d-flex justify-content-between align-items-center border-bottom pb-3",children:(0,u.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Investor Report (Capital Round Documents)"})}),(0,u.jsx)("div",{className:"",children:(0,u.jsx)("div",{className:"row g-3",children:(0,u.jsx)("div",{className:"col-md-12 col-sm-12",children:(0,u.jsxs)("div",{className:"card shadow-sm border-0 py-4",style:{borderRadius:"10px"},children:[(0,u.jsxs)("p",{className:"mb-3",children:[(0,u.jsx)("strong",{className:"mainh2",children:"Investor Information :"})," ",(0,u.jsxs)("span",{className:"mainp",style:{color:"red"},children:[N.first_name," ",N.last_name]})," "]}),(0,u.jsx)("table",{className:"global_table mb-0",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Register Company Name : "})," ",(0,u.jsx)("span",{children:N.company_name})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Type of Investor : "})," ",(0,u.jsx)("span",{children:N.investorType})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Contact (EMAIL) : "})," ",(0,u.jsx)("span",{children:N.email})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Contact (MOBILE) : "})," ",(0,u.jsx)("span",{children:N.phone})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"City : "}),(0,u.jsx)("span",{children:N.city})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Country : "})," ",(0,u.jsx)("span",{children:N.country})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Ip Address : "})," ",(0,u.jsx)("span",{children:N.ip_address})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"LinkedIn or Professional Profile:"})," ",(0,u.jsx)("span",{children:N.linkedIn_profile})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsxs)("strong",{children:["Contact (Full Mailing Address) :"," "]})," ",(0,u.jsx)("span",{children:N.full_address})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Country of Tax Residency : "})," ",(0,u.jsx)("span",{children:N.country_tax})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Tax ID or National ID : "})," ",(0,u.jsx)("span",{children:N.tax_id})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"KYC/AML Documentation : "})," ",(0,u.jsx)("span",{children:N.kyc_document&&N.kyc_document.length>0&&(0,u.jsx)("div",{className:"mt-2",children:(0,u.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-success fw-bold",onClick:()=>F(!0),children:[(0,u.jsx)(x.Ny1,{})," View Document"]})})})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Accredited Status : "})," ",(0,u.jsx)("span",{children:N.accredited_status})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsxs)("strong",{children:["LinkedIn or Professional Profile :"," "]})," ",(0,u.jsx)("span",{children:N.linkedIn_profile})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsxs)("td",{children:[(0,u.jsx)("strong",{children:"Industry Expertise : "})," ",(0,u.jsx)("span",{children:N.industry_expertise})]}),(0,u.jsx)("td",{})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)("strong",{children:"Notes:"})}),(0,u.jsx)("td",{})]})]})})]})})})}),(0,u.jsxs)("div",{className:"d-flex justify-content-between my-2 py-3",children:[(0,u.jsx)("h4",{children:"Shared Investor Report"}),(0,u.jsx)("input",{type:"search",placeholder:"Search Here...",className:"form-control",value:L,onChange:e=>O(e.target.value),style:{padding:"10px 15px",width:"100%",maxWidth:"300px",fontSize:"14px",borderRadius:"10px"}})]}),(0,u.jsx)("div",{className:"d-flex flex-column justify-content-between align-items-start tb-box",children:(0,u.jsx)(r.Ay,{customStyles:{table:{style:{border:"1px solid #dee2e6",borderRadius:"12px",overflow:"auto"}},headCells:{style:{backgroundColor:"#efefef",fontWeight:"600",fontSize:"0.8rem",color:"#000",textTransform:"uppercase",whiteSpace:"nowrap"}},cells:{style:{whiteSpace:"nowrap",overflow:"auto",textOverflow:"ellipsis"}},rows:{style:{fontSize:"0.8rem",fontWeight:"500"},stripedStyle:{backgroundColor:"#fff"}},pagination:{style:{marginTop:"15px",backgroundColor:"#fafafa",padding:"12px 16px"}}},conditionalRowStyles:[{when:e=>!0,style:{"&:hover":{backgroundColor:"var(--lightRed)"}}}],columns:$,className:"datatb-report",data:T,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0})})]})})]})]})})}),t&&(0,u.jsx)(p.A,{onClose:()=>j(!1),recordViewData:v}),V&&(0,u.jsx)("div",{className:"main_popup-overlay",children:(0,u.jsxs)(i.EL,{children:[(0,u.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-4 justify-content-between",children:[(0,u.jsx)(i.wt,{children:"View KYC/AML Documentation"}),(0,u.jsx)("button",{type:"button",className:"close_btn_global","aria-label":"Close",onClick:()=>F(!1),children:(0,u.jsx)(c.LwM,{size:24})})]}),(0,u.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",maxHeight:"60vh",overflowY:"auto"},children:J.map(((e,s)=>{const t=`${W}/${e}`;return(e=>/\.(jpg|jpeg|png|gif)$/i.test(e))(e)?(0,u.jsx)("img",{src:t,alt:`Document ${s+1}`,style:{maxWidth:"200px",maxHeight:"200px",objectFit:"contain",border:"1px solid #ddd",borderRadius:"4px",padding:"4px",background:"#f9f9f9"}},s):(0,u.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",style:{margin:"5px"},children:["Open Document ",s+1]},s)}))}),(0,u.jsx)(i.e2,{children:(0,u.jsx)(i.IY,{onClick:()=>F(!1),className:"close_btn w-fit",children:"Close"})})]})})]})})}}}]);
//# sourceMappingURL=8186.8fac74a4.chunk.js.map