"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[1929],{1929:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var t=a(65043),l=a(94060),n=a(44710),i=(a(38421),a(53579)),r=a(86213),c=a(73216),d=a(25581),o=a(6058),m=a(17304),h=a(70579);function x(){const{id:e}=(0,c.g)(),s=(0,c.Zp)(),a=`${d.J}api/user/capitalround/`,m=localStorage.getItem("SignatoryLoginData"),x=m?JSON.parse(m):null,[j,u]=(0,t.useState)(!0),[p,N]=(0,t.useState)(null),[v,b]=(0,t.useState)({pre_money:{items:[],totals:{}},post_money:{items:[],totals:{}}}),[g,_]=(0,t.useState)(null),[y,f]=(0,t.useState)([]),[w,S]=(0,t.useState)({}),[C,F]=(0,t.useState)(null),[P,k]=(0,t.useState)(null),[A,E]=(0,t.useState)(null),[I,T]=(0,t.useState)("pre-money"),[D,R]=(0,t.useState)(!1),O=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!e&&0!==e)return"$0.00";try{let a="USD";if(s){const e=s.toString().match(/[A-Z]{3}/);a=e?e[0]:"USD"}return new Intl.NumberFormat("en-US",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(parseFloat(e))}catch(p){return`${s?s.toString().replace(/[^A-Z]/gi,"").substring(0,3):"USD"} ${parseFloat(e||0).toFixed(2)}`}},M=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(null===e||void 0===e)return"$0.00";try{let a="USD";if(s){const e=s.toString().match(/[A-Z]{3}/);a=e?e[0]:"USD"}const t=Math.max(2,(e.toString().split(".")[1]||"").length);return new Intl.NumberFormat("en-US",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:t>6?6:t}).format(parseFloat(e))}catch(p){return`${s?s.toString().replace(/[^A-Z]/gi,"").substring(0,3):"USD"} ${parseFloat(e||0).toFixed(6)}`}},$=e=>e||0===e?`${parseFloat(e).toFixed(2)}%`:"0.00%",q=e=>e||0===e?new Intl.NumberFormat("en-US").format(e):"0",L=(0,t.useCallback)((async()=>{if(!e||!x)return N("Missing required parameters"),void u(!1);u(!0),N(null);const s={company_id:x.companies[0].id,round_id:e};try{const e=await r.A.post(a+"getRoundCapTableSingleRecord",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.data.success){var t,l,n,i;const s=e.data.cap_table||{pre_money:{items:[],totals:{}},post_money:{items:[],totals:{}}};if(console.log(s),b(s),_(e.data.round||null),f(e.data.pending_conversions||[]),S(e.data.calculations||{}),(null===s||void 0===s||null===(t=s.pre_money)||void 0===t||null===(l=t.items)||void 0===l?void 0:l.length)>0){const e={labels:s.pre_money.items.map((e=>e.name)),datasets:[{label:"Shares",data:s.pre_money.items.map((e=>e.shares)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4"],borderWidth:1}]};F(e)}if((null===s||void 0===s||null===(n=s.post_money)||void 0===n||null===(i=n.items)||void 0===i?void 0:i.length)>0){const e={labels:s.post_money.items.map((e=>e.name)),datasets:[{label:"Shares",data:s.post_money.items.map((e=>e.shares)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4"],borderWidth:1}]};k(e)}if(null!==s&&void 0!==s&&s.pre_money&&null!==s&&void 0!==s&&s.post_money){const e=[...new Set([...(s.pre_money.items||[]).map((e=>e.name)),...(s.post_money.items||[]).map((e=>e.name))])],a={labels:e,datasets:[{label:"Pre-Money Ownership %",data:e.map((e=>{const a=(s.pre_money.items||[]).find((s=>s.name===e));return a?parseFloat(a.percentage):0})),backgroundColor:"rgba(54, 162, 235, 0.6)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Post-Money Ownership %",data:e.map((e=>{const a=(s.post_money.items||[]).find((s=>s.name===e));return a?parseFloat(a.percentage):0})),backgroundColor:"rgba(255, 99, 132, 0.6)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]};E(a)}}else N(e.data.message||"Failed to load cap table")}catch(o){var c,d;N((null===(c=o.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||"Error loading cap table data"),console.error("API Error:",o)}finally{u(!1)}}),[e,x,a]);return(0,t.useEffect)((()=>{L()}),[]),j?(0,h.jsx)(i.mO,{children:(0,h.jsx)("div",{className:"fullpage d-block",children:(0,h.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,h.jsx)(n.A,{isCollapsed:D,setIsCollapsed:R}),(0,h.jsxs)("div",{className:"global_view "+(D?"global_view_col":""),children:[(0,h.jsx)(l.A,{}),(0,h.jsx)(i.$K,{className:"d-block p-md-4 p-3",children:(0,h.jsxs)("div",{className:"text-center py-5",children:[(0,h.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("p",{className:"mt-3",children:"Loading Cap Table Data..."})]})})]})]})})}):p&&!g?(0,h.jsx)(i.mO,{children:(0,h.jsx)("div",{className:"fullpage d-block",children:(0,h.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,h.jsx)(n.A,{isCollapsed:D,setIsCollapsed:R}),(0,h.jsxs)("div",{className:"global_view "+(D?"global_view_col":""),children:[(0,h.jsx)(l.A,{}),(0,h.jsx)(i.$K,{className:"d-block p-md-4 p-3",children:(0,h.jsxs)("div",{className:"alert alert-danger",children:[(0,h.jsx)("h5",{children:"Error Loading Cap Table"}),(0,h.jsx)("p",{children:p}),(0,h.jsx)("button",{className:"btn btn-primary",onClick:()=>s(-1),children:"Go Back"}),(0,h.jsx)("button",{className:"btn btn-secondary ms-2",onClick:L,children:"Try Again"})]})})]})]})})}):(0,h.jsx)(i.mO,{children:(0,h.jsx)("div",{className:"fullpage d-block",children:(0,h.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,h.jsx)(n.A,{isCollapsed:D,setIsCollapsed:R}),(0,h.jsxs)("div",{className:"global_view "+(D?"global_view_col":""),children:[(0,h.jsx)(l.A,{}),(0,h.jsxs)(i.$K,{className:"d-block p-md-4 p-3",children:[p&&(0,h.jsxs)("div",{className:"alert alert-danger mb-4",children:[(0,h.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),p]}),g&&(0,h.jsxs)("div",{className:"card mb-4",children:[(0,h.jsx)("div",{className:"card-header bg-primary text-white",children:(0,h.jsxs)("h4",{className:"mb-0",children:["Round: ",g.name]})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Type:"})," ",g.instrument]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Status:"}),(0,h.jsx)("span",{className:`badge ${"CLOSED"===g.status?"bg-success":"bg-warning"} ms-2`,children:g.status||"ACTIVE"})]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Date:"})," ",g.date||"Not specified"]})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Pre-Money:"})," ",O(g.pre_money,g.currency)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Investment:"})," ",O(g.investment,g.currency)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Post-Money:"})," ",O(g.post_money,g.currency)]})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Share Price:"})," ",M(g.share_price,g.currency)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Issued Shares:"})," ",q(g.issued_shares)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Option Pool: "}),(()=>{const e=v.post_money.totals.total_option_pool>0?v.post_money.totals.total_option_pool/v.post_money.totals.total_shares*100:0;if("Preferred Equity"===(null===g||void 0===g?void 0:g.instrument)){const s=parseFloat(g.optionPoolPercent_post)||0;return $(s>0?s:e)}{const e=parseFloat(g.option_pool_percent)||0;return $(e)}})()]})]})]})})]}),(0,h.jsx)("div",{className:"mb-4",children:(0,h.jsxs)("ul",{className:"nav nav-tabs gap-1",children:[(0,h.jsx)("li",{className:"nav-item bg-primary",children:(0,h.jsx)("button",{className:"nav-link text-white backcolor "+("pre-money"===I?"active":""),onClick:()=>T("pre-money"),children:"Pre-Money Cap Table"})}),v.post_money&&(0,h.jsx)("li",{className:"nav-item bg-primary",children:(0,h.jsx)("button",{className:"nav-link text-white backcolor "+("post-money"===I?"active":""),onClick:()=>T("post-money"),children:"Post-Money Cap Table"})}),(0,h.jsx)("li",{className:"nav-item bg-primary",children:(0,h.jsx)("button",{className:"nav-link text-white backcolor "+("charts"===I?"active":""),onClick:()=>T("charts"),children:"Charts & Analysis"})}),y.length>0&&(0,h.jsx)("li",{className:"nav-item bg-primary ",children:(0,h.jsx)("button",{className:"nav-link text-white backcolor "+("pending"===I?"active":""),onClick:()=>T("pending"),children:"Pending Conversions"})})]})}),"pre-money"===I&&(0,h.jsxs)("div",{className:"card",children:[(0,h.jsxs)("div",{className:"card-header bg-light",children:[(0,h.jsx)("h5",{className:"mb-0",children:"Pre-Money Capitalization Table"}),(0,h.jsx)("small",{className:"text-muted",children:"Share ownership before this round's investment"})]}),(0,h.jsx)("div",{className:"card-body",children:0===v.pre_money.items.length?(0,h.jsx)("div",{className:"text-center py-4",children:(0,h.jsx)("p",{className:"text-muted",children:"No pre-money cap table data available"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table table-striped table-hover",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Shareholder"}),(0,h.jsx)("th",{className:"text-end",children:"Shares"}),(0,h.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,h.jsx)("th",{className:"text-end",children:"Investment"}),(0,h.jsx)("th",{className:"text-end",children:"Share Price"}),(0,h.jsx)("th",{children:"Round"})]})}),(0,h.jsx)("tbody",{children:v.pre_money.items.map(((e,s)=>(0,h.jsxs)("tr",{children:[(0,h.jsxs)("td",{children:[(0,h.jsx)("span",{className:`badge ${"founder"===e.type?"bg-info":"investor"===e.type?"bg-success":"bg-warning"} me-2`,children:"founder"===e.type?"F":"investor"===e.type?"I":"O"}),e.name]}),(0,h.jsx)("td",{className:"text-end",children:q(e.shares)}),(0,h.jsx)("td",{className:"text-end",children:$(e.percentage)}),(0,h.jsx)("td",{className:"text-end",children:O(e.investment,null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("td",{className:"text-end",children:O(e.share_price,null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("td",{children:e.round_name})]},s)))}),(0,h.jsx)("tfoot",{className:"table-light",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"TOTAL"}),(0,h.jsx)("th",{className:"text-end",children:q(v.pre_money.totals.total_shares)}),(0,h.jsx)("th",{className:"text-end",children:"100%"}),(0,h.jsx)("th",{className:"text-end",children:O(v.pre_money.items.reduce(((e,s)=>e+(s.investment||0)),0),null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("th",{}),(0,h.jsx)("th",{})]})})]})}),(0,h.jsxs)("div",{className:"row mt-4",children:[(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)("div",{className:"card bg-light",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Founders"}),(0,h.jsx)("h4",{className:"card-title",children:q(v.pre_money.totals.total_founders)}),(0,h.jsx)("p",{className:"card-text",children:$(v.pre_money.totals.total_founders/v.pre_money.totals.total_shares*100)})]})})}),(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)("div",{className:"card bg-light",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Investors"}),(0,h.jsx)("h4",{className:"card-title",children:q(v.pre_money.totals.total_investors)}),(0,h.jsx)("p",{className:"card-text",children:$(v.pre_money.totals.total_investors/v.pre_money.totals.total_shares*100)})]})})}),(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsx)("div",{className:"card bg-light",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Option Pool"}),(0,h.jsx)("h4",{className:"card-title",children:q(v.pre_money.totals.total_option_pool)}),(0,h.jsx)("p",{className:"card-text",children:$(v.pre_money.totals.total_option_pool/v.pre_money.totals.total_shares*100)})]})})})]})]})})]}),"post-money"===I&&v.post_money&&(0,h.jsxs)("div",{className:"card",children:[(0,h.jsxs)("div",{className:"card-header bg-light",children:[(0,h.jsx)("h5",{className:"mb-0",children:"Post-Money Capitalization Table"}),(0,h.jsx)("small",{className:"text-muted",children:"Share ownership after this round's investment"})]}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table table-striped table-hover",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Shareholder"}),(0,h.jsx)("th",{className:"text-end",children:"Shares"}),(0,h.jsx)("th",{className:"text-end",children:"New Shares"})," ",(0,h.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,h.jsx)("th",{className:"text-end",children:"Investment"}),(0,h.jsx)("th",{className:"text-end",children:"Share Price"}),(0,h.jsx)("th",{children:"Round"})]})}),(0,h.jsx)("tbody",{children:v.post_money.items.map(((e,s)=>(0,h.jsxs)("tr",{children:[(0,h.jsxs)("td",{children:[(0,h.jsx)("span",{className:`badge ${"founder"===e.type?"bg-info":"investor"===e.type?"bg-success":"bg-warning"} me-2`,children:"founder"===e.type?"F":"investor"===e.type?"I":"O"}),e.name]}),(0,h.jsx)("td",{className:"text-end",children:q(e.shares)}),(0,h.jsx)("td",{className:"text-end",children:e.new_shares>0?(0,h.jsxs)("span",{className:"badge bg-success",children:["+",q(e.new_shares)]}):(0,h.jsx)("span",{className:"text-muted",children:q(e.new_shares||0)})}),(0,h.jsx)("td",{className:"text-end",children:$(e.percentage)}),(0,h.jsx)("td",{className:"text-end",children:O(e.investment,null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("td",{className:"text-end",children:M(e.share_price,null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("td",{children:e.round_name})]},s)))}),(0,h.jsx)("tfoot",{className:"table-light",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"TOTAL"}),(0,h.jsx)("th",{className:"text-end",children:q(v.post_money.totals.total_shares)}),(0,h.jsx)("th",{className:"text-end",children:(0,h.jsxs)("span",{className:"badge bg-success",children:["+",q(v.post_money.totals.total_new_shares||0)]})}),(0,h.jsx)("th",{className:"text-end",children:"100%"}),(0,h.jsx)("th",{className:"text-end",children:O(v.post_money.items.reduce(((e,s)=>e+(s.investment||0)),0),null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("th",{}),(0,h.jsx)("th",{})]})})]})}),(0,h.jsxs)("div",{className:"row mt-4",children:[(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)("div",{className:"card bg-success text-white",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2",children:"Total Shares"}),(0,h.jsx)("h4",{className:"card-title",children:q(v.post_money.totals.total_shares)})]})})}),(0,h.jsx)("div",{className:"col-md-3",children:(0,h.jsx)("div",{className:"card bg-primary text-white",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2",children:"New Shares"}),(0,h.jsxs)("h4",{className:"card-title",children:["+",q(v.post_money.totals.total_new_shares||0)]})]})})}),(0,h.jsx)("div",{className:"col-md-2",children:(0,h.jsx)("div",{className:"card bg-info text-white",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2",children:"Founders"}),(0,h.jsx)("h4",{className:"card-title",children:$(v.post_money.totals.total_founders/v.post_money.totals.total_shares*100)})]})})}),(0,h.jsx)("div",{className:"col-md-2",children:(0,h.jsx)("div",{className:"card bg-warning text-white",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2",children:"Investors"}),(0,h.jsx)("h4",{className:"card-title",children:$(v.post_money.totals.total_investors/v.post_money.totals.total_shares*100)})]})})}),(0,h.jsx)("div",{className:"col-md-2",children:(0,h.jsx)("div",{className:"card bg-secondary text-white",children:(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsx)("h6",{className:"card-subtitle mb-2",children:"Option Pool"}),(0,h.jsx)("h4",{className:"card-title",children:$(v.post_money.totals.total_option_pool/v.post_money.totals.total_shares*100)})]})})})]})]})]}),"charts"===I&&(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header bg-light",children:(0,h.jsx)("h5",{className:"mb-0",children:"Charts & Analysis"})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsxs)("div",{className:"row",children:[C&&(0,h.jsx)("div",{className:"col-md-6 mb-4",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h6",{className:"mb-0",children:"Pre-Money Ownership Distribution"})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(o.Fq,{data:C,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})})]})}),P&&(0,h.jsx)("div",{className:"col-md-6 mb-4",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h6",{className:"mb-0",children:"Post-Money Ownership Distribution"})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(o.Fq,{data:P,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})})]})}),A&&(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h6",{className:"mb-0",children:"Ownership Comparison (Pre vs Post)"})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)(o.yP,{data:A,options:{responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,ticks:{callback:function(e){return e+"%"}}}}}})})]})})]})})]}),"pending"===I&&y.length>0&&(0,h.jsxs)("div",{className:"card",children:[(0,h.jsxs)("div",{className:"card-header bg-warning",children:[(0,h.jsx)("h5",{className:"mb-0",children:"Pending Conversions"}),(0,h.jsx)("small",{className:"text-white",children:"SAFE/Convertible Notes waiting to convert"})]}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"table-responsive",children:(0,h.jsxs)("table",{className:"table table-striped",children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Instrument"}),(0,h.jsx)("th",{children:"Round"}),(0,h.jsx)("th",{className:"text-end",children:"Investment"}),(0,h.jsx)("th",{className:"text-end",children:"Conversion Price"}),(0,h.jsx)("th",{className:"text-end",children:"Potential Shares"}),(0,h.jsx)("th",{children:"Discount"}),(0,h.jsx)("th",{children:"Valuation Cap"})]})}),(0,h.jsx)("tbody",{children:y.map(((e,s)=>{var a,t;const l={instrument:e.instrument_type||e.instrument,round_name:e.round_name,investment:e.investment_amount||e.investment,conversion_price:e.share_price||e.conversion_price,potential_shares:e.estimated_shares||e.potential_shares,discount_rate:(null===(a=e.instrument_data)||void 0===a?void 0:a.discountRate_note)||e.discount_rate,valuation_cap:(null===(t=e.instrument_data)||void 0===t?void 0:t.valuationCap_note)||e.valuation_cap};return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:(0,h.jsx)("span",{className:"badge "+("Safe"===l.instrument?"bg-primary":"bg-info"),children:l.instrument})}),(0,h.jsx)("td",{children:l.round_name}),(0,h.jsx)("td",{className:"text-end",children:O(l.investment,null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("td",{className:"text-end",children:O(l.conversion_price,null===g||void 0===g?void 0:g.currency)}),(0,h.jsx)("td",{className:"text-end",children:q(l.potential_shares)}),(0,h.jsxs)("td",{children:[l.discount_rate,"%"]}),(0,h.jsx)("td",{children:O(l.valuation_cap,null===g||void 0===g?void 0:g.currency)})]},s)}))}),(0,h.jsx)("tfoot",{className:"table-light",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{colSpan:"3",children:"TOTAL POTENTIAL SHARES"}),(0,h.jsx)("th",{}),(0,h.jsx)("th",{className:"text-end",children:q(y.reduce(((e,s)=>e+(s.estimated_shares||s.potential_shares||0)),0))}),(0,h.jsx)("th",{}),(0,h.jsx)("th",{})]})})]})})})]}),g&&(0,h.jsxs)("div",{className:"card mb-4",children:[(0,h.jsx)("div",{className:"card-header bg-primary text-white",children:(0,h.jsxs)("h4",{className:"mb-0",children:["Round: ",g.name]})}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Type:"})," ",g.instrument]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Status:"}),(0,h.jsx)("span",{className:`badge ${"CLOSED"===g.status?"bg-success":"bg-warning"} ms-2`,children:g.status||"ACTIVE"})]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Date:"})," ",g.date||"Not specified"]})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Pre-Money:"})," ",O(g.pre_money,g.currency)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Investment:"})," ",O(g.investment,g.currency)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Post-Money:"})," ",O(g.post_money,g.currency)]})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Share Price:"})," ",M(g.share_price,g.currency)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Issued Shares:"})," ",q(g.issued_shares)]}),(0,h.jsxs)("p",{children:[(0,h.jsx)("strong",{children:"Option Pool: "}),(()=>{const e=v.post_money.totals.total_option_pool>0?v.post_money.totals.total_option_pool/v.post_money.totals.total_shares*100:0;if("Preferred Equity"===(null===g||void 0===g?void 0:g.instrument)){const s=parseFloat(g.optionPoolPercent_post)||0;return $(s>0?s:e)}{const e=parseFloat(g.option_pool_percent)||0;return $(e)}})()]})]})]}),g.instrument_details&&(0,h.jsxs)("div",{className:"mt-4",children:[(0,h.jsx)("h6",{className:"border-bottom pb-2",children:"Instrument Details"}),(0,h.jsxs)("div",{className:"row mt-3",children:["Preferred Equity"===g.instrument&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Liquidation Preference"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:g.instrument_details.liquidation_preference_multiple})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Participation"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:g.instrument_details.participation})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Anti-Dilution"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:g.instrument_details.anti_dilution})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Dividend Rate"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsxs)("strong",{children:[g.instrument_details.dividend_rate,"%"]})})]})]}),"Safe"===g.instrument&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Valuation Cap"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:O(g.instrument_details.valuation_cap,g.currency)})})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Discount Rate"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsxs)("strong",{children:[g.instrument_details.discount_rate,"%"]})})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Pro-Rata Rights"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:g.instrument_details.pro_rata_rights?"Yes":"No"})})]})]}),"Convertible Note"===g.instrument&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Principal"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:O(g.instrument_details.principal,g.currency)})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Interest Rate"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsxs)("strong",{children:[g.instrument_details.interest_rate,"% / year"]})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Accrued Interest"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:O(g.instrument_details.accrued_interest,g.currency)})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Total with Interest"})}),(0,h.jsx)("p",{className:"mb-0",children:(0,h.jsx)("strong",{children:O(g.instrument_details.total_with_interest,g.currency)})})]})]})]})]})]})]}),(0,h.jsxs)("div",{className:"card mt-4",children:[(0,h.jsx)("div",{className:"card-header bg-light",children:(0,h.jsx)("h6",{className:"mb-0",children:"Valuation Summary"})}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Pre-Money Valuation"})}),(0,h.jsx)("h4",{children:O(w.pre_money_valuation,null===g||void 0===g?void 0:g.currency)})]}),"Safe"!==(null===g||void 0===g?void 0:g.instrument)&&"Convertible Note"!==(null===g||void 0===g?void 0:g.instrument)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Post-Money Valuation"})}),(0,h.jsx)("h4",{className:"text-success",children:O(w.post_money_valuation,null===g||void 0===g?void 0:g.currency)})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Total Shares Outstanding"})}),(0,h.jsx)("h4",{children:q(w.total_shares_outstanding)})]})]}),("Safe"===(null===g||void 0===g?void 0:g.instrument)||"Convertible Note"===(null===g||void 0===g?void 0:g.instrument))&&(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Investment Amount"})}),(0,h.jsx)("h4",{className:"text-primary",children:O(g.investment,null===g||void 0===g?void 0:g.currency)})]})]}),"Safe"!==(null===g||void 0===g?void 0:g.instrument)&&"Convertible Note"!==(null===g||void 0===g?void 0:g.instrument)&&(0,h.jsx)("div",{className:"row mt-3",children:(0,h.jsxs)("div",{className:"col-md-6",children:[(0,h.jsx)("p",{className:"mb-1",children:(0,h.jsx)("strong",{children:"Price per Share"})}),(0,h.jsx)("h5",{children:M(w.share_price,null===g||void 0===g?void 0:g.currency)})]})}),"Preferred Equity"===(null===g||void 0===g?void 0:g.instrument)&&(null===g||void 0===g?void 0:g.instrument_details)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("hr",{className:"my-4"}),(0,h.jsxs)("h6",{className:"mb-3",children:[(0,h.jsx)("i",{className:"bi bi-star-fill text-primary me-2"}),"Preferred Equity Terms"]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Liquidation Preference"})}),(0,h.jsx)("h5",{className:"mb-0",children:(0,h.jsxs)("span",{className:"badge bg-primary",children:[g.instrument_details.liquidation_preference,"x"]})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Participation"})}),(0,h.jsx)("h6",{className:"mb-0",children:g.instrument_details.participation||"Non-Participating"})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Anti-Dilution Protection"})}),(0,h.jsx)("h6",{className:"mb-0",children:g.instrument_details.anti_dilution||"None"})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Dividend Rate"})}),(0,h.jsxs)("h6",{className:"mb-0",children:[g.instrument_details.dividend_rate||0,"% per year"]})]})]}),(0,h.jsxs)("div",{className:"row mt-3",children:[(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Voting Rights"})}),(0,h.jsx)("h6",{className:"mb-0",children:g.instrument_details.voting_rights||"Standard"})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Conversion Ratio"})}),(0,h.jsxs)("h6",{className:"mb-0",children:[g.instrument_details.conversion_ratio||1,":1"]})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Redemption Rights"})}),(0,h.jsx)("h6",{className:"mb-0",children:g.instrument_details.redemption_rights||"None"})]})]})]}),"Safe"===(null===g||void 0===g?void 0:g.instrument)&&(null===g||void 0===g?void 0:g.instrument_details)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("hr",{className:"my-4"}),(0,h.jsxs)("h6",{className:"mb-3",children:[(0,h.jsx)("i",{className:"bi bi-shield-check text-info me-2"}),"SAFE Terms"]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Valuation Cap"})}),(0,h.jsx)("h5",{className:"mb-0",children:O(g.instrument_details.valuation_cap,g.currency)})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Discount Rate"})}),(0,h.jsx)("h5",{className:"mb-0",children:(0,h.jsxs)("span",{className:"badge bg-success",children:[g.instrument_details.discount_rate,"%"]})})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Pro-Rata Rights"})}),(0,h.jsx)("h6",{className:"mb-0",children:g.instrument_details.pro_rata_rights?(0,h.jsx)("span",{className:"badge bg-success",children:"Yes"}):(0,h.jsx)("span",{className:"badge bg-secondary",children:"No"})})]})]}),g.instrument_details.mfn&&(0,h.jsx)("div",{className:"row mt-3",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"alert alert-success mb-0",children:[(0,h.jsx)("i",{className:"bi bi-check-circle me-2"}),(0,h.jsx)("strong",{children:"Most Favored Nation (MFN):"})," Enabled"]})})}),(0,h.jsx)("div",{className:"row mt-3",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,h.jsx)("i",{className:"bi bi-info-circle me-2"}),(0,h.jsx)("strong",{children:"Note:"})," This SAFE will convert to equity in the next priced round based on the lower of the valuation cap or discounted price."]})})})]}),"Convertible Note"===(null===g||void 0===g?void 0:g.instrument)&&(null===g||void 0===g?void 0:g.instrument_details)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("hr",{className:"my-4"}),(0,h.jsxs)("h6",{className:"mb-3",children:[(0,h.jsx)("i",{className:"bi bi-file-earmark-text text-warning me-2"}),"Convertible Note Terms"]}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Principal Amount"})}),(0,h.jsx)("h5",{className:"mb-0",children:O(g.instrument_details.principal,g.currency)})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Interest Rate"})}),(0,h.jsx)("h5",{className:"mb-0",children:(0,h.jsxs)("span",{className:"badge bg-warning text-dark",children:[g.instrument_details.interest_rate,"% / year"]})})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Accrued Interest"})}),(0,h.jsxs)("h5",{className:"mb-0 text-success",children:["+",O(g.instrument_details.accrued_interest,g.currency)]})]}),(0,h.jsxs)("div",{className:"col-md-3",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Total with Interest"})}),(0,h.jsx)("h5",{className:"mb-0",children:O(g.instrument_details.total_with_interest,g.currency)})]})]}),(0,h.jsxs)("div",{className:"row mt-3",children:[(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Valuation Cap"})}),(0,h.jsx)("h6",{className:"mb-0",children:g.instrument_details.valuation_cap>0?O(g.instrument_details.valuation_cap,g.currency):(0,h.jsx)("span",{className:"badge bg-secondary",children:"No Cap"})})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Discount Rate"})}),(0,h.jsx)("h6",{className:"mb-0",children:(0,h.jsxs)("span",{className:"badge bg-info",children:[g.instrument_details.discount_rate,"%"]})})]}),(0,h.jsxs)("div",{className:"col-md-4",children:[(0,h.jsx)("p",{className:"mb-1 text-muted",children:(0,h.jsx)("small",{children:"Maturity"})}),(0,h.jsxs)("h6",{className:"mb-0",children:[g.instrument_details.years_to_maturity," years"]})]})]}),(0,h.jsx)("div",{className:"row mt-3",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,h.jsx)("i",{className:"bi bi-clock me-2"}),(0,h.jsx)("strong",{children:"Conversion Trigger:"})," ",g.instrument_details.conversion_trigger||"Qualified Financing"]})})})]})]})]}),(0,h.jsxs)("div",{className:"mt-4",children:[(0,h.jsxs)("button",{className:"btn btn-secondary",onClick:()=>s(-1),children:[(0,h.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back to Rounds List"]}),(0,h.jsxs)("button",{className:"btn btn-primary ms-2",onClick:L,children:[(0,h.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Refresh Data"]})]})]})]})]})})})}m.t1.register(m.PP,m.kc,m.E8,m.hE,m.m_,m.s$,m.Bs)},6058:(e,s,a)=>{a.d(s,{Fq:()=>j,yP:()=>x});var t=a(65043),l=a(17304);const n="label";function i(e,s){"function"===typeof e?e(s):e&&(e.current=s)}function r(e,s){e.labels=s}function c(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;const t=[];e.datasets=s.map((s=>{const l=e.datasets.find((e=>e[a]===s[a]));return l&&s.data&&!t.includes(l)?(t.push(l),Object.assign(l,s),l):{...s}}))}function d(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a={labels:[],datasets:[]};return r(a,e.labels),c(a,e.datasets,s),a}function o(e,s){const{height:a=150,width:n=300,redraw:o=!1,datasetIdKey:m,type:h,data:x,options:j,plugins:u=[],fallbackContent:p,updateMode:N,...v}=e,b=(0,t.useRef)(null),g=(0,t.useRef)(null),_=()=>{b.current&&(g.current=new l.t1(b.current,{type:h,data:d(x,m),options:j&&{...j},plugins:u}),i(s,g.current))},y=()=>{i(s,null),g.current&&(g.current.destroy(),g.current=null)};return(0,t.useEffect)((()=>{!o&&g.current&&j&&function(e,s){const a=e.options;a&&s&&Object.assign(a,s)}(g.current,j)}),[o,j]),(0,t.useEffect)((()=>{!o&&g.current&&r(g.current.config.data,x.labels)}),[o,x.labels]),(0,t.useEffect)((()=>{!o&&g.current&&x.datasets&&c(g.current.config.data,x.datasets,m)}),[o,x.datasets]),(0,t.useEffect)((()=>{g.current&&(o?(y(),setTimeout(_)):g.current.update(N))}),[o,j,x.labels,x.datasets,N]),(0,t.useEffect)((()=>{g.current&&(y(),setTimeout(_))}),[h]),(0,t.useEffect)((()=>(_(),()=>y())),[]),t.createElement("canvas",{ref:b,role:"img",height:a,width:n,...v},p)}const m=(0,t.forwardRef)(o);function h(e,s){return l.t1.register(s),(0,t.forwardRef)(((s,a)=>t.createElement(m,{...s,ref:a,type:e})))}const x=h("bar",l.A6),j=h("pie",l.P$)}}]);
//# sourceMappingURL=1929.b112aed9.chunk.js.map