"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[1929],{1929:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(65043),r=a(94060),n=a(44710),t=(a(38421),a(53579)),d=a(86213),c=a(73216),i=a(25581),o=a(6058),h=a(17304),m=a(70579);function x(){const e=(0,c.Zp)(),s=localStorage.getItem("SignatoryLoginData"),a=JSON.parse(s),h=i.J+"api/user/capitalround/";document.title="Round Cap Table";const{id:x}=(0,c.g)(),[j,N]=(0,l.useState)(null),[p,u]=(0,l.useState)(null),[v,b]=(0,l.useState)(!0),[g,S]=(0,l.useState)(null),[y,w]=(0,l.useState)(!1);(0,l.useEffect)((()=>{f()}),[x]);const f=async()=>{b(!0),S(null);let e={company_id:a.companies[0].id,round_id:x};try{const s=await d.A.post(h+"getRoundCapTableSingleRecord",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});s.data.success?(N(s.data.capTable),u(s.data.round)):S(s.data.message||"Failed to load cap table")}catch(r){var s,l;S((null===(s=r.response)||void 0===s||null===(l=s.data)||void 0===l?void 0:l.message)||"Error loading cap table data"),console.error("Error:",r)}finally{b(!1)}},P=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const a=(null===s||void 0===s?void 0:s.trim().split(" ")[0])||"USD",l=["USD","CAD","EUR","GBP","INR","AUD","JPY"].includes(a.toUpperCase())?a.toUpperCase():"USD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:l,minimumFractionDigits:2}).format(e||0)}catch(g){return`${l} ${parseFloat(e||0).toFixed(2)}`}},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const a=(null===s||void 0===s?void 0:s.trim().split(" ")[0])||"USD",l=["USD","CAD","EUR","GBP","INR","AUD","JPY"].includes(a.toUpperCase())?a.toUpperCase():"USD";try{const s=parseFloat(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:l,minimumFractionDigits:3,maximumFractionDigits:3}).format(s)}catch(g){return`${l} ${(parseFloat(e)||0).toFixed(3)}`}},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;try{const s=parseFloat(e)||0;return new Intl.NumberFormat("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).format(s)}catch(g){return(parseFloat(e)||0).toFixed(3)}},T=e=>new Intl.NumberFormat("en-US").format(e||0),O=e=>{const s="string"===typeof e?parseFloat(e):Number(e);return`${(isNaN(s)?0:s).toFixed(2)}%`},F=e=>{let{chartData:s}=e;return(0,m.jsx)("div",{style:{height:"300px"},children:(0,m.jsx)(o.yP,{data:s,options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Fully Diluted Ownership %"}},scales:{y:{beginAtZero:!0,max:100}}}})})},A=()=>{if(!j)return(0,m.jsx)("div",{className:"alert alert-warning",children:"No data available"});const e=j.calculations||{},s=j.preSeedCapTable||{},a=j.postSeedCapTable||{};console.log("Post Table Shareholders:",e.sharePrice);const l=e=>{const s=(j.currency||"CAD").split(" ")[0]||"CAD";return Math.abs(e)<1e3?new Intl.NumberFormat("en-CA",{style:"currency",currency:s,minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0):new Intl.NumberFormat("en-CA",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(e||0)},r=e=>new Intl.NumberFormat("en-CA").format(Math.round(e||0)),n=e=>`${("string"===typeof e?parseFloat(e):e||0).toFixed(1)}%`,t=(()=>{if(!a.shareholders||0===a.shareholders.length)return null;return{labels:a.shareholders.map((e=>e.name||"Shareholder")),datasets:[{data:a.shareholders.map((e=>parseFloat(e.ownership)||0)),backgroundColor:a.shareholders.map((e=>{var s,a,l,r,n;return null!==(s=e.type)&&void 0!==s&&s.includes("Founder")?"#4e73df":null!==(a=e.type)&&void 0!==a&&a.includes("Option")?"#f6c23e":null!==(l=e.type)&&void 0!==l&&l.includes("Convertible")||null!==(r=e.type)&&void 0!==r&&r.includes("Seed")?"#1cc88a":null!==(n=e.type)&&void 0!==n&&n.includes("Series")?"#36b9cc":"#858796"})),borderColor:"#fff",borderWidth:1}]}})(),d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{padding:20,usePointStyle:!0}},title:{display:!0,text:"Post-Series A Ownership Distribution",font:{size:16}},tooltip:{callbacks:{label:function(e){return`${e.label||""}: ${(e.parsed||0).toFixed(1)}%`}}}}};var c=j.instrumentType+" "+j.shareClassType;return(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsxs)("h4",{className:"mb-0",children:["\ud83d\udcca ",c," with Convertible Note Conversion"]}),(0,m.jsx)("small",{children:j.message||"Convertible Note conversion completed"})]}),(0,m.jsxs)("div",{className:"card-body",children:[t?(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h6",{className:"mb-0",children:"Ownership Distribution (Pie Chart)"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{style:{height:"300px"},children:(()=>{try{return(0,m.jsx)(o.Fq,{data:t,options:d})}catch(e){return(0,m.jsx)(o.yP,{data:t,options:d})}})()})})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h6",{className:"mb-0",children:"Ownership Breakdown"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("ul",{className:"list-group",children:a.shareholders.map(((e,s)=>(0,m.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,m.jsxs)("span",{children:[(0,m.jsx)("strong",{children:e.name}),(0,m.jsx)("small",{className:"text-muted ms-2",children:e.type})]}),(0,m.jsx)("span",{className:"badge bg-primary rounded-pill",children:n(e.ownership)})]},s)))})})]})})]}):(0,m.jsx)("div",{className:"alert alert-warning mb-4",children:"No shareholder data available for chart"}),(0,m.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,m.jsx)("h6",{className:"mb-2",children:"\ud83d\udd04 Convertible Note Conversion"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Original Investment:"})," ",l(e.seedInvestment||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Interest Rate:"})," ",e.interestRate||"0","%"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Discount Rate:"})," ",e.discountRate||"0","%"]})]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Valuation Cap:"})," ",l(e.valuationCap||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Years Between Rounds:"})," ",e.yearsBetweenRounds||2]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Principal + Interest:"})," ",l(e.principalPlusInterest||0)]})]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Shares Converted:"})," ",r(e.seedConversionShares||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Conversion Value:"})," ",l(e.seedConversionValue||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"MOIC:"})," ",(0,m.jsx)("strong",{className:"text-success",children:e.seedMOIC||"0X"})]})]})]})]}),(0,m.jsxs)("div",{className:"alert alert-primary mb-4",children:[(0,m.jsx)("h6",{className:"mb-2",children:"\ud83d\udcb0 Series A Investment"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Investment Amount:"})," ",l(e.seriesAInvestment||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Shares Purchased:"})," ",r(e.seriesAShares||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Share Price:"})," ",l(e.sharePrice||0)]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Investment Value:"})," ",l(e.seriesAValue||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"MOIC:"})," ",(0,m.jsx)("strong",{children:e.seriesAMOIC||"0X"})]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Pre-Money Valuation:"})," ",l(e.preMoneyValuation||0)]})]})]})]}),s.shareholders&&s.shareholders.length>0&&(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-secondary text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Pre-Series A Cap Table"}),(0,m.jsxs)("small",{children:["Total Shares: ",r(s.totalShares||0)," | Total Value: ",l(s.totalValue||0)]})]}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Type"}),(0,m.jsx)("th",{className:"text-center",children:"Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Value"})]})}),(0,m.jsxs)("tbody",{children:[s.shareholders.map(((e,s)=>{var a,t;return(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:e.name||`Shareholder ${s+1}`}),e.note&&(0,m.jsx)("div",{className:"small text-muted",children:e.note})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+(null!==(a=e.type)&&void 0!==a&&a.includes("Founder")?"bg-primary":null!==(t=e.type)&&void 0!==t&&t.includes("Option")?"bg-warning text-dark":"bg-info"),children:e.type||"Shareholder"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:r(e.shares||0)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge bg-dark",children:n(e.ownership||0)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:l(e.value||0)})})]},s)})),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:r(s.totalShares||0)}),(0,m.jsx)("td",{className:"text-center",children:"100%"}),(0,m.jsx)("td",{className:"text-center",children:l(s.totalValue||0)})]})]})]})})})]}),a.shareholders&&a.shareholders.length>0&&(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Post-Series A Cap Table"}),(0,m.jsxs)("small",{children:["Total Shares: ",r(a.totalShares||0)," | Total Value: ",l(a.totalValue||0)]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Type"}),(0,m.jsx)("th",{className:"text-center",children:"Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Total Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Value"}),(0,m.jsx)("th",{className:"text-center",children:"Investment Details"})]})}),(0,m.jsxs)("tbody",{children:[a.shareholders.map(((e,a)=>{var t,d,c,i,o;const h=(e=>{if(!s.shareholders)return 0;const a=s.shareholders.find((s=>s.name.includes(e)||e.includes(s.name)));return a?a.shares:0})(e.name),x=e.newShares||e.shares-h,j=e.shares;return(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:e.name||`Shareholder ${a+1}`}),e.note&&(0,m.jsx)("div",{className:"small text-muted",children:e.note})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+(null!==(t=e.type)&&void 0!==t&&t.includes("Founder")?"bg-primary":null!==(d=e.type)&&void 0!==d&&d.includes("Option")?"bg-warning text-dark":null!==(c=e.type)&&void 0!==c&&c.includes("Convertible")||null!==(i=e.type)&&void 0!==i&&i.includes("Seed")?"bg-info":null!==(o=e.type)&&void 0!==o&&o.includes("Series")?"bg-success":"bg-secondary"),children:e.type||"Shareholder"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:r(h)})}),(0,m.jsx)("td",{className:"text-center",children:x>0?(0,m.jsxs)("div",{className:"text-success fw-bold",children:["+",r(x)]}):(0,m.jsx)("span",{className:"text-muted",children:"0"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:r(j)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge bg-dark",children:n(e.ownership||0)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:l(e.value||0)})}),(0,m.jsx)("td",{className:"text-center",children:e.conversionPrice?(0,m.jsxs)("div",{className:"small",children:["@ ",l(e.conversionPrice),"/share",e.moic&&(0,m.jsxs)("div",{className:"text-success",children:["MOIC: ",e.moic]}),e.principalPlusInterest&&(0,m.jsxs)("div",{className:"text-info",children:["Principal + Interest: ",l(e.principalPlusInterest)]})]}):e.investment?(0,m.jsxs)("div",{className:"small",children:["Invested: ",l(e.investment),e.moic&&(0,m.jsxs)("div",{className:"text-success",children:["MOIC: ",e.moic]})]}):e.originalInvestment?(0,m.jsxs)("div",{className:"small",children:["Original: ",l(e.originalInvestment),e.moic&&(0,m.jsxs)("div",{className:"text-success",children:["MOIC: ",e.moic]})]}):(0,m.jsx)("span",{className:"text-muted",children:"-"})})]},a)})),(0,m.jsxs)("tr",{className:"table-primary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:r(s.totalShares||0)}),(0,m.jsx)("td",{className:"text-center",children:r(e.newSharesIssued||0)}),(0,m.jsx)("td",{className:"text-center",children:r(a.totalShares||0)}),(0,m.jsx)("td",{className:"text-center",children:"100%"}),(0,m.jsx)("td",{className:"text-center",children:l(a.totalValue||0)}),(0,m.jsx)("td",{className:"text-center",children:l((e.seedInvestment||0)+(e.seriesAInvestment||0))})]})]})]})}),(0,m.jsxs)("div",{className:"alert alert-info mt-3",children:[(0,m.jsx)("h6",{children:"\ud83d\udcca New Shares Summary"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Convertible Note Conversion:"})," ",r(e.seedConversionShares||0)," shares"]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Series A Investment:"})," ",r(e.seriesAShares||0)," shares"]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"New Option Pool:"})," ",r(e.newOptionShares||0)," shares"]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Total New Shares:"})," ",r(e.newSharesIssued||0)," shares"]})})]})]})]})]}),(0,m.jsxs)("div",{className:"alert alert-info",children:[(0,m.jsx)("h6",{children:"\ud83d\udcca Final Summary"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Pre-Money Valuation:"})," ",l(e.preMoneyValuation||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Post-Money Valuation:"})," ",l(e.postMoneyValuation||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Valuation Increase:"})," ",(((e.postMoneyValuation||0)-(e.preMoneyValuation||0))/(e.preMoneyValuation||1)*100).toFixed(1),"%"]})]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Total Capital Raised:"})," ",l((e.seedInvestment||0)+(e.seriesAInvestment||0))]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Share Price:"})," ",l(e.sharePrice||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Total Shares Outstanding:"})," ",r(a.totalShares||0)]})]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"New Shares Issued:"})," ",r(e.newSharesIssued||0)]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Option Pool Created:"})," ",r(e.newOptionShares||0)," shares"]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Existing Option Pool:"})," ",r(e.employeeSharesSeedRound||0)," shares"]})]})]}),(0,m.jsx)("div",{className:"row mt-3",children:(0,m.jsxs)("div",{className:"col-md-12",children:[(0,m.jsx)("h6",{children:"\ud83c\udfe2 Ownership Distribution"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Total Founders Ownership:"})," ",`${(((null===(x=a.shareholders)||void 0===x?void 0:x.filter((e=>"Founder"===e.type)))||[]).reduce(((e,s)=>e+(s.shares||0)),0)/(a.totalShares||1)*100).toFixed(1)}%`]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Employee Option Pool:"})," ",`${((((null===(h=a.shareholders)||void 0===h?void 0:h.find((e=>"Options Pool"===e.type)))||{}).shares||0)/(a.totalShares||1)*100).toFixed(1)}%`]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Investor Ownership:"})," ",`${(((null===(i=a.shareholders)||void 0===i?void 0:i.filter((e=>"Investor"===e.type)))||[]).reduce(((e,s)=>e+(s.shares||0)),0)/(a.totalShares||1)*100).toFixed(1)}%`]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("p",{children:[(0,m.jsx)("strong",{children:"Fully Diluted Total:"})," 100%"]})})]})]})})]})]})]})});var i,h,x};return(0,m.jsx)(t.mO,{children:(0,m.jsx)("div",{className:"fullpage d-block",children:(0,m.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,m.jsx)(n.A,{isCollapsed:y,setIsCollapsed:w}),(0,m.jsxs)("div",{className:"global_view "+(y?"global_view_col":""),children:[(0,m.jsx)(r.A,{}),(0,m.jsx)(t.$K,{className:"d-block p-md-4 p-3",children:(0,m.jsxs)("div",{className:"container-fluid",children:[(0,m.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,m.jsx)("h2",{children:"Capitalization Table"}),(0,m.jsx)("button",{className:"btn btn-secondary",onClick:()=>e(-1),children:"Back to Rounds"})]}),v&&(0,m.jsxs)("div",{className:"text-center py-5",children:[(0,m.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,m.jsx)("p",{className:"mt-3",children:"Loading cap table data..."})]}),g&&(0,m.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[(0,m.jsx)("strong",{children:"Error:"})," ",g]}),!v&&!g&&j&&(()=>{console.log(j);const e=j.round_type.toLowerCase(),s=j.shareClassType.toLowerCase(),a=(j.instrumentType||"").toLowerCase();return e.includes("round 0")||e.includes("incorporation")||j.isRoundZero?j?j.error?(0,m.jsxs)("div",{className:"alert alert-danger",children:[(0,m.jsx)("h5",{children:"Data Error"}),(0,m.jsx)("p",{children:j.error}),(0,m.jsx)("p",{className:"mb-0",children:"Please check Round 0 data structure. Founder allocation data is required."})]}):(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsx)("h4",{className:"mb-0",children:j.roundType}),(0,m.jsx)("small",{className:"opacity-75",children:"Company Incorporation - Founder Shares Allocation"})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"mb-3",children:"Platform Inputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Founder Share Allocation"}),(0,m.jsxs)("h6",{children:[j.calculations.founderCount," Founders"]})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Share Types"}),(0,m.jsx)("h6",{children:"Common Shares"})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Price Per Share"}),(0,m.jsx)("h6",{children:I(j.calculations.sharePrice,j.currency)})]})})]}),(0,m.jsx)("h5",{className:"mb-3",children:"Platform Outputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-success text-white",children:[(0,m.jsx)("small",{children:"Total Shares Issued"}),(0,m.jsx)("h5",{children:T(j.calculations.totalSharesIssued)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{children:"Total Company Value"}),(0,m.jsx)("h5",{children:P(j.calculations.totalValue,j.currency)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-warning text-dark",children:[(0,m.jsx)("small",{children:"Founder Count"}),(0,m.jsx)("h5",{children:j.calculations.founderCount})]})})]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(F,{chartData:j.chartData})}),(0,m.jsx)("h5",{className:"mt-4 mb-3",children:"Founder Share Allocation"}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-striped table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Founder Name"}),(0,m.jsx)("th",{children:"Email"}),(0,m.jsx)("th",{children:"Phone"}),(0,m.jsx)("th",{children:"Share Type"}),(0,m.jsx)("th",{children:"Share Class"}),(0,m.jsx)("th",{children:"Voting Rights"}),(0,m.jsx)("th",{className:"text-end",children:"Numbers of Shares"}),(0,m.jsx)("th",{className:"text-end",children:"Price Per Share"}),(0,m.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,m.jsx)("th",{className:"text-end",children:"Value"})]})}),(0,m.jsxs)("tbody",{children:[j.shareholders.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("strong",{children:e.firstName&&e.lastName?`${e.firstName} ${e.lastName}`:`Founder ${s+1}`})}),(0,m.jsx)("td",{children:e.email?(0,m.jsx)("a",{href:`mailto:${e.email}`,className:"text-decoration-none",children:e.email}):"-"}),(0,m.jsx)("td",{children:e.phone?(0,m.jsx)("a",{href:`tel:${e.phone}`,className:"text-decoration-none",children:e.phone}):"-"}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"badge bg-secondary text-capitalize",children:"common"===e.shareType?"Common Shares":"preferred"===e.shareType?"Preferred Shares":"other"===e.shareType&&e.customShareType?e.customShareType:"Common Shares"})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"badge bg-light text-dark border",children:"other"===e.shareClass&&e.customShareClass?e.customShareClass:e.shareClass||"Class A"})}),(0,m.jsx)("td",{children:(0,m.jsx)("span",{className:"badge "+("voting"===e.votingRights?"bg-success":"bg-warning"),children:"voting"===e.votingRights?"Voting":"Non-Voting"})}),(0,m.jsx)("td",{className:"text-end",children:T(e.shares)}),(0,m.jsx)("td",{className:"text-end",children:I(j.calculations.sharePrice,j.currency)}),(0,m.jsx)("td",{className:"text-end",children:(0,m.jsx)("span",{className:"badge bg-danger",style:{fontSize:"16px"},children:O(e.ownership)})}),(0,m.jsx)("td",{className:"text-end",children:P(e.value,j.currency)})]},s))),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"6",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-end",children:T(j.calculations.totalSharesIssued)}),(0,m.jsx)("td",{className:"text-end",children:I(j.calculations.sharePrice,j.currency)}),(0,m.jsx)("td",{className:"text-end",children:O(100)}),(0,m.jsx)("td",{className:"text-end",children:P(j.calculations.totalValue,j.currency)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"card bg-light",children:(0,m.jsxs)("div",{className:"card-body text-center",children:[(0,m.jsx)("h6",{className:"card-title text-muted",children:"Total Founders"}),(0,m.jsx)("h4",{className:"text-primary",children:j.shareholders.length})]})})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"card bg-light",children:(0,m.jsxs)("div",{className:"card-body text-center",children:[(0,m.jsx)("h6",{className:"card-title text-muted",children:"Total Shares"}),(0,m.jsx)("h4",{className:"text-success",children:T(j.calculations.totalSharesIssued)})]})})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"card bg-light",children:(0,m.jsxs)("div",{className:"card-body text-center",children:[(0,m.jsx)("h6",{className:"card-title text-muted",children:"Price Per Share"}),(0,m.jsx)("h4",{className:"text-info",children:I(j.calculations.sharePrice,j.currency)})]})})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsx)("div",{className:"card bg-light",children:(0,m.jsxs)("div",{className:"card-body text-center",children:[(0,m.jsx)("h6",{className:"card-title text-muted",children:"Total Value"}),(0,m.jsx)("h4",{className:"text-warning",children:P(j.calculations.totalValue,j.currency)})]})})})]}),(0,m.jsxs)("div",{className:"row mt-4",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-info",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcca Platform Inputs"}),(0,m.jsxs)("ul",{className:"mb-0 small",children:[(0,m.jsx)("li",{children:"Number of shares issued to each founder"}),(0,m.jsx)("li",{children:"Type of shares as per incorporation documents"}),(0,m.jsx)("li",{children:"Price per share as per incorporation"})]})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-success",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcc8 Platform Outputs"}),(0,m.jsxs)("ul",{className:"mb-0 small",children:[(0,m.jsx)("li",{children:"Total number of shares issued"}),(0,m.jsx)("li",{children:"Ownership % based on shares issued"}),(0,m.jsx)("li",{children:"Total company value at incorporation"})]})]})})]}),(0,m.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\u26a0\ufe0f Important Note"}),(0,m.jsx)("p",{className:"mb-2 small",children:(0,m.jsxs)("strong",{children:["Total shares (",T(j.calculations.totalSharesIssued),") will carry forward to Round 1."]})}),(0,m.jsx)("p",{className:"mb-0 small",children:(0,m.jsxs)("strong",{children:["Price per share (",I(j.calculations.sharePrice,j.currency),") and company valuation (",P(j.calculations.totalValue,j.currency),") will NOT carry over to investment rounds."]})})]})]})]})}):null:"preferred equity"===a?(()=>{var e;if(!j||!j.calculations)return null;console.log("Cap Table Data:",j);const s=j.calculations,a=j.preSeedCapTable,l=j.postSeedCapTable,r=j.inputs||{},n=j.isSeriesA||(j.shareClassType||"").toLowerCase().includes("series"),t=j.hasSAFEConversion||s.seedConversionShares>0,d=e=>{const s=(j.currency||"USD").split(" ")[0]||"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(e||0)},c=e=>new Intl.NumberFormat("en-US").format(Math.round(e||0)),i=e=>`${("string"===typeof e?parseFloat(e):e||0).toFixed(1)}%`,o=(e,s)=>{if(!e||!s)return{founders:0,employees:0,seedInvestors:0,seriesAInvestors:0};let a=0,l=0,r=0,n=0;return e.forEach((e=>{const t=e.shares/s*100;"Founder"===e.type?a+=t:"Options Pool"===e.type||e.type.includes("Employee")?l+=t:"SAFE Investor"===e.type||e.type.includes("Seed")?r+=t:"Series A Investor"===e.type&&(n+=t)})),{founders:a.toFixed(1),employees:l.toFixed(1),seedInvestors:r.toFixed(1),seriesAInvestors:n.toFixed(1)}},h=(o(null===a||void 0===a?void 0:a.shareholders,null===a||void 0===a?void 0:a.totalShares),o(null===l||void 0===l?void 0:l.shareholders,null===l||void 0===l?void 0:l.totalShares));console.log("Calculations:",{seedInvestment:s.seedInvestment,valuationCap:s.valuationCap,discountRate:s.discountRate,sharePrice:s.sharePrice,seedOptimalPrice:s.seedOptimalPrice,seedConversionShares:s.seedConversionShares,seriesAShares:s.seriesAShares,totalPostShares:s.totalSharesPostSeed});var x=j.instrumentType+" "+j.shareClassType;return(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:`card-header ${n?"bg-primary":"bg-success"} text-white`,children:[(0,m.jsx)("h4",{className:"mb-0",children:j.roundType||"Series A Round"}),(0,m.jsxs)("small",{children:[n?x:"Investment Round",t&&" with SAFE Conversion"]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("h5",{className:"mb-3",children:["\ud83d\udcca ",j.roundType]}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Pre-Money Valuation"}),(0,m.jsx)("h5",{children:d(r.preMoneyValuation||s.preMoneyValuation)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsxs)("small",{className:"text-muted",children:[j.shareClassType," Investment"]}),(0,m.jsx)("h5",{children:d(r.seriesAInvestment||s.seriesAInvestment)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Founder Shares (Round 0)"}),(0,m.jsx)("h5",{children:c(r.roundZeroShares||s.roundZeroTotalShares)}),(0,m.jsxs)("small",{children:[r.founderCount||(null===a||void 0===a||null===(e=a.shareholders)||void 0===e?void 0:e.filter((e=>"Founder"===e.type)).length)||0," founder(s)"]})]})})]}),t&&s.seedInvestment>0&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{children:"Seed SAFE Investment"}),(0,m.jsx)("h5",{children:d(s.seedInvestment)}),(0,m.jsx)("small",{children:"From previous SAFE round"})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-warning text-dark",children:[(0,m.jsx)("small",{children:"Valuation Cap"}),(0,m.jsx)("h5",{children:d(s.valuationCap)}),(0,m.jsx)("small",{children:"From SAFE terms"})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-success text-white",children:[(0,m.jsx)("small",{children:"Discount Rate"}),(0,m.jsxs)("h5",{children:[s.discountRate,"%"]}),(0,m.jsx)("small",{children:"From SAFE terms"})]})})]}),s.seedOptimalPrice>0&&(0,m.jsxs)("div",{className:"alert alert-success mb-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udd04 SAFE Conversion Calculations"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("p",{children:(0,m.jsxs)("strong",{children:["1. ",j.shareClassType," Share Price:"]})}),(0,m.jsxs)("p",{className:"small",children:[d(r.preMoneyValuation||s.preMoneyValuation)," \xf7 ",c(r.totalSharesPreSeed||s.roundZeroTotalShares+s.employeeSharesSeedRound)," =",(0,m.jsx)("span",{className:"fw-bold ms-2",children:d(s.sharePrice)})]}),(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"2. Seed Discount Price:"})}),(0,m.jsxs)("p",{className:"small",children:[d(s.sharePrice)," \xd7 (1 - ",s.discountRate/100,") =",(0,m.jsx)("span",{className:"fw-bold ms-2",children:d(s.seedDiscountPrice)})]}),(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"3. Seed Cap Price:"})}),(0,m.jsxs)("p",{className:"small",children:[d(s.valuationCap)," \xf7 ",c(s.totalSharesPreSeed)," =",(0,m.jsx)("span",{className:"fw-bold ms-2",children:(e=>{const s=(j.currency||"USD").split(" ")[0]||"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0)})(s.valuationCap/s.totalSharesPreSeed)})]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"4. Optimal Price (Lower of the two):"})}),(0,m.jsxs)("p",{className:"small",children:["MIN(",d(s.seedDiscountPrice),") =",(0,m.jsx)("span",{className:"fw-bold ms-2 text-success",children:d(s.seedOptimalPrice)})]}),(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"5. Seed Conversion Shares:"})}),(0,m.jsxs)("p",{className:"small",children:[d(s.seedInvestment)," \xf7 ",d(s.seedOptimalPrice)," =",(0,m.jsxs)("span",{className:"fw-bold ms-2",children:[c(s.seedConversionShares)," shares"]})]}),(0,m.jsx)("p",{children:(0,m.jsx)("strong",{children:"6. Seed Conversion Value:"})}),(0,m.jsxs)("p",{className:"small",children:[c(s.seedConversionShares)," \xd7 ",d(s.sharePrice)," =",(0,m.jsx)("span",{className:"fw-bold ms-2",children:d(s.seedConversionValue)})]})]})]}),(0,m.jsxs)("div",{className:"mt-3 p-2 bg-white rounded border",children:[(0,m.jsx)("p",{className:"mb-1",children:(0,m.jsx)("strong",{children:"MOIC (Multiple on Invested Capital):"})}),(0,m.jsxs)("p",{className:"mb-0 small",children:["Seed Investors: ",(0,m.jsx)("strong",{children:s.seedMOIC})," (",d(s.seedConversionValue)," value / ",d(s.seedInvestment)," investment)",s.seriesAMOIC&&"0X"!==s.seriesAMOIC&&(0,m.jsxs)(m.Fragment,{children:[" | ",j.shareClassType," Investors: ",(0,m.jsx)("strong",{children:s.seriesAMOIC})]})]})]})]})]}),s.newOptionShares>0&&(0,m.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcd0 Option Pool"}),(0,m.jsxs)("p",{className:"mb-2 small",children:[(0,m.jsx)("strong",{children:"Formula:"})," Total Post Shares = (Founders + Seed Investors + ",j.shareClassType," Investors) \xf7 (1 - Target Option Pool %)"]}),(0,m.jsxs)("p",{className:"mb-2 small",children:[(0,m.jsx)("strong",{children:"Calculation:"}),"(",c(r.roundZeroShares||s.roundZeroTotalShares)," + ",c(s.seedConversionShares)," + ",c(s.seriesAShares),") \xf7 (1 - ",s.targetOptionPoolPercent/100,")"]}),(0,m.jsxs)("p",{className:"mb-0 small",children:[(0,m.jsx)("strong",{children:"Result:"})," Need to add ",c(s.newOptionShares)," new option shares to reach ",i(s.targetOptionPoolPercent)," target pool"]})]}),a&&a.shareholders&&a.shareholders.length>0&&(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-secondary text-white",children:[(0,m.jsxs)("h5",{className:"mb-0",children:["\ud83d\udccb Common Shares at Pre-",j.shareClassType," Round"]}),(0,m.jsx)("small",{children:a.message})]}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Type"}),(0,m.jsx)("th",{className:"text-center",children:"Existing Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Total Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Value"})]})}),(0,m.jsxs)("tbody",{children:[a.shareholders.map(((e,s)=>{const l=e.newShares>0,r=e.shares,n=r-(e.newShares||0);return(0,m.jsxs)("tr",{className:"Options Pool"===e.type||e.type.includes("Employee")?"table-warning":"Founder"===e.type?"":"table-light",children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{children:e.name||e.fullName}),e.note&&(0,m.jsx)("div",{className:"small text-muted",children:e.note})]})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type||e.type.includes("Employee")?"bg-warning text-dark":"bg-info"),children:e.type})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:c(n)})}),(0,m.jsx)("td",{className:"text-center",children:l?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("strong",{className:"text-success",children:["+",c(e.newShares)]})}):(0,m.jsx)("span",{className:"text-muted",children:"\u2014"})}),(0,m.jsxs)("td",{className:"text-center",children:[(0,m.jsx)("strong",{children:c(r)}),l&&(0,m.jsx)("div",{className:"small text-success"})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge bg-dark",children:i(e.ownership||r/a.totalShares*100)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:d(e.value)})})]},s)})),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:c(a.shareholders.reduce(((e,s)=>e+(s.shares-(s.newShares||0))),0))}),(0,m.jsx)("td",{className:"text-center",children:c(a.shareholders.reduce(((e,s)=>e+(s.newShares||0)),0))}),(0,m.jsx)("td",{className:"text-center",children:c(a.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:"100%"}),(0,m.jsx)("td",{className:"text-center",children:d(a.totalValue)})]})]})]})})})]})})}),l&&l.shareholders&&l.shareholders.length>0&&(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card border-primary",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsxs)("h5",{className:"mb-0",children:["\ud83d\udccb Common Shares at Post-",j.shareClassType," Round"]}),(0,m.jsx)("small",{children:l.message})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Type"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Total Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Value"}),t&&(0,m.jsx)("th",{className:"text-center",children:"Investment / Conversion Price"})]})}),(0,m.jsx)("tbody",{children:l.shareholders.map(((e,a)=>e.isTotal?(0,m.jsxs)("tr",{className:"table-primary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:(0,m.jsx)("strong",{children:"TOTAL"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:c(e.commonShares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:c(e.newShares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:c(e.totalShares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:"100%"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:d(e.value)})}),t&&(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:d(l.safeInvestment||s.seedInvestment+s.seriesAInvestment)})})]},a):(0,m.jsxs)("tr",{className:"Options Pool"===e.type||e.type.includes("Employee")?"table-warning":"SAFE Investor"===e.type||e.type.includes("Seed")?"table-info":"Series A Investor"===e.type?"table-primary":"",children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:e.name||e.fullName}),e.note&&(0,m.jsx)("div",{className:"small text-muted",children:e.note})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type||e.type.includes("Employee")?"bg-warning text-dark":"SAFE Investor"===e.type||e.type.includes("Seed")?"bg-info":"Series A Investor"===e.type?"bg-success":"bg-secondary"),children:e.type})}),(0,m.jsx)("td",{className:"text-center",children:e.commonShares>0?(0,m.jsx)("strong",{children:c(e.commonShares)}):(0,m.jsx)("span",{className:"text-muted",children:"-"})}),(0,m.jsx)("td",{className:"text-center",children:e.newShares>0?(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{className:"text-success",children:c(e.newShares)}),e.displayText&&(0,m.jsx)("div",{className:"small text-success",children:e.displayText})]}):(0,m.jsx)("span",{className:"text-muted",children:"-"})}),(0,m.jsxs)("td",{className:"text-center",children:[(0,m.jsx)("strong",{children:c(e.totalShares||e.shares)}),e.breakdown&&(0,m.jsxs)("div",{className:"small text-muted",children:[e.breakdown.existingShares>0&&(0,m.jsxs)("div",{children:[c(e.breakdown.existingShares)," existing"]}),e.breakdown.newShares>0&&(0,m.jsxs)("div",{children:["+",c(e.breakdown.newShares)," new"]})]})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+("Founder"===e.type?"bg-dark":"Options Pool"===e.type||e.type.includes("Employee")?"bg-warning text-dark":"SAFE Investor"===e.type||e.type.includes("Seed")?"bg-info":"Series A Investor"===e.type?"bg-success":"bg-secondary"),children:i(e.ownership||(e.totalShares||e.shares)/l.totalShares*100)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:d(e.value)})}),t&&(0,m.jsx)("td",{className:"text-center",children:e.investmentAmount?(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"fw-bold",children:d(e.investmentAmount)}),e.conversionPrice&&(0,m.jsxs)("div",{className:"small",children:["@ ",d(e.conversionPrice),"/share"]}),e.moic&&"0X"!==e.moic&&(0,m.jsxs)("div",{className:"small text-success",children:["MOIC: ",e.moic]})]}):(0,m.jsx)("span",{className:"text-muted",children:"-"})})]},a)))})]})}),(0,m.jsx)("div",{className:"row mt-4",children:(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-success",children:[(0,m.jsx)("h6",{className:"mb-2",children:"Final Ownership Distribution"}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsx)("div",{className:"col-6",children:"Founders:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:i(h.founders)}),(0,m.jsx)("div",{className:"col-6",children:"Employees:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:i(h.employees)}),t&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"col-6",children:"Seed Investors:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:i(h.seedInvestors)}),(0,m.jsx)("div",{className:"col-6",children:"Series A Investors:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:i(h.seriesAInvestors)})]})]})]})})})]})]})})}),(0,m.jsxs)("div",{className:"card bg-light",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udcca Round Summary"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("h6",{children:"Key Outcomes:"}),(0,m.jsxs)("ul",{className:"mb-0",children:[(0,m.jsxs)("li",{children:["\u2705 Total capital raised: ",(0,m.jsx)("strong",{children:d(s.seedInvestment+s.seriesAInvestment)})]}),(0,m.jsxs)("li",{children:["\u2705 Post-money valuation: ",(0,m.jsx)("strong",{children:d(s.finalPostMoneyValuation)})]}),(0,m.jsxs)("li",{children:["\u2705 Total shares outstanding: ",(0,m.jsx)("strong",{children:c(s.totalSharesPostSeed)})]}),(0,m.jsxs)("li",{children:["\u2705 Share price: ",(0,m.jsx)("strong",{children:d(s.sharePrice)})]}),t&&s.seedConversionShares>0&&(0,m.jsxs)("li",{children:["\u2705 SAFE conversion completed: ",(0,m.jsxs)("strong",{children:[c(s.seedConversionShares)," shares @ ",d(s.seedOptimalPrice)," each"]})]}),s.newOptionShares>0&&(0,m.jsxs)("li",{children:["\u2705 Option pool: ",(0,m.jsxs)("strong",{children:[c(s.newOptionShares)," new shares added"]})]})]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("h6",{children:"Next Steps:"}),(0,m.jsxs)("ul",{className:"mb-0",children:[(0,m.jsx)("li",{children:"\u2705 SAFE notes converted to shares"}),(0,m.jsx)("li",{children:"\u2705 New Series A investors onboarded"}),(0,m.jsx)("li",{children:"\ud83d\udd1c Update cap table with new shareholders"}),(0,m.jsx)("li",{children:"\ud83d\udd1c Issue share certificates"}),(0,m.jsx)("li",{children:"\ud83d\udd1c Prepare for Series B round"})]})]})]})})]})]})]})})})():"common stock"===a&&s.includes("series")?(()=>{if(!j||!j.calculations)return null;const e=j.calculations,s=j.currency||"USD";if(j.error)return(0,m.jsxs)("div",{className:"alert alert-danger",children:[(0,m.jsx)("h5",{children:"Calculation Error"}),(0,m.jsx)("p",{children:j.error}),j.details&&(0,m.jsx)("pre",{className:"small",children:JSON.stringify(j.details,null,2)})]});const a=j.isPostMoneyOptionPool||e.needsExpansion,l=e.foundersSeedShares||e.preInvestmentTotalShares-e.existingOptionPoolShares;var r=j.instrumentType+" "+j.shareClassType;return(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-warning text-dark",children:[(0,m.jsx)("h4",{className:"mb-0",children:j.roundType||"Series A Round"}),(0,m.jsx)("small",{className:"opacity-75",children:a?"Post-Money Option Pool Calculation":"Standard Calculation"})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("h5",{className:"mb-3",children:[r," Inputs"]}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Investment Size"}),(0,m.jsx)("h5",{children:P(e.investmentSize,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Pre-Money Valuation"}),(0,m.jsx)("h5",{children:P(e.preMoneyValuation,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Existing Option Pool %"}),(0,m.jsx)("h5",{children:O(e.existingOptionPoolPercent)}),(0,m.jsx)("small",{className:"text-muted",children:"(Before Series A)"})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Target Option Pool %"}),(0,m.jsx)("h5",{className:"text-success",children:O(e.optionPoolPercentPost)}),(0,m.jsx)("small",{className:"text-success",children:"(Post-Money Target)"})]})})]}),(0,m.jsx)("h5",{className:"mb-3",children:"Calculated Outputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-primary text-white",children:[(0,m.jsx)("small",{children:"Post-Money Valuation"}),(0,m.jsx)("h6",{children:P(e.postMoneyValuation,s)})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-success text-white",children:[(0,m.jsx)("small",{children:"Share Price"}),(0,m.jsx)("h6",{children:I(e.sharePrice,s)}),(0,m.jsx)("small",{className:"opacity-75",children:"per share"})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{children:"Pre-Investment Shares"}),(0,m.jsx)("h6",{children:T(e.preInvestmentTotalShares)}),(0,m.jsx)("small",{className:"opacity-75",children:"Before Series A"})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-warning text-dark",children:[(0,m.jsx)("small",{children:"New Shares Issued"}),(0,m.jsx)("h6",{children:T(e.totalNewShares)}),(0,m.jsx)("small",{className:"opacity-75",children:"Total new shares"})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-dark text-white",children:[(0,m.jsx)("small",{children:"Post-Investment Shares"}),(0,m.jsx)("h6",{children:T(e.postInvestmentTotalShares)}),(0,m.jsx)("small",{className:"opacity-75",children:"After Series A"})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-secondary text-white",children:[(0,m.jsx)("small",{children:"Investor Ownership"}),(0,m.jsx)("h6",{children:O(e.investorOwnershipPercent)}),(0,m.jsx)("small",{className:"opacity-75",children:"Series A %"})]})})]}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-warning",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcca New Shares Breakdown"}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-6",children:[(0,m.jsx)("strong",{children:"Series A Investors:"}),(0,m.jsx)("div",{className:"h5 mb-0",children:T(e.seriesAInvestorShares)})]}),(0,m.jsxs)("div",{className:"col-6",children:[(0,m.jsx)("strong",{children:"Option Pool Expansion:"}),(0,m.jsx)("div",{className:"h5 mb-0",children:T(e.additionalOptionPoolShares)})]})]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsx)("strong",{children:"Total New Shares:"}),(0,m.jsx)("strong",{children:T(e.totalNewShares)})]})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-info",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83c\udfaf Option Pool Status"}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("strong",{children:"Existing Pool:"})," ",T(e.existingOptionPoolShares)," shares (",O(e.existingOptionPoolPercent),")"]}),(0,m.jsxs)("div",{className:"mb-2",children:[(0,m.jsx)("strong",{children:"Additional:"})," ",T(e.additionalOptionPoolShares)," shares"]}),(0,m.jsx)("hr",{}),(0,m.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,m.jsx)("strong",{children:"Total Pool (Post):"}),(0,m.jsxs)("strong",{children:[T(e.totalOptionPoolShares),"(",O(e.optionPoolPercentPost),")"]})]})]})})]}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(F,{chartData:j.chartData})}),(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Pre-Series A Cap Table"}),(0,m.jsxs)("small",{children:["Before Series A Investment | Pre-Money Valuation: ",P(e.preMoneyValuation,s)]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Type"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Fully Diluted Ownership %"}),(0,m.jsxs)("th",{className:"text-center",children:["Value (",s,")"]})]})}),(0,m.jsxs)("tbody",{children:[j.preSeriesAShareholders&&j.preSeriesAShareholders.length>0?j.preSeriesAShareholders.map(((e,a)=>(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:e.name}),e.source&&(0,m.jsxs)("div",{className:"small text-muted",children:["Source: ",e.source]})]}),(0,m.jsxs)("td",{className:"text-center",children:["Founder"===e.type&&(0,m.jsx)("span",{className:"badge bg-primary",children:"Founder"}),"Options Pool"===e.type&&(0,m.jsx)("span",{className:"badge bg-warning text-dark",children:"Option Pool"}),"Investor"===e.type&&(0,m.jsx)("span",{className:"badge bg-success",children:"Seed Investor"===e.originalType?"Seed Investor":"Investor"})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:T(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type?"bg-warning text-dark":"bg-success"),children:O(e.ownership)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:P(e.value,s)})})]},a))):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"5",className:"text-center text-danger",children:(0,m.jsx)("strong",{children:"\u26a0\ufe0f No pre-Series A shareholders data available"})})}),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:T(e.preInvestmentTotalShares)}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge bg-dark",children:O(100)})}),(0,m.jsx)("td",{className:"text-center",children:P(e.preMoneyValuation,s)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-primary mb-0",children:[(0,m.jsx)("strong",{children:"Founders:"})," ",O((j.preSeriesAShareholders||[]).filter((e=>"Founder"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,m.jsx)("strong",{children:"Employee Option Pool:"})," ",O((j.preSeriesAShareholders||[]).filter((e=>"Options Pool"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-success mb-0",children:[(0,m.jsx)("strong",{children:"Seed Investors:"})," ",O((j.preSeriesAShareholders||[]).filter((e=>"Investor"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})})]})]})]})})}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-success text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udcca Post-Series A Cap Table"}),(0,m.jsxs)("small",{children:["After Series A Investment | Post-Money Valuation: ",P(e.postMoneyValuation,s)]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Type"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Total Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Fully Diluted Ownership %"}),(0,m.jsxs)("th",{className:"text-center",children:["Value (",s,")"]})]})}),(0,m.jsxs)("tbody",{children:[j.shareholders&&j.shareholders.length>0?j.shareholders.map(((e,a)=>{const l=e.preSeriesAShares||0,r=e.newShares||0;return(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:e.name}),e.source&&(0,m.jsxs)("div",{className:"small text-muted",children:["Source: ",e.source]}),e.email&&(0,m.jsxs)("div",{className:"small text-muted",children:["\ud83d\udce7 ",e.email]})]}),(0,m.jsxs)("td",{className:"text-center",children:["Founder"===e.type&&(0,m.jsx)("span",{className:"badge bg-primary",children:"Founder"}),"Options Pool"===e.type&&(0,m.jsx)("span",{className:"badge bg-warning text-dark",children:r>0?"Option Pool (Expanded)":"Option Pool"}),"Investor"===e.type&&(0,m.jsx)("span",{className:"badge "+("Seed Investor"===e.originalType?"bg-info":"bg-danger"),children:"Seed Investor"===e.originalType?"Seed Investor":"Series A Investor"})]}),(0,m.jsx)("td",{className:"text-center",children:l>0?(0,m.jsx)("strong",{children:T(l)}):(0,m.jsx)("span",{className:"text-muted",children:"\u2014"})}),(0,m.jsx)("td",{className:"text-center",children:r>0?(0,m.jsxs)("span",{className:"badge bg-warning text-dark",children:["+",T(r)]}):(0,m.jsx)("span",{className:"text-muted",children:"\u2014"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:T(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type?"bg-warning text-dark":"Seed Investor"===e.originalType?"bg-info":"bg-danger"),children:O(e.ownership)})}),(0,m.jsxs)("td",{className:"text-center",children:[(0,m.jsx)("strong",{children:P(e.value,s)}),e.investmentAmount&&e.investmentAmount>0&&(0,m.jsxs)("div",{className:"small text-success",children:["\ud83d\udcb0 Invested: ",P(e.investmentAmount,s)]})]})]},a)})):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"7",className:"text-center text-danger",children:(0,m.jsx)("strong",{children:"\u26a0\ufe0f No post-Series A shareholders data available"})})}),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:T(e.preInvestmentTotalShares)}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsxs)("span",{className:"badge bg-warning text-dark",children:["+",T(e.totalNewShares)]})}),(0,m.jsx)("td",{className:"text-center",children:T(e.postInvestmentTotalShares)}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge bg-dark",children:O(100)})}),(0,m.jsx)("td",{className:"text-center",children:P(e.postMoneyValuation,s)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"alert alert-primary mb-0",children:[(0,m.jsx)("strong",{children:"Founders:"})," ",O((j.shareholders||[]).filter((e=>"Founder"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,m.jsx)("strong",{children:"Option Pool:"})," ",O((j.shareholders||[]).filter((e=>"Options Pool"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,m.jsx)("strong",{children:"Seed Investors:"})," ",O((j.shareholders||[]).filter((e=>"Investor"===e.type&&"Seed Investor"===e.originalType)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"alert alert-danger mb-0",children:[(0,m.jsx)("strong",{children:"Series A Investors:"})," ",O((j.shareholders||[]).filter((e=>"Investor"===e.type&&"Series A Investor"===e.originalType)).reduce(((e,s)=>e+s.ownership),0))]})})]}),(0,m.jsxs)("div",{className:"alert alert-dark mt-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcd0 Series A Calculation Formulas"}),(0,m.jsx)("div",{className:"mb-3",children:(0,m.jsx)("strong",{className:"badge bg-warning text-dark fSize-14",children:"Post-Money Option Pool Method"})}),(0,m.jsxs)("div",{className:"row small mb-3",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"1. Post-Money Valuation:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["Investment + Pre-Money = Post-Money",(0,m.jsx)("br",{}),P(e.investmentSize,s)," + ",P(e.preMoneyValuation,s),"= ",P(e.postMoneyValuation,s)]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"2. Investor Ownership %:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["Investment \xf7 Post-Money",(0,m.jsx)("br",{}),P(e.investmentSize,s)," \xf7 ",P(e.postMoneyValuation,s),"= ",O(e.investorOwnershipPercent)]})]})]}),(0,m.jsxs)("div",{className:"row small mb-3",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"3. Founders + Seed Ownership %:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["100% - Investor% - Target Pool%",(0,m.jsx)("br",{}),"100% - ",O(e.investorOwnershipPercent)," - ",O(e.optionPoolPercentPost),"= ",O(e.existingShareholdersPercent)]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"4. Post-Investment Total Shares:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["Founders+Seed Shares \xf7 Founders+Seed %",(0,m.jsx)("br",{}),T(l)," \xf7 ",O(e.existingShareholdersPercent),"= ",T(e.postInvestmentTotalShares)]})]})]}),(0,m.jsxs)("div",{className:"row small mb-3",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"5. Total New Shares Needed:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["Post-Investment Total - Existing Total",(0,m.jsx)("br",{}),T(e.postInvestmentTotalShares)," - ",T(e.preInvestmentTotalShares),"= ",T(e.totalNewShares)]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"6. Additional Option Pool Shares:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["(Target% \xd7 Post Total) - Existing Pool",(0,m.jsx)("br",{}),"(",O(e.optionPoolPercentPost)," \xd7 ",T(e.postInvestmentTotalShares),") - ",T(e.existingOptionPoolShares)," = ",T(e.additionalOptionPoolShares)]})]})]}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"7. Series A Investor Shares:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["Total New Shares - Additional Option Shares",(0,m.jsx)("br",{}),T(e.totalNewShares)," - ",T(e.additionalOptionPoolShares),"= ",T(e.seriesAInvestorShares)]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("strong",{children:"8. Share Price:"}),(0,m.jsx)("br",{}),(0,m.jsxs)("code",{className:"bg-light p-1 rounded",children:["Pre-Money \xf7 (Existing + New Option Shares)",(0,m.jsx)("br",{}),P(e.preMoneyValuation,s)," \xf7 (",T(e.preInvestmentTotalShares)," + ",T(e.additionalOptionPoolShares),") = ",I(e.sharePrice,s)]})]})]})]})]})]})})})]})]})})})():"seed"!==s&&"pre-seed"!==s&&"post-seed"!==s||"safe"!==a?"seed"!==s&&"pre-seed"!==s&&"post-seed"!==s||"convertible note"!==a?s.includes("series")&&"convertible note"===a?A():(()=>{if(!j||!j.calculations)return null;const e=j.calculations,s=j.currency||"USD";if(j.error)return(0,m.jsxs)("div",{className:"alert alert-danger",children:[(0,m.jsx)("h5",{children:"Calculation Error"}),(0,m.jsx)("p",{children:j.error})]});const a=j.isConvertibleNoteRound||"Convertible Note"===j.instrumentType;return(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-success text-white",children:[(0,m.jsx)("h4",{className:"mb-0",children:j.roundType}),(0,m.jsx)("small",{className:"opacity-75",children:a?"Convertible Note Round - Cap Table Calculations":"Seed Round - Cap Table Calculations"})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"mb-3",children:"Platform Inputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Investment Size"}),(0,m.jsx)("h5",{children:P(e.investmentSize,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Pre-Money Valuation"}),(0,m.jsx)("h5",{children:P(e.preMoneyValuation,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Option Pool %"}),(0,m.jsx)("h5",{children:O(e.optionPoolPercent)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Round Type"}),(0,m.jsx)("h5",{children:a?"Convertible Note":"Equity Round"})]})})]}),a&&e.valuationCap&&(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{className:"text-white",children:"Valuation Cap"}),(0,m.jsx)("h6",{children:P(e.valuationCap,s)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-warning text-dark",children:[(0,m.jsx)("small",{children:"Discount Rate"}),(0,m.jsx)("h6",{children:O(e.discountRate)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-secondary text-white",children:[(0,m.jsx)("small",{children:"Interest Rate"}),(0,m.jsx)("h6",{children:O(e.interestRate)})]})})]}),(0,m.jsx)("h5",{className:"mb-3",children:"Platform Outputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-primary text-white",children:[(0,m.jsx)("small",{children:"Post-Money Valuation"}),(0,m.jsx)("h6",{children:P(e.postMoneyValuation,s)})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{children:"Post-Investment # Shares"}),(0,m.jsx)("h6",{children:T(e.postInvestmentTotalShares)})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-warning text-dark",children:[(0,m.jsx)("small",{children:"New Shares Issued"}),(0,m.jsx)("h6",{children:C(e.newShares)})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-success text-white",children:[(0,m.jsx)("small",{children:a?"Theoretical Share Price":"Share Price"}),(0,m.jsx)("h6",{children:I(e.sharePrice,s)})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-secondary text-white",children:[(0,m.jsx)("small",{children:a?"Note Investment":"Investor Ownership"}),(0,m.jsx)("h6",{children:a?P(e.totalNoteInvestment||0,s):O(e.investorOwnershipPercent)})]})}),(0,m.jsx)("div",{className:"col-md-2",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-dark text-white",children:[(0,m.jsx)("small",{children:"Option Pool"}),(0,m.jsxs)("h6",{children:[T(e.optionPoolShares)," shares"]})]})})]}),a&&e.availableForInvestment>0&&(0,m.jsx)("div",{className:"row mb-4",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"alert alert-danger",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcb0 Available for Investment"}),(0,m.jsxs)("p",{className:"mb-0",children:[(0,m.jsx)("strong",{children:P(e.availableForInvestment,s)})," remaining in this convertible note round.",e.totalNoteInvestment>0&&(0,m.jsxs)("span",{children:[" (",P(e.totalNoteInvestment,s)," already committed)"]})]})]})})}),(0,m.jsx)("div",{className:"mb-4",children:(0,m.jsx)(F,{chartData:j.chartData})}),(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"Pre-Seed Cap Table"}),(0,m.jsx)("small",{children:"(# shares, Ownership %, Currency Value)"})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Contact Info"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Fully Diluted Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Currency Value"})]})}),(0,m.jsxs)("tbody",{children:[j.preSeedShareholders&&j.preSeedShareholders.length>0?j.preSeedShareholders.map(((e,a)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{className:"text-danger",children:e.name}),e.fullName&&e.fullName!==e.name&&(0,m.jsx)("div",{className:"small fw-bold text-dark",children:e.fullName}),"Founder"===e.type&&(0,m.jsx)("span",{className:"badge bg-success mt-1",children:"Founder"}),"Options Pool"===e.type&&(0,m.jsx)("span",{className:"badge bg-warning text-dark mt-1",children:"Option Pool"})]})}),(0,m.jsxs)("td",{className:"text-center small",children:[e.email&&"-"!==e.email&&(0,m.jsxs)("div",{className:"text-muted mb-1",children:["\ud83d\udce7 ",e.email]}),e.phone&&"-"!==e.phone&&(0,m.jsxs)("div",{className:"text-muted",children:["\ud83d\udcf1 ",e.phone]}),(!e.email||"-"===e.email)&&(!e.phone||"-"===e.phone)&&(0,m.jsx)("span",{className:"text-muted",children:"-"})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:T(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"fSize-16 badge "+("Founder"===e.type?"bg-danger":"bg-warning text-white"),children:O(e.ownership)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:P(e.value,s)})})]},a))):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"5",className:"text-center text-danger",children:(0,m.jsx)("strong",{children:"\u26a0\ufe0f No shareholders data available"})})}),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:T(e.preSeedTotalShares)}),(0,m.jsx)("td",{className:"text-center",children:O(100)}),(0,m.jsx)("td",{className:"text-center",children:P(e.preMoneyValuation,s)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,m.jsx)("strong",{children:"Total Founders Ownership:"})," ",O((j.preSeedShareholders||[]).filter((e=>"Founder"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,m.jsx)("strong",{children:"Employee Ownership:"})," ",O((j.preSeedShareholders||[]).filter((e=>"Options Pool"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-success mb-0",children:[(0,m.jsx)("strong",{children:"Total Pre-Seed Value:"})," ",P(e.preMoneyValuation,s)]})})]})]})]})})}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-success text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"Post-Seed Cap Table"}),(0,m.jsx)("small",{children:"(# shares, Ownership %, Currency Value)"})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Contact Info"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Total Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Fully Diluted Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Currency Value"})]})}),(0,m.jsxs)("tbody",{children:[j.shareholders&&j.shareholders.length>0?j.shareholders.map(((e,a)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{className:"text-danger",children:e.name}),e.fullName&&e.fullName!==e.name&&(0,m.jsx)("div",{className:"small fw-bold text-dark",children:e.fullName}),"Investor"===e.type&&(0,m.jsxs)("span",{className:"badge bg-success mt-1",children:[e.isGeneric?"":"Investor",e.isConvertibleNote&&" (Convertible Note)"]}),"Founder"===e.type&&(0,m.jsx)("span",{className:"badge bg-primary mt-1",children:"Founder"}),"Options Pool"===e.type&&(0,m.jsx)("span",{className:"badge bg-warning text-dark mt-1",children:"Option Pool"}),"Available"===e.type&&(0,m.jsx)("span",{className:"badge bg-danger mt-1",children:"Available for Investment"})]})}),(0,m.jsxs)("td",{className:"text-center small",children:["Available"!==e.type&&e.email&&"-"!==e.email&&(0,m.jsxs)("div",{className:"text-muted mb-1",children:["\ud83d\udce7 ",e.email]}),"Available"!==e.type&&e.phone&&"-"!==e.phone&&(0,m.jsxs)("div",{className:"text-muted",children:["\ud83d\udcf1 ",e.phone]}),("Available"===e.type||!e.email||"-"===e.email)&&(!e.phone||"-"===e.phone)&&(0,m.jsx)("span",{className:"text-muted",children:"-"})]}),(0,m.jsx)("td",{className:"text-center",children:"Founder"===e.type||"Options Pool"===e.type?(0,m.jsx)("strong",{children:T(e.shares)}):(0,m.jsx)("span",{className:"text-muted",children:"-"})}),(0,m.jsx)("td",{className:"text-center",children:e.newShares>0?(0,m.jsx)("span",{className:"badge bg-warning text-dark",children:T(e.newShares)}):(0,m.jsx)("span",{className:"text-muted",children:"-"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:T(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"fSize-16 badge "+("Founder"===e.type?"bg-danger":"Options Pool"===e.type?"bg-warning text-dark":"Available"===e.type?"bg-danger":"bg-success"),children:O(e.ownership)})}),(0,m.jsxs)("td",{className:"text-center",children:[(0,m.jsx)("strong",{children:P(e.value,s)}),"Available"===e.type&&e.investmentAmount>0&&(0,m.jsxs)("div",{className:"small text-success",children:["Available: ",P(e.investmentAmount,s)]}),"Investor"===e.type&&e.isConvertibleNote&&(0,m.jsx)("div",{className:"small text-muted",children:"Convertible Note - 0 shares issued"})]})]},a))):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"7",className:"text-center text-danger",children:(0,m.jsx)("strong",{children:"\u26a0\ufe0f No shareholders data available"})})}),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:T(e.preSeedTotalShares)}),(0,m.jsx)("td",{className:"text-center",children:T(e.newShares)}),(0,m.jsx)("td",{className:"text-center",children:T(e.postInvestmentTotalShares)}),(0,m.jsx)("td",{className:"text-center",children:O(100)}),(0,m.jsx)("td",{className:"text-center",children:P(e.postMoneyValuation,s)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-primary mb-0",children:[(0,m.jsx)("strong",{children:"Total Founders:"})," ",O((j.shareholders||[]).filter((e=>"Founder"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,m.jsx)("strong",{children:"Option Pool:"})," ",O((j.shareholders||[]).filter((e=>"Options Pool"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})})]}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-success mb-0",children:[(0,m.jsx)("strong",{children:"Investors:"})," ",O((j.shareholders||[]).filter((e=>"Investor"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-danger mb-0",children:[(0,m.jsx)("strong",{children:"Available:"})," ",O((j.shareholders||[]).filter((e=>"Available"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,m.jsx)("strong",{children:"Post-Money Value:"})," ",P(e.postMoneyValuation,s)]})})]}),(0,m.jsxs)("div",{className:"alert alert-dark mt-3",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udd0d Formula"}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("strong",{children:"Post-Money Valuation:"}),(0,m.jsx)("br",{}),P(e.investmentSize,s)," + ",P(e.preMoneyValuation,s)," = ",P(e.postMoneyValuation,s)]}),a?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("strong",{children:"Convertible Note Investment:"}),(0,m.jsx)("br",{}),"Confirmed: ",P(e.totalNoteInvestment||0,s),(0,m.jsx)("br",{}),"Available: ",P(e.availableForInvestment||0,s)]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("strong",{children:"Theoretical Share Price:"}),(0,m.jsx)("br",{}),I(e.preMoneyValuation,s)," \xf7 ",T(e.preSeedTotalShares)," = ",I(e.sharePrice,s)]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("strong",{children:"Investor Ownership:"}),(0,m.jsx)("br",{}),P(e.investmentSize,s)," \xf7 ",P(e.postMoneyValuation,s)," = ",O(e.investorOwnershipPercent)]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("strong",{children:"Share Price:"}),(0,m.jsx)("br",{}),e.newShares>0?(0,m.jsxs)(m.Fragment,{children:[P(e.investmentSize,s)," \xf7 ",T(e.newShares)," = ",I(e.sharePrice,s)]}):"No new shares issued"]})]})]}),a&&(0,m.jsxs)("div",{className:"mt-2 p-2 bg-warning text-dark rounded",children:[(0,m.jsx)("strong",{children:"\ud83d\udca1 Convertible Note Round:"})," No shares issued immediately.",e.discountRate>0&&` Conversion will happen at next qualified financing round with ${O(e.discountRate)} discount`,e.valuationCap>0&&` and ${P(e.valuationCap,s)} valuation cap.`,e.interestRate>0&&` Interest rate: ${O(e.interestRate)}.`]})]})]})]})})})]})]})})})():(()=>{if(!j||!j.calculations)return null;console.log("Convertible Note Data:",j);const e=j.calculations,s=j.preSeedCapTable,a=j.postSeedCapTable,l=e=>{const s=(j.currency||"USD").split(" ")[0]||"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:2}).format(e||0)},r=e=>new Intl.NumberFormat("en-US").format(Math.round(e||0)),n=e=>`${("string"===typeof e?parseFloat(e):e||0).toFixed(1)}%`;var t=j.instrumentType+" "+j.shareClassType;return(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-warning text-dark",children:[(0,m.jsx)("h4",{className:"mb-0",children:j.roundType||"Convertible Note Round"}),(0,m.jsxs)("small",{children:[t," - Convertible Notes (NO SHARES ISSUED)"]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"mb-3",children:"\ud83d\udcca Platform Inputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Company Value (Input #1)"}),(0,m.jsx)("h5",{children:l(e.companyValue)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Investment Size (Input #2 & #4)"}),(0,m.jsx)("h5",{children:l(e.investmentSize)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Conversion Discount (Input #3)"}),(0,m.jsxs)("h5",{children:[e.discountRate,"%"]})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Valuation Cap"}),(0,m.jsx)("h5",{children:l(e.valuationCap)})]})})]}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{children:"Pre-Seed Option Pool % (Input #5)"}),(0,m.jsxs)("h5",{children:[e.optionPoolPercent,"%"]}),(0,m.jsxs)("small",{children:[r(e.employeeShares)," employee shares created"]})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{children:"Interest Rate"}),(0,m.jsxs)("h5",{children:[e.interestRate,"%"]}),(0,m.jsx)("small",{children:"Annual interest on convertible notes"})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{children:"Round 0 Founder Shares"}),(0,m.jsx)("h5",{children:r(e.roundZeroTotalShares)}),(0,m.jsx)("small",{children:"Total shares from incorporation"})]})})]}),(0,m.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcd0 Employee Pool Calculation"}),(0,m.jsxs)("p",{className:"mb-2 small",children:[(0,m.jsx)("strong",{children:"Formula:"})," Employee Shares = Total Founder Shares \xf7 (1 - Pool %) \xd7 Pool %"]}),(0,m.jsxs)("p",{className:"mb-2 small",children:[(0,m.jsx)("strong",{children:"Calculation:"})," ",r(e.roundZeroTotalShares)," \xf7 (1 - ",e.optionPoolPercent/100,") \xd7 ",e.optionPoolPercent/100," = ",r(e.employeeShares)," shares"]}),(0,m.jsxs)("p",{className:"mb-0 small",children:[(0,m.jsx)("strong",{children:"Total Shares:"})," ",r(e.roundZeroTotalShares)," (founders) + ",r(e.employeeShares)," (employees) = ",r(e.totalSharesPreSeed)," shares"]})]}),(0,m.jsxs)("div",{className:"alert alert-warning mb-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\u26a0\ufe0f CONVERTIBLE NOTES - NO SHARES ISSUED YET"}),(0,m.jsxs)("p",{className:"mb-0",children:[(0,m.jsx)("strong",{children:"Important:"})," Convertible notes are ",(0,m.jsx)("strong",{children:"NOT converted into shares"})," during this round.",(0,m.jsx)("br",{}),"Convertible note investors have invested ",l(e.totalConfirmedInvestment||e.investmentSize)," but receive ",(0,m.jsx)("strong",{children:"0 shares"})," in this round.",(0,m.jsx)("br",{}),"Conversion happens at the next priced equity round (Series A)."]})]}),s&&s.shareholders&&s.shareholders.length>0&&(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-secondary text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Common Shares at Pre-Seed Round 1 (Output #3)"}),(0,m.jsxs)("small",{children:["Before Convertible Note investment (with ",e.optionPoolPercent,"% option pool)"]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Management"}),(0,m.jsx)("th",{children:"Contact Info"}),(0,m.jsx)("th",{children:"Common Shares"}),(0,m.jsx)("th",{children:"New Shares"}),(0,m.jsx)("th",{children:"Fully Diluted Ownership %"}),(0,m.jsx)("th",{children:"Value ($)"})]})}),(0,m.jsxs)("tbody",{children:[s.shareholders.map(((e,s)=>(0,m.jsxs)("tr",{className:"Options Pool"===e.type?"table-warning":"Founder"===e.type?"":"table-light",children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{children:e.name||e.fullName}),(0,m.jsx)("div",{className:"small",children:e.note||e.type})]})}),(0,m.jsxs)("td",{children:[e.email&&"-"!==e.email&&(0,m.jsxs)("div",{className:"small",children:["\ud83d\udce7 ",e.email]}),e.voting&&(0,m.jsx)("div",{className:"small",children:"voting"===e.voting?"\u2705 Voting":"\u274c Non-voting"})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:r(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"text-muted",children:"0"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge bg-dark",children:n(e.ownership)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:l(e.value)})})]},s))),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:r(s.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:r(0)}),(0,m.jsx)("td",{className:"text-center",children:"100%"}),(0,m.jsx)("td",{className:"text-center",children:l(s.totalValue)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,m.jsx)("h6",{className:"mb-2",children:"Ownership Summary (Pre-Investment)"}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsx)("div",{className:"col-6",children:"Founders:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:n(e.totalFoundersOwnership)}),(0,m.jsx)("div",{className:"col-6",children:"Employees:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:n(e.totalEmployeeOwnership)}),(0,m.jsx)("div",{className:"col-6",children:"Convertible Note Investors:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:"0%"})]})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-light mb-0",children:[(0,m.jsx)("h6",{className:"mb-2",children:"Financial Summary"}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsx)("div",{className:"col-6",children:"Company Value:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:l(e.companyValue)}),(0,m.jsx)("div",{className:"col-6",children:"Share Price:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:l(e.sharePrice)}),(0,m.jsx)("div",{className:"col-6",children:"Total Shares:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:r(e.totalSharesPreSeed)})]})]})})]})]})]})})}),a&&a.shareholders&&a.shareholders.length>0&&(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card border-warning",children:[(0,m.jsxs)("div",{className:"card-header bg-warning text-dark",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Common Shares at Post-Seed Round 1 (Output #4)"}),(0,m.jsx)("small",{children:"After Convertible Note investment - Notes have NOT converted yet"})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("p",{className:"text-center mb-4",children:[(0,m.jsx)("strong",{children:"\ud83d\udccc Key Point:"})," Since Convertible notes do NOT convert to shares in this round, the total number of shares remains ",r(a.totalShares)," (same as Pre-Seed). Convertible note investors are listed with 0 shares."]}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{children:"Contact Info"}),(0,m.jsx)("th",{children:"Common Shares"}),(0,m.jsx)("th",{children:"New Shares"}),(0,m.jsx)("th",{children:"Total Shares"}),(0,m.jsx)("th",{children:"Fully Diluted Ownership %"}),(0,m.jsx)("th",{children:"Value ($)"})]})}),(0,m.jsxs)("tbody",{children:[a.shareholders.map(((e,s)=>(0,m.jsxs)("tr",{className:"Options Pool"===e.type?"table-warning":"Convertible Note Investor"===e.type?"table-info":"Available Investment"===e.type?"table-danger":"Founder"===e.type?"":"table-light",children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:e.name||e.fullName}),e.note&&(0,m.jsx)("div",{className:"small text-muted",children:e.note}),e.isConvertibleNote&&(0,m.jsx)("div",{className:"small text-info",children:"\u26a1 Convertible Note Investor"}),e.isAvailable&&(0,m.jsx)("div",{className:"small text-danger",children:"\ud83d\udd25 Available for investment"})]}),(0,m.jsxs)("td",{children:[e.email&&"-"!==e.email&&(0,m.jsxs)("div",{className:"small",children:["\ud83d\udce7 ",e.email]}),e.voting&&(0,m.jsx)("div",{className:"small",children:"voting"===e.voting?"\u2705 Voting":"\u274c Non-voting"}),e.investmentAmount>0&&(0,m.jsxs)("div",{className:"small fw-bold",children:["\ud83d\udcb0 ",l(e.investmentAmount)]})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:r(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"text-muted",children:"0"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:r(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+(0===e.shares?"bg-secondary":"bg-dark"),children:n(e.ownership)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:l(e.value)})})]},s))),(0,m.jsxs)("tr",{className:"table-warning fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:r(a.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:"0"}),(0,m.jsx)("td",{className:"text-center",children:r(a.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:"100%"}),(0,m.jsx)("td",{className:"text-center",children:l(a.totalValue)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-4",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-warning",children:[(0,m.jsx)("h6",{className:"mb-2",children:"Investment Summary"}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsx)("div",{className:"col-6",children:"Total Convertible Note Investment:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:l(e.totalConfirmedInvestment)}),(0,m.jsx)("div",{className:"col-6",children:"Available for Investment:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:l(e.availableForInvestment)}),(0,m.jsx)("div",{className:"col-6",children:"Number of Investors:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:e.investorCount}),(0,m.jsx)("div",{className:"col-6",children:"Shares Issued to Investors:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:"0"})]})]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-primary",children:[(0,m.jsx)("h6",{className:"mb-2",children:"Platform Outputs Summary"}),(0,m.jsxs)("div",{className:"row small",children:[(0,m.jsx)("div",{className:"col-6",children:"Post-Money Valuation (Output #1):"}),(0,m.jsx)("div",{className:"col-6 text-end",children:l(e.postMoneyValuation)}),(0,m.jsx)("div",{className:"col-6",children:"Post-Investment Shares (Output #2):"}),(0,m.jsx)("div",{className:"col-6 text-end",children:r(e.postInvestmentShares)}),(0,m.jsx)("div",{className:"col-6",children:"Total Shares (No Change):"}),(0,m.jsx)("div",{className:"col-6 text-end",children:r(a.totalShares)}),(0,m.jsx)("div",{className:"col-6",children:"Total Value:"}),(0,m.jsx)("div",{className:"col-6 text-end",children:l(a.totalValue)})]})]})})]})]})]})})}),(0,m.jsxs)("div",{className:"card bg-light",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb \u26a0\ufe0f Convertible Notes will convert at next priced equity round"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("h6",{children:"Conversion Terms:"}),(0,m.jsxs)("ul",{className:"mb-0",children:[(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Conversion Trigger:"})," Next priced equity financing (Series A)"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Valuation Cap:"})," ",l(e.valuationCap)]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Discount Rate:"})," ",e.discountRate,"%"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Interest Rate:"})," ",e.interestRate,"% per annum"]}),(0,m.jsxs)("li",{children:[(0,m.jsx)("strong",{children:"Conversion Price:"})," Lower of (Series A price \xd7 discount) OR (Cap \xf7 Total Shares)"]})]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("h6",{children:"Next Steps:"}),(0,m.jsxs)("ul",{className:"mb-0",children:[(0,m.jsx)("li",{children:"\u2705 Convertible notes issued (0 shares)"}),(0,m.jsxs)("li",{children:["\u2705 Investment received: ",l(e.totalConfirmedInvestment)]}),(0,m.jsx)("li",{children:"\ud83d\udd1c Prepare for Series A priced round"}),(0,m.jsx)("li",{children:"\ud83d\udd1c Convertible notes will automatically convert"}),(0,m.jsx)("li",{children:"\ud83d\udd1c Update cap table after conversion"})]})]})]})})]})]})]})})})():(()=>{if(!j||!j.calculations)return null;const e=j.calculations,s=j.currency||"USD",a=j.preSeedCapTable,l=j.postSeedCapTable;var r=j.instrumentType+" "+j.shareClassType;return(0,m.jsx)("div",{className:"cap-table-section",children:(0,m.jsxs)("div",{className:"card mb-4",children:[(0,m.jsxs)("div",{className:"card-header bg-warning text-dark",children:[(0,m.jsx)("h4",{className:"mb-0",children:j.roundType}),(0,m.jsxs)("small",{children:[r," Investment with Option Pool"]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("h5",{className:"mb-3",children:"\ud83d\udcca Platform Inputs"}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Investment Size"}),(0,m.jsx)("h5",{children:P(e.investmentSize,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Company Value"}),(0,m.jsx)("h5",{children:P(e.companyValue,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Valuation Cap"}),(0,m.jsx)("h5",{children:P(e.valuationCap,s)})]})}),(0,m.jsx)("div",{className:"col-md-3",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-light",children:[(0,m.jsx)("small",{className:"text-muted",children:"Discount Rate"}),(0,m.jsx)("h5",{children:O(e.discountRate)})]})})]}),(0,m.jsxs)("div",{className:"row mb-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-info text-white",children:[(0,m.jsx)("small",{children:"Pre-Seed Option Pool %"}),(0,m.jsx)("h5",{children:O(e.optionPoolPercent)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-success text-white",children:[(0,m.jsx)("small",{children:"Round 0 Total Shares"}),(0,m.jsx)("h5",{children:T(e.roundZeroTotalShares)})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"info-box p-3 border rounded bg-warning text-dark",children:[(0,m.jsx)("small",{children:"Employee Shares Created"}),(0,m.jsx)("h5",{children:T(e.employeeShares)})]})})]}),(0,m.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\ud83d\udcd0 Employee Pool Calculation"}),(0,m.jsxs)("p",{className:"mb-1",children:[(0,m.jsx)("strong",{children:"Formula:"})," Employee Shares = Total Founder Shares \xf7 (1 - Pool %) \xd7 Pool %"]}),(0,m.jsxs)("p",{className:"mb-0",children:[(0,m.jsx)("strong",{children:"Calculation:"})," ",T(e.roundZeroTotalShares)," \xf7 (1 - ",O(e.optionPoolPercent),") \xd7 ",O(e.optionPoolPercent),"= ",(0,m.jsxs)("span",{className:"badge bg-warning text-dark",children:[T(e.employeeShares)," shares"]})]})]}),(0,m.jsxs)("div",{className:"alert alert-warning mb-4",children:[(0,m.jsx)("h6",{className:"alert-heading",children:"\u26a0\ufe0f SAFE Notes - NO SHARES ISSUED YET"}),(0,m.jsxs)("p",{className:"mb-2",children:[(0,m.jsx)("strong",{children:"Important:"})," SAFE (Simple Agreement for Future Equity) notes are ",(0,m.jsx)("u",{children:"NOT converted into shares"})," during this round."]}),(0,m.jsxs)("ul",{className:"mb-2",children:[(0,m.jsxs)("li",{children:["SAFE investors have invested ",(0,m.jsx)("strong",{children:P(e.investmentSize,s)})]}),(0,m.jsxs)("li",{children:["They will receive ",(0,m.jsx)("strong",{children:"0 shares"})," in this round"]}),(0,m.jsxs)("li",{children:["Conversion happens at the ",(0,m.jsx)("strong",{children:"next priced equity round"})," (Series A)"]})]}),(0,m.jsxs)("p",{className:"mb-0",children:[(0,m.jsx)("strong",{children:"Conversion Price (at Series A):"})," LOWER of:",(0,m.jsx)("br",{}),"\u2022 Series A price \xd7 (1 - ",O(e.discountRate),")",(0,m.jsx)("br",{}),"\u2022 Valuation Cap \xf7 Total Shares"]})]}),a&&(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card",children:[(0,m.jsxs)("div",{className:"card-header bg-primary text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Common Shares at Pre-Seed Round 1"}),(0,m.jsx)("small",{children:a.message})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Management"}),(0,m.jsx)("th",{className:"text-center",children:"Contact Info"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Fully Diluted Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Value ($)"})]})}),(0,m.jsxs)("tbody",{children:[a.shareholders.map(((e,a)=>(0,m.jsxs)("tr",{className:"Options Pool"===e.type?"table-warning":"",children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{className:"Founder"===e.type?"text-primary":"Options Pool"===e.type?"text-warning":"text-info",children:e.name}),e.fullName&&e.fullName!==e.name&&(0,m.jsx)("div",{className:"small text-muted",children:e.fullName}),(0,m.jsx)("span",{className:"badge mt-1 "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type?"bg-warning text-dark":"bg-info"),children:e.type})]})}),(0,m.jsx)("td",{className:"text-center small",children:e.email&&"-"!==e.email?(0,m.jsxs)("div",{className:"text-muted",children:["\ud83d\udce7 ",e.email]}):(0,m.jsx)("span",{className:"text-muted",children:"-"})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{className:"text-dark",children:T(e.shares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+(e.newShares>0?"bg-success":"bg-secondary"),children:T(e.newShares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"fSize-16 badge "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type?"bg-warning text-dark":"bg-secondary"),children:O(e.ownership)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{children:P(e.value,s)})})]},a))),(0,m.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:T(a.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:T(a.shareholders.reduce(((e,s)=>e+s.newShares),0))}),(0,m.jsx)("td",{className:"text-center",children:O(100)}),(0,m.jsx)("td",{className:"text-center",children:P(a.totalValue,s)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-3",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-primary mb-0",children:[(0,m.jsx)("strong",{children:"Total Founders Ownership:"})," ",O(a.shareholders.filter((e=>"Founder"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})}),(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,m.jsx)("strong",{children:"Employee Pool Ownership:"})," ",O(a.shareholders.filter((e=>"Options Pool"===e.type)).reduce(((e,s)=>e+s.ownership),0))]})})]})]})]})})}),l&&(0,m.jsx)("div",{className:"row mb-5",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsxs)("div",{className:"card border-success",children:[(0,m.jsxs)("div",{className:"card-header bg-success text-white",children:[(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udccb Common Shares at Post-Seed Round 1"}),(0,m.jsx)("small",{children:l.message})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("div",{className:"alert alert-info mb-3",children:[(0,m.jsx)("strong",{children:"\ud83d\udccc Key Point:"})," Since SAFE notes do NOT convert to shares in this round, the total number of shares remains ",(0,m.jsx)("strong",{children:T(l.totalShares)}),"(same as Pre-Seed). SAFE investors are listed with 0 shares."]}),(0,m.jsx)("div",{className:"table-responsive",children:(0,m.jsxs)("table",{className:"table table-bordered table-hover",children:[(0,m.jsx)("thead",{className:"table-dark",children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Shareholder"}),(0,m.jsx)("th",{className:"text-center",children:"Contact Info"}),(0,m.jsx)("th",{className:"text-center",children:"Common Shares"}),(0,m.jsx)("th",{className:"text-center",children:"New Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Total Shares"}),(0,m.jsx)("th",{className:"text-center",children:"Fully Diluted Ownership %"}),(0,m.jsx)("th",{className:"text-center",children:"Value ($)"})]})}),(0,m.jsxs)("tbody",{children:[l.shareholders.map(((e,a)=>(0,m.jsxs)("tr",{className:"Options Pool"===e.type?"table-warning":"SAFE Investor"===e.type?"table-info":"",children:[(0,m.jsx)("td",{children:(0,m.jsxs)("div",{children:[(0,m.jsx)("strong",{className:"Founder"===e.type?"text-primary":"Options Pool"===e.type?"text-warning":"SAFE Investor"===e.type?"text-info":"text-dark",children:e.name}),e.fullName&&e.fullName!==e.name&&(0,m.jsx)("div",{className:"small text-muted",children:e.fullName}),(0,m.jsx)("span",{className:"badge mt-1 "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type?"bg-warning text-dark":"SAFE Investor"===e.type?"bg-info":"bg-secondary"),children:e.type})]})}),(0,m.jsx)("td",{className:"text-center small",children:e.email&&"-"!==e.email?(0,m.jsxs)("div",{className:"text-muted",children:["\ud83d\udce7 ",e.email]}):(0,m.jsx)("span",{className:"text-muted",children:"-"})}),(0,m.jsxs)("td",{className:"text-center",children:[(0,m.jsx)("strong",{className:"text-dark",children:T(e.shares)}),"SAFE Investor"===e.type&&(0,m.jsx)("div",{className:"small text-danger fw-bold mt-1",children:"\u26a0\ufe0f Not converted"})]}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"badge "+(e.newShares>0?"bg-success":"bg-secondary"),children:T(e.newShares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("strong",{className:"text-primary",children:T(e.shares+e.newShares)})}),(0,m.jsx)("td",{className:"text-center",children:(0,m.jsx)("span",{className:"fSize-16 badge "+("Founder"===e.type?"bg-primary":"Options Pool"===e.type?"bg-warning text-dark":"SAFE Investor"===e.type?"bg-info":"bg-secondary"),children:O(e.ownership)})}),(0,m.jsxs)("td",{className:"text-center",children:[(0,m.jsx)("strong",{children:P(e.value,s)}),e.investmentAmount>0&&(0,m.jsxs)("div",{className:"small text-success mt-1",children:["\ud83d\udcb0 SAFE: ",P(e.investmentAmount,s)]}),e.note&&(0,m.jsx)("div",{className:"small text-muted mt-1",children:e.note})]})]},a))),(0,m.jsxs)("tr",{className:"table-success fw-bold",children:[(0,m.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,m.jsx)("td",{className:"text-center",children:T(l.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:T(l.shareholders.reduce(((e,s)=>e+s.newShares),0))}),(0,m.jsx)("td",{className:"text-center",children:T(l.totalShares)}),(0,m.jsx)("td",{className:"text-center",children:O(100)}),(0,m.jsx)("td",{className:"text-center",children:P(l.totalValue,s)})]})]})]})}),(0,m.jsxs)("div",{className:"row mt-4",children:[(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-primary mb-0",children:[(0,m.jsx)("small",{children:"Total Founders Ownership"}),(0,m.jsx)("h5",{className:"mb-0",children:O(l.shareholders.filter((e=>"Founder"===e.type)).reduce(((e,s)=>e+s.ownership),0))})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-warning mb-0",children:[(0,m.jsx)("small",{children:"Employee Pool"}),(0,m.jsx)("h5",{className:"mb-0",children:O(l.shareholders.filter((e=>"Options Pool"===e.type)).reduce(((e,s)=>e+s.ownership),0))})]})}),(0,m.jsx)("div",{className:"col-md-4",children:(0,m.jsxs)("div",{className:"alert alert-info mb-0",children:[(0,m.jsx)("small",{children:"SAFE Investment (Not Converted)"}),(0,m.jsx)("h5",{className:"mb-0",children:P(l.safeInvestment||0,s)}),(0,m.jsxs)("small",{className:"text-muted",children:[l.safeInvestorCount||0," investors"]})]})})]})]})]})})}),(0,m.jsxs)("div",{className:"card bg-light",children:[(0,m.jsx)("div",{className:"card-header",children:(0,m.jsx)("h5",{className:"mb-0",children:"\ud83d\udcca Platform Outputs Summary"})}),(0,m.jsx)("div",{className:"card-body",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("h6",{className:"text-primary",children:"Pre-Seed Round 1"}),(0,m.jsxs)("ul",{className:"list-unstyled",children:[(0,m.jsxs)("li",{children:["\u2705 Total Shares: ",(0,m.jsx)("strong",{children:T(e.totalSharesPreSeed)})]}),(0,m.jsxs)("li",{children:["\u2705 Founder Shares: ",(0,m.jsx)("strong",{children:T(e.roundZeroTotalShares)})]}),(0,m.jsxs)("li",{children:["\u2705 Employee Shares: ",(0,m.jsx)("strong",{children:T(e.employeeShares)})]}),(0,m.jsxs)("li",{children:["\u2705 Total Value: ",(0,m.jsx)("strong",{children:P(e.companyValue,s)})]})]})]}),(0,m.jsxs)("div",{className:"col-md-6",children:[(0,m.jsx)("h6",{className:"text-success",children:"Post-Seed Round 1"}),(0,m.jsxs)("ul",{className:"list-unstyled",children:[(0,m.jsxs)("li",{children:["\u2705 Total Shares: ",(0,m.jsx)("strong",{children:T(e.totalSharesPostSeed)})," (Same as Pre-Seed)"]}),(0,m.jsxs)("li",{children:["\u2705 SAFE Investment: ",(0,m.jsx)("strong",{children:P(e.investmentSize,s)})]}),(0,m.jsxs)("li",{children:["\u26a0\ufe0f SAFE Shares: ",(0,m.jsx)("strong",{className:"text-danger",children:"0"})," (Not converted)"]}),(0,m.jsxs)("li",{children:["\u2705 Total Value: ",(0,m.jsx)("strong",{children:P(e.companyValue,s)})]})]})]})]})})]}),j.conversionInfo&&(0,m.jsxs)("div",{className:"alert alert-secondary mt-4",children:[(0,m.jsxs)("h6",{className:"alert-heading",children:["\ud83d\udccb ",j.conversionInfo.note]}),(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("small",{className:"text-muted",children:"Conversion Trigger"}),(0,m.jsx)("div",{children:(0,m.jsx)("strong",{children:j.conversionInfo.conversionTrigger})})]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("small",{className:"text-muted",children:"Valuation Cap"}),(0,m.jsx)("div",{children:(0,m.jsx)("strong",{children:P(j.conversionInfo.valuationCap,s)})})]}),(0,m.jsxs)("div",{className:"col-md-4",children:[(0,m.jsx)("small",{className:"text-muted",children:"Discount Rate"}),(0,m.jsx)("div",{children:(0,m.jsx)("strong",{children:O(j.conversionInfo.discountRate)})})]})]})]})]})]})})})()})(),!v&&!g&&!j&&(0,m.jsx)("div",{className:"alert alert-warning",role:"alert",children:"No cap table data available for this roundsss."})]})})]})]})})})}h.t1.register(h.PP,h.kc,h.E8,h.hE,h.m_,h.s$,h.Bs)},6058:(e,s,a)=>{a.d(s,{Fq:()=>j,yP:()=>x});var l=a(65043),r=a(17304);const n="label";function t(e,s){"function"===typeof e?e(s):e&&(e.current=s)}function d(e,s){e.labels=s}function c(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;const l=[];e.datasets=s.map((s=>{const r=e.datasets.find((e=>e[a]===s[a]));return r&&s.data&&!l.includes(r)?(l.push(r),Object.assign(r,s),r):{...s}}))}function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const a={labels:[],datasets:[]};return d(a,e.labels),c(a,e.datasets,s),a}function o(e,s){const{height:a=150,width:n=300,redraw:o=!1,datasetIdKey:h,type:m,data:x,options:j,plugins:N=[],fallbackContent:p,updateMode:u,...v}=e,b=(0,l.useRef)(null),g=(0,l.useRef)(null),S=()=>{b.current&&(g.current=new r.t1(b.current,{type:m,data:i(x,h),options:j&&{...j},plugins:N}),t(s,g.current))},y=()=>{t(s,null),g.current&&(g.current.destroy(),g.current=null)};return(0,l.useEffect)((()=>{!o&&g.current&&j&&function(e,s){const a=e.options;a&&s&&Object.assign(a,s)}(g.current,j)}),[o,j]),(0,l.useEffect)((()=>{!o&&g.current&&d(g.current.config.data,x.labels)}),[o,x.labels]),(0,l.useEffect)((()=>{!o&&g.current&&x.datasets&&c(g.current.config.data,x.datasets,h)}),[o,x.datasets]),(0,l.useEffect)((()=>{g.current&&(o?(y(),setTimeout(S)):g.current.update(u))}),[o,j,x.labels,x.datasets,u]),(0,l.useEffect)((()=>{g.current&&(y(),setTimeout(S))}),[m]),(0,l.useEffect)((()=>(S(),()=>y())),[]),l.createElement("canvas",{ref:b,role:"img",height:a,width:n,...v},p)}const h=(0,l.forwardRef)(o);function m(e,s){return r.t1.register(s),(0,l.forwardRef)(((s,a)=>l.createElement(h,{...s,ref:a,type:e})))}const x=m("bar",r.A6),j=m("pie",r.P$)}}]);
//# sourceMappingURL=1929.e090b92b.chunk.js.map