{"version":3,"file":"static/js/1929.7b0df3d2.chunk.js","mappings":"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","sources":["pages/User/Investor/RecordRoundCaptable.jsx","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\n\r\n\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement // Pie chart   add \r\n} from 'chart.js';\r\n\r\n//  Register all required components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement // Pie chart  \r\n);\r\nexport default function RecordRoundCaptable() {\r\n  const navigate = useNavigate();\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = JSON.parse(storedUsername);\r\n  const API_URL_CAPTABLE = API_BASE_URL + \"api/user/capitalround/\";\r\n  document.title = \"Round Cap Table\";\r\n  const { id } = useParams();\r\n\r\n  const [capTableData, setCapTableData] = useState(null);\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getCapTableData();\r\n  }, [id]);\r\n\r\n  const getCapTableData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    let formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        setCapTableData(res.data.capTable);\r\n        setRoundData(res.data.round);\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const formatCurrency = (amount, currency = \"USD\") => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n      }).format(amount || 0);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${parseFloat(amount || 0).toFixed(2)}`;\r\n    }\r\n  };\r\n  const formatCurrencyPricePerShare = (amount = 0, currency = \"USD\") => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places, not more\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${(parseFloat(amount) || 0).toFixed(3)}`;\r\n    }\r\n  };\r\n  const formatPriceThreeDecimal = (amount = 0) => {\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback\r\n      return (parseFloat(amount) || 0).toFixed(3);\r\n    }\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    return new Intl.NumberFormat(\"en-US\").format(num || 0);\r\n  };\r\n\r\n  const formatPercentage = (percent) => {\r\n    return `${(percent || 0).toFixed(2)}%`;\r\n  };\r\n  const RoundCapChart = ({ chartData }) => {\r\n    const options = {\r\n      responsive: true,\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: \"Fully Diluted Ownership %\" },\r\n      },\r\n      scales: {\r\n        y: { beginAtZero: true, max: 100 },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <div style={{ height: \"300px\" }}>\r\n        <Bar data={chartData} options={options} />\r\n      </div>\r\n    );\r\n  };\r\n  const renderRoundZeroTable = () => {\r\n    if (!capTableData) return null;\r\n\r\n    // Check for error in Round 0 data\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Data Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          <p className=\"mb-0\">\r\n            Please check Round 0 data structure. Founder allocation data is required.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small className=\"opacity-75\">Company Incorporation - Founder Shares Allocation</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Platform Inputs Summary */}\r\n            <h5 className=\"mb-3\">Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Founder Share Allocation</small>\r\n                  <h6>{capTableData.calculations.founderCount} Founders</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Share Types</small>\r\n                  <h6>Common Shares</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Price Per Share</small>\r\n                  <h6>{formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Platform Outputs */}\r\n            <h5 className=\"mb-3\">Platform Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Total Shares Issued</small>\r\n                  <h5>{formatNumber(capTableData.calculations.totalSharesIssued)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Total Company Value</small>\r\n                  <h5>{formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>Founder Count</small>\r\n                  <h5>{capTableData.calculations.founderCount}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Ownership Chart */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* Founder Share Allocation Table - CLIENT EXAMPLE  according */}\r\n            <h5 className=\"mt-4 mb-3\">Founder Share Allocation</h5>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped table-hover\">\r\n                <thead className=\"table-dark\">\r\n                  <tr>\r\n                    <th>Founder Name</th>\r\n                    <th>Email</th>\r\n                    <th>Phone</th>\r\n                    <th>Share Type</th>\r\n                    <th>Share Class</th>\r\n                    <th>Voting Rights</th>\r\n                    <th className=\"text-end\">Numbers of Shares</th>\r\n                    <th className=\"text-end\">Price Per Share</th>\r\n                    <th className=\"text-end\">Ownership %</th>\r\n                    <th className=\"text-end\">Value</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {capTableData.shareholders.map((sh, idx) => (\r\n                    <tr key={idx}>\r\n                      <td>\r\n                        <strong>\r\n                          {sh.firstName && sh.lastName ?\r\n                            `${sh.firstName} ${sh.lastName}` :\r\n                            `Founder ${idx + 1}`\r\n                          }\r\n                        </strong>\r\n                      </td>\r\n                      <td>\r\n                        {sh.email ? (\r\n                          <a href={`mailto:${sh.email}`} className=\"text-decoration-none\">\r\n                            {sh.email}\r\n                          </a>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {sh.phone ? (\r\n                          <a href={`tel:${sh.phone}`} className=\"text-decoration-none\">\r\n                            {sh.phone}\r\n                          </a>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-secondary text-capitalize\">\r\n                          {sh.shareType === 'common' ? 'Common Shares' :\r\n                            sh.shareType === 'preferred' ? 'Preferred Shares' :\r\n                              sh.shareType === 'other' && sh.customShareType ? sh.customShareType :\r\n                                'Common Shares'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-light text-dark border\">\r\n                          {sh.shareClass === 'other' && sh.customShareClass ?\r\n                            sh.customShareClass :\r\n                            sh.shareClass || 'Class A'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span className={`badge ${sh.votingRights === 'voting' ? 'bg-success' : 'bg-warning'}`}>\r\n                          {sh.votingRights === 'voting' ? 'Voting' : 'Non-Voting'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-end\">{formatNumber(sh.shares)}</td>\r\n                      <td className=\"text-end\">\r\n                        {formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        <span className=\"badge bg-danger\" style={{ fontSize: '16px' }}>\r\n                          {formatPercentage(sh.ownership)}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        {formatCurrency(sh.value, capTableData.currency)}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n\r\n                  {/* Total Row */}\r\n                  <tr className=\"table-secondary fw-bold\">\r\n                    <td colSpan=\"6\">TOTAL</td>\r\n                    <td className=\"text-end\">\r\n                      {formatNumber(capTableData.calculations.totalSharesIssued)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatPercentage(100)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Additional Summary Information */}\r\n            <div className=\"row mt-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Founders</h6>\r\n                    <h4 className=\"text-primary\">{capTableData.shareholders.length}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Shares</h6>\r\n                    <h4 className=\"text-success\">{formatNumber(capTableData.calculations.totalSharesIssued)}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Price Per Share</h6>\r\n                    <h4 className=\"text-info\">\r\n                      {formatCurrencyPricePerShare(\r\n                        capTableData.calculations.sharePrice,\r\n                        capTableData.currency\r\n                      )}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Value</h6>\r\n                    <h4 className=\"text-warning\">\r\n                      {formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-4\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-info\">\r\n                  <h6 className=\"alert-heading\"> Platform Inputs</h6>\r\n                  <ul className=\"mb-0 small\">\r\n                    <li>Number of shares issued to each founder</li>\r\n                    <li>Type of shares as per incorporation documents</li>\r\n                    <li>Price per share as per incorporation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-success\">\r\n                  <h6 className=\"alert-heading\"> Platform Outputs</h6>\r\n                  <ul className=\"mb-0 small\">\r\n                    <li>Total number of shares issued</li>\r\n                    <li>Ownership % based on shares issued</li>\r\n                    <li>Total company value at incorporation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Carry Over Information - CLIENT REQUIREMENTS  according */}\r\n            <div className=\"alert alert-warning mt-3\">\r\n              <h6 className=\"alert-heading\"> Important Note</h6>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Total shares ({formatNumber(capTableData.calculations.totalSharesIssued)}) will carry forward to Round 1.</strong>\r\n              </p>\r\n              <p className=\"mb-0 small\">\r\n                <strong>Price per share ({formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}) and company valuation ({formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}) will NOT carry over to investment rounds.</strong>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSeedRoundTable = () => {\r\n\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Check if this is a Convertible Note round\r\n    const isConvertibleNote = capTableData.isConvertibleNoteRound ||\r\n      capTableData.instrumentType === \"Convertible Note\";\r\n\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-success text-white\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small className=\"opacity-75\">\r\n              {isConvertibleNote ? \"Convertible Note Round - Cap Table Calculations\" : \"Seed Round - Cap Table Calculations\"}\r\n            </small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Platform Inputs */}\r\n            <h5 className=\"mb-3\">Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.optionPoolPercent)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Round Type</small>\r\n                  <h5>{isConvertibleNote ? \"Convertible Note\" : \"Equity Round\"}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Convertible Note Specific Inputs */}\r\n            {isConvertibleNote && calc.valuationCap && (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                    <small className=\"text-white\">Valuation Cap</small>\r\n                    <h6>{formatCurrency(calc.valuationCap, currency)}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                    <small>Discount Rate</small>\r\n                    <h6>{formatPercentage(calc.discountRate)}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                    <small>Interest Rate</small>\r\n                    <h6>{formatPercentage(calc.interestRate)}</h6>\r\n                  </div>\r\n                </div>\r\n                {/* <div className=\"col-md-3\">\r\n                  <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                    <small>Conversion Trigger</small>\r\n                    <h6>{calc.convertibleTrigger || \"QUALIFIED_FINANCING\"}</h6>\r\n                  </div>\r\n                </div> */}\r\n              </div>\r\n            )}\r\n\r\n            {/* Platform Outputs */}\r\n            <h5 className=\"mb-3\">Platform Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small>Post-Money Valuation</small>\r\n                  <h6>{formatCurrency(calc.postMoneyValuation, currency)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Post-Investment # Shares</small>\r\n                  <h6>{formatNumber(calc.postInvestmentTotalShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>New Shares Issued</small>\r\n                  <h6>{formatPriceThreeDecimal(calc.newShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>\r\n                    {isConvertibleNote ? \"Theoretical Share Price\" : \"Share Price\"}\r\n                  </small>\r\n                  <h6>{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h6>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Conditional Investor Ownership Display */}\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                  <small>\r\n                    {isConvertibleNote ? \"Note Investment\" : \"Investor Ownership\"}\r\n                  </small>\r\n                  <h6>\r\n                    {isConvertibleNote\r\n                      ? formatCurrency(calc.totalNoteInvestment || 0, currency)\r\n                      : formatPercentage(calc.investorOwnershipPercent)\r\n                    }\r\n                  </h6>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                  <small>Option Pool</small>\r\n                  <h6>{formatNumber(calc.optionPoolShares)} shares</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Available for Investment Display */}\r\n            {isConvertibleNote && calc.availableForInvestment > 0 && (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"alert alert-danger\">\r\n                    <h6 className=\"alert-heading\"> Available for Investment</h6>\r\n                    <p className=\"mb-0\">\r\n                      <strong>{formatCurrency(calc.availableForInvestment, currency)}</strong> remaining in this convertible note round.\r\n                      {calc.totalNoteInvestment > 0 && (\r\n                        <span> ({formatCurrency(calc.totalNoteInvestment, currency)} already committed)</span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Ownership Chart */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* ========== PRE-SEED CAP TABLE ========== */}\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h5 className=\"mb-0\">Pre-Seed Cap Table</h5>\r\n                    <small>(# shares, Ownership %, Currency Value)</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Contact Info</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.preSeedShareholders && capTableData.preSeedShareholders.length > 0 ? (\r\n                            capTableData.preSeedShareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className=\"text-danger\">{sh.name}</strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small fw-bold text-dark\">{sh.fullName}</div>\r\n                                    )}\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-success mt-1\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark mt-1\">Option Pool</span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"text-muted mb-1\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.phone && sh.phone !== \"-\" && (\r\n                                    <div className=\"text-muted\">\r\n                                       {sh.phone}\r\n                                    </div>\r\n                                  )}\r\n                                  {(!sh.email || sh.email === \"-\") && (!sh.phone || sh.phone === \"-\") && (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-danger\" : \"bg-warning text-white\"}`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"5\" className=\"text-center text-danger\">\r\n                                <strong> No shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preSeedTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Total Founders Ownership:</strong> {formatPercentage(\r\n                            (capTableData.preSeedShareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Employee Ownership:</strong> {formatPercentage(\r\n                            (capTableData.preSeedShareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Total Pre-Seed Value:</strong> {formatCurrency(calc.preMoneyValuation, currency)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ========== POST-SEED CAP TABLE ========== */}\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h5 className=\"mb-0\">Post-Seed Cap Table</h5>\r\n                    <small>(# shares, Ownership %, Currency Value)</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Contact Info</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">New Shares</th>\r\n                            <th className=\"text-center\">Total Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.shareholders && capTableData.shareholders.length > 0 ? (\r\n                            capTableData.shareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className=\"text-danger\">{sh.name}</strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small fw-bold text-dark\">{sh.fullName}</div>\r\n                                    )}\r\n                                    {/* Type badges for all shareholder types */}\r\n                                    {sh.type === \"Investor\" && (\r\n                                      <span className=\"badge bg-success mt-1\">\r\n                                        {sh.isGeneric ? \"Generic Investor\" : \"Investor\"}\r\n                                        {sh.isConvertibleNote && \" (Convertible Note)\"}\r\n                                      </span>\r\n                                    )}\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-primary mt-1\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark mt-1\">Option Pool</span>\r\n                                    )}\r\n                                    {sh.type === \"Available\" && (\r\n                                      <span className=\"badge bg-danger mt-1\">Available for Investment</span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {/* Hide contact info for Available for Investment */}\r\n                                  {sh.type !== \"Available\" && sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"text-muted mb-1\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.type !== \"Available\" && sh.phone && sh.phone !== \"-\" && (\r\n                                    <div className=\"text-muted\">\r\n                                       {sh.phone}\r\n                                    </div>\r\n                                  )}\r\n                                  {(sh.type === \"Available\" || !sh.email || sh.email === \"-\") &&\r\n                                    (!sh.phone || sh.phone === \"-\") && (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.type === \"Founder\" || sh.type === \"Options Pool\" ? (\r\n                                    <strong>{formatNumber(sh.shares)}</strong>\r\n                                  ) : (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.newShares > 0 ? (\r\n                                    <span className=\"badge bg-warning text-dark\">\r\n                                      {formatNumber(sh.newShares)}\r\n                                    </span>\r\n                                  ) : (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-danger\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      sh.type === \"Available\" ? \"bg-danger\" :\r\n                                        \"bg-success\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n\r\n                                  {/* Investment amount for Available for Investment */}\r\n                                  {sh.type === \"Available\" && sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      Available: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* Investment amount for investors */}\r\n                                  {sh.type === \"Investor\" && sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* Note for convertible note investors */}\r\n                                  {sh.type === \"Investor\" && sh.isConvertibleNote && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Convertible Note - 0 shares issued\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"7\" className=\"text-center text-danger\">\r\n                                <strong> No shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preSeedTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.newShares)}</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.postInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Total Founders:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {/* Available for Investment Summary */}\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"alert alert-danger mb-0\">\r\n                          <strong>Available:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Available\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Post-Money Value:</strong> {formatCurrency(calc.postMoneyValuation, currency)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Formula Verification */}\r\n                    <div className=\"alert alert-dark mt-3\">\r\n                      <h6 className=\"alert-heading\"> Formula Verification</h6>\r\n                      <div className=\"row small\">\r\n                        <div className=\"col-md-4\">\r\n                          <strong>Post-Money Valuation:</strong><br />\r\n                          {formatCurrency(calc.investmentSize, currency)} + {formatCurrency(calc.preMoneyValuation, currency)} = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                        </div>\r\n\r\n                        {/* Conditional Formulas based on Round Type */}\r\n                        {isConvertibleNote ? (\r\n                          <>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Convertible Note Investment:</strong><br />\r\n                              Confirmed: {formatCurrency(calc.totalNoteInvestment || 0, currency)}<br />\r\n                              Available: {formatCurrency(calc.availableForInvestment || 0, currency)}\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Theoretical Share Price:</strong><br />\r\n                              {formatCurrencyPricePerShare(calc.preMoneyValuation, currency)}  {formatNumber(calc.preSeedTotalShares)} = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                            </div>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Investor Ownership:</strong><br />\r\n                              {formatCurrency(calc.investmentSize, currency)}  {formatCurrency(calc.postMoneyValuation, currency)} = {formatPercentage(calc.investorOwnershipPercent)}\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Share Price:</strong><br />\r\n                              {calc.newShares > 0 ? (\r\n                                <>\r\n                                  {formatCurrency(calc.investmentSize, currency)}  {formatNumber(calc.newShares)} = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                                </>\r\n                              ) : (\r\n                                \"No new shares issued\"\r\n                              )}\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Convertible Note Specific Information */}\r\n                      {isConvertibleNote && (\r\n                        <div className=\"mt-2 p-2 bg-warning text-dark rounded\">\r\n                          <strong> Convertible Note Round:</strong> No shares issued immediately.\r\n                          {calc.discountRate > 0 && ` Conversion will happen at next qualified financing round with ${formatPercentage(calc.discountRate)} discount`}\r\n                          {calc.valuationCap > 0 && ` and ${formatCurrency(calc.valuationCap, currency)} valuation cap.`}\r\n                          {calc.interestRate > 0 && ` Interest rate: ${formatPercentage(calc.interestRate)}.`}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSAFERoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    //  FIX 1: Need BOTH Pre-Seed and Post-Seed tables\r\n    const preSeedTable = capTableData.preSeedCapTable;\r\n    const postSeedTable = capTableData.postSeedCapTable;\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small>SAFE Round - Seed Investment with Option Pool</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== PLATFORM INPUTS ===== */}\r\n            <h5 className=\"mb-3\"> Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Company Value</small>\r\n                  <h5>{formatCurrency(calc.companyValue, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Valuation Cap</small>\r\n                  <h5>{formatCurrency(calc.valuationCap, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Discount Rate</small>\r\n                  <h5>{formatPercentage(calc.discountRate)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Seed Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.optionPoolPercent)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Round 0 Total Shares</small>\r\n                  <h5>{formatNumber(calc.roundZeroTotalShares)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>Employee Shares Created</small>\r\n                  <h5>{formatNumber(calc.employeeShares)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ===== CALCULATION FORMULA BOX ===== */}\r\n            <div className=\"alert alert-info mb-4\">\r\n              <h6 className=\"alert-heading\"> Employee Pool Calculation</h6>\r\n              <p className=\"mb-1\">\r\n                <strong>Formula:</strong> Employee Shares = Total Founder Shares  (1 - Pool %)  Pool %\r\n              </p>\r\n              <p className=\"mb-0\">\r\n                <strong>Calculation:</strong> {formatNumber(calc.roundZeroTotalShares)}  (1 - {formatPercentage(calc.optionPoolPercent)})  {formatPercentage(calc.optionPoolPercent)}\r\n                = <span className=\"badge bg-warning text-dark\">{formatNumber(calc.employeeShares)} shares</span>\r\n              </p>\r\n            </div>\r\n\r\n            {/*  IMPORTANT: SAFE Notes Explanation */}\r\n            <div className=\"alert alert-warning mb-4\">\r\n              <h6 className=\"alert-heading\"> SAFE Notes - NO SHARES ISSUED YET</h6>\r\n              <p className=\"mb-2\">\r\n                <strong>Important:</strong> SAFE (Simple Agreement for Future Equity) notes are <u>NOT converted into shares</u> during this round.\r\n              </p>\r\n              <ul className=\"mb-2\">\r\n                <li>SAFE investors have invested <strong>{formatCurrency(calc.investmentSize, currency)}</strong></li>\r\n                <li>They will receive <strong>0 shares</strong> in this round</li>\r\n                <li>Conversion happens at the <strong>next priced equity round</strong> (Series A)</li>\r\n              </ul>\r\n              <p className=\"mb-0\">\r\n                <strong>Conversion Price (at Series A):</strong> LOWER of:\r\n                <br /> Series A price  (1 - {formatPercentage(calc.discountRate)})\r\n                <br /> Valuation Cap  Total Shares\r\n              </p>\r\n            </div>\r\n\r\n            {/* ===== PRE-SEED CAP TABLE ===== */}\r\n            {preSeedTable && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-primary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Seed Round 1</h5>\r\n                      <small>{preSeedTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Management</th>\r\n                              <th className=\"text-center\">Contact Info</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                              <th className=\"text-center\">Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preSeedTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={sh.type === \"Options Pool\" ? \"table-warning\" : \"\"}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className={\r\n                                      sh.type === \"Founder\" ? \"text-primary\" :\r\n                                        sh.type === \"Options Pool\" ? \"text-warning\" : \"text-info\"\r\n                                    }>\r\n                                      {sh.name}\r\n                                    </strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                    )}\r\n                                    <span className={`badge mt-1 ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" : \"bg-info\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" ? (\r\n                                    <div className=\"text-muted\"> {sh.email}</div>\r\n                                  ) : <span className=\"text-muted\">-</span>}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-dark\">{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.newShares > 0 ? \"bg-success\" : \"bg-secondary\"}`}>\r\n                                    {formatNumber(sh.newShares)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" : \"bg-secondary\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(preSeedTable.shareholders.reduce((sum, sh) => sum + sh.newShares, 0))}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                              <td className=\"text-center\">{formatCurrency(preSeedTable.totalValue, currency)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Breakdown */}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary mb-0\">\r\n                            <strong>Total Founders Ownership:</strong> {formatPercentage(\r\n                              preSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Founder\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <strong>Employee Pool Ownership:</strong> {formatPercentage(\r\n                              preSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Options Pool\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-SEED CAP TABLE ===== */}\r\n            {postSeedTable && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card border-success\">\r\n                    <div className=\"card-header bg-success text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Seed Round 1</h5>\r\n                      <small>{postSeedTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n\r\n                      {/* Highlight Box */}\r\n                      <div className=\"alert alert-info mb-3\">\r\n                        <strong> Key Point:</strong> Since SAFE notes do NOT convert to shares in this round,\r\n                        the total number of shares remains <strong>{formatNumber(postSeedTable.totalShares)}</strong>\r\n                        (same as Pre-Seed). SAFE investors are listed with 0 shares.\r\n                      </div>\r\n\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Contact Info</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                              <th className=\"text-center\">Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postSeedTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"SAFE Investor\" ? \"table-info\" : \"\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className={\r\n                                      sh.type === \"Founder\" ? \"text-primary\" :\r\n                                        sh.type === \"Options Pool\" ? \"text-warning\" :\r\n                                          sh.type === \"SAFE Investor\" ? \"text-info\" : \"text-dark\"\r\n                                    }>\r\n                                      {sh.name}\r\n                                    </strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                    )}\r\n                                    <span className={`badge mt-1 ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" ? \"bg-info\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" ? (\r\n                                    <div className=\"text-muted\"> {sh.email}</div>\r\n                                  ) : <span className=\"text-muted\">-</span>}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-dark\">{formatNumber(sh.shares)}</strong>\r\n                                  {sh.type === \"SAFE Investor\" && (\r\n                                    <div className=\"small text-danger fw-bold mt-1\">\r\n                                       Not converted\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.newShares > 0 ? \"bg-success\" : \"bg-secondary\"}`}>\r\n                                    {formatNumber(sh.newShares)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-primary\">{formatNumber(sh.shares + sh.newShares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      sh.type === \"SAFE Investor\" ? \"bg-info\" : \"bg-secondary\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                  {sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success mt-1\">\r\n                                       SAFE: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.note && (\r\n                                    <div className=\"small text-muted mt-1\">{sh.note}</div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-success fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(postSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(postSeedTable.shareholders.reduce((sum, sh) => sum + sh.newShares, 0))}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatNumber(postSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                              <td className=\"text-center\">{formatCurrency(postSeedTable.totalValue, currency)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-primary mb-0\">\r\n                            <small>Total Founders Ownership</small>\r\n                            <h5 className=\"mb-0\">{formatPercentage(\r\n                              postSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Founder\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}</h5>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <small>Employee Pool</small>\r\n                            <h5 className=\"mb-0\">{formatPercentage(\r\n                              postSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Options Pool\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}</h5>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <small>SAFE Investment (Not Converted)</small>\r\n                            <h5 className=\"mb-0\">{formatCurrency(postSeedTable.safeInvestment || 0, currency)}</h5>\r\n                            <small className=\"text-muted\">{postSeedTable.safeInvestorCount || 0} investors</small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== PLATFORM OUTPUTS SUMMARY ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\"> Platform Outputs Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6 className=\"text-primary\">Pre-Seed Round 1</h6>\r\n                    <ul className=\"list-unstyled\">\r\n                      <li> Total Shares: <strong>{formatNumber(calc.totalSharesPreSeed)}</strong></li>\r\n                      <li> Founder Shares: <strong>{formatNumber(calc.roundZeroTotalShares)}</strong></li>\r\n                      <li> Employee Shares: <strong>{formatNumber(calc.employeeShares)}</strong></li>\r\n                      <li> Total Value: <strong>{formatCurrency(calc.companyValue, currency)}</strong></li>\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <h6 className=\"text-success\">Post-Seed Round 1</h6>\r\n                    <ul className=\"list-unstyled\">\r\n                      <li> Total Shares: <strong>{formatNumber(calc.totalSharesPostSeed)}</strong> (Same as Pre-Seed)</li>\r\n                      <li> SAFE Investment: <strong>{formatCurrency(calc.investmentSize, currency)}</strong></li>\r\n                      <li> SAFE Shares: <strong className=\"text-danger\">0</strong> (Not converted)</li>\r\n                      <li> Total Value: <strong>{formatCurrency(calc.companyValue, currency)}</strong></li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Conversion Info */}\r\n            {capTableData.conversionInfo && (\r\n              <div className=\"alert alert-secondary mt-4\">\r\n                <h6 className=\"alert-heading\"> {capTableData.conversionInfo.note}</h6>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Conversion Trigger</small>\r\n                    <div><strong>{capTableData.conversionInfo.conversionTrigger}</strong></div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Valuation Cap</small>\r\n                    <div><strong>{formatCurrency(capTableData.conversionInfo.valuationCap, currency)}</strong></div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Discount Rate</small>\r\n                    <div><strong>{formatPercentage(capTableData.conversionInfo.discountRate)}</strong></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderSAFESeriesRoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    console.log(\"Cap Table Data:\", capTableData);\r\n    const calc = capTableData.calculations;\r\n\r\n    //  Get data from backend response structure\r\n    const preTable = capTableData.preSeedCapTable;\r\n    const postTable = capTableData.postSeedCapTable;\r\n    const inputs = capTableData.inputs || {};\r\n\r\n    //  Determine round type from backend data\r\n    const isSeriesA = capTableData.isSeriesA ||\r\n      (capTableData.shareClassType || \"\").toLowerCase().includes(\"series\");\r\n\r\n    const hasSAFEConversion = capTableData.hasSAFEConversion ||\r\n      (calc.seedConversionShares > 0);\r\n\r\n    // Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-US').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    //  Calculate ownership percentages\r\n    const getOwnershipSummary = (shareholders, totalShares) => {\r\n      if (!shareholders || !totalShares) return {\r\n        founders: 0,\r\n        employees: 0,\r\n        seedInvestors: 0,\r\n        seriesAInvestors: 0\r\n      };\r\n\r\n      let founders = 0;\r\n      let employees = 0;\r\n      let seedInvestors = 0;\r\n      let seriesAInvestors = 0;\r\n\r\n      shareholders.forEach(sh => {\r\n        const ownership = (sh.shares / totalShares) * 100;\r\n        if (sh.type === \"Founder\") founders += ownership;\r\n        else if (sh.type === \"Options Pool\" || sh.type.includes(\"Employee\")) employees += ownership;\r\n        else if (sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\")) seedInvestors += ownership;\r\n        else if (sh.type === \"Series A Investor\") seriesAInvestors += ownership;\r\n      });\r\n\r\n      return {\r\n        founders: founders.toFixed(1),\r\n        employees: employees.toFixed(1),\r\n        seedInvestors: seedInvestors.toFixed(1),\r\n        seriesAInvestors: seriesAInvestors.toFixed(1)\r\n      };\r\n    };\r\n\r\n    //  Get ownership data\r\n    const preOwnership = getOwnershipSummary(preTable?.shareholders, preTable?.totalShares);\r\n    const postOwnership = getOwnershipSummary(postTable?.shareholders, postTable?.totalShares);\r\n\r\n    //  Debug information\r\n    console.log(\"Calculations:\", {\r\n      seedInvestment: calc.seedInvestment,\r\n      valuationCap: calc.valuationCap,\r\n      discountRate: calc.discountRate,\r\n      sharePrice: calc.sharePrice,\r\n      seedOptimalPrice: calc.seedOptimalPrice,\r\n      seedConversionShares: calc.seedConversionShares,\r\n      seriesAShares: calc.seriesAShares,\r\n      totalPostShares: calc.totalSharesPostSeed\r\n    });\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className={`card-header ${isSeriesA ? 'bg-primary' : 'bg-success'} text-white`}>\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Series A Round\"}</h4>\r\n            <small>\r\n              {isSeriesA ? \"Series A Round\" : \"Investment Round\"}\r\n              {hasSAFEConversion && \" with SAFE Conversion\"}\r\n            </small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== INPUT PARAMETERS SECTION ===== */}\r\n            <h5 className=\"mb-3\"> Input Parameters</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(inputs.preMoneyValuation || calc.preMoneyValuation)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Series A Investment</small>\r\n                  <h5>{formatCurrency(inputs.seriesAInvestment || calc.seriesAInvestment)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Founder Shares (Round 0)</small>\r\n                  <h5>{formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)}</h5>\r\n                  <small>{inputs.founderCount || preTable?.shareholders?.filter(sh => sh.type === \"Founder\").length || 0} founder(s)</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Share Price</small>\r\n                  <h5>{formatCurrency(calc.sharePrice || calc.seriesASharePrice)}</h5>\r\n                  <small>per share</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* SAFE CONVERSION SECTION (Only if has SAFE conversion) */}\r\n            {hasSAFEConversion && calc.seedInvestment > 0 && (\r\n              <>\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                      <small>Seed SAFE Investment</small>\r\n                      <h5>{formatCurrency(calc.seedInvestment)}</h5>\r\n                      <small>From previous SAFE round</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                      <small>Valuation Cap</small>\r\n                      <h5>{formatCurrency(calc.valuationCap)}</h5>\r\n                      <small>From SAFE terms</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                      <small>Discount Rate</small>\r\n                      <h5>{calc.discountRate}%</h5>\r\n                      <small>From SAFE terms</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* SAFE CONVERSION CALCULATIONS */}\r\n                {calc.seedOptimalPrice > 0 && (\r\n                  <div className=\"alert alert-success mb-4\">\r\n                    <h6 className=\"alert-heading\"> SAFE Conversion Calculations</h6>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-6\">\r\n                        <p><strong>1. Series A Share Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(inputs.preMoneyValuation || calc.preMoneyValuation)}  {formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares + calc.employeeSharesSeedRound)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.sharePrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>2. Seed Discount Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.sharePrice)}  (1 - {calc.discountRate / 100}) =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedDiscountPrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>3. Seed Cap Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.valuationCap)}  {formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedCapPrice)}</span>\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-6\">\r\n                        <p><strong>4. Optimal Price (Lower of the two):</strong></p>\r\n                        <p className=\"small\">\r\n                          MIN({formatCurrency(calc.seedDiscountPrice)}, {formatCurrency(calc.seedCapPrice)}) =\r\n                          <span className=\"fw-bold ms-2 text-success\">{formatCurrency(calc.seedOptimalPrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>5. Seed Conversion Shares:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.seedInvestment)}  {formatCurrency(calc.seedOptimalPrice)} =\r\n                          <span className=\"fw-bold ms-2\">{formatNumber(calc.seedConversionShares)} shares</span>\r\n                        </p>\r\n\r\n                        <p><strong>6. Seed Conversion Value:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatNumber(calc.seedConversionShares)}  {formatCurrency(calc.sharePrice)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedConversionValue)}</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* MOIC Information */}\r\n                    <div className=\"mt-3 p-2 bg-white rounded border\">\r\n                      <p className=\"mb-1\"><strong>MOIC (Multiple on Invested Capital):</strong></p>\r\n                      <p className=\"mb-0 small\">\r\n                        Seed Investors: <strong>{calc.seedMOIC}</strong> ({formatCurrency(calc.seedConversionValue)} value / {formatCurrency(calc.seedInvestment)} investment)\r\n                        {calc.seriesAMOIC && calc.seriesAMOIC !== \"0X\" && (\r\n                          <> | Series A Investors: <strong>{calc.seriesAMOIC}</strong></>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {/* OPTION POOL SECTION */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Existing Option Pool</small>\r\n                  <h5>{formatPercentage(calc.existingOptionPoolPercent)}</h5>\r\n                  <small>{formatNumber(calc.employeeSharesSeedRound)} shares</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small className=\"text-white\">Target Option Pool</small>\r\n                  <h5>{formatPercentage(calc.targetOptionPoolPercent)}</h5>\r\n                  <small>Post-investment target</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>New Option Shares</small>\r\n                  <h5>{formatNumber(calc.newOptionShares)}</h5>\r\n                  <small>Top-up required</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* OPTION POOL CALCULATION EXPLANATION */}\r\n            {calc.newOptionShares > 0 && (\r\n              <div className=\"alert alert-info mb-4\">\r\n                <h6 className=\"alert-heading\"> Option Pool Top-up Calculation</h6>\r\n                <p className=\"mb-2 small\">\r\n                  <strong>Formula:</strong> Total Post Shares = (Founders + Seed Investors + Series A Investors)  (1 - Target Option Pool %)\r\n                </p>\r\n                <p className=\"mb-2 small\">\r\n                  <strong>Calculation:</strong>\r\n                  ({formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)} + {formatNumber(calc.seedConversionShares)} + {formatNumber(calc.seriesAShares)})  (1 - {calc.targetOptionPoolPercent / 100})\r\n                </p>\r\n                <p className=\"mb-0 small\">\r\n                  <strong>Result:</strong> Need to add {formatNumber(calc.newOptionShares)} new option shares to reach {formatPercentage(calc.targetOptionPoolPercent)} target pool\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== PRE-INVESTMENT CAP TABLE ===== */}\r\n            {preTable && preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-secondary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Series A Round</h5>\r\n                      <small>{preTable.message || \"Before Series A investment\"}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Type</th>\r\n                              <th className=\"text-center\">Shares</th>\r\n                              <th className=\"text-center\">Ownership %</th>\r\n                              <th className=\"text-center\">Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"table-warning\" :\r\n                                  sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" : \"bg-info\"\r\n                                    }`}>\r\n                                    {sh.type}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                  {sh.newShares > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      +{formatNumber(sh.newShares)} new\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className=\"badge bg-dark\">\r\n                                    {formatPercentage(sh.ownership || ((sh.shares / preTable.totalShares) * 100))}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preTable.totalShares)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(preTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-INVESTMENT CAP TABLE ===== */}\r\n            {postTable && postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className={`card border-primary`}>\r\n                    <div className=\"card-header bg-primary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Series A Round</h5>\r\n                      <small>{postTable.message || \"After Series A investment\"}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Type</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Ownership %</th>\r\n                              <th className=\"text-center\">Value</th>\r\n                              {hasSAFEConversion && <th className=\"text-center\">Investment / Conversion Price</th>}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postTable.shareholders.map((sh, idx) => (\r\n                              sh.isTotal ? (\r\n                                // TOTAL ROW - Show at the end\r\n                                <tr key={idx} className=\"table-primary fw-bold\">\r\n                                  <td colSpan=\"2\"><strong>TOTAL</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.commonShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.newShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.totalShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>100%</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatCurrency(sh.value)}</strong></td>\r\n                                  {hasSAFEConversion && (\r\n                                    <td className=\"text-center\">\r\n                                      <strong>{formatCurrency(postTable.safeInvestment || calc.seedInvestment + calc.seriesAInvestment)}</strong>\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              ) : (\r\n                                // REGULAR ROWS\r\n                                <tr key={idx} className={\r\n                                  sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"table-warning\" :\r\n                                    sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"table-info\" :\r\n                                      sh.type === \"Series A Investor\" ? \"table-primary\" : \"\"\r\n                                }>\r\n                                  <td>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"bg-info\" :\r\n                                          sh.type === \"Series A Investor\" ? \"bg-success\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.commonShares > 0 ? (\r\n                                      <strong>{formatNumber(sh.commonShares)}</strong>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.newShares > 0 ? (\r\n                                      <div>\r\n                                        <strong className=\"text-success\">{formatNumber(sh.newShares)}</strong>\r\n                                        {sh.displayText && (\r\n                                          <div className=\"small text-success\">{sh.displayText}</div>\r\n                                        )}\r\n                                      </div>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(sh.totalShares || sh.shares)}</strong>\r\n                                    {/* Show breakdown for Option Pool if available */}\r\n                                    {sh.breakdown && (\r\n                                      <div className=\"small text-muted\">\r\n                                        {sh.breakdown.existingShares > 0 && (\r\n                                          <div>{formatNumber(sh.breakdown.existingShares)} existing</div>\r\n                                        )}\r\n                                        {sh.breakdown.newShares > 0 && (\r\n                                          <div>+{formatNumber(sh.breakdown.newShares)} new</div>\r\n                                        )}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-dark\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"bg-info\" :\r\n                                          sh.type === \"Series A Investor\" ? \"bg-success\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {formatPercentage(sh.ownership || ((sh.totalShares || sh.shares) / postTable.totalShares) * 100)}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value)}</strong>\r\n                                  </td>\r\n                                  {hasSAFEConversion && (\r\n                                    <td className=\"text-center\">\r\n                                      {sh.investmentAmount ? (\r\n                                        <div>\r\n                                          <div className=\"fw-bold\">{formatCurrency(sh.investmentAmount)}</div>\r\n                                          {sh.conversionPrice && (\r\n                                            <div className=\"small\">\r\n                                              @ {formatCurrency(sh.conversionPrice)}/share\r\n                                            </div>\r\n                                          )}\r\n                                          {sh.moic && sh.moic !== \"0X\" && (\r\n                                            <div className=\"small text-success\">\r\n                                              MOIC: {sh.moic}\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                      ) : (\r\n                                        <span className=\"text-muted\">-</span>\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              )\r\n                            ))}\r\n\r\n                            {/* OLD TOTAL ROW - Remove if using isTotal flag in data */}\r\n                            {/* <tr className=\"table-primary fw-bold\">\r\n      <td colSpan=\"2\">TOTAL</td>\r\n      <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n      <td className=\"text-center\">100%</td>\r\n      <td className=\"text-center\">{formatCurrency(postTable.totalValue)}</td>\r\n      {hasSAFEConversion && <td className=\"text-center\">\r\n        {formatCurrency(postTable.safeInvestment || calc.seedInvestment + calc.seriesAInvestment)}\r\n      </td>}\r\n    </tr> */}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Final Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-success\">\r\n                            <h6 className=\"mb-2\">Final Ownership Distribution</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Founders:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(postOwnership.founders)}</div>\r\n                              <div className=\"col-6\">Employees:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(postOwnership.employees)}</div>\r\n                              {hasSAFEConversion && (\r\n                                <>\r\n                                  <div className=\"col-6\">Seed Investors:</div>\r\n                                  <div className=\"col-6 text-end\">{formatPercentage(postOwnership.seedInvestors)}</div>\r\n                                  <div className=\"col-6\">Series A Investors:</div>\r\n                                  <div className=\"col-6 text-end\">{formatPercentage(postOwnership.seriesAInvestors)}</div>\r\n                                </>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary\">\r\n                            <h6 className=\"mb-2\">Financial Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Post-Money Valuation:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.finalPostMoneyValuation || postTable.totalValue)}</div>\r\n                              <div className=\"col-6\">Total Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.seedInvestment + calc.seriesAInvestment)}</div>\r\n                              <div className=\"col-6\">Total Shares:</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(postTable.totalShares)}</div>\r\n                              <div className=\"col-6\">Share Price:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.sharePrice)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== SUMMARY ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\"> Round Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Key Outcomes:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> Total capital raised: <strong>{formatCurrency(calc.seedInvestment + calc.seriesAInvestment)}</strong></li>\r\n                      <li> Post-money valuation: <strong>{formatCurrency(calc.finalPostMoneyValuation)}</strong></li>\r\n                      <li> Total shares outstanding: <strong>{formatNumber(calc.totalSharesPostSeed)}</strong></li>\r\n                      <li> Share price: <strong>{formatCurrency(calc.sharePrice)}</strong></li>\r\n                      {hasSAFEConversion && calc.seedConversionShares > 0 && (\r\n                        <li> SAFE conversion completed: <strong>{formatNumber(calc.seedConversionShares)} shares @ {formatCurrency(calc.seedOptimalPrice)} each</strong></li>\r\n                      )}\r\n                      {calc.newOptionShares > 0 && (\r\n                        <li> Option pool top-up: <strong>{formatNumber(calc.newOptionShares)} new shares added</strong></li>\r\n                      )}\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Next Steps:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> SAFE notes converted to shares</li>\r\n                      <li> New Series A investors onboarded</li>\r\n                      <li> Update cap table with new shareholders</li>\r\n                      <li> Issue share certificates</li>\r\n                      <li> Prepare for Series B round</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSeriesATable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          {capTableData.details && (\r\n            <pre className=\"small\">{JSON.stringify(capTableData.details, null, 2)}</pre>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const isPostMoneyOptionPool = capTableData.isPostMoneyOptionPool || calc.needsExpansion;\r\n\r\n    //  FIX: Calculate foundersSeedShares if not provided\r\n    const foundersSeedShares = calc.foundersSeedShares ||\r\n      (calc.preInvestmentTotalShares - calc.existingOptionPoolShares);\r\n    console.log(capTableData);\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Series A Round\"}</h4>\r\n            <small className=\"opacity-75\">\r\n              {isPostMoneyOptionPool ? \"Post-Money Option Pool Calculation\" : \"Standard Calculation\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/* SERIES A INPUTS */}\r\n            <h5 className=\"mb-3\">Series A Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Existing Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.existingOptionPoolPercent)}</h5>\r\n                  <small className=\"text-muted\">(Before Series A)</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Target Option Pool %</small>\r\n                  <h5 className=\"text-success\">{formatPercentage(calc.optionPoolPercentPost)}</h5>\r\n                  <small className=\"text-success\">(Post-Money Target)</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* SERIES A OUTPUTS */}\r\n            <h5 className=\"mb-3\">Calculated Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small>Post-Money Valuation</small>\r\n                  <h6>{formatCurrency(calc.postMoneyValuation, currency)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Share Price</small>\r\n                  <h6>{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h6>\r\n                  <small className=\"opacity-75\">per share</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Investment Shares</small>\r\n                  <h6>{formatNumber(calc.preInvestmentTotalShares)}</h6>\r\n                  <small className=\"opacity-75\">Before Series A</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>New Shares Issued</small>\r\n                  <h6>{formatNumber(calc.totalNewShares)}</h6>\r\n                  <small className=\"opacity-75\">Total new shares</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                  <small>Post-Investment Shares</small>\r\n                  <h6>{formatNumber(calc.postInvestmentTotalShares)}</h6>\r\n                  <small className=\"opacity-75\">After Series A</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                  <small>Investor Ownership</small>\r\n                  <h6>{formatPercentage(calc.investorOwnershipPercent)}</h6>\r\n                  <small className=\"opacity-75\">Series A %</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* NEW SHARES BREAKDOWN */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-warning\">\r\n                  <h6 className=\"alert-heading\"> New Shares Breakdown</h6>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <strong>Series A Investors:</strong>\r\n                      <div className=\"h5 mb-0\">{formatNumber(calc.seriesAInvestorShares)}</div>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <strong>Option Pool Expansion:</strong>\r\n                      <div className=\"h5 mb-0\">{formatNumber(calc.additionalOptionPoolShares)}</div>\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <strong>Total New Shares:</strong>\r\n                    <strong>{formatNumber(calc.totalNewShares)}</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-info\">\r\n                  <h6 className=\"alert-heading\"> Option Pool Status</h6>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Existing Pool:</strong> {formatNumber(calc.existingOptionPoolShares)} shares\r\n                    ({formatPercentage(calc.existingOptionPoolPercent)})\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Additional:</strong> {formatNumber(calc.additionalOptionPoolShares)} shares\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <strong>Total Pool (Post):</strong>\r\n                    <strong>{formatNumber(calc.totalOptionPoolShares)}\r\n                      ({formatPercentage(calc.optionPoolPercentPost)})</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* OWNERSHIP CHART */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* ========== PRE-SERIES A CAP TABLE ========== */}\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h5 className=\"mb-0\"> Pre-Series A Cap Table</h5>\r\n                    <small>Before Series A Investment | Pre-Money Valuation: {formatCurrency(calc.preMoneyValuation, currency)}</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Type</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Value ({currency})</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.preSeriesAShareholders && capTableData.preSeriesAShareholders.length > 0 ? (\r\n                            capTableData.preSeriesAShareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <strong>{sh.name}</strong>\r\n                                  {sh.source && (\r\n                                    <div className=\"small text-muted\">Source: {sh.source}</div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.type === \"Founder\" && (\r\n                                    <span className=\"badge bg-primary\">Founder</span>\r\n                                  )}\r\n                                  {sh.type === \"Options Pool\" && (\r\n                                    <span className=\"badge bg-warning text-dark\">Option Pool</span>\r\n                                  )}\r\n                                  {sh.type === \"Investor\" && (\r\n                                    <span className=\"badge bg-success\">\r\n                                      {sh.originalType === \"Seed Investor\" ? \"Seed Investor\" : \"Investor\"}\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      \"bg-success\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"5\" className=\"text-center text-danger\">\r\n                                <strong> No pre-Series A shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Pre-Series A Summary */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Founders:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Employee Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Seed Investors:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ========== POST-SERIES A CAP TABLE ========== */}\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h5 className=\"mb-0\"> Post-Series A Cap Table</h5>\r\n                    <small>After Series A Investment | Post-Money Valuation: {formatCurrency(calc.postMoneyValuation, currency)}</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Type</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">New Shares</th>\r\n                            <th className=\"text-center\">Total Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Value ({currency})</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.shareholders && capTableData.shareholders.length > 0 ? (\r\n                            capTableData.shareholders.map((sh, idx) => {\r\n                              const existingShares = sh.preSeriesAShares || 0;\r\n                              const newShares = sh.newShares || 0;\r\n\r\n                              return (\r\n                                <tr key={idx}>\r\n                                  <td>\r\n                                    <strong>{sh.name}</strong>\r\n                                    {sh.source && (\r\n                                      <div className=\"small text-muted\">Source: {sh.source}</div>\r\n                                    )}\r\n                                    {sh.email && (\r\n                                      <div className=\"small text-muted\"> {sh.email}</div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-primary\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark\">\r\n                                        {newShares > 0 ? \"Option Pool (Expanded)\" : \"Option Pool\"}\r\n                                      </span>\r\n                                    )}\r\n                                    {sh.type === \"Investor\" && (\r\n                                      <span className={`badge ${sh.originalType === \"Seed Investor\" ? \"bg-info\" : \"bg-danger\"\r\n                                        }`}>\r\n                                        {sh.originalType === \"Seed Investor\" ? \"Seed Investor\" : \"Series A Investor\"}\r\n                                      </span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {existingShares > 0 ? (\r\n                                      <strong>{formatNumber(existingShares)}</strong>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {newShares > 0 ? (\r\n                                      <span className=\"badge bg-warning text-dark\">\r\n                                        +{formatNumber(newShares)}\r\n                                      </span>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(sh.shares)}</strong>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                        sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                          \"bg-danger\"\r\n                                      }`}>\r\n                                      {formatPercentage(sh.ownership)}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                    {sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                      <div className=\"small text-success\">\r\n                                         Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"7\" className=\"text-center text-danger\">\r\n                                <strong> No post-Series A shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-warning text-dark\">\r\n                                +{formatNumber(calc.totalNewShares)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatNumber(calc.postInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Post-Series A Summary */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Founders:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Seed Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\" && sh.originalType === \"Seed Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-danger mb-0\">\r\n                          <strong>Series A Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\" && sh.originalType === \"Series A Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/*  CORRECTED CALCULATION FORMULAS */}\r\n                    <div className=\"alert alert-dark mt-4\">\r\n                      <h6 className=\"alert-heading\"> Series A Calculation Formulas</h6>\r\n\r\n                      <div className=\"mb-3\">\r\n                        <strong className=\"badge bg-warning text-dark fSize-14\">Post-Money Option Pool Method</strong>\r\n                        {/* <div className=\"small text-muted\">\r\n                          When target option pool (20%) {'>'} existing pool (8%), additional shares are created\r\n                        </div> */}\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>1. Post-Money Valuation:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Investment + Pre-Money = Post-Money<br />\r\n                            {formatCurrency(calc.investmentSize, currency)} + {formatCurrency(calc.preMoneyValuation, currency)}\r\n                            = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>2. Investor Ownership %:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Investment  Post-Money<br />\r\n                            {formatCurrency(calc.investmentSize, currency)}  {formatCurrency(calc.postMoneyValuation, currency)}\r\n                            = {formatPercentage(calc.investorOwnershipPercent)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>3. Founders + Seed Ownership %:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            100% - Investor% - Target Pool%<br />\r\n                            100% - {formatPercentage(calc.investorOwnershipPercent)} - {formatPercentage(calc.optionPoolPercentPost)}\r\n                            = {formatPercentage(calc.existingShareholdersPercent)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>4. Post-Investment Total Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            {/*  CORRECTED FORMULA */}\r\n                            Founders+Seed Shares  Founders+Seed %<br />\r\n                            {formatNumber(foundersSeedShares)}  {formatPercentage(calc.existingShareholdersPercent)}\r\n                            = {formatNumber(calc.postInvestmentTotalShares)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>5. Total New Shares Needed:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Post-Investment Total - Existing Total<br />\r\n                            {formatNumber(calc.postInvestmentTotalShares)} - {formatNumber(calc.preInvestmentTotalShares)}\r\n                            = {formatNumber(calc.totalNewShares)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>6. Additional Option Pool Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            (Target%  Post Total) - Existing Pool<br />\r\n                            ({formatPercentage(calc.optionPoolPercentPost)}  {formatNumber(calc.postInvestmentTotalShares)})\r\n                            - {formatNumber(calc.existingOptionPoolShares)} = {formatNumber(calc.additionalOptionPoolShares)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>7. Series A Investor Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Total New Shares - Additional Option Shares<br />\r\n                            {formatNumber(calc.totalNewShares)} - {formatNumber(calc.additionalOptionPoolShares)}\r\n                            = {formatNumber(calc.seriesAInvestorShares)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>8. Share Price:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Pre-Money  (Existing + New Option Shares)<br />\r\n                            {formatCurrency(calc.preMoneyValuation, currency)} \r\n                            ({formatNumber(calc.preInvestmentTotalShares)} + {formatNumber(calc.additionalOptionPoolShares)})\r\n                            = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const PreferredEquityCapTable = ({ capTableData }) => {\r\n    if (!capTableData || !capTableData.calculations) {\r\n      return (\r\n        <div className=\"alert alert-warning\">\r\n          <h5> No Data Available</h5>\r\n          <p>Cap table data is not available for this round.</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5> Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          {capTableData.details && (\r\n            <pre className=\"small\">{JSON.stringify(capTableData.details, null, 2)}</pre>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Get data from backend response structure\r\n    const preCapTable = capTableData.preSeriesACapTable || {};\r\n    const postCapTable = capTableData.postSeriesACapTable || {};\r\n\r\n    const preSeriesAShareholders = preCapTable.shareholders || [];\r\n    const postSeriesAShareholders = postCapTable.shareholders || [];\r\n\r\n    const totalPreShares = preCapTable.totalShares || 0;\r\n    const totalPostSharesBeforeWarrants = postCapTable.totalSharesBeforeWarrants || 0;\r\n    const totalPostSharesAfterWarrants = postCapTable.totalSharesAfterWarrants || 0;\r\n\r\n    // Group shareholders by type\r\n    const founders = postSeriesAShareholders.filter(sh => sh.type === \"Founder\") || [];\r\n    const optionPool = postSeriesAShareholders.filter(sh => sh.type === \"Options Pool\") || [];\r\n    const seedInvestors = postSeriesAShareholders.filter(sh => sh.originalType === \"Seed Investor\") || [];\r\n    const seriesAInvestors = postSeriesAShareholders.filter(sh => sh.originalType === \"Series A Investor\") || [];\r\n    const warrantHolders = postSeriesAShareholders.filter(sh => sh.type === \"Warrant\") || [];\r\n\r\n    return (\r\n      <div className=\"container-fluid py-4\" style={{ backgroundColor: '#f8f9fa' }}>\r\n        {/* Header */}\r\n        <div className=\"card mb-4 shadow\">\r\n          <div className=\"card-header text-white\" style={{ backgroundColor: '#6f42c1' }}>\r\n            <h3 className=\"mb-0\"> {capTableData.roundType || \"Preferred Equity Round\"}</h3>\r\n            <small className=\"opacity-75\">\r\n              {capTableData.hasConversions && \"With Convertible Note Conversions\"}\r\n              {capTableData.hasWarrants && \" | Includes Warrants\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/* Investment Overview */}\r\n            <h5 className=\"mb-3 text-primary\"> Investment Overview</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#e3f2fd' }}>\r\n                  <small className=\"text-muted d-block\">Investment Amount</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#f3e5f5' }}>\r\n                  <small className=\"text-muted d-block\">Pre-Money Valuation</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#e8f5e9' }}>\r\n                  <small className=\"text-muted d-block\">Post-Money Valuation</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.postMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#fff3e0' }}>\r\n                  <small className=\"text-muted d-block\">Share Price</small>\r\n                  <h5 className=\"mb-0\">{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Key Metrics */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Series A Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.seriesAShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Converted Shares (Seed)</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.convertibleNoteShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">New Option Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.newOptionShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Total Post Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(totalPostSharesAfterWarrants)}</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Warrants Alert */}\r\n            {capTableData.hasWarrants && capTableData.warrants?.length > 0 && (\r\n              <div className=\"alert alert-info mb-4\">\r\n                <h6 className=\"alert-heading\"> Warrants Exercised</h6>\r\n                {capTableData.warrants.map((warrant, idx) => (\r\n                  <div key={idx}>\r\n                    <strong>Warrant #{warrant.id}:</strong> {warrant.coverage}% coverage |\r\n                    Exercise Price: {formatCurrencyPricePerShare(warrant.exercisePrice, currency)} |\r\n                    Shares: {formatNumber(warrant.shares)} |\r\n                    Status: {warrant.status}\r\n                  </div>\r\n                ))}\r\n                <div className=\"mt-2 small text-muted\">\r\n                  Total Warrant Value: {formatCurrency(calc.warrantValue, currency)}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Convertible Note Conversion Details */}\r\n            {calc.convertibleNoteShares > 0 && (\r\n              <div className=\"alert alert-success mb-4\">\r\n                <h6 className=\"alert-heading\"> Convertible Note Conversion</h6>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Original Investment:</strong><br />\r\n                    {formatCurrency(calc.convertibleNotePrincipal, currency)}\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Principal + Interest:</strong><br />\r\n                    {formatCurrency(calc.convertibleNotePrincipalPlusInterest, currency)}\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Converted Shares:</strong><br />\r\n                    {formatNumber(calc.convertibleNoteShares)}\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Current Value:</strong><br />\r\n                    {formatCurrency(calc.convertibleNoteValue, currency)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* PRE-INVESTMENT CAP TABLE */}\r\n            <div className=\"card mb-4 shadow-sm\">\r\n              <div className=\"card-header bg-info text-white\">\r\n                <h5 className=\"mb-0\"> Pre-{capTableData.roundType} Cap Table</h5>\r\n                <small>Before Investment | Pre-Money: {formatCurrency(calc.preMoneyValuation, currency)}</small>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-bordered table-hover\">\r\n                    <thead style={{ backgroundColor: '#343a40', color: 'white' }}>\r\n                      <tr>\r\n                        <th>Shareholder</th>\r\n                        <th className=\"text-center\">Type</th>\r\n                        <th className=\"text-center\">Shares</th>\r\n                        <th className=\"text-center\">Ownership %</th>\r\n                        <th className=\"text-center\">Value ({currency})</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {preSeriesAShareholders.length > 0 ? (\r\n                        preSeriesAShareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                  \"bg-success\"\r\n                                }`}>\r\n                                {sh.type}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\"><strong>{formatNumber(sh.shares)}</strong></td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-secondary\">{formatPercentage(sh.ownership)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\"><strong>{formatCurrency(sh.value, currency)}</strong></td>\r\n                          </tr>\r\n                        ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan=\"5\" className=\"text-center text-muted\">No pre-investment data available</td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      {/* TOTAL ROW */}\r\n                      {totalPreShares > 0 && (\r\n                        <tr style={{ backgroundColor: '#e9ecef', fontWeight: 'bold' }}>\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(totalPreShares)}</td>\r\n                          <td className=\"text-center\">\r\n                            <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                          </td>\r\n                          <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                {/* Pre-Investment Summary */}\r\n                {preSeriesAShareholders.length > 0 && (\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <strong>Founders:</strong> {formatPercentage(\r\n                          preSeriesAShareholders\r\n                            .filter(sh => sh.type === \"Founder\")\r\n                            .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"alert alert-warning mb-0\">\r\n                        <strong>Employee:</strong> {formatPercentage(\r\n                          preSeriesAShareholders\r\n                            .filter(sh => sh.type === \"Options Pool\")\r\n                            .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"alert alert-success mb-0\">\r\n                        <strong>Seed Investors:</strong> {formatPercentage(\r\n                          preSeriesAShareholders\r\n                            .filter(sh => sh.type === \"Investor\")\r\n                            .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* POST-INVESTMENT CAP TABLE */}\r\n            <div className=\"card shadow-sm mb-4\">\r\n              <div className=\"card-header bg-success text-white\">\r\n                <h5 className=\"mb-0\"> Post-{capTableData.roundType} Cap Table</h5>\r\n                <small>After Investment | Post-Money: {formatCurrency(calc.postMoneyValuation, currency)}</small>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-bordered table-hover\">\r\n                    <thead style={{ backgroundColor: '#343a40', color: 'white' }}>\r\n                      <tr>\r\n                        <th>Shareholder</th>\r\n                        <th className=\"text-center\">Type</th>\r\n                        <th className=\"text-center\">Existing Shares</th>\r\n                        <th className=\"text-center\">New Shares</th>\r\n                        <th className=\"text-center\">Total Shares</th>\r\n                        <th className=\"text-center\">Ownership %</th>\r\n                        <th className=\"text-center\">Value ({currency})</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {postSeriesAShareholders.length > 0 ? (\r\n                        postSeriesAShareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name}</strong>\r\n                              {sh.email && sh.email !== \"-\" && (\r\n                                <div className=\"small text-muted\"> {sh.email}</div>\r\n                              )}\r\n                              {sh.moic && (\r\n                                <div className=\"small text-success\">\r\n                                  MOIC: {sh.moic}x\r\n                                </div>\r\n                              )}\r\n                              {sh.note && (\r\n                                <div className=\"small text-info\">{sh.note}</div>\r\n                              )}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                  sh.type === \"Warrant\" ? \"bg-secondary\" :\r\n                                    sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                      \"bg-danger\"\r\n                                }`}>\r\n                                {sh.originalType || sh.type}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              {sh.existingShares > 0 ? formatNumber(sh.existingShares) : \"\"}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              {sh.newShares > 0 ? (\r\n                                <span className=\"badge bg-warning text-dark\">+{formatNumber(sh.newShares)}</span>\r\n                              ) : \"\"}\r\n                            </td>\r\n                            <td className=\"text-center\"><strong>{formatNumber(sh.shares)}</strong></td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                  sh.type === \"Warrant\" ? \"bg-secondary\" :\r\n                                    sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                      \"bg-danger\"\r\n                                }`}>\r\n                                {formatPercentage(sh.ownership)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                              {sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                <div className=\"small text-success\">\r\n                                   Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                </div>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan=\"7\" className=\"text-center text-muted\">No post-investment data available</td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      {/* TOTAL ROW */}\r\n                      {totalPostSharesAfterWarrants > 0 && (\r\n                        <tr style={{ backgroundColor: '#e9ecef', fontWeight: 'bold' }}>\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(totalPreShares)}</td>\r\n                          <td className=\"text-center\">\r\n                            <span className=\"badge bg-warning text-dark\">\r\n                              +{formatNumber(totalPostSharesAfterWarrants - totalPreShares)}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"text-center\">{formatNumber(totalPostSharesAfterWarrants)}</td>\r\n                          <td className=\"text-center\">\r\n                            <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                          </td>\r\n                          <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                {/* Post-Investment Summary */}\r\n                {postSeriesAShareholders.length > 0 && (\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <strong>Founders:</strong> {formatPercentage(calc.foundersOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-warning mb-0\">\r\n                        <strong>Employee:</strong> {formatPercentage(calc.poolOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-info mb-0\">\r\n                        <strong>Seed Investors:</strong> {formatPercentage(calc.seedInvestorsOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-danger mb-0\">\r\n                        <strong>Series A Investors:</strong> {formatPercentage(calc.seriesAInvestorsOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    {calc.warrantHoldersOwnership > 0 && (\r\n                      <div className=\"col-md-3 mt-2\">\r\n                        <div className=\"alert alert-secondary mb-0\">\r\n                          <strong>Warrant Holders:</strong> {formatPercentage(calc.warrantHoldersOwnership)}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* CALCULATION FORMULAS */}\r\n            <div className=\"alert alert-dark\">\r\n              <h6 className=\"alert-heading\"> Calculation Formulas</h6>\r\n\r\n              <div className=\"row small mb-3\">\r\n                <div className=\"col-md-6\">\r\n                  <strong>1. Share Price:</strong><br />\r\n                  <code style={{ backgroundColor: '#f8f9fa', padding: '4px 8px', borderRadius: '4px', display: 'block' }}>\r\n                    Pre-Money  Total Shares from Seed Round<br />\r\n                    {formatCurrency(calc.preMoneyValuation, currency)}  {formatNumber(totalPreShares)}\r\n                    = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                  </code>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <strong>2. Series A Shares:</strong><br />\r\n                  <code style={{ backgroundColor: '#f8f9fa', padding: '4px 8px', borderRadius: '4px', display: 'block' }}>\r\n                    Investment  Share Price<br />\r\n                    {formatCurrency(calc.investmentSize, currency)}  {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                    = {formatNumber(calc.seriesAShares)}\r\n                  </code>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row small\">\r\n                <div className=\"col-md-6\">\r\n                  <strong>3. Post-Money Valuation:</strong><br />\r\n                  <code style={{ backgroundColor: '#f8f9fa', padding: '4px 8px', borderRadius: '4px', display: 'block' }}>\r\n                    Total Shares  Share Price<br />\r\n                    {formatNumber(totalPostSharesBeforeWarrants)}  {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                    = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                  </code>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderConvertibleNoteRoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    console.log(\"Convertible Note Data:\", capTableData);\r\n    const calc = capTableData.calculations;\r\n    const preTable = capTableData.preSeedCapTable;\r\n    const postTable = capTableData.postSeedCapTable;\r\n\r\n    // Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-US').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Convertible Note Round\"}</h4>\r\n            <small>Seed Round - Convertible Notes (NO SHARES ISSUED)</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== INPUT PARAMETERS SECTION ===== */}\r\n            <h5 className=\"mb-3\"> Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Company Value (Input #1)</small>\r\n                  <h5>{formatCurrency(calc.companyValue)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size (Input #2 & #4)</small>\r\n                  <h5>{formatCurrency(calc.investmentSize)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Conversion Discount (Input #3)</small>\r\n                  <h5>{calc.discountRate}%</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Valuation Cap</small>\r\n                  <h5>{formatCurrency(calc.valuationCap)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Seed Option Pool % (Input #5)</small>\r\n                  <h5>{calc.optionPoolPercent}%</h5>\r\n                  <small>{formatNumber(calc.employeeShares)} employee shares created</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small>Interest Rate</small>\r\n                  <h5>{calc.interestRate}%</h5>\r\n                  <small>Annual interest on convertible notes</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small>Round 0 Founder Shares</small>\r\n                  <h5>{formatNumber(calc.roundZeroTotalShares)}</h5>\r\n                  <small>Total shares from incorporation</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ===== CALCULATION DETAILS ===== */}\r\n            <div className=\"alert alert-info mb-4\">\r\n              <h6 className=\"alert-heading\"> Employee Pool Calculation</h6>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Formula:</strong> Employee Shares = Total Founder Shares  (1 - Pool %)  Pool %\r\n              </p>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Calculation:</strong> {formatNumber(calc.roundZeroTotalShares)}  (1 - {calc.optionPoolPercent / 100})  {calc.optionPoolPercent / 100} = {formatNumber(calc.employeeShares)} shares\r\n              </p>\r\n              <p className=\"mb-0 small\">\r\n                <strong>Total Shares:</strong> {formatNumber(calc.roundZeroTotalShares)} (founders) + {formatNumber(calc.employeeShares)} (employees) = {formatNumber(calc.totalSharesPreSeed)} shares\r\n              </p>\r\n            </div>\r\n\r\n            {/*  IMPORTANT NOTE - NO SHARES ISSUED */}\r\n            <div className=\"alert alert-warning mb-4\">\r\n              <h6 className=\"alert-heading\"> CONVERTIBLE NOTES - NO SHARES ISSUED YET</h6>\r\n              <p className=\"mb-0\">\r\n                <strong>Important:</strong> Convertible notes are <strong>NOT converted into shares</strong> during this round.\r\n                <br />\r\n                Convertible note investors have invested {formatCurrency(calc.totalConfirmedInvestment || calc.investmentSize)} but receive <strong>0 shares</strong> in this round.\r\n                <br />\r\n                Conversion happens at the next priced equity round (Series A).\r\n              </p>\r\n            </div>\r\n\r\n            {/* ===== PRE-SEED CAP TABLE ===== */}\r\n            {preTable && preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-secondary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Seed Round 1 (Output #3)</h5>\r\n                      <small>Before Convertible Note investment (with {calc.optionPoolPercent}% option pool)</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Management</th>\r\n                              <th>Contact Info</th>\r\n                              <th>Common Shares</th>\r\n                              <th>New Shares</th>\r\n                              <th>Fully Diluted Ownership %</th>\r\n                              <th>Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    <div className=\"small\">{sh.note || sh.type}</div>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"small\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.voting && (\r\n                                    <div className=\"small\">\r\n                                      {sh.voting === \"voting\" ? \" Voting\" : \" Non-voting\"}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n\r\n                                  <span className=\"text-muted\">0</span>\r\n\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className=\"badge bg-dark\">\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preTable.totalShares)}</td>\r\n                              <td className=\"text-center\">{formatNumber(0)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(preTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Summary */}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <h6 className=\"mb-2\">Ownership Summary (Pre-Investment)</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Founders:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(calc.totalFoundersOwnership)}</div>\r\n                              <div className=\"col-6\">Employees:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(calc.totalEmployeeOwnership)}</div>\r\n                              <div className=\"col-6\">Convertible Note Investors:</div>\r\n                              <div className=\"col-6 text-end\">0%</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-light mb-0\">\r\n                            <h6 className=\"mb-2\">Financial Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Company Value:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.companyValue)}</div>\r\n                              <div className=\"col-6\">Share Price:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.sharePrice)}</div>\r\n                              <div className=\"col-6\">Total Shares:</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(calc.totalSharesPreSeed)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-SEED CAP TABLE ===== */}\r\n            {postTable && postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card border-warning\">\r\n                    <div className=\"card-header bg-warning text-dark\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Seed Round 1 (Output #4)</h5>\r\n                      <small>After Convertible Note investment - Notes have NOT converted yet</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <p className=\"text-center mb-4\">\r\n                        <strong> Key Point:</strong> Since Convertible notes do NOT convert to shares in this round,\r\n                        the total number of shares remains {formatNumber(postTable.totalShares)} (same as Pre-Seed).\r\n                        Convertible note investors are listed with 0 shares.\r\n                      </p>\r\n\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th>Contact Info</th>\r\n                              <th>Common Shares</th>\r\n                              <th>New Shares</th>\r\n                              <th>Total Shares</th>\r\n                              <th>Fully Diluted Ownership %</th>\r\n                              <th>Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"Convertible Note Investor\" ? \"table-info\" :\r\n                                    sh.type === \"Available Investment\" ? \"table-danger\" :\r\n                                      sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <strong>{sh.name || sh.fullName}</strong>\r\n                                  {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  {sh.isConvertibleNote && (\r\n                                    <div className=\"small text-info\">\r\n                                       Convertible Note Investor\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.isAvailable && (\r\n                                    <div className=\"small text-danger\">\r\n                                       Available for investment\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"small\"> {sh.email}</div>\r\n                                  )}\r\n                                  {sh.voting && (\r\n                                    <div className=\"small\">\r\n                                      {sh.voting === \"voting\" ? \" Voting\" : \" Non-voting\"}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.investmentAmount > 0 && (\r\n                                    <div className=\"small fw-bold\">\r\n                                       {formatCurrency(sh.investmentAmount)}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n\r\n                                  <span className=\"text-muted\">0</span>\r\n\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.shares === 0 ? \"bg-secondary\" : \"bg-dark\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-warning fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n                              <td className=\"text-center\">0</td>\r\n                              <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(postTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Investment Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-warning\">\r\n                            <h6 className=\"mb-2\">Investment Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Total Convertible Note Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.totalConfirmedInvestment)}</div>\r\n                              <div className=\"col-6\">Available for Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.availableForInvestment)}</div>\r\n                              <div className=\"col-6\">Number of Investors:</div>\r\n                              <div className=\"col-6 text-end\">{calc.investorCount}</div>\r\n                              <div className=\"col-6\">Shares Issued to Investors:</div>\r\n                              <div className=\"col-6 text-end\">0</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary\">\r\n                            <h6 className=\"mb-2\">Platform Outputs Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Post-Money Valuation (Output #1):</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.postMoneyValuation)}</div>\r\n                              <div className=\"col-6\">Post-Investment Shares (Output #2):</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(calc.postInvestmentShares)}</div>\r\n                              <div className=\"col-6\">Total Shares (No Change):</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(postTable.totalShares)}</div>\r\n                              <div className=\"col-6\">Total Value:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(postTable.totalValue)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== CONVERSION DETAILS ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\">  Convertible Notes will convert at next priced equity round</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Conversion Terms:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li><strong>Conversion Trigger:</strong> Next priced equity financing (Series A)</li>\r\n                      <li><strong>Valuation Cap:</strong> {formatCurrency(calc.valuationCap)}</li>\r\n                      <li><strong>Discount Rate:</strong> {calc.discountRate}%</li>\r\n                      <li><strong>Interest Rate:</strong> {calc.interestRate}% per annum</li>\r\n                      <li><strong>Conversion Price:</strong> Lower of (Series A price  discount) OR (Cap  Total Shares)</li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Next Steps:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> Convertible notes issued (0 shares)</li>\r\n                      <li> Investment received: {formatCurrency(calc.totalConfirmedInvestment)}</li>\r\n                      <li> Prepare for Series A priced round</li>\r\n                      <li> Convertible notes will automatically convert</li>\r\n                      <li> Update cap table after conversion</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderConvertibleNoteSeriesRoundTable = () => {\r\n    console.log(\"Render Convertible Note Series Round Table Called\");\r\n\r\n    if (!capTableData) {\r\n      return <div className=\"alert alert-warning\">No data available</div>;\r\n    }\r\n\r\n    //  Extract data\r\n    const calc = capTableData.calculations || {};\r\n    const preTable = capTableData.preSeedCapTable || {};\r\n    const postTable = capTableData.postSeedCapTable || {};\r\n\r\n    console.log(\"Post Table Shareholders:\", postTable.shareholders);\r\n\r\n    //  Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"CAD\";\r\n      const currencyCode = currency.split(' ')[0] || 'CAD';\r\n      return new Intl.NumberFormat('en-CA', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-CA').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    //  Prepare chart data\r\n    const prepareChartData = () => {\r\n      if (!postTable.shareholders || postTable.shareholders.length === 0) {\r\n        return null;\r\n      }\r\n\r\n      const labels = postTable.shareholders.map(sh => sh.name || \"Shareholder\");\r\n      const data = postTable.shareholders.map(sh => parseFloat(sh.ownership) || 0);\r\n      const backgroundColors = postTable.shareholders.map(sh => {\r\n        if (sh.type?.includes(\"Founder\")) return '#4e73df';\r\n        if (sh.type?.includes(\"Option\")) return '#f6c23e';\r\n        if (sh.type?.includes(\"Convertible\") || sh.type?.includes(\"Seed\")) return '#1cc88a';\r\n        if (sh.type?.includes(\"Series\")) return '#36b9cc';\r\n        return '#858796';\r\n      });\r\n\r\n      return {\r\n        labels,\r\n        datasets: [{\r\n          data,\r\n          backgroundColor: backgroundColors,\r\n          borderColor: '#fff',\r\n          borderWidth: 1\r\n        }]\r\n      };\r\n    };\r\n\r\n    const chartData = prepareChartData();\r\n\r\n    //  Chart options\r\n    const chartOptions = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        legend: {\r\n          position: 'right',\r\n          labels: {\r\n            padding: 20,\r\n            usePointStyle: true,\r\n          }\r\n        },\r\n        title: {\r\n          display: true,\r\n          text: 'Post-Series A Ownership Distribution',\r\n          font: {\r\n            size: 16\r\n          }\r\n        },\r\n        tooltip: {\r\n          callbacks: {\r\n            label: function (context) {\r\n              const label = context.label || '';\r\n              const value = context.parsed || 0;\r\n              return `${label}: ${value.toFixed(1)}%`;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\"> Series A with Convertible Note Conversion</h4>\r\n            <small>{capTableData.message || \"Convertible Note conversion completed\"}</small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/*  CHART SECTION */}\r\n            {chartData ? (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h6 className=\"mb-0\">Ownership Distribution (Pie Chart)</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div style={{ height: '300px' }}>\r\n                        {/* Pie Chart   Bar   Pie use  */}\r\n                        {(() => {\r\n                          // Temporary -  Pie chart    Bar chart show \r\n                          try {\r\n\r\n                            return <Pie data={chartData} options={chartOptions} />;\r\n                          } catch (e) {\r\n                            return <Bar data={chartData} options={chartOptions} />;\r\n                          }\r\n                        })()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h6 className=\"mb-0\">Ownership Breakdown</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <ul className=\"list-group\">\r\n                        {postTable.shareholders.map((sh, idx) => (\r\n                          <li key={idx} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                            <span>\r\n                              <strong>{sh.name}</strong>\r\n                              <small className=\"text-muted ms-2\">{sh.type}</small>\r\n                            </span>\r\n                            <span className=\"badge bg-primary rounded-pill\">\r\n                              {formatPercentage(sh.ownership)}\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"alert alert-warning mb-4\">\r\n                No shareholder data available for chart\r\n              </div>\r\n            )}\r\n\r\n            {/*  CONVERTIBLE NOTE CONVERSION DETAILS */}\r\n            <div className=\"alert alert-success mb-4\">\r\n              <h6 className=\"mb-2\"> Convertible Note Conversion</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Original Investment:</strong> {formatCurrency(calc.seedInvestment || 0)}</p>\r\n                  <p><strong>Interest Rate:</strong> {calc.interestRate || '0'}%</p>\r\n                  <p><strong>Discount Rate:</strong> {calc.discountRate || '0'}%</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Valuation Cap:</strong> {formatCurrency(calc.valuationCap || 0)}</p>\r\n                  <p><strong>Years Between Rounds:</strong> {calc.yearsBetweenRounds || 2}</p>\r\n                  <p><strong>Principal + Interest:</strong> {formatCurrency(calc.principalPlusInterest || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Shares Converted:</strong> {formatNumber(calc.seedConversionShares || 0)}</p>\r\n                  <p><strong>Conversion Value:</strong> {formatCurrency(calc.seedConversionValue || 0)}</p>\r\n                  <p><strong>MOIC:</strong> <strong className=\"text-success\">{calc.seedMOIC || \"0X\"}</strong></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  SERIES A INVESTMENT DETAILS */}\r\n            <div className=\"alert alert-primary mb-4\">\r\n              <h6 className=\"mb-2\"> Series A Investment</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <p><strong>Investment Amount:</strong> {formatCurrency(calc.seriesAInvestment || 0)}</p>\r\n                  <p><strong>Shares Purchased:</strong> {formatNumber(calc.seriesAShares || 0)}</p>\r\n                  <p><strong>Share Price:</strong> {formatCurrency(calc.sharePrice || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <p><strong>Investment Value:</strong> {formatCurrency(calc.seriesAValue || 0)}</p>\r\n                  <p><strong>MOIC:</strong> <strong>{calc.seriesAMOIC || \"0X\"}</strong></p>\r\n                  <p><strong>Pre-Money Valuation:</strong> {formatCurrency(calc.preMoneyValuation || 0)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  PRE-SERIES A CAP TABLE */}\r\n            {preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header bg-secondary text-white\">\r\n                  <h5 className=\"mb-0\"> Pre-Series A Cap Table</h5>\r\n                  <small>Total Shares: {formatNumber(preTable.totalShares || 0)} | Total Value: {formatCurrency(preTable.totalValue || 0)}</small>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-bordered table-hover\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          <th>Shareholder</th>\r\n                          <th className=\"text-center\">Type</th>\r\n                          <th className=\"text-center\">Shares</th>\r\n                          <th className=\"text-center\">Ownership %</th>\r\n                          <th className=\"text-center\">Value</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {preTable.shareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name || `Shareholder ${idx + 1}`}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type?.includes(\"Founder\") ? \"bg-primary\" :\r\n                                sh.type?.includes(\"Option\") ? \"bg-warning text-dark\" :\r\n                                  \"bg-info\"\r\n                                }`}>\r\n                                {sh.type || \"Shareholder\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatNumber(sh.shares || 0)}</strong>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">\r\n                                {formatPercentage(sh.ownership || 0)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value || 0)}</strong>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"table-secondary fw-bold\">\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(preTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">100%</td>\r\n                          <td className=\"text-center\">{formatCurrency(preTable.totalValue || 0)}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*  POST-SERIES A CAP TABLE */}\r\n            {postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header bg-primary text-white\">\r\n                  <h5 className=\"mb-0\"> Post-Series A Cap Table</h5>\r\n                  <small>Total Shares: {formatNumber(postTable.totalShares || 0)} | Total Value: {formatCurrency(postTable.totalValue || 0)}</small>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-bordered table-hover\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          <th>Shareholder</th>\r\n                          <th className=\"text-center\">Type</th>\r\n                          <th className=\"text-center\">Shares</th>\r\n                          <th className=\"text-center\">Ownership %</th>\r\n                          <th className=\"text-center\">Value</th>\r\n                          <th className=\"text-center\">Investment Details</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {postTable.shareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name || `Shareholder ${idx + 1}`}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type?.includes(\"Founder\") ? \"bg-primary\" :\r\n                                sh.type?.includes(\"Option\") ? \"bg-warning text-dark\" :\r\n                                  sh.type?.includes(\"Convertible\") || sh.type?.includes(\"Seed\") ? \"bg-info\" :\r\n                                    sh.type?.includes(\"Series\") ? \"bg-success\" :\r\n                                      \"bg-secondary\"\r\n                                }`}>\r\n                                {sh.type || \"Shareholder\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatNumber(sh.shares || sh.totalShares || 0)}</strong>\r\n                              {sh.newShares > 0 && (\r\n                                <div className=\"small text-success\">+{formatNumber(sh.newShares)} new</div>\r\n                              )}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">\r\n                                {formatPercentage(sh.ownership || 0)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value || 0)}</strong>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              {sh.conversionPrice ? (\r\n                                <div className=\"small\">\r\n                                  @ {formatCurrency(sh.conversionPrice)}/share\r\n                                  {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                </div>\r\n                              ) : sh.investment ? (\r\n                                <div className=\"small\">\r\n                                  Invested: {formatCurrency(sh.investment)}\r\n                                  {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                </div>\r\n                              ) : sh.originalInvestment ? (\r\n                                <div className=\"small\">\r\n                                  Original: {formatCurrency(sh.originalInvestment)}\r\n                                  {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                </div>\r\n                              ) : (\r\n                                <span className=\"text-muted\">-</span>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"table-primary fw-bold\">\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(postTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">100%</td>\r\n                          <td className=\"text-center\">{formatCurrency(postTable.totalValue || 0)}</td>\r\n                          <td className=\"text-center\">\r\n                            {formatCurrency((calc.seedInvestment || 0) + (calc.seriesAInvestment || 0))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*  FINAL SUMMARY */}\r\n            <div className=\"alert alert-info\">\r\n              <h6> Final Summary</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Pre-Money Valuation:</strong> {formatCurrency(calc.preMoneyValuation || 0)}</p>\r\n                  <p><strong>Post-Money Valuation:</strong> {formatCurrency(calc.postMoneyValuation || 0)}</p>\r\n                  <p><strong>Valuation Increase:</strong> {\r\n                    (((calc.postMoneyValuation || 0) - (calc.preMoneyValuation || 0)) /\r\n                      (calc.preMoneyValuation || 1) * 100).toFixed(1)}%\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Total Capital Raised:</strong> {\r\n                    formatCurrency((calc.seedInvestment || 0) + (calc.seriesAInvestment || 0))\r\n                  }</p>\r\n                  <p><strong>Share Price:</strong> {formatCurrency(calc.sharePrice || 0)}</p>\r\n                  <p><strong>Total Shares Outstanding:</strong> {formatNumber(postTable.totalShares || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>New Shares Issued:</strong> {formatNumber(calc.newSharesIssued || 0)}</p>\r\n                  <p><strong>Option Pool Created:</strong> {formatNumber(calc.newOptionShares || 0)} shares</p>\r\n                  <p><strong>Existing Option Pool:</strong> {formatNumber(calc.existingEmployeeShares || 0)} shares</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div\r\n            className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}\r\n          >\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n              <div className=\"container-fluid\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n                  <h2>Capitalization Table</h2>\r\n                  <button\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => navigate(-1)}\r\n                  >\r\n                    Back to Rounds\r\n                  </button>\r\n                </div>\r\n\r\n                {loading && (\r\n                  <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                    <p className=\"mt-3\">Loading cap table data...</p>\r\n                  </div>\r\n                )}\r\n\r\n                {error && (\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <strong>Error:</strong> {error}\r\n                  </div>\r\n                )}\r\n                {!loading && !error && capTableData && (() => {\r\n\r\n                  // Normalize data for consistent checking\r\n                  const roundType = (capTableData.round_type).toLowerCase();\r\n                  const shareClassType = (capTableData.shareClassType).toLowerCase();\r\n                  const instrumentType = (capTableData.instrumentType || '').toLowerCase();\r\n\r\n                  // CONDITION 1: Round 0 / Incorporation (highest priority)\r\n                  if (roundType.includes(\"round 0\") ||\r\n                    roundType.includes(\"incorporation\") ||\r\n                    capTableData.isRoundZero) {\r\n                    return renderRoundZeroTable();\r\n                  }\r\n\r\n                  // CONDITION 2: Preferred Equity (check before Series/Seed)\r\n                  if (instrumentType === \"preferred equity\" ||\r\n                    instrumentType.includes(\"preferred\")) {\r\n                    return <PreferredEquityCapTable capTableData={capTableData} />;\r\n                  }\r\n\r\n                  // CONDITION 3: Series A + SAFE\r\n                  if ((shareClassType.includes(\"series a\") ||\r\n                    shareClassType.includes(\"series\") ||\r\n                    capTableData.isSeriesA) &&\r\n                    instrumentType === \"safe\") {\r\n\r\n                    return renderSAFESeriesRoundTable();\r\n                  }\r\n\r\n                  // CONDITION 4: Series A (without SAFE)\r\n                  if (instrumentType === 'common stock' &&\r\n                    shareClassType.includes(\"series a\")) {\r\n                    return renderSeriesATable();\r\n                  }\r\n\r\n                  // CONDITION 5: Seed + SAFE\r\n                  if ((shareClassType === 'seed' || shareClassType.includes('seed')) &&\r\n                    instrumentType === \"safe\") {\r\n                    return renderSAFERoundTable();\r\n                  }\r\n                  if ((shareClassType === 'seed' || shareClassType.includes('seed')) &&\r\n                    instrumentType === \"convertible note\") {\r\n                    return renderConvertibleNoteRoundTable();\r\n                  }\r\n                  if (shareClassType.includes(\"series a\") &&\r\n                    instrumentType === \"convertible note\") {\r\n                    return renderConvertibleNoteSeriesRoundTable();\r\n                  } else {\r\n                    return renderSeedRoundTable();\r\n                  }\r\n                  // CONDITION 6: Default - Seed Round (any remaining seed or fallback)\r\n\r\n                })()}\r\n\r\n                {!loading && !error && !capTableData && (\r\n                  <div className=\"alert alert-warning\" role=\"alert\">\r\n                    No cap table data available for this roundsss.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n"],"names":["RecordRoundCaptable","navigate","useNavigate","storedUsername","localStorage","getItem","userLogin","JSON","parse","API_URL_CAPTABLE","API_BASE_URL","document","title","id","useParams","capTableData","setCapTableData","useState","roundData","setRoundData","loading","setLoading","error","setError","isCollapsed","setIsCollapsed","useEffect","getCapTableData","async","formData","company_id","companies","round_id","res","axios","post","headers","Accept","data","success","capTable","round","message","err","_err$response","_err$response$data","response","console","formatCurrency","amount","currency","arguments","length","undefined","cleanCurrency","trim","split","currencyCode","includes","toUpperCase","Intl","NumberFormat","style","minimumFractionDigits","format","parseFloat","toFixed","formatCurrencyPricePerShare","numAmount","maximumFractionDigits","formatPriceThreeDecimal","formatNumber","num","formatPercentage","percent","RoundCapChart","_ref","chartData","_jsx","height","children","Bar","options","responsive","plugins","legend","display","text","scales","y","beginAtZero","max","PreferredEquityCapTable","_ref2","_capTableData$warrant","calculations","_jsxs","className","calc","details","stringify","preCapTable","preSeriesACapTable","postCapTable","postSeriesACapTable","preSeriesAShareholders","shareholders","postSeriesAShareholders","totalPreShares","totalShares","totalPostSharesBeforeWarrants","totalSharesBeforeWarrants","totalPostSharesAfterWarrants","totalSharesAfterWarrants","filter","sh","type","originalType","backgroundColor","roundType","hasConversions","hasWarrants","investmentSize","preMoneyValuation","postMoneyValuation","sharePrice","seriesAShares","convertibleNoteShares","newOptionShares","warrants","map","warrant","idx","coverage","exercisePrice","shares","status","warrantValue","convertibleNotePrincipal","convertibleNotePrincipalPlusInterest","convertibleNoteValue","color","name","note","ownership","value","colSpan","fontWeight","reduce","sum","email","moic","existingShares","newShares","investmentAmount","foundersOwnership","poolOwnership","seedInvestorsOwnership","seriesAInvestorsOwnership","warrantHoldersOwnership","padding","borderRadius","Wrapper","ModuleSideNav","TopBar","SectionWrapper","onClick","role","round_type","toLowerCase","shareClassType","instrumentType","isRoundZero","founderCount","totalSharesIssued","totalValue","firstName","lastName","href","phone","shareType","customShareType","shareClass","customShareClass","votingRights","fontSize","isSeriesA","renderSAFESeriesRoundTable","_preTable$shareholder","log","preTable","preSeedCapTable","postTable","postSeedCapTable","inputs","hasSAFEConversion","seedConversionShares","Math","getOwnershipSummary","founders","employees","seedInvestors","seriesAInvestors","forEach","postOwnership","seedInvestment","valuationCap","discountRate","seedOptimalPrice","totalPostShares","totalSharesPostSeed","seriesAInvestment","roundZeroShares","roundZeroTotalShares","seriesASharePrice","_Fragment","employeeSharesSeedRound","seedDiscountPrice","seedCapPrice","seedConversionValue","seedMOIC","seriesAMOIC","existingOptionPoolPercent","targetOptionPoolPercent","fullName","isTotal","commonShares","safeInvestment","displayText","breakdown","conversionPrice","finalPostMoneyValuation","renderSeriesATable","isPostMoneyOptionPool","needsExpansion","foundersSeedShares","preInvestmentTotalShares","existingOptionPoolShares","optionPoolPercentPost","totalNewShares","postInvestmentTotalShares","investorOwnershipPercent","seriesAInvestorShares","additionalOptionPoolShares","totalOptionPoolShares","source","preSeriesAShares","existingShareholdersPercent","renderConvertibleNoteSeriesRoundTable","labels","datasets","_sh$type","_sh$type2","_sh$type3","_sh$type4","_sh$type5","borderColor","borderWidth","chartOptions","maintainAspectRatio","position","usePointStyle","font","size","tooltip","callbacks","label","context","parsed","Pie","e","interestRate","yearsBetweenRounds","principalPlusInterest","seriesAValue","_sh$type6","_sh$type7","_sh$type8","_sh$type9","_sh$type10","_sh$type11","_sh$type12","investment","originalInvestment","newSharesIssued","existingEmployeeShares","renderSeedRoundTable","isConvertibleNote","isConvertibleNoteRound","optionPoolPercent","totalNoteInvestment","optionPoolShares","availableForInvestment","preSeedShareholders","preSeedTotalShares","isGeneric","renderConvertibleNoteRoundTable","companyValue","employeeShares","totalSharesPreSeed","totalConfirmedInvestment","voting","totalFoundersOwnership","totalEmployeeOwnership","isAvailable","investorCount","postInvestmentShares","renderSAFERoundTable","preSeedTable","postSeedTable","safeInvestorCount","conversionInfo","conversionTrigger","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","defaultDatasetIdKey","reforwardRef","ref","current","setLabels","currentData","nextLabels","setDatasets","nextDatasets","datasetIdKey","addedDatasets","nextDataset","currentDataset","find","dataset","push","Object","assign","cloneData","nextData","ChartComponent","props","width","redraw","fallbackContent","updateMode","canvasProps","canvasRef","useRef","chartRef","renderChart","Chart$1","destroyChart","destroy","chart","nextOptions","setOptions","config","setTimeout","update","React","Chart","forwardRef","createTypedChart","registerables","BarController","PieController"],"sourceRoot":""}