{"version":3,"file":"static/js/1929.1236f311.chunk.js","mappings":"4QAmCe,SAASA,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,EAAiBC,aAAaC,QAAQ,sBACtCC,EAAYC,KAAKC,MAAML,GACvBM,EAAmBC,EAAAA,EAAe,yBACxCC,SAASC,MAAQ,kBACjB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,MAERC,EAAcC,IAAmBC,EAAAA,EAAAA,UAAS,OAC1CC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAS,OACpCG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,OAC5BO,EAAaC,IAAkBR,EAAAA,EAAAA,WAAS,IAE/CS,EAAAA,EAAAA,YAAU,KACRC,GAAiB,GAChB,CAACd,IAEJ,MAAMc,EAAkBC,UACtBP,GAAW,GACXE,EAAS,MAET,IAAIM,EAAW,CACbC,WAAYxB,EAAUyB,UAAU,GAAGlB,GACnCmB,SAAUnB,GAGZ,IACE,MAAMoB,QAAYC,EAAAA,EAAMC,KACtB1B,EAAmB,+BACnBoB,EACA,CACEO,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAKlBJ,EAAIK,KAAKC,SACXvB,EAAgBiB,EAAIK,KAAKE,UACzBrB,EAAac,EAAIK,KAAKG,QAEtBlB,EAASU,EAAIK,KAAKI,SAAW,2BAEjC,CAAE,MAAOC,GAAM,IAADC,EAAAC,EACZtB,GAAqB,QAAZqB,EAAAD,EAAIG,gBAAQ,IAAAF,GAAM,QAANC,EAAZD,EAAcN,YAAI,IAAAO,OAAN,EAAZA,EAAoBH,UAAW,gCACxCK,QAAQzB,MAAM,SAAUqB,EAC1B,CAAC,QACCtB,GAAW,EACb,GAEI2B,EAAiB,SAACC,GAA8B,IAAtBC,EAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,MAEzC,MAAMG,GAAwB,OAARJ,QAAQ,IAARA,OAAQ,EAARA,EAAUK,OAAOC,MAAM,KAAK,KAAM,MAIlDC,EADkB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9BC,SAASJ,EAAcK,eACxDL,EAAcK,cACd,MAEJ,IACE,OAAO,IAAIC,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPZ,SAAUO,EACVM,sBAAuB,IACtBC,OAAOf,GAAU,EACtB,CAAE,MAAO3B,GAEP,MAAO,GAAGmC,KAAgBQ,WAAWhB,GAAU,GAAGiB,QAAQ,IAC5D,CACF,EACMC,EAA8B,WAAmC,IAAlClB,EAAME,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAAGD,EAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,MAE1D,MAAMG,GAAwB,OAARJ,QAAQ,IAARA,OAAQ,EAARA,EAAUK,OAAOC,MAAM,KAAK,KAAM,MAIlDC,EADkB,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OAC9BC,SAASJ,EAAcK,eACxDL,EAAcK,cACd,MAEJ,IAEE,MAAMS,EAAYH,WAAWhB,IAAW,EAExC,OAAO,IAAIW,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPZ,SAAUO,EACVM,sBAAuB,EACvBM,sBAAuB,IACtBL,OAAOI,EACZ,CAAE,MAAO9C,GAEP,MAAO,GAAGmC,MAAiBQ,WAAWhB,IAAW,GAAGiB,QAAQ,IAC9D,CACF,EACMI,EAA0B,WAAiB,IAAhBrB,EAAME,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EACxC,IAEE,MAAMiB,EAAYH,WAAWhB,IAAW,EAExC,OAAO,IAAIW,KAAKC,aAAa,QAAS,CACpCE,sBAAuB,EACvBM,sBAAuB,IACtBL,OAAOI,EACZ,CAAE,MAAO9C,GAEP,OAAQ2C,WAAWhB,IAAW,GAAGiB,QAAQ,EAC3C,CACF,EAEMK,EAAgBC,GACb,IAAIZ,KAAKC,aAAa,SAASG,OAAOQ,GAAO,GAGhDC,EAAoBC,GACjB,IAAIA,GAAW,GAAGR,QAAQ,MAE7BS,EAAgBC,IAAoB,IAAnB,UAAEC,GAAWD,EAYlC,OACEE,EAAAA,EAAAA,KAAA,OAAKhB,MAAO,CAAEiB,OAAQ,SAAUC,UAC9BF,EAAAA,EAAAA,KAACG,EAAAA,GAAG,CAAC3C,KAAMuC,EAAWK,QAbV,CACdC,YAAY,EACZC,QAAS,CACPC,OAAQ,CAAEC,SAAS,GACnB1E,MAAO,CAAE0E,SAAS,EAAMC,KAAM,8BAEhCC,OAAQ,CACNC,EAAG,CAAEC,aAAa,EAAMC,IAAK,UAOzB,EAmzEJC,EAA0BC,IAAuB,IAADC,EAAA,IAArB,aAAE/E,GAAc8E,EAC/C,IAAK9E,IAAiBA,EAAagF,aACjC,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oCACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,uDAKT,MAAMkB,EAAOnF,EAAagF,aACpB7C,EAAWnC,EAAamC,UAAY,MAE1C,GAAInC,EAAaO,MACf,OACE0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,8BACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAIjE,EAAaO,QAChBP,EAAaoF,UACZrB,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAEzE,KAAK6F,UAAUrF,EAAaoF,QAAS,KAAM,QAO3E,MAAME,EAActF,EAAauF,oBAAsB,CAAC,EAClDC,EAAexF,EAAayF,qBAAuB,CAAC,EAEpDC,EAAyBJ,EAAYK,cAAgB,GACrDC,EAA0BJ,EAAaG,cAAgB,GAEvDE,EAAiBP,EAAYQ,aAAe,EAC5CC,EAAgCP,EAAaQ,2BAA6B,EAC1EC,EAA+BT,EAAaU,0BAA4B,EAG7DN,EAAwBO,QAAOC,GAAkB,YAAZA,EAAGC,OACtCT,EAAwBO,QAAOC,GAAkB,iBAAZA,EAAGC,OACrCT,EAAwBO,QAAOC,GAA0B,kBAApBA,EAAGE,eACrCV,EAAwBO,QAAOC,GAA0B,sBAApBA,EAAGE,eAC1CV,EAAwBO,QAAOC,GAAkB,YAAZA,EAAGC,OAC/D,IAAIE,EAAYvG,EAAawG,eAAiB,IAAMxG,EAAayG,eACjE,OACE1C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,uBAAuBnC,MAAO,CAAE2D,gBAAiB,WAAYzC,UAE1EgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,EAC/BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAyBnC,MAAO,CAAE2D,gBAAiB,WAAYzC,SAAA,EAC5EgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,gBAAIjE,EAAa2G,WAAa,6BACnD1B,EAAAA,EAAAA,MAAA,SAAOC,UAAU,aAAYjB,SAAA,CAC1BjE,EAAa4G,gBAAkBL,EAC/BvG,EAAa6G,aAAe,8BAIjC5B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAExBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,oBAAmBjB,SAAC,sCAClCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAqBnC,MAAO,CAAE2D,gBAAiB,WAAYzC,SAAA,EACxEF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,uBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEhC,EAAekD,EAAK2B,eAAgB3E,WAG9D4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAqBnC,MAAO,CAAE2D,gBAAiB,WAAYzC,SAAA,EACxEF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,yBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEhC,EAAekD,EAAK4B,kBAAmB5E,WAGjE4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAqBnC,MAAO,CAAE2D,gBAAiB,WAAYzC,SAAA,EACxEF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,0BACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEhC,EAAekD,EAAK6B,mBAAoB7E,WAGlE4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAqBnC,MAAO,CAAE2D,gBAAiB,WAAYzC,SAAA,EACxEF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,iBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEb,EAA4B+B,EAAK8B,WAAY9E,cAMzE8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BjB,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,qBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAET,EAAa2B,EAAK+B,uBAG5CnD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BjB,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,6BACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAET,EAAa2B,EAAKgC,+BAG5CpD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BjB,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,uBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAET,EAAa2B,EAAKiC,yBAG5CrD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BjB,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,qBAAoBjB,SAAC,uBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAET,EAAayC,aAMxCjG,EAAa6G,cAAoC,QAArB9B,EAAA/E,EAAaqH,gBAAQ,IAAAtC,OAAA,EAArBA,EAAuB1C,QAAS,IAC3D4C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,oCAC7BjE,EAAaqH,SAASC,KAAI,CAACC,EAASC,KACnCvC,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAQ,YAAUsD,EAAQzH,GAAG,OAAU,IAAEyH,EAAQE,SAAS,gCACzCrE,EAA4BmE,EAAQG,cAAevF,GAAU,cACrEqB,EAAa+D,EAAQI,QAAQ,cAC7BJ,EAAQK,SAJTJ,MAOZvC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,CAAC,wBACfhC,EAAekD,EAAK0C,aAAc1F,SAM7DgD,EAAKgC,sBAAwB,IAC5BlC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,8CAC9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA6BF,EAAAA,EAAAA,KAAA,SACpC9B,EAAekD,EAAK2C,yBAA0B3F,OAEjD8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,2BAA8BF,EAAAA,EAAAA,KAAA,SACrC9B,EAAekD,EAAK4C,qCAAsC5F,OAE7D8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,uBAA0BF,EAAAA,EAAAA,KAAA,SACjCP,EAAa2B,EAAKgC,2BAErBlC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAuBF,EAAAA,EAAAA,KAAA,SAC9B9B,EAAekD,EAAK6C,qBAAsB7F,aAOnD8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCjB,SAAA,EAC7CgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,oBAAQjE,EAAa2G,UAAU,iBACpD1B,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,kCAAgChC,EAAekD,EAAK4B,kBAAmB5E,UAEhF8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOhB,MAAO,CAAE2D,gBAAiB,UAAWuB,MAAO,SAAUhE,UAC3DgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,YAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,iBAC5BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,CAAC,UAAQ9B,EAAS,aAGjD8C,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGyB,EAAuBrD,OAAS,EAC/BqD,EAAuB4B,KAAI,CAAClB,EAAIoB,KAC9BvC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,OACX9B,EAAG+B,OAAQpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+B,WAEpDpE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,KAA0B,uBAC3B,cACCpC,SACFmC,EAAGC,UAGRtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aACrD5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,qBAAoBjB,SAAEP,EAAiB0C,EAAGgC,gBAE5DrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,SAjBvDqF,MAqBXzD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAIpD,UAAU,yBAAwBjB,SAAC,uCAKtD4B,EAAiB,IAChBZ,EAAAA,EAAAA,MAAA,MAAIlC,MAAO,CAAE2D,gBAAiB,UAAW6B,WAAY,QAAStE,SAAA,EAC5DF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAaqC,MAC1C9B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAAEP,EAAiB,UAEpDK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAekD,EAAK4B,kBAAmB5E,gBAQ7EuD,EAAuBrD,OAAS,IAC/B4C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAEP,EAC1BgC,EACGS,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAEP,EAC1BgC,EACGS,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAwB,IAAEP,EAChCgC,EACGS,QAAOC,GAAkB,aAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,mBAUzDnD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,qBAASjE,EAAa2G,UAAU,iBACrD1B,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,kCAAgChC,EAAekD,EAAK6B,mBAAoB7E,UAEjF8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOhB,MAAO,CAAE2D,gBAAiB,UAAWuB,MAAO,SAAUhE,UAC3DgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,qBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,iBAC5BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,CAAC,UAAQ9B,EAAS,aAGjD8C,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACG2B,EAAwBvD,OAAS,EAChCuD,EAAwB0B,KAAI,CAAClB,EAAIoB,KAC/BvC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,OACX9B,EAAGsC,OAAsB,MAAbtC,EAAGsC,QACdzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,CAAC,gBAAImC,EAAGsC,SAE1CtC,EAAGuC,OACF1D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,CAAC,SAC3BmC,EAAGuC,KAAK,OAGlBvC,EAAG+B,OACFpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,kBAAiBjB,SAAEmC,EAAG+B,WAGzCpE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,KAA0B,uBACf,YAAZD,EAAGC,KAAqB,eACF,kBAApBD,EAAGE,aAAmC,UACpC,aACHrC,SACFmC,EAAGE,cAAgBF,EAAGC,UAG3BtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAGwC,eAAiB,EAAIpF,EAAa4C,EAAGwC,gBAAkB,YAE7D7E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAGyC,UAAY,GACd5D,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6BAA4BjB,SAAA,CAAC,IAAET,EAAa4C,EAAGyC,cAC7D,YAEN9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aACrD5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,KAA0B,uBACf,YAAZD,EAAGC,KAAqB,eACF,kBAApBD,EAAGE,aAAmC,UACpC,aACHrC,SACFP,EAAiB0C,EAAGgC,gBAGzBnD,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,KACjCiE,EAAG0C,kBAAoB1C,EAAG0C,iBAAmB,IAC5C7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,CAAC,0BACpBhC,EAAemE,EAAG0C,iBAAkB3G,WAhDjDqF,MAuDXzD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAIpD,UAAU,yBAAwBjB,SAAC,wCAKtDgC,EAA+B,IAC9BhB,EAAAA,EAAAA,MAAA,MAAIlC,MAAO,CAAE2D,gBAAiB,UAAW6B,WAAY,QAAStE,SAAA,EAC5DF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAaqC,MAC1C9B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBgB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6BAA4BjB,SAAA,CAAC,IACzCT,EAAayC,EAA+BJ,SAGlD9B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAayC,MAC1ClC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAAEP,EAAiB,UAEpDK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAekD,EAAK6B,mBAAoB7E,gBAQ9EyD,EAAwBvD,OAAS,IAChC4C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAEP,EAAiByB,EAAK4D,yBAGtDhF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAEP,EAAiByB,EAAK6D,qBAGtDjF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAwB,IAAEP,EAAiByB,EAAK8D,8BAG5DlF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBjB,SAAA,EACtCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,wBAA4B,IAAEP,EAAiByB,EAAK+D,gCAG/D/D,EAAKgE,wBAA0B,IAC9BpF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,gBAAejB,UAC5BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BjB,SAAA,EACzCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,qBAAyB,IAAEP,EAAiByB,EAAKgE,wCAUvElE,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,uCAE9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBjB,SAAA,EAC7BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,qBAAwBF,EAAAA,EAAAA,KAAA,UAChCkB,EAAAA,EAAAA,MAAA,QAAMlC,MAAO,CAAE2D,gBAAiB,UAAW0C,QAAS,UAAWC,aAAc,MAAO9E,QAAS,SAAUN,SAAA,CAAC,+CAC9DF,EAAAA,EAAAA,KAAA,SACvC9B,EAAekD,EAAK4B,kBAAmB5E,GAAU,SAAIqB,EAAaqC,GAAgB,KAChFzC,EAA4B+B,EAAK8B,WAAY9E,UAGpD8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA4BF,EAAAA,EAAAA,KAAA,UACpCkB,EAAAA,EAAAA,MAAA,QAAMlC,MAAO,CAAE2D,gBAAiB,UAAW0C,QAAS,UAAWC,aAAc,MAAO9E,QAAS,SAAUN,SAAA,CAAC,+BAC9EF,EAAAA,EAAAA,KAAA,SACvB9B,EAAekD,EAAK2B,eAAgB3E,GAAU,SAAIiB,EAA4B+B,EAAK8B,WAAY9E,GAAU,KACvGqB,EAAa2B,EAAK+B,yBAK3BnD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAiCF,EAAAA,EAAAA,KAAA,UACzCkB,EAAAA,EAAAA,MAAA,QAAMlC,MAAO,CAAE2D,gBAAiB,UAAW0C,QAAS,UAAWC,aAAc,MAAO9E,QAAS,SAAUN,SAAA,CAAC,iCAC5EF,EAAAA,EAAAA,KAAA,SACzBP,EAAauC,GAA+B,SAAI3C,EAA4B+B,EAAK8B,WAAY9E,GAAU,KACrGF,EAAekD,EAAK6B,mBAAoB7E,qBAQnD,EAyxBV,OACE4B,EAAAA,EAAAA,KAACuF,EAAAA,GAAO,CAAArF,UACNF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCjB,SAAA,EAC7CF,EAAAA,EAAAA,KAACwF,EAAAA,EAAa,CACZ9I,YAAaA,EACbC,eAAgBA,KAElBuE,EAAAA,EAAAA,MAAA,OACEC,UAAW,gBAAezE,EAAc,kBAAoB,IAAKwD,SAAA,EAEjEF,EAAAA,EAAAA,KAACyF,EAAAA,EAAM,KACPzF,EAAAA,EAAAA,KAAC0F,EAAAA,GAAc,CAACvE,UAAU,qBAAoBjB,UAC5CgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBjB,SAAA,EAC9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yDAAwDjB,SAAA,EACrEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,0BACJF,EAAAA,EAAAA,KAAA,UACEmB,UAAU,oBACVwE,QAASA,IAAMxK,GAAU,GAAG+E,SAC7B,sBAKF5D,IACC4E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,8BAA8ByE,KAAK,SAAQ1F,UACxDF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,kBAAiBjB,SAAC,kBAEpCF,EAAAA,EAAAA,KAAA,KAAGmB,UAAU,OAAMjB,SAAC,iCAIvB1D,IACC0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAqByE,KAAK,QAAO1F,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,WAAe,IAAE1D,MAG3BF,IAAYE,GAASP,GAAgB,MAGrC,MAAM2G,EAAa3G,EAAa4J,WAAYC,cACtCpD,EAAkBzG,EAAayG,eAAgBoD,cAC/CrD,GAAkBxG,EAAawG,gBAAkB,IAAIqD,cAG3D,OAAIlD,EAAUhE,SAAS,YACrBgE,EAAUhE,SAAS,kBACnB3C,EAAa8J,YAriHxB9J,EAGDA,EAAaO,OAEb0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAIjE,EAAaO,SACjBwD,EAAAA,EAAAA,KAAA,KAAGmB,UAAU,OAAMjB,SAAC,kFAQxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEjE,EAAa2G,aACnC5C,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,0DAEhCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAExBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,qBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,8BAC9BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAKjE,EAAagF,aAAa+E,aAAa,qBAGhDhG,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,iBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wBAGRF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,qBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKb,EAA4BpD,EAAagF,aAAaiC,WAAYjH,EAAamC,qBAM1F4B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,sBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,yBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAaxD,EAAagF,aAAagF,2BAGhDjG,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,yBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAejC,EAAagF,aAAaiF,WAAYjK,EAAamC,kBAG3E4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDjB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKjE,EAAagF,aAAa+E,wBAMrChG,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,OAAMjB,UACnBF,EAAAA,EAAAA,KAACH,EAAa,CAACE,UAAW9D,EAAa8D,eAIzCC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,YAAWjB,SAAC,8BAC1BF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,kCAAiCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,WACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,WACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SAAC,uBACzBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SAAC,qBACzBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SAAC,iBACzBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SAAC,gBAG7BgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGjE,EAAa2F,aAAa2B,KAAI,CAAClB,EAAIoB,KAClCvC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,UAAAE,SACGmC,EAAG8D,WAAa9D,EAAG+D,SAClB,GAAG/D,EAAG8D,aAAa9D,EAAG+D,WACtB,WAAW3C,EAAM,SAIvBzD,EAAAA,EAAAA,KAAA,MAAAE,SACGmC,EAAGsC,OACF3E,EAAAA,EAAAA,KAAA,KAAGqG,KAAM,UAAUhE,EAAGsC,QAASxD,UAAU,uBAAsBjB,SAC5DmC,EAAGsC,QAGN,OAGJ3E,EAAAA,EAAAA,KAAA,MAAAE,SACGmC,EAAGiE,OACFtG,EAAAA,EAAAA,KAAA,KAAGqG,KAAM,OAAOhE,EAAGiE,QAASnF,UAAU,uBAAsBjB,SACzDmC,EAAGiE,QAGN,OAGJtG,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,qCAAoCjB,SAChC,WAAjBmC,EAAGkE,UAAyB,gBACV,cAAjBlE,EAAGkE,UAA4B,mBACZ,UAAjBlE,EAAGkE,WAAyBlE,EAAGmE,gBAAkBnE,EAAGmE,gBAClD,qBAGVxG,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,kCAAiCjB,SAC5B,UAAlBmC,EAAGoE,YAA0BpE,EAAGqE,iBAC/BrE,EAAGqE,iBACHrE,EAAGoE,YAAc,eAGvBzG,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAA6B,WAApBkB,EAAGsE,aAA4B,aAAe,cAAezG,SAChE,WAApBmC,EAAGsE,aAA4B,SAAW,kBAG/C3G,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SAAET,EAAa4C,EAAGuB,WAC1C5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SACrBb,EAA4BpD,EAAagF,aAAaiC,WAAYjH,EAAamC,aAElF4B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,UACtBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,kBAAkBnC,MAAO,CAAE4H,SAAU,QAAS1G,SAC3DP,EAAiB0C,EAAGgC,gBAGzBrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SACrBhC,EAAemE,EAAGiC,MAAOrI,EAAamC,cAzDlCqF,MA+DXvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SACrBT,EAAaxD,EAAagF,aAAagF,sBAE1CjG,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SACrBb,EAA4BpD,EAAagF,aAAaiC,WAAYjH,EAAamC,aAElF4B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SACrBP,EAAiB,QAEpBK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,WAAUjB,SACrBhC,EAAejC,EAAagF,aAAaiF,WAAYjK,EAAamC,wBAQ7E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,gBAAejB,UAC5BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,wBAAuBjB,SAAC,oBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,eAAcjB,SAAEjE,EAAa2F,aAAatD,iBAI9D0B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,gBAAejB,UAC5BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,wBAAuBjB,SAAC,kBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,eAAcjB,SAAET,EAAaxD,EAAagF,aAAagF,6BAI3EjG,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,gBAAejB,UAC5BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,wBAAuBjB,SAAC,qBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,YAAWjB,SACtBb,EACCpD,EAAagF,aAAaiC,WAC1BjH,EAAamC,oBAMvB4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,gBAAejB,UAC5BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,wBAAuBjB,SAAC,iBACtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,eAAcjB,SACzBhC,EAAejC,EAAagF,aAAaiF,WAAYjK,EAAamC,uBAO7E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,kCAC9BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,aAAYjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,6CACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kDAIVF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,mCAC9BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,aAAYjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,qDAOZgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,iCAC9BF,EAAAA,EAAAA,KAAA,KAAGmB,UAAU,aAAYjB,UACvBgB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAQ,iBAAeT,EAAaxD,EAAagF,aAAagF,mBAAmB,yCAEnFjG,EAAAA,EAAAA,KAAA,KAAGmB,UAAU,aAAYjB,UACvBgB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAQ,oBAAkBb,EAA4BpD,EAAagF,aAAaiC,WAAYjH,EAAamC,UAAU,4BAA0BF,EAAejC,EAAagF,aAAaiF,WAAYjK,EAAamC,UAAU,8DAzP3M,KA0iHW,qBAAnBqE,GACFA,EAAe7D,SAAS,cACjBoB,EAAAA,EAAAA,KAACc,EAAuB,CAAC7E,aAAcA,IAK9CyG,EAAe9D,SAAS,WACL,SAAnB6D,EAx3EiBoE,MAAO,IAADC,EACvC,IAAK7K,IAAiBA,EAAagF,aAAc,OAAO,KAExDhD,QAAQ8I,IAAI,kBAAmB9K,GAC/B,MAAMmF,EAAOnF,EAAagF,aAGpB+F,EAAW/K,EAAagL,gBACxBC,EAAYjL,EAAakL,iBACzBC,EAASnL,EAAamL,QAAU,CAAC,EAGjCC,EAAYpL,EAAaoL,YAC5BpL,EAAayG,gBAAkB,IAAIoD,cAAclH,SAAS,UAEvD0I,EAAoBrL,EAAaqL,mBACpClG,EAAKmG,qBAAuB,EAGzBrJ,EAAkBC,IACtB,MACMQ,GADW1C,EAAamC,UAAY,OACZM,MAAM,KAAK,IAAM,MAC/C,OAAO,IAAII,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPZ,SAAUO,EACVM,sBAAuB,EACvBM,sBAAuB,IACtBL,OAAOf,GAAU,EAAE,EAGlBsB,EAAgBC,GACb,IAAIZ,KAAKC,aAAa,SAASG,OAAOsI,KAAK7J,MAAM+B,GAAO,IAG3DC,EAAoBC,GAEjB,IAD6B,kBAAZA,EAAuBT,WAAWS,GAAYA,GAAW,GAC9DR,QAAQ,MAIvBqI,EAAsBA,CAAC7F,EAAcG,KACzC,IAAKH,IAAiBG,EAAa,MAAO,CACxC2F,SAAU,EACVC,UAAW,EACXC,cAAe,EACfC,iBAAkB,GAGpB,IAAIH,EAAW,EACXC,EAAY,EACZC,EAAgB,EAChBC,EAAmB,EAUvB,OARAjG,EAAakG,SAAQzF,IACnB,MAAMgC,EAAahC,EAAGuB,OAAS7B,EAAe,IAC9B,YAAZM,EAAGC,KAAoBoF,GAAYrD,EAClB,iBAAZhC,EAAGC,MAA2BD,EAAGC,KAAK1D,SAAS,YAAa+I,GAAatD,EAC7D,kBAAZhC,EAAGC,MAA4BD,EAAGC,KAAK1D,SAAS,QAASgJ,GAAiBvD,EAC9D,sBAAZhC,EAAGC,OAA8BuF,GAAoBxD,EAAS,IAGlE,CACLqD,SAAUA,EAAStI,QAAQ,GAC3BuI,UAAWA,EAAUvI,QAAQ,GAC7BwI,cAAeA,EAAcxI,QAAQ,GACrCyI,iBAAkBA,EAAiBzI,QAAQ,GAC5C,EAKG2I,GADeN,EAA4B,OAART,QAAQ,IAARA,OAAQ,EAARA,EAAUpF,aAAsB,OAARoF,QAAQ,IAARA,OAAQ,EAARA,EAAUjF,aACrD0F,EAA6B,OAATP,QAAS,IAATA,OAAS,EAATA,EAAWtF,aAAuB,OAATsF,QAAS,IAATA,OAAS,EAATA,EAAWnF,cAG9E9D,QAAQ8I,IAAI,gBAAiB,CAC3BiB,eAAgB5G,EAAK4G,eACrBC,aAAc7G,EAAK6G,aACnBC,aAAc9G,EAAK8G,aACnBhF,WAAY9B,EAAK8B,WACjBiF,iBAAkB/G,EAAK+G,iBACvBZ,qBAAsBnG,EAAKmG,qBAC3BpE,cAAe/B,EAAK+B,cACpBiF,gBAAiBhH,EAAKiH,sBAGxB,IAAI7F,EAAYvG,EAAawG,eAAiB,IAAMxG,EAAayG,eAWjE,OACE1C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAW,eAAekG,EAAY,aAAe,0BAA0BnH,SAAA,EAClFF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEjE,EAAa2G,WAAa,oBAChD1B,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGmH,EAAY7E,EAAY,mBACxB8E,GAAqB,+BAG1BpG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAGxBgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,gBAAIjE,EAAa2G,cACtC1B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,yBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekJ,EAAOpE,mBAAqB5B,EAAK4B,2BAIzDhD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,aAAYjB,SAAA,CAAEjE,EAAayG,eAAe,kBAC3D1C,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekJ,EAAOkB,mBAAqBlH,EAAKkH,2BAIzDtI,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,8BAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2H,EAAOmB,iBAAmBnH,EAAKoH,yBACjDtH,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAQkH,EAAOpB,eAAwB,OAARgB,QAAQ,IAARA,GAAsB,QAAdF,EAARE,EAAUpF,oBAAY,IAAAkF,OAAd,EAARA,EAAwB1E,QAAOC,GAAkB,YAAZA,EAAGC,OAAoBhE,SAAU,EAAE,yBAQ5GgJ,GAAqBlG,EAAK4G,eAAiB,IAC1C9G,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAAvI,SAAA,EACEgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,0BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK4G,mBACzBhI,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mCAGXF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDjB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK6G,iBACzBjI,EAAAA,EAAAA,KAAA,SAAAE,SAAO,0BAGXF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAKkB,EAAK8G,aAAa,QACvBlI,EAAAA,EAAAA,KAAA,SAAAE,SAAO,4BAMZkB,EAAK+G,iBAAmB,IACvBjH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,+CAC9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,KAAAE,UAAGgB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAQ,MAAIjE,EAAayG,eAAe,sBAC3CxB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOjB,SAAA,CACjBhC,EAAekJ,EAAOpE,mBAAqB5B,EAAK4B,mBAAmB,SAAIvD,EAAa2H,EAAOmB,iBAAmBnH,EAAKoH,qBAAuBpH,EAAKsH,yBAAyB,MACzK1I,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,eAAcjB,SAAEhC,EAAekD,EAAK8B,kBAGtDlD,EAAAA,EAAAA,KAAA,KAAAE,UAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,+BACXgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOjB,SAAA,CACjBhC,EAAekD,EAAK8B,YAAY,cAAS9B,EAAK8G,aAAe,IAAI,OAClElI,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,eAAcjB,SAAEhC,EAAekD,EAAKuH,yBAGtD3I,EAAAA,EAAAA,KAAA,KAAAE,UAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BACXgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOjB,SAAA,CACjBhC,EAAekD,EAAK6G,cAAc,SAAIxI,EAAa2B,EAAKwH,oBAAoB,MAC7E5I,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,eAAcjB,SAlGjBoE,KACjC,MACM3F,GADW1C,EAAamC,UAAY,OACZM,MAAM,KAAK,IAAM,MAC/C,OAAO,IAAII,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPZ,SAAUO,EACVM,sBAAuB,EACvBM,sBAAuB,IACtBL,OAAOoF,GAAS,EAAE,EA0F+BuE,CAA0BzH,EAAK6G,aAAe7G,EAAKwH,6BAIvF1H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,KAAAE,UAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,4CACXgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOjB,SAAA,CAAC,OACdhC,EAAekD,EAAKuH,mBAAmB,OAC5C3I,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,4BAA2BjB,SAAEhC,EAAekD,EAAK+G,wBAGnEnI,EAAAA,EAAAA,KAAA,KAAAE,UAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kCACXgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOjB,SAAA,CACjBhC,EAAekD,EAAK4G,gBAAgB,SAAI9J,EAAekD,EAAK+G,kBAAkB,MAC/EjH,EAAAA,EAAAA,MAAA,QAAMC,UAAU,eAAcjB,SAAA,CAAET,EAAa2B,EAAKmG,sBAAsB,iBAG1EvH,EAAAA,EAAAA,KAAA,KAAAE,UAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iCACXgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,QAAOjB,SAAA,CACjBT,EAAa2B,EAAKmG,sBAAsB,SAAIrJ,EAAekD,EAAK8B,YAAY,MAC7ElD,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,eAAcjB,SAAEhC,EAAekD,EAAK0H,iCAM1D5H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCjB,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,KAAGmB,UAAU,OAAMjB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,4CAC5BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,CAAC,oBACRF,EAAAA,EAAAA,KAAA,UAAAE,SAASkB,EAAK2H,WAAkB,KAAG7K,EAAekD,EAAK0H,qBAAqB,YAAU5K,EAAekD,EAAK4G,gBAAgB,eACzI5G,EAAK4H,aAAoC,OAArB5H,EAAK4H,cACxB9H,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAAvI,SAAA,CAAE,MAAIjE,EAAayG,eAAe,gBAAY1C,EAAAA,EAAAA,KAAA,UAAAE,SAASkB,EAAK4H,8BAU1EhJ,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,0BAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAK6H,8BAC3B/H,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAQT,EAAa2B,EAAKsH,yBAAyB,oBAsBxDtH,EAAKiC,gBAAkB,IACtBnC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,8BAC9BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aAAiB,qDAAmDjE,EAAayG,eAAe,kDAE1GxB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAC3BT,EAAa2H,EAAOmB,iBAAmBnH,EAAKoH,sBAAsB,MAAI/I,EAAa2B,EAAKmG,sBAAsB,MAAI9H,EAAa2B,EAAK+B,eAAe,eAAU/B,EAAK8H,wBAA0B,IAAI,QAEpMhI,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,YAAgB,gBAAcT,EAAa2B,EAAKiC,iBAAiB,+BAA6B1D,EAAiByB,EAAK8H,yBAAyB,qBAO1JlC,GAAYA,EAASpF,cAAgBoF,EAASpF,aAAatD,OAAS,IACnE0B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCjB,SAAA,EAClDgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,qCAAyBjE,EAAayG,eAAe,aAC1E1C,EAAAA,EAAAA,KAAA,SAAAE,SAAQ8G,EAASpJ,cAEnBoC,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,qBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACG8G,EAASpF,aAAa2B,KAAI,CAAClB,EAAIoB,KAC9B,MAAM0F,EAAe9G,EAAGyC,UAAY,EAC9B/C,EAAcM,EAAGuB,OACjBiB,EAAiB9C,GAAeM,EAAGyC,WAAa,GAEtD,OACE5D,EAAAA,EAAAA,MAAA,MAAcC,UACA,iBAAZkB,EAAGC,MAA2BD,EAAGC,KAAK1D,SAAS,YAAc,gBAC/C,YAAZyD,EAAGC,KAAqB,GAAK,cAChCpC,SAAA,EACCF,EAAAA,EAAAA,KAAA,MAAAE,UACEgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,MAAQ9B,EAAG+G,WACtB/G,EAAG+B,OAAQpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+B,aAGtDpE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,MAA2BD,EAAGC,KAAK1D,SAAS,YAAc,uBAAyB,WACnFsB,SACFmC,EAAGC,UAGRtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAaoF,QAExB7E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBiJ,GACCnJ,EAAAA,EAAAA,KAAAyI,EAAAA,SAAA,CAAAvI,UACEgB,EAAAA,EAAAA,MAAA,UAAQC,UAAU,eAAcjB,SAAA,CAAC,IAAET,EAAa4C,EAAGyC,iBAIrD9E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,cAGjCgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAasC,KACrBoH,IACCnJ,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,2BAKnBnB,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAC5BP,EAAiB0C,EAAGgC,WAAetC,EAAciF,EAASjF,YAAe,UAG9E/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,aA5CtBb,EA8CJ,KAKTvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBT,EACCuH,EAASpF,aAAa6C,QAAO,CAACC,EAAKrC,IAAOqC,GAAOrC,EAAGuB,QAAUvB,EAAGyC,WAAa,KAAK,OAGvF9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBT,EACCuH,EAASpF,aAAa6C,QAAO,CAACC,EAAKrC,IAAOqC,GAAOrC,EAAGyC,WAAa,IAAI,OAGzE9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAauH,EAASjF,gBACnD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAe8I,EAASd,kCAYtEgB,GAAaA,EAAUtF,cAAgBsF,EAAUtF,aAAatD,OAAS,IACtE0B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAW,sBAAsBjB,SAAA,EACpCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,sCAA0BjE,EAAayG,eAAe,aAC3E1C,EAAAA,EAAAA,KAAA,SAAAE,SAAQgH,EAAUtJ,cAEpBsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC3BoH,IAAqBtH,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,wCAGtDF,EAAAA,EAAAA,KAAA,SAAAE,SACGgH,EAAUtF,aAAa2B,KAAI,CAAClB,EAAIoB,IAC/BpB,EAAGgH,SAEDnI,EAAAA,EAAAA,MAAA,MAAcC,UAAU,wBAAuBjB,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aACxBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGiH,mBACrDtJ,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGyC,gBACrD9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGN,kBACrD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,YACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAACF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,WACtDgD,IACCtH,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAegJ,EAAUqC,gBAAkBnI,EAAK4G,eAAiB5G,EAAKkH,yBAT5E7E,IAeTvC,EAAAA,EAAAA,MAAA,MAAcC,UACA,iBAAZkB,EAAGC,MAA2BD,EAAGC,KAAK1D,SAAS,YAAc,gBAC/C,kBAAZyD,EAAGC,MAA4BD,EAAGC,KAAK1D,SAAS,QAAU,aAC5C,sBAAZyD,EAAGC,KAA+B,gBAAkB,GACzDpC,SAAA,EACCgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,MAAQ9B,EAAG+G,WACtB/G,EAAG+B,OAAQpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+B,WAEpDpE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,MAA2BD,EAAGC,KAAK1D,SAAS,YAAc,uBAC/C,kBAAZyD,EAAGC,MAA4BD,EAAGC,KAAK1D,SAAS,QAAU,UAC5C,sBAAZyD,EAAGC,KAA+B,aAAe,gBAClDpC,SACFmC,EAAGC,UAGRtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAGiH,aAAe,GACjBtJ,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGiH,iBAEzBtJ,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAGjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAGyC,UAAY,GACd5D,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,eAAcjB,SAAET,EAAa4C,EAAGyC,aACjDzC,EAAGmH,cACFxJ,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,qBAAoBjB,SAAEmC,EAAGmH,kBAI5CxJ,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAGjCgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGN,aAAeM,EAAGuB,UAE1CvB,EAAGoH,YACFvI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,CAC9BmC,EAAGoH,UAAU5E,eAAiB,IAC7B3D,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,CAAMT,EAAa4C,EAAGoH,UAAU5E,gBAAgB,eAEjDxC,EAAGoH,UAAU3E,UAAY,IACxB5D,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,CAAK,IAAET,EAAa4C,EAAGoH,UAAU3E,WAAW,iBAKpD9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,UACpC,iBAAZD,EAAGC,MAA2BD,EAAGC,KAAK1D,SAAS,YAAc,uBAC/C,kBAAZyD,EAAGC,MAA4BD,EAAGC,KAAK1D,SAAS,QAAU,UAC5C,sBAAZyD,EAAGC,KAA+B,aAAe,gBAClDpC,SACFP,EAAiB0C,EAAGgC,YAAehC,EAAGN,aAAeM,EAAGuB,QAAUsD,EAAUnF,YAAe,UAGhG/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,WAE5BgD,IACCtH,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAG0C,kBACF7D,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,UAASjB,SAAEhC,EAAemE,EAAG0C,oBAC3C1C,EAAGqH,kBACFxI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,CAAC,KAClBhC,EAAemE,EAAGqH,iBAAiB,YAGzCrH,EAAGuC,MAAoB,OAAZvC,EAAGuC,OACb1D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,CAAC,SAC3BmC,EAAGuC,YAKhB5E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,UAhF5BuD,aAuGnBzD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,kCACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,eACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEP,EAAiBoI,EAAcL,aAChE1H,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,gBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEP,EAAiBoI,EAAcJ,aAC/DL,IACCpG,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAAvI,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,qBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEP,EAAiBoI,EAAcH,kBAChE5H,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,yBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEP,EAAiBoI,EAAcF,4CA8BtF3G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAejB,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,cAAajB,UAC1BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,kCAEvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBACJgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,iCAAwBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAK4G,eAAiB5G,EAAKkH,yBAC/EpH,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,iCAAwBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAKuI,+BACzDzI,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,qCAA4BF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa2B,EAAKiH,2BAC3DnH,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,wBAAeF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAK8B,iBAC/CoE,GAAqBlG,EAAKmG,qBAAuB,IAChDrG,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,sCAA6BgB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAST,EAAa2B,EAAKmG,sBAAsB,aAAWrJ,EAAekD,EAAK+G,kBAAkB,cAEpI/G,EAAKiC,gBAAkB,IACtBnC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,wBAAegB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAST,EAAa2B,EAAKiC,iBAAiB,iCAKrEnC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,EAClBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,2CACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,6CACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,yDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,2CACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iEAQd,EAgyDe2G,GAIc,iBAAnBpE,GACFC,EAAe9D,SAAS,UAjyDfgL,MACzB,IAAK3N,IAAiBA,EAAagF,aAAc,OAAO,KAExD,MAAMG,EAAOnF,EAAagF,aACpB7C,EAAWnC,EAAamC,UAAY,MAE1C,GAAInC,EAAaO,MACf,OACE0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAIjE,EAAaO,QAChBP,EAAaoF,UACZrB,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAEzE,KAAK6F,UAAUrF,EAAaoF,QAAS,KAAM,QAM3E,MAAMwI,EAAwB5N,EAAa4N,uBAAyBzI,EAAK0I,eAGnEC,EAAqB3I,EAAK2I,oBAC7B3I,EAAK4I,yBAA2B5I,EAAK6I,yBACxC,IAAIzH,EAAYvG,EAAawG,eAAiB,IAAMxG,EAAayG,eACjE,OACE1C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCjB,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEjE,EAAa2G,WAAa,oBAChD5C,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAC1B2J,EAAwB,qCAAuC,6BAIpE3I,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAExBgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAEsC,EAAU,cAChCtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,qBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK2B,eAAgB3E,WAG7C4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,yBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK4B,kBAAmB5E,WAGhD4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,4BAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAK6H,8BAC3BjJ,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,4BAGlCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,0BAC9BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,eAAcjB,SAAEP,EAAiByB,EAAK8I,0BACpDlK,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,eAAcjB,SAAC,iCAMtCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,wBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,0BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK6B,mBAAoB7E,WAGjD4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,iBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKb,EAA4B+B,EAAK8B,WAAY9E,MAClD4B,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,oBAGlCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,2BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAK4I,6BACvBhK,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,0BAGlCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDjB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,uBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAK+I,mBACvBnK,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,2BAGlCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,4BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAKgJ,8BACvBpK,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,yBAGlCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sDAAqDjB,SAAA,EAClEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,wBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAKiJ,6BAC3BrK,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,wBAMpCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,uCAC9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,EACpBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBACRF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,UAASjB,SAAET,EAAa2B,EAAKkJ,6BAE9CpJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,EACpBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,4BACRF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,UAASjB,SAAET,EAAa2B,EAAKmJ,qCAGhDvK,EAAAA,EAAAA,KAAA,UACAkB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCjB,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,uBACRF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa2B,EAAK+I,2BAIjCnK,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,qCAC9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAET,EAAa2B,EAAK6I,0BAA0B,YAC3EtK,EAAiByB,EAAK6H,2BAA2B,QAErD/H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,IAAET,EAAa2B,EAAKmJ,4BAA4B,cAE9EvK,EAAAA,EAAAA,KAAA,UACAkB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iCAAgCjB,SAAA,EAC7CF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,wBACRgB,EAAAA,EAAAA,MAAA,UAAAhB,SAAA,CAAST,EAAa2B,EAAKoJ,uBAAuB,IAC9C7K,EAAiByB,EAAK8I,uBAAuB,mBAOzDlK,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,OAAMjB,UACnBF,EAAAA,EAAAA,KAACH,EAAa,CAACE,UAAW9D,EAAa8D,eAIzCC,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,yCACrBgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,qDAAmDhC,EAAekD,EAAK4B,kBAAmB5E,UAEnG8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,+BAC5BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,CAAC,UAAQ9B,EAAS,aAGjD8C,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGjE,EAAa0F,wBAA0B1F,EAAa0F,uBAAuBrD,OAAS,EACnFrC,EAAa0F,uBAAuB4B,KAAI,CAAClB,EAAIoB,KAC3CvC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,OACX9B,EAAGoI,SACFvJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,CAAC,WAASmC,EAAGoI,cAGlDvJ,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,CACZ,YAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,mBAAkBjB,SAAC,YAExB,iBAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,6BAA4BjB,SAAC,gBAElC,aAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,mBAAkBjB,SACX,kBAApBmC,EAAGE,aAAmC,gBAAkB,iBAI/DvC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,KAA0B,uBAC3B,cACCpC,SACFP,EAAiB0C,EAAGgC,gBAGzBrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,SAhC7BqF,MAqCXzD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAIpD,UAAU,0BAAyBjB,UACjDF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kEAMdgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAK4I,6BAC/ChK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAAEP,EAAiB,UAEpDK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAekD,EAAK4B,kBAAmB5E,iBAO5E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAEP,GACzB1D,EAAa0F,wBAA0B,IACrCS,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IAAEP,GACrC1D,EAAa0F,wBAA0B,IACrCS,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAwB,IAAEP,GAC/B1D,EAAa0F,wBAA0B,IACrCS,QAAOC,GAAkB,aAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,uBAW3DrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,MAAKjB,UAClBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,0CACrBgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,qDAAmDhC,EAAekD,EAAK6B,mBAAoB7E,UAEpG8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,+BAC5BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,CAAC,UAAQ9B,EAAS,aAGjD8C,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGjE,EAAa2F,cAAgB3F,EAAa2F,aAAatD,OAAS,EAC/DrC,EAAa2F,aAAa2B,KAAI,CAAClB,EAAIoB,KACjC,MAAMoB,EAAiBxC,EAAGqI,kBAAoB,EACxC5F,EAAYzC,EAAGyC,WAAa,EAElC,OACE5D,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,OACX9B,EAAGoI,SACFvJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,CAAC,WAASmC,EAAGoI,UAE/CpI,EAAGsC,QACFzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,CAAC,gBAAImC,EAAGsC,aAG7CzD,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,CACZ,YAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,mBAAkBjB,SAAC,YAExB,iBAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,6BAA4BjB,SACzC4E,EAAY,EAAI,yBAA2B,gBAGnC,aAAZzC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAA6B,kBAApBkB,EAAGE,aAAmC,UAAY,aACvErC,SACkB,kBAApBmC,EAAGE,aAAmC,gBAAkB,0BAI/DvC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxB2E,EAAiB,GAChB7E,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAaoF,MAEtB7E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,cAGjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxB4E,EAAY,GACX5D,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6BAA4BjB,SAAA,CAAC,IACzCT,EAAaqF,OAGjB9E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,cAGjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAqB,YAAZkB,EAAGC,KAAqB,aACpC,iBAAZD,EAAGC,KAA0B,uBACP,kBAApBD,EAAGE,aAAmC,UACpC,aACDrC,SACFP,EAAiB0C,EAAGgC,gBAGzBnD,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,KACjCiE,EAAG0C,kBAAoB1C,EAAG0C,iBAAmB,IAC5C7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,CAAC,0BACpBhC,EAAemE,EAAG0C,iBAAkB3G,WA1DjDqF,EA8DJ,KAITzD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAIpD,UAAU,0BAAyBjB,UACjDF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mEAMdgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAK4I,6BAC/ChK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBgB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6BAA4BjB,SAAA,CAAC,IACzCT,EAAa2B,EAAK+I,sBAGxBnK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAKgJ,8BAC/CpK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAAEP,EAAiB,UAEpDK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAekD,EAAK6B,mBAAoB7E,iBAO7E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAEP,GACzB1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAAEP,GAC5B1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAwB,IAAEP,GAC/B1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,aAAZA,EAAGC,MAA2C,kBAApBD,EAAGE,eAC1CkC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBjB,SAAA,EACtCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,wBAA4B,IAAEP,GACnC1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,aAAZA,EAAGC,MAA2C,sBAApBD,EAAGE,eAC1CkC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,aAOnDnD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,gDAE9BF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,OAAMjB,UACnBF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,sCAAqCjB,SAAC,qCAM1DgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBjB,SAAA,EAC7BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAiCF,EAAAA,EAAAA,KAAA,UACzCkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,uCACFF,EAAAA,EAAAA,KAAA,SAClC9B,EAAekD,EAAK2B,eAAgB3E,GAAU,MAAIF,EAAekD,EAAK4B,kBAAmB5E,GAAU,KACjGF,EAAekD,EAAK6B,mBAAoB7E,UAG/C8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAiCF,EAAAA,EAAAA,KAAA,UACzCkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,8BACdF,EAAAA,EAAAA,KAAA,SACtB9B,EAAekD,EAAK2B,eAAgB3E,GAAU,SAAIF,EAAekD,EAAK6B,mBAAoB7E,GAAU,KAClGuB,EAAiByB,EAAKiJ,oCAK/BnJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBjB,SAAA,EAC7BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,qCAAwCF,EAAAA,EAAAA,KAAA,UAChDkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,mCACNF,EAAAA,EAAAA,KAAA,SAAM,UAC7BL,EAAiByB,EAAKiJ,0BAA0B,MAAI1K,EAAiByB,EAAK8I,uBAAuB,KACtGvK,EAAiByB,EAAKuJ,oCAG7BzJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sCAAyCF,EAAAA,EAAAA,KAAA,UACjDkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CACT,6CACWF,EAAAA,EAAAA,KAAA,SACrCP,EAAasK,GAAoB,SAAIpK,EAAiByB,EAAKuJ,6BAA6B,KACtFlL,EAAa2B,EAAKgJ,qCAK3BlJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBjB,SAAA,EAC7BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iCAAoCF,EAAAA,EAAAA,KAAA,UAC5CkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,0CACCF,EAAAA,EAAAA,KAAA,SACrCP,EAAa2B,EAAKgJ,2BAA2B,MAAI3K,EAAa2B,EAAK4I,0BAA0B,KAC3FvK,EAAa2B,EAAK+I,uBAGzBjJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,uCAA0CF,EAAAA,EAAAA,KAAA,UAClDkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,6CACCF,EAAAA,EAAAA,KAAA,SAAM,IAC1CL,EAAiByB,EAAK8I,uBAAuB,SAAIzK,EAAa2B,EAAKgJ,2BAA2B,OAC7F3K,EAAa2B,EAAK6I,0BAA0B,MAAIxK,EAAa2B,EAAKmJ,sCAK3ErJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kCAAqCF,EAAAA,EAAAA,KAAA,UAC7CkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,+CACMF,EAAAA,EAAAA,KAAA,SAC1CP,EAAa2B,EAAK+I,gBAAgB,MAAI1K,EAAa2B,EAAKmJ,4BAA4B,KAClF9K,EAAa2B,EAAKkJ,8BAGzBpJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,qBAAwBF,EAAAA,EAAAA,KAAA,UAChCkB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,uBAAsBjB,SAAA,CAAC,iDACKF,EAAAA,EAAAA,KAAA,SACzC9B,EAAekD,EAAK4B,kBAAmB5E,GAAU,UAChDqB,EAAa2B,EAAK4I,0BAA0B,MAAIvK,EAAa2B,EAAKmJ,4BAA4B,OAC7FlL,EAA4B+B,EAAK8B,WAAY9E,gCAahE,EA8wCewL,GAIe,SAAnBlH,GAAgD,aAAnBA,GAAoD,cAAnBA,GAC9C,SAAnBD,EAGsB,SAAnBC,GAAgD,aAAnBA,GAAoD,cAAnBA,GAC9C,qBAAnBD,EAGEC,EAAe9D,SAAS,WACP,qBAAnB6D,EA3c4BmI,MAG5C,GAFA3M,QAAQ8I,IAAI,sDAEP9K,EACH,OAAO+D,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,sBAAqBjB,SAAC,sBAI9C,MAAMkB,EAAOnF,EAAagF,cAAgB,CAAC,EACrC+F,EAAW/K,EAAagL,iBAAmB,CAAC,EAC5CC,EAAYjL,EAAakL,kBAAoB,CAAC,EAEpDlJ,QAAQ8I,IAAI,2BAA4BG,EAAUtF,cAGlD,MAAM1D,EAAkBC,IACtB,MACMQ,GADW1C,EAAamC,UAAY,OACZM,MAAM,KAAK,IAAM,MAC/C,OAAO,IAAII,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPZ,SAAUO,EACVM,sBAAuB,EACvBM,sBAAuB,IACtBL,OAAOf,GAAU,EAAE,EAGlBsB,EAAgBC,GACb,IAAIZ,KAAKC,aAAa,SAASG,OAAOsI,KAAK7J,MAAM+B,GAAO,IAG3DC,EAAoBC,GAEjB,IAD6B,kBAAZA,EAAuBT,WAAWS,GAAYA,GAAW,GAC9DR,QAAQ,MA8BvBW,EAzBCmH,EAAUtF,cAAkD,IAAlCsF,EAAUtF,aAAatD,OAc/C,CACLuM,OAXa3D,EAAUtF,aAAa2B,KAAIlB,GAAMA,EAAG8B,MAAQ,gBAYzD2G,SAAU,CAAC,CACTtN,KAZS0J,EAAUtF,aAAa2B,KAAIlB,GAAMlD,WAAWkD,EAAGgC,YAAc,IAatE1B,gBAZqBuE,EAAUtF,aAAa2B,KAAIlB,IAAO,IAAD0I,EAAAC,EAAAC,EAAAC,EAAAC,EACxD,OAAW,QAAXJ,EAAI1I,EAAGC,YAAI,IAAAyI,GAAPA,EAASnM,SAAS,WAAmB,UAC9B,QAAXoM,EAAI3I,EAAGC,YAAI,IAAA0I,GAAPA,EAASpM,SAAS,UAAkB,UAC7B,QAAPqM,EAAA5I,EAAGC,YAAI,IAAA2I,GAAPA,EAASrM,SAAS,gBAAyB,QAAXsM,EAAI7I,EAAGC,YAAI,IAAA4I,GAAPA,EAAStM,SAAS,QAAgB,UAC/D,QAAXuM,EAAI9I,EAAGC,YAAI,IAAA6I,GAAPA,EAASvM,SAAS,UAAkB,UACjC,SAAS,IAQdwM,YAAa,OACbC,YAAa,KAnBR,KA2BLC,EAAe,CACnBjL,YAAY,EACZkL,qBAAqB,EACrBjL,QAAS,CACPC,OAAQ,CACNiL,SAAU,QACVX,OAAQ,CACNxF,QAAS,GACToG,eAAe,IAGnB3P,MAAO,CACL0E,SAAS,EACTC,KAAM,uCACNiL,KAAM,CACJC,KAAM,KAGVC,QAAS,CACPC,UAAW,CACTC,MAAO,SAAUC,GAGf,MAAO,GAFOA,EAAQD,OAAS,QACjBC,EAAQC,QAAU,GACN5M,QAAQ,KACpC,MAKR,IAAIoD,EAAYvG,EAAawG,eAAiB,IAAMxG,EAAayG,eACjE,OACE1C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,CAAC,gBAAIsC,EAAU,wCACnCxC,EAAAA,EAAAA,KAAA,SAAAE,SAAQjE,EAAa2B,SAAW,8CAGlCsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,CAEvBH,GACCmB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,cAAajB,UAC1BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,0CAEvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBF,EAAAA,EAAAA,KAAA,OAAKhB,MAAO,CAAEiB,OAAQ,SAAUC,SAE7B,MAEC,IAEE,OAAOF,EAAAA,EAAAA,KAACiM,EAAAA,GAAG,CAACzO,KAAMuC,EAAWK,QAASkL,GACxC,CAAE,MAAOY,GACP,OAAOlM,EAAAA,EAAAA,KAACG,EAAAA,GAAG,CAAC3C,KAAMuC,EAAWK,QAASkL,GACxC,CACD,EARA,aAcTtL,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,cAAajB,UAC1BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,2BAEvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,aAAYjB,SACvBgH,EAAUtF,aAAa2B,KAAI,CAAClB,EAAIoB,KAC/BvC,EAAAA,EAAAA,MAAA,MAAcC,UAAU,oEAAmEjB,SAAA,EACzFgB,EAAAA,EAAAA,MAAA,QAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,QACZnE,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,kBAAiBjB,SAAEmC,EAAGC,WAEzCtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gCAA+BjB,SAC5CP,EAAiB0C,EAAGgC,eANhBZ,kBAgBrBzD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,2BAA0BjB,SAAC,6CAM5CgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,8CACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA6B,IAAEhC,EAAekD,EAAK4G,gBAAkB,OAChF9G,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEkB,EAAK+K,cAAgB,IAAI,QAC7DjL,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEkB,EAAK8G,cAAgB,IAAI,WAE/DhH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEhC,EAAekD,EAAK6G,cAAgB,OACxE/G,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IAAEkB,EAAKgL,oBAAsB,MACtElL,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IAAEhC,EAAekD,EAAKiL,uBAAyB,UAE1FnL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sBAA0B,IAAET,EAAa2B,EAAKmG,sBAAwB,OACjFrG,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sBAA0B,IAAEhC,EAAekD,EAAK0H,qBAAuB,OAClF5H,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,UAAc,KAACF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,eAAcjB,SAAEkB,EAAK2H,UAAY,oBAMnF7H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,sCACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,uBAA2B,IAAEhC,EAAekD,EAAKkH,mBAAqB,OACjFpH,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sBAA0B,IAAET,EAAa2B,EAAK+B,eAAiB,OAC1EjC,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAAEhC,EAAekD,EAAK8B,YAAc,UAEtEhC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sBAA0B,IAAEhC,EAAekD,EAAKkL,cAAgB,OAC3EpL,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,UAAc,KAACF,EAAAA,EAAAA,KAAA,UAAAE,SAASkB,EAAK4H,aAAe,WACvD9H,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA6B,IAAEhC,EAAekD,EAAK4B,mBAAqB,eAMxFgE,EAASpF,cAAgBoF,EAASpF,aAAatD,OAAS,IACvD4C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCjB,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,yCACrBgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,iBAAeT,EAAauH,EAASjF,aAAe,GAAG,mBAAiB7D,EAAe8I,EAASd,YAAc,UAEvHlG,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,YAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACG8G,EAASpF,aAAa2B,KAAI,CAAClB,EAAIoB,KAAG,IAAA8I,EAAAC,EAAA,OACjCtL,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,MAAQ,eAAeV,EAAM,MACxCpB,EAAG+B,OAAQpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+B,WAEpDpE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAgB,QAAPoL,EAAAlK,EAAGC,YAAI,IAAAiK,GAAPA,EAAS3N,SAAS,WAAa,aAChD,QAAP4N,EAAAnK,EAAGC,YAAI,IAAAkK,GAAPA,EAAS5N,SAAS,UAAY,uBAC5B,WACCsB,SACFmC,EAAGC,MAAQ,mBAGhBtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,QAAU,QAErC5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAC5BP,EAAiB0C,EAAGgC,WAAa,QAGtCrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,OAAS,SAtB/Bb,EAwBJ,KAEPvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAauH,EAASjF,aAAe,MAClE/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAe8I,EAASd,YAAc,qBAUhFgB,EAAUtF,cAAgBsF,EAAUtF,aAAatD,OAAS,IACzD4C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,0CACrBgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,iBAAeT,EAAayH,EAAUnF,aAAe,GAAG,mBAAiB7D,EAAegJ,EAAUhB,YAAc,UAEzHlG,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,YAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,iBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,WAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,6BAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGgH,EAAUtF,aAAa2B,KAAI,CAAClB,EAAIoB,KAAG,IAAAgJ,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAClC3L,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,MAAQ,eAAeV,EAAM,MACxCpB,EAAG+B,OAAQpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+B,WAEpDpE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAgB,QAAPsL,EAAApK,EAAGC,YAAI,IAAAmK,GAAPA,EAAS7N,SAAS,WAAa,aAChD,QAAP8N,EAAArK,EAAGC,YAAI,IAAAoK,GAAPA,EAAS9N,SAAS,UAAY,uBACrB,QAAP+N,EAAAtK,EAAGC,YAAI,IAAAqK,GAAPA,EAAS/N,SAAS,gBAAyB,QAAXgO,EAAIvK,EAAGC,YAAI,IAAAsK,GAAPA,EAAShO,SAAS,QAAU,UACvD,QAAPiO,EAAAxK,EAAGC,YAAI,IAAAuK,GAAPA,EAASjO,SAAS,UAAY,aAC5B,gBACHsB,SACFmC,EAAGC,MAAQ,mBAGhBpB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,QAAUvB,EAAGN,aAAe,KACpDM,EAAGyC,UAAY,IACd5D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,CAAC,IAAET,EAAa4C,EAAGyC,WAAW,cAGrE9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAC5BP,EAAiB0C,EAAGgC,WAAa,QAGtCrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,OAAS,QAEtCtE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAGqH,iBACFxI,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,CAAC,KAClBhC,EAAemE,EAAGqH,iBAAiB,SACrCrH,EAAGuC,OAAQ1D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcjB,SAAA,CAAC,SAAOmC,EAAGuC,WAEpDvC,EAAGyK,YACL5L,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,CAAC,aACVhC,EAAemE,EAAGyK,YAC5BzK,EAAGuC,OAAQ1D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcjB,SAAA,CAAC,SAAOmC,EAAGuC,WAEpDvC,EAAG0K,oBACL7L,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,CAAC,aACVhC,EAAemE,EAAG0K,oBAC5B1K,EAAGuC,OAAQ1D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,eAAcjB,SAAA,CAAC,SAAOmC,EAAGuC,YAGtD5E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,UA9C1BuD,EAiDJ,KAEPvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,wBAAuBjB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAayH,EAAUnF,aAAe,MACnE/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAegJ,EAAUhB,YAAc,MACpElG,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBhC,GAAgBkD,EAAK4G,gBAAkB,IAAM5G,EAAKkH,mBAAqB,uBAWxFpH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBjB,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gCACJgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA6B,IAAEhC,EAAekD,EAAK4B,mBAAqB,OACnF9B,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IAAEhC,EAAekD,EAAK6B,oBAAsB,OACrF/B,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,wBAA4B,OAClCkB,EAAK6B,oBAAsB,IAAM7B,EAAK4B,mBAAqB,KAC3D5B,EAAK4B,mBAAqB,GAAK,KAAK5D,QAAQ,GAAG,WAGtD8B,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IACvChC,GAAgBkD,EAAK4G,gBAAkB,IAAM5G,EAAKkH,mBAAqB,QAEzEpH,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAAEhC,EAAekD,EAAK8B,YAAc,OACpEhC,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAkC,IAAET,EAAayH,EAAUnF,aAAe,UAEvFb,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBgB,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,uBAA2B,IAAET,EAAa2B,EAAK4L,iBAAmB,OAC7E9L,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA6B,IAAET,EAAa2B,EAAKiC,iBAAmB,GAAG,cAClFnC,EAAAA,EAAAA,MAAA,KAAAhB,SAAA,EAAGF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IAAET,EAAa2B,EAAK6L,wBAA0B,GAAG,6BAMhG,EAsFerC,GAt0GIsC,MAE3B,IAAKjR,IAAiBA,EAAagF,aAAc,OAAO,KAExD,MAAMG,EAAOnF,EAAagF,aACpB7C,EAAWnC,EAAamC,UAAY,MAE1C,GAAInC,EAAaO,MACf,OACE0E,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAIjE,EAAaO,WAMvB,MAAM2Q,EAAoBlR,EAAamR,wBACL,qBAAhCnR,EAAawG,eAGf,OACEzC,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEjE,EAAa2G,aACnC5C,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAC1BiN,EAAoB,kDAAoD,4CAG7EjM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAExBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,qBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,qBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK2B,eAAgB3E,WAG7C4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,yBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK4B,kBAAmB5E,WAGhD4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAKiM,2BAG/BrN,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,gBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKiN,EAAoB,mBAAqB,yBAMnDA,GAAqB/L,EAAK6G,eACzB/G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK6G,aAAc7J,WAG3C4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDjB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAK8G,sBAG/BlI,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sDAAqDjB,SAAA,EAClEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAK+K,yBAanCnM,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,sBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,0BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK6B,mBAAoB7E,WAGjD4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,8BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAKgJ,mCAG3BpK,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDjB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,uBACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKV,EAAwB4B,EAAK0D,mBAGtC9E,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SACGiN,EAAoB,0BAA4B,iBAEnDnN,EAAAA,EAAAA,KAAA,MAAAE,SAAKb,EAA4B+B,EAAK8B,WAAY9E,WAKtD4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sDAAqDjB,SAAA,EAClEF,EAAAA,EAAAA,KAAA,SAAAE,SACGiN,EAAoB,kBAAoB,wBAE3CnN,EAAAA,EAAAA,KAAA,MAAAE,SACGiN,EACGjP,EAAekD,EAAKkM,qBAAuB,EAAGlP,GAC9CuB,EAAiByB,EAAKiJ,kCAMhCrK,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,iBACPgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAKT,EAAa2B,EAAKmM,kBAAkB,qBAM9CJ,GAAqB/L,EAAKoM,uBAAyB,IAClDxN,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,EACjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,2CAC9BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMjB,SAAA,EACjBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAKoM,uBAAwBpP,KAAmB,6CACvEgD,EAAKkM,oBAAsB,IAC1BpM,EAAAA,EAAAA,MAAA,QAAAhB,SAAA,CAAM,KAAGhC,EAAekD,EAAKkM,oBAAqBlP,GAAU,oCASxE4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,OAAMjB,UACnBF,EAAAA,EAAAA,KAACH,EAAa,CAACE,UAAW9D,EAAa8D,eAIzCC,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,wBACrBF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,gDAETgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,+BAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,yBAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGjE,EAAawR,qBAAuBxR,EAAawR,oBAAoBnP,OAAS,EAC7ErC,EAAawR,oBAAoBlK,KAAI,CAAClB,EAAIoB,KACxCvC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,UACEgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,cAAajB,SAAEmC,EAAG8B,OACnC9B,EAAG+G,UAAY/G,EAAG+G,WAAa/G,EAAG8B,OACjCnE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,0BAAyBjB,SAAEmC,EAAG+G,WAElC,YAAZ/G,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,wBAAuBjB,SAAC,YAE7B,iBAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,kCAAiCjB,SAAC,sBAIxDgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,oBAAmBjB,SAAA,CAC9BmC,EAAGsC,OAAsB,MAAbtC,EAAGsC,QACdzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBjB,SAAA,CAAC,gBAC3BmC,EAAGsC,SAGVtC,EAAGiE,OAAsB,MAAbjE,EAAGiE,QACdpF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYjB,SAAA,CAAC,gBACtBmC,EAAGiE,WAGRjE,EAAGsC,OAAsB,MAAbtC,EAAGsC,UAAoBtC,EAAGiE,OAAsB,MAAbjE,EAAGiE,SACnDtG,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,UAGjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,mBAA8B,YAAZkB,EAAGC,KAAqB,YAAc,yBAA0BpC,SAChGP,EAAiB0C,EAAGgC,gBAGzBrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,SAvC7BqF,MA4CXzD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAIpD,UAAU,0BAAyBjB,UACjDF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,qDAMdgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAKsM,uBAC/C1N,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEP,EAAiB,QAC9CK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAekD,EAAK4B,kBAAmB5E,iBAO5E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAkC,IAAEP,GACzC1D,EAAawR,qBAAuB,IAClCrL,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,wBAA4B,IAAEP,GACnC1D,EAAawR,qBAAuB,IAClCrL,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,0BAA8B,IAAEhC,EAAekD,EAAK4B,kBAAmB5E,sBAU7F4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,MAAKjB,UAClBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,yBACrBF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,gDAETgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,+BAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,yBAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGjE,EAAa2F,cAAgB3F,EAAa2F,aAAatD,OAAS,EAC/DrC,EAAa2F,aAAa2B,KAAI,CAAClB,EAAIoB,KACjCvC,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,UACEgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,cAAajB,SAAEmC,EAAG8B,OACnC9B,EAAG+G,UAAY/G,EAAG+G,WAAa/G,EAAG8B,OACjCnE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,0BAAyBjB,SAAEmC,EAAG+G,WAGlC,aAAZ/G,EAAGC,OACFpB,EAAAA,EAAAA,MAAA,QAAMC,UAAU,wBAAuBjB,SAAA,CACpCmC,EAAGsL,UAAY,GAAK,WACpBtL,EAAG8K,mBAAqB,yBAGhB,YAAZ9K,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,wBAAuBjB,SAAC,YAE7B,iBAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,kCAAiCjB,SAAC,gBAEvC,cAAZmC,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,uBAAsBjB,SAAC,mCAI7CgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,oBAAmBjB,SAAA,CAElB,cAAZmC,EAAGC,MAAwBD,EAAGsC,OAAsB,MAAbtC,EAAGsC,QACzCzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBjB,SAAA,CAAC,gBAC3BmC,EAAGsC,SAGE,cAAZtC,EAAGC,MAAwBD,EAAGiE,OAAsB,MAAbjE,EAAGiE,QACzCpF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYjB,SAAA,CAAC,gBACtBmC,EAAGiE,UAGG,cAAZjE,EAAGC,OAAyBD,EAAGsC,OAAsB,MAAbtC,EAAGsC,UACzCtC,EAAGiE,OAAsB,MAAbjE,EAAGiE,SACftG,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,UAGnCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACZ,YAAZmC,EAAGC,MAAkC,iBAAZD,EAAGC,MAC3BtC,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,WAEzB5D,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAGjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBmC,EAAGyC,UAAY,GACd9E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,6BAA4BjB,SACzCT,EAAa4C,EAAGyC,cAGnB9E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAGjCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,mBAA8B,YAAZkB,EAAGC,KAAqB,YAC7C,iBAAZD,EAAGC,KAA0B,uBACf,cAAZD,EAAGC,KAAuB,YACxB,cACDpC,SACFP,EAAiB0C,EAAGgC,gBAGzBnD,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,KAGrB,cAAZiE,EAAGC,MAAwBD,EAAG0C,iBAAmB,IAChD7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBjB,SAAA,CAAC,cACtBhC,EAAemE,EAAG0C,iBAAkB3G,MAYvC,aAAZiE,EAAGC,MAAuBD,EAAG8K,oBAC5BnN,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAC,4CAzF/BuD,MAiGXzD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAIpD,UAAU,0BAAyBjB,UACjDF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,qDAMdgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAKsM,uBAC/C1N,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAK0D,cAC/C9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa2B,EAAKgJ,8BAC/CpK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEP,EAAiB,QAC9CK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAekD,EAAK6B,mBAAoB7E,iBAO7E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oBAAwB,IAAEP,GAC/B1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAAEP,GAC5B1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,aAMnDnD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EAEvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,IAAEP,GAC1B1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,aAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAKjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBjB,SAAA,EACtCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,IAAEP,GAC1B1D,EAAa2F,cAAgB,IAC3BQ,QAAOC,GAAkB,cAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sBAA0B,IAAEhC,EAAekD,EAAK6B,mBAAoB7E,YAOlF8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,0BAC9BgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,2BAA8BF,EAAAA,EAAAA,KAAA,SACrC9B,EAAekD,EAAK2B,eAAgB3E,GAAU,MAAIF,EAAekD,EAAK4B,kBAAmB5E,GAAU,MAAIF,EAAekD,EAAK6B,mBAAoB7E,MAIjJ+O,GACCjM,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAAvI,SAAA,EACEgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kCAAqCF,EAAAA,EAAAA,KAAA,SAAM,cACvC9B,EAAekD,EAAKkM,qBAAuB,EAAGlP,IAAU4B,EAAAA,EAAAA,KAAA,SAAM,cAC9D9B,EAAekD,EAAKoM,wBAA0B,EAAGpP,OAE/D8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAiCF,EAAAA,EAAAA,KAAA,SACxCX,EAA4B+B,EAAK4B,kBAAmB5E,GAAU,SAAIqB,EAAa2B,EAAKsM,oBAAoB,MAAIrO,EAA4B+B,EAAK8B,WAAY9E,UAI9J8C,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAAvI,SAAA,EACEgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yBAA4BF,EAAAA,EAAAA,KAAA,SACnC9B,EAAekD,EAAK2B,eAAgB3E,GAAU,SAAIF,EAAekD,EAAK6B,mBAAoB7E,GAAU,MAAIuB,EAAiByB,EAAKiJ,8BAEjInJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kBAAqBF,EAAAA,EAAAA,KAAA,SAC5BoB,EAAK0D,UAAY,GAChB5D,EAAAA,EAAAA,MAAAuH,EAAAA,SAAA,CAAAvI,SAAA,CACGhC,EAAekD,EAAK2B,eAAgB3E,GAAU,SAAIqB,EAAa2B,EAAK0D,WAAW,MAAIzF,EAA4B+B,EAAK8B,WAAY9E,MAGnI,gCAQT+O,IACCjM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wCAAuCjB,SAAA,EACpDF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,yCAAmC,iCAC1CkB,EAAK8G,aAAe,GAAK,kEAAkEvI,EAAiByB,EAAK8G,yBACjH9G,EAAK6G,aAAe,GAAK,QAAQ/J,EAAekD,EAAK6G,aAAc7J,oBACnEgD,EAAK+K,aAAe,GAAK,mBAAmBxM,EAAiByB,EAAK+K,wCAUjF,EAozFee,GA32BeU,MACtC,IAAK3R,IAAiBA,EAAagF,aAAc,OAAO,KAExDhD,QAAQ8I,IAAI,yBAA0B9K,GACtC,MAAMmF,EAAOnF,EAAagF,aACpB+F,EAAW/K,EAAagL,gBACxBC,EAAYjL,EAAakL,iBAGzBjJ,EAAkBC,IACtB,MACMQ,GADW1C,EAAamC,UAAY,OACZM,MAAM,KAAK,IAAM,MAC/C,OAAO,IAAII,KAAKC,aAAa,QAAS,CACpCC,MAAO,WACPZ,SAAUO,EACVM,sBAAuB,EACvBM,sBAAuB,IACtBL,OAAOf,GAAU,EAAE,EAGlBsB,EAAgBC,GACb,IAAIZ,KAAKC,aAAa,SAASG,OAAOsI,KAAK7J,MAAM+B,GAAO,IAG3DC,EAAoBC,GAEjB,IAD6B,kBAAZA,EAAuBT,WAAWS,GAAYA,GAAW,GAC9DR,QAAQ,MAE7B,IAAIoD,EAAYvG,EAAawG,eAAiB,IAAMxG,EAAayG,eACjE,OACE1C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCjB,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEjE,EAAa2G,WAAa,4BAChD1B,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAQsC,EAAU,iDAEpBtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAGxBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,kCACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,8BAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAKyM,sBAI7B7N,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,qCAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK2B,wBAI7B/C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,oCAC9BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAKkB,EAAK8G,aAAa,aAI3BlI,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK6G,yBAK/B/G,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,uCACPgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAKkB,EAAKiM,kBAAkB,QAC5BnM,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAQT,EAAa2B,EAAK0M,gBAAgB,oCAI9C9N,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAKkB,EAAK+K,aAAa,QACvBnM,EAAAA,EAAAA,KAAA,SAAAE,SAAO,+CAIXF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,4BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAKoH,yBACvBxI,EAAAA,EAAAA,KAAA,SAAAE,SAAO,6CAMbgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,4CAC9BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aAAiB,4EAE3BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAAET,EAAa2B,EAAKoH,sBAAsB,cAASpH,EAAKiM,kBAAoB,IAAI,UAAKjM,EAAKiM,kBAAoB,IAAI,MAAI5N,EAAa2B,EAAK0M,gBAAgB,cAEvL5M,EAAAA,EAAAA,MAAA,KAAGC,UAAU,aAAYjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kBAAsB,IAAET,EAAa2B,EAAKoH,sBAAsB,iBAAe/I,EAAa2B,EAAK0M,gBAAgB,kBAAgBrO,EAAa2B,EAAKwH,oBAAoB,iBAKnL1H,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,2DAC9BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMjB,SAAA,EACjBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,2BAAuBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAkC,uBAC5FF,EAAAA,EAAAA,KAAA,SAAM,4CACoC9B,EAAekD,EAAK2M,0BAA4B3M,EAAK2B,gBAAgB,iBAAa/C,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aAAiB,mBACrJF,EAAAA,EAAAA,KAAA,SAAM,uEAMTgH,GAAYA,EAASpF,cAAgBoF,EAASpF,aAAatD,OAAS,IACnE0B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sCAAqCjB,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,gEACrBgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAO,4CAA0CkB,EAAKiM,kBAAkB,wBAE1EnM,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,+BACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBAGRgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACG8G,EAASpF,aAAa2B,KAAI,CAAClB,EAAIoB,KAC9BvC,EAAAA,EAAAA,MAAA,MAAcC,UACA,iBAAZkB,EAAGC,KAA0B,gBACf,YAAZD,EAAGC,KAAqB,GAAK,cAChCpC,SAAA,EACCF,EAAAA,EAAAA,KAAA,MAAAE,UACEgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,MAAQ9B,EAAG+G,YACvBpJ,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAEmC,EAAG+B,MAAQ/B,EAAGC,aAG1CpB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CACGmC,EAAGsC,OAAsB,MAAbtC,EAAGsC,QACdzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,CAAC,gBACjBmC,EAAGsC,SAGVtC,EAAG2L,SACFhO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SACL,WAAdmC,EAAG2L,OAAsB,gBAAa,0BAI7ChO,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAEzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAG/BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,gBAAejB,SAC5BP,EAAiB0C,EAAGgC,gBAGzBrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,aApCtBb,MA0CXvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAauH,EAASjF,gBACnD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa,MAC1CO,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAe8I,EAASd,0BAO7DhF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,wCACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,eACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEP,EAAiByB,EAAK6M,2BACvDjO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,gBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEP,EAAiByB,EAAK8M,2BACvDlO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,iCACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAC,gBAItCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,uBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,oBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEhC,EAAekD,EAAKyM,iBACrD7N,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,kBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEhC,EAAekD,EAAK8B,eACrDlD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,mBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAET,EAAa2B,EAAKwH,2CAYpE1B,GAAaA,EAAUtF,cAAgBsF,EAAUtF,aAAatD,OAAS,IACtE0B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCjB,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,iEACrBF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,yEAETgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,mBAAkBjB,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,4BAAsB,uGACMT,EAAayH,EAAUnF,aAAa,gFAI1E/B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,+BACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBAGRgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGgH,EAAUtF,aAAa2B,KAAI,CAAClB,EAAIoB,KAC/BvC,EAAAA,EAAAA,MAAA,MAAcC,UACA,iBAAZkB,EAAGC,KAA0B,gBACf,8BAAZD,EAAGC,KAAuC,aAC5B,yBAAZD,EAAGC,KAAkC,eACvB,YAAZD,EAAGC,KAAqB,GAAK,cACpCpC,SAAA,EACCgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAAE,SAASmC,EAAG8B,MAAQ9B,EAAG+G,WACtB/G,EAAG+B,OAAQpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+B,OACjD/B,EAAG8K,oBACFnN,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,kBAAiBjB,SAAC,qCAIlCmC,EAAG8L,cACFnO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,SAAC,8CAKvCgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CACGmC,EAAGsC,OAAsB,MAAbtC,EAAGsC,QACdzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOjB,SAAA,CAAC,gBAAImC,EAAGsC,SAE/BtC,EAAG2L,SACFhO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SACL,WAAdmC,EAAG2L,OAAsB,gBAAa,sBAG1C3L,EAAG0C,iBAAmB,IACrB7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAejB,SAAA,CAAC,gBACzBhC,EAAemE,EAAG0C,yBAI5B/E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UAEzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAG/BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa4C,EAAGuB,aAE3B5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAAuB,IAAdkB,EAAGuB,OAAe,eAAiB,WACxD1D,SACFP,EAAiB0C,EAAGgC,gBAGzBrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,aArDtBb,MA2DXvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,wBAAuBjB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAayH,EAAUnF,gBACpD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,OAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAayH,EAAUnF,gBACpD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,UAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAegJ,EAAUhB,0BAO9DhF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,wBACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,wCACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEhC,EAAekD,EAAK2M,6BACrD/N,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,+BACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEhC,EAAekD,EAAKoM,2BACrDxN,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,0BACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEkB,EAAKgN,iBACtCpO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,iCACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAC,eAKtCF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,8BACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,uCACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEhC,EAAekD,EAAK6B,uBACrDjD,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,yCACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAET,EAAa2B,EAAKiN,yBACnDrO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,+BACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAET,EAAayH,EAAUnF,gBACxD/B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,QAAOjB,SAAC,kBACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iBAAgBjB,SAAEhC,EAAegJ,EAAUhB,oCAY5EhF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAejB,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,cAAajB,UAC1BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,4FAEvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBACJgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EAAIF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,wBAA4B,+CACxCgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EAAIF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEhC,EAAekD,EAAK6G,kBACzD/G,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EAAIF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEkB,EAAK8G,aAAa,QACvDhH,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EAAIF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEkB,EAAK+K,aAAa,kBACvDjL,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EAAIF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,sBAA0B,gFAI1CgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,EAClBF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gDACJgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,+BAAwBhC,EAAekD,EAAK2M,8BAChD/N,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oDACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,+DACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wEASd,EA2ce0N,GA1yFIU,MAC3B,IAAKrS,IAAiBA,EAAagF,aAAc,OAAO,KAExD,MAAMG,EAAOnF,EAAagF,aACpB7C,EAAWnC,EAAamC,UAAY,MAGpCmQ,EAAetS,EAAagL,gBAC5BuH,EAAgBvS,EAAakL,iBACnC,IAAI3E,EAAYvG,EAAawG,eAAiB,IAAMxG,EAAayG,eACjE,OACE1C,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,oBAAmBjB,UAChCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mCAAkCjB,SAAA,EAC/CF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEjE,EAAa2G,aACnC1B,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CAAQsC,EAAU,sCAEpBtB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAGxBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,kCACrBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,qBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK2B,eAAgB3E,WAG7C4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAKyM,aAAczP,WAG3C4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKhC,EAAekD,EAAK6G,aAAc7J,WAG3C4B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCjB,SAAA,EACnDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAK8G,yBAKjChH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iDAAgDjB,SAAA,EAC7DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,4BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKP,EAAiByB,EAAKiM,2BAG/BrN,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oDAAmDjB,SAAA,EAChEF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,0BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAKoH,8BAG3BxI,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mDAAkDjB,SAAA,EAC/DF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,6BACPF,EAAAA,EAAAA,KAAA,MAAAE,SAAKT,EAAa2B,EAAK0M,2BAM7B5M,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,4CAC9BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMjB,SAAA,EACjBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aAAiB,4EAE3BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMjB,SAAA,EACjBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,iBAAqB,IAAET,EAAa2B,EAAKoH,sBAAsB,cAAS7I,EAAiByB,EAAKiM,mBAAmB,UAAK1N,EAAiByB,EAAKiM,mBAAmB,MACrKnM,EAAAA,EAAAA,MAAA,QAAMC,UAAU,6BAA4BjB,SAAA,CAAET,EAAa2B,EAAK0M,gBAAgB,oBAKtF5M,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,gBAAejB,SAAC,oDAC9BgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMjB,SAAA,EACjBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,eAAmB,yDAAqDF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,8BAA6B,0BAElHgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,OAAMjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,iCAA6BF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAK2B,eAAgB3E,SAC9E8C,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,sBAAkBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aAAiB,qBAC/CgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,8BAA0BF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,6BAAiC,qBAEzEgB,EAAAA,EAAAA,MAAA,KAAGC,UAAU,OAAMjB,SAAA,EACjBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,oCAAwC,cAChDF,EAAAA,EAAAA,KAAA,SAAM,mCAAyBL,EAAiByB,EAAK8G,cAAc,KACnElI,EAAAA,EAAAA,KAAA,SAAM,+CAKTuO,IACCvO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMjB,SAAA,EACnBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,oDACrBF,EAAAA,EAAAA,KAAA,SAAAE,SAAQqO,EAAa3Q,cAEvBsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,+BAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,oBAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGqO,EAAa3M,aAAa2B,KAAI,CAAClB,EAAIoB,KAClCvC,EAAAA,EAAAA,MAAA,MAAcC,UAAuB,iBAAZkB,EAAGC,KAA0B,gBAAkB,GAAGpC,SAAA,EACzEF,EAAAA,EAAAA,KAAA,MAAAE,UACEgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAQmB,UACM,YAAZkB,EAAGC,KAAqB,eACV,iBAAZD,EAAGC,KAA0B,eAAiB,YACjDpC,SACEmC,EAAG8B,OAEL9B,EAAG+G,UAAY/G,EAAG+G,WAAa/G,EAAG8B,OACjCnE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+G,YAExCpJ,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,eAA0B,YAAZkB,EAAGC,KAAqB,aACzC,iBAAZD,EAAGC,KAA0B,uBAAyB,WACnDpC,SACFmC,EAAGC,aAIVtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,oBAAmBjB,SAC9BmC,EAAGsC,OAAsB,MAAbtC,EAAGsC,OACdzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYjB,SAAA,CAAC,gBAAImC,EAAGsC,UACjC3E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAEnCF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,YAAWjB,SAAET,EAAa4C,EAAGuB,aAEjD5D,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAASkB,EAAGyC,UAAY,EAAI,aAAe,gBAAiB5E,SAC1ET,EAAa4C,EAAGyC,gBAGrB9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,mBAA8B,YAAZkB,EAAGC,KAAqB,aAC7C,iBAAZD,EAAGC,KAA0B,uBAAyB,gBACnDpC,SACFP,EAAiB0C,EAAGgC,gBAGzBrE,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,SAxC7BqF,MA8CXvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,0BAAyBjB,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa8O,EAAaxM,gBACvD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBT,EAAa8O,EAAa3M,aAAa6C,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGyC,WAAW,OAElF9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEP,EAAiB,QAC9CK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAeqQ,EAAarI,WAAY9H,iBAO7E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,8BAAkC,IAAEP,EAC1C4O,EAAa3M,aACVQ,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,UAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,6BAAiC,IAAEP,EACzC4O,EAAa3M,aACVQ,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,sBAY5DmK,IACCxO,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBjB,SAAA,EAClCgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oCAAmCjB,SAAA,EAChDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,qDACrBF,EAAAA,EAAAA,KAAA,SAAAE,SAAQsO,EAAc5Q,cAExBsD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWjB,SAAA,EAGxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,4BAAsB,iGACKF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa+O,EAAczM,eAAsB,mEAI/F/B,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,UAC/BgB,EAAAA,EAAAA,MAAA,SAAOC,UAAU,mCAAkCjB,SAAA,EACjDF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,UAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,mBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,gBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,kBAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,+BAC5BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAC,oBAGhCgB,EAAAA,EAAAA,MAAA,SAAAhB,SAAA,CACGsO,EAAc5M,aAAa2B,KAAI,CAAClB,EAAIoB,KACnCvC,EAAAA,EAAAA,MAAA,MAAcC,UACA,iBAAZkB,EAAGC,KAA0B,gBACf,kBAAZD,EAAGC,KAA2B,aAAe,GAChDpC,SAAA,EACCF,EAAAA,EAAAA,KAAA,MAAAE,UACEgB,EAAAA,EAAAA,MAAA,OAAAhB,SAAA,EACEF,EAAAA,EAAAA,KAAA,UAAQmB,UACM,YAAZkB,EAAGC,KAAqB,eACV,iBAAZD,EAAGC,KAA0B,eACf,kBAAZD,EAAGC,KAA2B,YAAc,YACjDpC,SACEmC,EAAG8B,OAEL9B,EAAG+G,UAAY/G,EAAG+G,WAAa/G,EAAG8B,OACjCnE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,mBAAkBjB,SAAEmC,EAAG+G,YAExCpJ,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,eAA0B,YAAZkB,EAAGC,KAAqB,aACzC,iBAAZD,EAAGC,KAA0B,uBACf,kBAAZD,EAAGC,KAA2B,UAAY,gBACzCpC,SACFmC,EAAGC,aAIVtC,EAAAA,EAAAA,KAAA,MAAImB,UAAU,oBAAmBjB,SAC9BmC,EAAGsC,OAAsB,MAAbtC,EAAGsC,OACdzD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYjB,SAAA,CAAC,gBAAImC,EAAGsC,UACjC3E,EAAAA,EAAAA,KAAA,QAAMmB,UAAU,aAAYjB,SAAC,SAEnCgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,YAAWjB,SAAET,EAAa4C,EAAGuB,UAClC,kBAAZvB,EAAGC,OACFtC,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,iCAAgCjB,SAAC,mCAKpDF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,UAASkB,EAAGyC,UAAY,EAAI,aAAe,gBAAiB5E,SAC1ET,EAAa4C,EAAGyC,gBAGrB9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,eAAcjB,SAAET,EAAa4C,EAAGuB,OAASvB,EAAGyC,gBAEhE9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,UACzBF,EAAAA,EAAAA,KAAA,QAAMmB,UAAW,mBAA8B,YAAZkB,EAAGC,KAAqB,aAC7C,iBAAZD,EAAGC,KAA0B,uBACf,kBAAZD,EAAGC,KAA2B,UAAY,gBACzCpC,SACFP,EAAiB0C,EAAGgC,gBAGzBnD,EAAAA,EAAAA,MAAA,MAAIC,UAAU,cAAajB,SAAA,EACzBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAemE,EAAGiC,MAAOlG,KACjCiE,EAAG0C,iBAAmB,IACrB7D,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAAyBjB,SAAA,CAAC,sBAC7BhC,EAAemE,EAAG0C,iBAAkB3G,MAGjDiE,EAAG+B,OACFpE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,wBAAuBjB,SAAEmC,EAAG+B,YA7DxCX,MAoEXvC,EAAAA,EAAAA,MAAA,MAAIC,UAAU,wBAAuBjB,SAAA,EACnCF,EAAAA,EAAAA,KAAA,MAAIuE,QAAQ,IAAGrE,SAAC,WAChBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa+O,EAAczM,gBACxD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SACxBT,EAAa+O,EAAc5M,aAAa6C,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGyC,WAAW,OAEnF9E,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAET,EAAa+O,EAAczM,gBACxD/B,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEP,EAAiB,QAC9CK,EAAAA,EAAAA,KAAA,MAAImB,UAAU,cAAajB,SAAEhC,EAAesQ,EAActI,WAAY9H,iBAO9E8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,8BACPF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEP,EACpB6O,EAAc5M,aACXQ,QAAOC,GAAkB,YAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,YAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,2BAA0BjB,SAAA,EACvCF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,mBACPF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEP,EACpB6O,EAAc5M,aACXQ,QAAOC,GAAkB,iBAAZA,EAAGC,OAChBmC,QAAO,CAACC,EAAKrC,IAAOqC,EAAMrC,EAAGgC,WAAW,YAIjDrE,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,WAAUjB,UACvBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBjB,SAAA,EACpCF,EAAAA,EAAAA,KAAA,SAAAE,SAAO,qCACPF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAEhC,EAAesQ,EAAcjF,gBAAkB,EAAGnL,MACxE8C,EAAAA,EAAAA,MAAA,SAAOC,UAAU,aAAYjB,SAAA,CAAEsO,EAAcC,mBAAqB,EAAE,mCAapFvN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAejB,SAAA,EAC5BF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,cAAajB,UAC1BF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,OAAMjB,SAAC,6CAEvBF,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,YAAWjB,UACxBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,eAAcjB,SAAC,sBAC7BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,gBAAejB,SAAA,EAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,yBAAgBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa2B,EAAKwH,0BAC/C1H,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,2BAAkBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa2B,EAAKoH,4BACjDtH,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,4BAAmBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa2B,EAAK0M,sBAClD5M,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,wBAAeF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAKyM,aAAczP,eAGlE8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,MAAImB,UAAU,eAAcjB,SAAC,uBAC7BgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,gBAAejB,SAAA,EAC3BgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,yBAAgBF,EAAAA,EAAAA,KAAA,UAAAE,SAAST,EAAa2B,EAAKiH,uBAA8B,0BAC7EnH,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,4BAAmBF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAK2B,eAAgB3E,SACpE8C,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,8BAAgBF,EAAAA,EAAAA,KAAA,UAAQmB,UAAU,cAAajB,SAAC,MAAU,uBAC9DgB,EAAAA,EAAAA,MAAA,MAAAhB,SAAA,CAAI,wBAAeF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAekD,EAAKyM,aAAczP,sBAQvEnC,EAAayS,iBACZxN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BjB,SAAA,EACzCgB,EAAAA,EAAAA,MAAA,MAAIC,UAAU,gBAAejB,SAAA,CAAC,gBAAIjE,EAAayS,eAAetK,SAC9DlD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,MAAKjB,SAAA,EAClBgB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,wBAC9BF,EAAAA,EAAAA,KAAA,OAAAE,UAAKF,EAAAA,EAAAA,KAAA,UAAAE,SAASjE,EAAayS,eAAeC,0BAE5CzN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,OAAAE,UAAKF,EAAAA,EAAAA,KAAA,UAAAE,SAAShC,EAAejC,EAAayS,eAAezG,aAAc7J,WAEzE8C,EAAAA,EAAAA,MAAA,OAAKC,UAAU,WAAUjB,SAAA,EACvBF,EAAAA,EAAAA,KAAA,SAAOmB,UAAU,aAAYjB,SAAC,mBAC9BF,EAAAA,EAAAA,KAAA,OAAAE,UAAKF,EAAAA,EAAAA,KAAA,UAAAE,SAASP,EAAiB1D,EAAayS,eAAexG,kCAOnE,EAy4EeoG,EAcV,EAnDsC,IAqDrChS,IAAYE,IAAUP,IACtB+D,EAAAA,EAAAA,KAAA,OAAKmB,UAAU,sBAAsByE,KAAK,QAAO1F,SAAC,iEAWpE,CAhvHA0O,EAAAA,GAAQC,SACNC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,G,sECrBF,MAAMC,EAAsB,QAErB,SAASC,EAAgBC,EAAsBjL,GACjC,oBAARiL,EACTA,EAAIjL,GACKiL,IACTA,EAAIC,QAAUlL,EAElB,CAcO,SAASmL,EAKdC,EACAC,GAEAD,EAAY7E,OAAS8E,CACvB,CAEO,SAASC,EAKdF,EACAG,GACA,IAAAC,EAAAzR,UAAeC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAAgR,EAEf,MAAMU,EAA8C,GAEpDL,EAAY5E,SAAW+E,EAAatM,KACjCyM,IAEC,MAAMC,EAAiBP,EAAY5E,SAASoF,MACzCC,GACCA,EAAQL,KAAkBE,EAAYF,KAI1C,OACGG,GACAD,EAAYxS,OACbuS,EAAcnR,SAASqR,IAKzBF,EAAcK,KAAKH,GAEnBI,OAAOC,OAAOL,EAAgBD,GAEvBC,GAPE,IAAKD,EAOP,GAGb,CAEO,SAASO,EAId/S,GAAuC,IAAAsS,EAAAzR,UAAeC,OAAA,YAAAD,UAAA,GAAAA,UAAA,GAAAgR,EACtD,MAAMmB,EAA4C,CAChD3F,OAAQ,GACRC,SAAU,IAMZ,OAHA2E,EAAUe,EAAUhT,EAAKqN,QACzB+E,EAAYY,EAAUhT,EAAKsN,SAAUgF,GAE9BU,CACT,CCnFA,SAASC,EAKPC,EACAnB,GAEA,MAAM,OACJtP,EAAS,IAAG,MACZ0Q,EAAQ,IAAG,OACXC,GAAS,EAAK,aACdd,EAAY,KACZxN,EAAI,KACJ9E,EAAI,QACJ4C,EAAO,QACPE,EAAU,GAAE,gBACZuQ,EAAe,WACfC,KACGC,GACDL,EACEM,GAAYC,EAAAA,EAAAA,QAA0B,MACtCC,GAAWD,EAAAA,EAAAA,QAA6C,MAExDE,EAAcA,KACbH,EAAUxB,UAEf0B,EAAS1B,QAAU,IAAI4B,EAAAA,GAAQJ,EAAUxB,QAAS,CAChDlN,OACA9E,KAAM+S,EAAU/S,EAAMsS,GACtB1P,QAASA,GAAW,IAAKA,GACzBE,YAGFgP,EAAaC,EAAK2B,EAAS1B,SAAQ,EAG/B6B,EAAeA,KACnB/B,EAAaC,EAAK,MAEd2B,EAAS1B,UACX0B,EAAS1B,QAAQ8B,UACjBJ,EAAS1B,QAAU,KACrB,EA6CF,OA1CA5S,EAAAA,EAAAA,YAAW,MACJgU,GAAUM,EAAS1B,SAAWpP,GDtChC,SAILmR,EAAoCC,GACpC,MAAMpR,EAAUmR,EAAMnR,QAElBA,GAAWoR,GACbnB,OAAOC,OAAOlQ,EAASoR,EAE3B,CC6BMC,CAAWP,EAAS1B,QAASpP,EAC/B,GACC,CAACwQ,EAAQxQ,KAEZxD,EAAAA,EAAAA,YAAW,MACJgU,GAAUM,EAAS1B,SACtBC,EAAUyB,EAAS1B,QAAQkC,OAAOlU,KAAMA,EAAKqN,OAC/C,GACC,CAAC+F,EAAQpT,EAAKqN,UAEjBjO,EAAAA,EAAAA,YAAW,MACJgU,GAAUM,EAAS1B,SAAWhS,EAAKsN,UACtC8E,EAAYsB,EAAS1B,QAAQkC,OAAOlU,KAAMA,EAAKsN,SAAUgF,EAC3D,GACC,CAACc,EAAQpT,EAAKsN,YAEjBlO,EAAAA,EAAAA,YAAW,KACJsU,EAAS1B,UAEVoB,GACFS,IACAM,WAAWR,IAEXD,EAAS1B,QAAQoC,OAAOd,GAC1B,GACC,CAACF,EAAQxQ,EAAS5C,EAAKqN,OAAQrN,EAAKsN,SAAUgG,KAEjDlU,EAAAA,EAAAA,YAAW,KACJsU,EAAS1B,UAEd6B,IACAM,WAAWR,GAAA,GACV,CAAC7O,KAEJ1F,EAAAA,EAAAA,YAAW,KACTuU,IAEO,IAAME,MACZ,IAGDQ,EAAAA,cAAC,UACCtC,IAAKyB,EACLpL,KAAK,MACL3F,OAAQA,EACR0Q,MAAOA,KACHI,GAEHF,EAGP,CAEO,MAAMiB,GAAQC,EAAAA,EAAAA,YAAWtB,GC7FhC,SAASuB,EACP1P,EACA2P,GAIA,OAFAb,EAAAA,GAAQvC,SAASoD,IAEVF,EAAAA,EAAAA,aACJ,CAAArB,EAAOnB,IAAQsC,EAAAA,cAACC,EAAA,IAAUpB,EAAOnB,IAAKA,EAAKjN,KAAMA,KAEtD,C,MAIanC,EAAsB6R,EAAiB,MAAOE,EAAAA,IAmB9CjG,EAAsB+F,EAAiB,MAAOG,EAAAA,G","sources":["pages/User/Investor/RecordRoundCaptable.jsx","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\n\r\n\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement // Pie chart   add \r\n} from 'chart.js';\r\n\r\n//  Register all required components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement // Pie chart  \r\n);\r\nexport default function RecordRoundCaptable() {\r\n  const navigate = useNavigate();\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = JSON.parse(storedUsername);\r\n  const API_URL_CAPTABLE = API_BASE_URL + \"api/user/capitalround/\";\r\n  document.title = \"Round Cap Table\";\r\n  const { id } = useParams();\r\n\r\n  const [capTableData, setCapTableData] = useState(null);\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getCapTableData();\r\n  }, [id]);\r\n\r\n  const getCapTableData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    let formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        setCapTableData(res.data.capTable);\r\n        setRoundData(res.data.round);\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const formatCurrency = (amount, currency = \"USD\") => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n      }).format(amount || 0);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${parseFloat(amount || 0).toFixed(2)}`;\r\n    }\r\n  };\r\n  const formatCurrencyPricePerShare = (amount = 0, currency = \"USD\") => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places, not more\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${(parseFloat(amount) || 0).toFixed(3)}`;\r\n    }\r\n  };\r\n  const formatPriceThreeDecimal = (amount = 0) => {\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback\r\n      return (parseFloat(amount) || 0).toFixed(3);\r\n    }\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    return new Intl.NumberFormat(\"en-US\").format(num || 0);\r\n  };\r\n\r\n  const formatPercentage = (percent) => {\r\n    return `${(percent || 0).toFixed(2)}%`;\r\n  };\r\n  const RoundCapChart = ({ chartData }) => {\r\n    const options = {\r\n      responsive: true,\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: \"Fully Diluted Ownership %\" },\r\n      },\r\n      scales: {\r\n        y: { beginAtZero: true, max: 100 },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <div style={{ height: \"300px\" }}>\r\n        <Bar data={chartData} options={options} />\r\n      </div>\r\n    );\r\n  };\r\n  const renderRoundZeroTable = () => {\r\n    if (!capTableData) return null;\r\n\r\n    // Check for error in Round 0 data\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Data Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          <p className=\"mb-0\">\r\n            Please check Round 0 data structure. Founder allocation data is required.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small className=\"opacity-75\">Company Incorporation - Founder Shares Allocation</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Platform Inputs Summary */}\r\n            <h5 className=\"mb-3\">Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Founder Share Allocation</small>\r\n                  <h6>{capTableData.calculations.founderCount} Founders</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Share Types</small>\r\n                  <h6>Common Shares</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Price Per Share</small>\r\n                  <h6>{formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Platform Outputs */}\r\n            <h5 className=\"mb-3\">Platform Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Total Shares Issued</small>\r\n                  <h5>{formatNumber(capTableData.calculations.totalSharesIssued)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Total Company Value</small>\r\n                  <h5>{formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>Founder Count</small>\r\n                  <h5>{capTableData.calculations.founderCount}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Ownership Chart */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* Founder Share Allocation Table - CLIENT EXAMPLE  according */}\r\n            <h5 className=\"mt-4 mb-3\">Founder Share Allocation</h5>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped table-hover\">\r\n                <thead className=\"table-dark\">\r\n                  <tr>\r\n                    <th>Founder Name</th>\r\n                    <th>Email</th>\r\n                    <th>Phone</th>\r\n                    <th>Share Type</th>\r\n                    <th>Share Class</th>\r\n                    <th>Voting Rights</th>\r\n                    <th className=\"text-end\">Numbers of Shares</th>\r\n                    <th className=\"text-end\">Price Per Share</th>\r\n                    <th className=\"text-end\">Ownership %</th>\r\n                    <th className=\"text-end\">Value</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {capTableData.shareholders.map((sh, idx) => (\r\n                    <tr key={idx}>\r\n                      <td>\r\n                        <strong>\r\n                          {sh.firstName && sh.lastName ?\r\n                            `${sh.firstName} ${sh.lastName}` :\r\n                            `Founder ${idx + 1}`\r\n                          }\r\n                        </strong>\r\n                      </td>\r\n                      <td>\r\n                        {sh.email ? (\r\n                          <a href={`mailto:${sh.email}`} className=\"text-decoration-none\">\r\n                            {sh.email}\r\n                          </a>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {sh.phone ? (\r\n                          <a href={`tel:${sh.phone}`} className=\"text-decoration-none\">\r\n                            {sh.phone}\r\n                          </a>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-secondary text-capitalize\">\r\n                          {sh.shareType === 'common' ? 'Common Shares' :\r\n                            sh.shareType === 'preferred' ? 'Preferred Shares' :\r\n                              sh.shareType === 'other' && sh.customShareType ? sh.customShareType :\r\n                                'Common Shares'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-light text-dark border\">\r\n                          {sh.shareClass === 'other' && sh.customShareClass ?\r\n                            sh.customShareClass :\r\n                            sh.shareClass || 'Class A'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span className={`badge ${sh.votingRights === 'voting' ? 'bg-success' : 'bg-warning'}`}>\r\n                          {sh.votingRights === 'voting' ? 'Voting' : 'Non-Voting'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-end\">{formatNumber(sh.shares)}</td>\r\n                      <td className=\"text-end\">\r\n                        {formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        <span className=\"badge bg-danger\" style={{ fontSize: '16px' }}>\r\n                          {formatPercentage(sh.ownership)}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        {formatCurrency(sh.value, capTableData.currency)}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n\r\n                  {/* Total Row */}\r\n                  <tr className=\"table-secondary fw-bold\">\r\n                    <td colSpan=\"6\">TOTAL</td>\r\n                    <td className=\"text-end\">\r\n                      {formatNumber(capTableData.calculations.totalSharesIssued)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatPercentage(100)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Additional Summary Information */}\r\n            <div className=\"row mt-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Founders</h6>\r\n                    <h4 className=\"text-primary\">{capTableData.shareholders.length}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Shares</h6>\r\n                    <h4 className=\"text-success\">{formatNumber(capTableData.calculations.totalSharesIssued)}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Price Per Share</h6>\r\n                    <h4 className=\"text-info\">\r\n                      {formatCurrencyPricePerShare(\r\n                        capTableData.calculations.sharePrice,\r\n                        capTableData.currency\r\n                      )}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Value</h6>\r\n                    <h4 className=\"text-warning\">\r\n                      {formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-4\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-info\">\r\n                  <h6 className=\"alert-heading\"> Platform Inputs</h6>\r\n                  <ul className=\"mb-0 small\">\r\n                    <li>Number of shares issued to each founder</li>\r\n                    <li>Type of shares as per incorporation documents</li>\r\n                    <li>Price per share as per incorporation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-success\">\r\n                  <h6 className=\"alert-heading\"> Platform Outputs</h6>\r\n                  <ul className=\"mb-0 small\">\r\n                    <li>Total number of shares issued</li>\r\n                    <li>Ownership % based on shares issued</li>\r\n                    <li>Total company value at incorporation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Carry Over Information - CLIENT REQUIREMENTS  according */}\r\n            <div className=\"alert alert-warning mt-3\">\r\n              <h6 className=\"alert-heading\"> Important Note</h6>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Total shares ({formatNumber(capTableData.calculations.totalSharesIssued)}) will carry forward to Round 1.</strong>\r\n              </p>\r\n              <p className=\"mb-0 small\">\r\n                <strong>Price per share ({formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}) and company valuation ({formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}) will NOT carry over to investment rounds.</strong>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSeedRoundTable = () => {\r\n\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Check if this is a Convertible Note round\r\n    const isConvertibleNote = capTableData.isConvertibleNoteRound ||\r\n      capTableData.instrumentType === \"Convertible Note\";\r\n\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-success text-white\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small className=\"opacity-75\">\r\n              {isConvertibleNote ? \"Convertible Note Round - Cap Table Calculations\" : \"Seed Round - Cap Table Calculations\"}\r\n            </small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Platform Inputs */}\r\n            <h5 className=\"mb-3\">Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.optionPoolPercent)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Round Type</small>\r\n                  <h5>{isConvertibleNote ? \"Convertible Note\" : \"Equity Round\"}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Convertible Note Specific Inputs */}\r\n            {isConvertibleNote && calc.valuationCap && (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                    <small className=\"text-white\">Valuation Cap</small>\r\n                    <h6>{formatCurrency(calc.valuationCap, currency)}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                    <small>Discount Rate</small>\r\n                    <h6>{formatPercentage(calc.discountRate)}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                    <small>Interest Rate</small>\r\n                    <h6>{formatPercentage(calc.interestRate)}</h6>\r\n                  </div>\r\n                </div>\r\n                {/* <div className=\"col-md-3\">\r\n                  <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                    <small>Conversion Trigger</small>\r\n                    <h6>{calc.convertibleTrigger || \"QUALIFIED_FINANCING\"}</h6>\r\n                  </div>\r\n                </div> */}\r\n              </div>\r\n            )}\r\n\r\n            {/* Platform Outputs */}\r\n            <h5 className=\"mb-3\">Platform Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small>Post-Money Valuation</small>\r\n                  <h6>{formatCurrency(calc.postMoneyValuation, currency)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Post-Investment # Shares</small>\r\n                  <h6>{formatNumber(calc.postInvestmentTotalShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>New Shares Issued</small>\r\n                  <h6>{formatPriceThreeDecimal(calc.newShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>\r\n                    {isConvertibleNote ? \"Theoretical Share Price\" : \"Share Price\"}\r\n                  </small>\r\n                  <h6>{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h6>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Conditional Investor Ownership Display */}\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                  <small>\r\n                    {isConvertibleNote ? \"Note Investment\" : \"Investor Ownership\"}\r\n                  </small>\r\n                  <h6>\r\n                    {isConvertibleNote\r\n                      ? formatCurrency(calc.totalNoteInvestment || 0, currency)\r\n                      : formatPercentage(calc.investorOwnershipPercent)\r\n                    }\r\n                  </h6>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                  <small>Option Pool</small>\r\n                  <h6>{formatNumber(calc.optionPoolShares)} shares</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Available for Investment Display */}\r\n            {isConvertibleNote && calc.availableForInvestment > 0 && (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"alert alert-danger\">\r\n                    <h6 className=\"alert-heading\"> Available for Investment</h6>\r\n                    <p className=\"mb-0\">\r\n                      <strong>{formatCurrency(calc.availableForInvestment, currency)}</strong> remaining in this convertible note round.\r\n                      {calc.totalNoteInvestment > 0 && (\r\n                        <span> ({formatCurrency(calc.totalNoteInvestment, currency)} already committed)</span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Ownership Chart */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* ========== PRE-SEED CAP TABLE ========== */}\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h5 className=\"mb-0\">Pre-Seed Cap Table</h5>\r\n                    <small>(# shares, Ownership %, Currency Value)</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Contact Info</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.preSeedShareholders && capTableData.preSeedShareholders.length > 0 ? (\r\n                            capTableData.preSeedShareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className=\"text-danger\">{sh.name}</strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small fw-bold text-dark\">{sh.fullName}</div>\r\n                                    )}\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-success mt-1\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark mt-1\">Option Pool</span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"text-muted mb-1\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.phone && sh.phone !== \"-\" && (\r\n                                    <div className=\"text-muted\">\r\n                                       {sh.phone}\r\n                                    </div>\r\n                                  )}\r\n                                  {(!sh.email || sh.email === \"-\") && (!sh.phone || sh.phone === \"-\") && (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-danger\" : \"bg-warning text-white\"}`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"5\" className=\"text-center text-danger\">\r\n                                <strong> No shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preSeedTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Total Founders Ownership:</strong> {formatPercentage(\r\n                            (capTableData.preSeedShareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Employee Ownership:</strong> {formatPercentage(\r\n                            (capTableData.preSeedShareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Total Pre-Seed Value:</strong> {formatCurrency(calc.preMoneyValuation, currency)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ========== POST-SEED CAP TABLE ========== */}\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h5 className=\"mb-0\">Post-Seed Cap Table</h5>\r\n                    <small>(# shares, Ownership %, Currency Value)</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Contact Info</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">New Shares</th>\r\n                            <th className=\"text-center\">Total Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.shareholders && capTableData.shareholders.length > 0 ? (\r\n                            capTableData.shareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className=\"text-danger\">{sh.name}</strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small fw-bold text-dark\">{sh.fullName}</div>\r\n                                    )}\r\n                                    {/* Type badges for all shareholder types */}\r\n                                    {sh.type === \"Investor\" && (\r\n                                      <span className=\"badge bg-success mt-1\">\r\n                                        {sh.isGeneric ? \"\" : \"Investor\"}\r\n                                        {sh.isConvertibleNote && \" (Convertible Note)\"}\r\n                                      </span>\r\n                                    )}\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-primary mt-1\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark mt-1\">Option Pool</span>\r\n                                    )}\r\n                                    {sh.type === \"Available\" && (\r\n                                      <span className=\"badge bg-danger mt-1\">Available for Investment</span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {/* Hide contact info for Available for Investment */}\r\n                                  {sh.type !== \"Available\" && sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"text-muted mb-1\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.type !== \"Available\" && sh.phone && sh.phone !== \"-\" && (\r\n                                    <div className=\"text-muted\">\r\n                                       {sh.phone}\r\n                                    </div>\r\n                                  )}\r\n                                  {(sh.type === \"Available\" || !sh.email || sh.email === \"-\") &&\r\n                                    (!sh.phone || sh.phone === \"-\") && (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.type === \"Founder\" || sh.type === \"Options Pool\" ? (\r\n                                    <strong>{formatNumber(sh.shares)}</strong>\r\n                                  ) : (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.newShares > 0 ? (\r\n                                    <span className=\"badge bg-warning text-dark\">\r\n                                      {formatNumber(sh.newShares)}\r\n                                    </span>\r\n                                  ) : (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-danger\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      sh.type === \"Available\" ? \"bg-danger\" :\r\n                                        \"bg-success\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n\r\n                                  {/* Investment amount for Available for Investment */}\r\n                                  {sh.type === \"Available\" && sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      Available: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* Investment amount for investors */}\r\n                                  {/* {sh.type === \"Investor\" && sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )} */}\r\n\r\n                                  {/* Note for convertible note investors */}\r\n                                  {sh.type === \"Investor\" && sh.isConvertibleNote && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Convertible Note - 0 shares issued\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"7\" className=\"text-center text-danger\">\r\n                                <strong> No shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preSeedTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.newShares)}</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.postInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Total Founders:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                    </div>\r\n                    <div className=\"row mt-3\">\r\n\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {/* Available for Investment Summary */}\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-danger mb-0\">\r\n                          <strong>Available:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Available\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Post-Money Value:</strong> {formatCurrency(calc.postMoneyValuation, currency)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    {/* Formula Verification */}\r\n                    <div className=\"alert alert-dark mt-3\">\r\n                      <h6 className=\"alert-heading\"> Formula</h6>\r\n                      <div className=\"row small\">\r\n                        <div className=\"col-md-4\">\r\n                          <strong>Post-Money Valuation:</strong><br />\r\n                          {formatCurrency(calc.investmentSize, currency)} + {formatCurrency(calc.preMoneyValuation, currency)} = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                        </div>\r\n\r\n                        {/* Conditional Formulas based on Round Type */}\r\n                        {isConvertibleNote ? (\r\n                          <>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Convertible Note Investment:</strong><br />\r\n                              Confirmed: {formatCurrency(calc.totalNoteInvestment || 0, currency)}<br />\r\n                              Available: {formatCurrency(calc.availableForInvestment || 0, currency)}\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Theoretical Share Price:</strong><br />\r\n                              {formatCurrencyPricePerShare(calc.preMoneyValuation, currency)}  {formatNumber(calc.preSeedTotalShares)} = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                            </div>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Investor Ownership:</strong><br />\r\n                              {formatCurrency(calc.investmentSize, currency)}  {formatCurrency(calc.postMoneyValuation, currency)} = {formatPercentage(calc.investorOwnershipPercent)}\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Share Price:</strong><br />\r\n                              {calc.newShares > 0 ? (\r\n                                <>\r\n                                  {formatCurrency(calc.investmentSize, currency)}  {formatNumber(calc.newShares)} = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                                </>\r\n                              ) : (\r\n                                \"No new shares issued\"\r\n                              )}\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Convertible Note Specific Information */}\r\n                      {isConvertibleNote && (\r\n                        <div className=\"mt-2 p-2 bg-warning text-dark rounded\">\r\n                          <strong> Convertible Note Round:</strong> No shares issued immediately.\r\n                          {calc.discountRate > 0 && ` Conversion will happen at next qualified financing round with ${formatPercentage(calc.discountRate)} discount`}\r\n                          {calc.valuationCap > 0 && ` and ${formatCurrency(calc.valuationCap, currency)} valuation cap.`}\r\n                          {calc.interestRate > 0 && ` Interest rate: ${formatPercentage(calc.interestRate)}.`}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSAFERoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    //  FIX 1: Need BOTH Pre-Seed and Post-Seed tables\r\n    const preSeedTable = capTableData.preSeedCapTable;\r\n    const postSeedTable = capTableData.postSeedCapTable;\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small>{roundname} Investment with Option Pool</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== PLATFORM INPUTS ===== */}\r\n            <h5 className=\"mb-3\"> Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Company Value</small>\r\n                  <h5>{formatCurrency(calc.companyValue, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Valuation Cap</small>\r\n                  <h5>{formatCurrency(calc.valuationCap, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Discount Rate</small>\r\n                  <h5>{formatPercentage(calc.discountRate)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Seed Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.optionPoolPercent)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Round 0 Total Shares</small>\r\n                  <h5>{formatNumber(calc.roundZeroTotalShares)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>Employee Shares Created</small>\r\n                  <h5>{formatNumber(calc.employeeShares)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ===== CALCULATION FORMULA BOX ===== */}\r\n            <div className=\"alert alert-info mb-4\">\r\n              <h6 className=\"alert-heading\"> Employee Pool Calculation</h6>\r\n              <p className=\"mb-1\">\r\n                <strong>Formula:</strong> Employee Shares = Total Founder Shares  (1 - Pool %)  Pool %\r\n              </p>\r\n              <p className=\"mb-0\">\r\n                <strong>Calculation:</strong> {formatNumber(calc.roundZeroTotalShares)}  (1 - {formatPercentage(calc.optionPoolPercent)})  {formatPercentage(calc.optionPoolPercent)}\r\n                = <span className=\"badge bg-warning text-dark\">{formatNumber(calc.employeeShares)} shares</span>\r\n              </p>\r\n            </div>\r\n\r\n            {/*  IMPORTANT: SAFE Notes Explanation */}\r\n            <div className=\"alert alert-warning mb-4\">\r\n              <h6 className=\"alert-heading\"> SAFE Notes - NO SHARES ISSUED YET</h6>\r\n              <p className=\"mb-2\">\r\n                <strong>Important:</strong> SAFE (Simple Agreement for Future Equity) notes are <u>NOT converted into shares</u> during this round.\r\n              </p>\r\n              <ul className=\"mb-2\">\r\n                <li>SAFE investors have invested <strong>{formatCurrency(calc.investmentSize, currency)}</strong></li>\r\n                <li>They will receive <strong>0 shares</strong> in this round</li>\r\n                <li>Conversion happens at the <strong>next priced equity round</strong> (Series A)</li>\r\n              </ul>\r\n              <p className=\"mb-0\">\r\n                <strong>Conversion Price (at Series A):</strong> LOWER of:\r\n                <br /> Series A price  (1 - {formatPercentage(calc.discountRate)})\r\n                <br /> Valuation Cap  Total Shares\r\n              </p>\r\n            </div>\r\n\r\n            {/* ===== PRE-SEED CAP TABLE ===== */}\r\n            {preSeedTable && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-primary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Seed Round 1</h5>\r\n                      <small>{preSeedTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Management</th>\r\n                              <th className=\"text-center\">Contact Info</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                              <th className=\"text-center\">Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preSeedTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={sh.type === \"Options Pool\" ? \"table-warning\" : \"\"}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className={\r\n                                      sh.type === \"Founder\" ? \"text-primary\" :\r\n                                        sh.type === \"Options Pool\" ? \"text-warning\" : \"text-info\"\r\n                                    }>\r\n                                      {sh.name}\r\n                                    </strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                    )}\r\n                                    <span className={`badge mt-1 ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" : \"bg-info\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" ? (\r\n                                    <div className=\"text-muted\"> {sh.email}</div>\r\n                                  ) : <span className=\"text-muted\">-</span>}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-dark\">{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.newShares > 0 ? \"bg-success\" : \"bg-secondary\"}`}>\r\n                                    {formatNumber(sh.newShares)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" : \"bg-secondary\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(preSeedTable.shareholders.reduce((sum, sh) => sum + sh.newShares, 0))}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                              <td className=\"text-center\">{formatCurrency(preSeedTable.totalValue, currency)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Breakdown */}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary mb-0\">\r\n                            <strong>Total Founders Ownership:</strong> {formatPercentage(\r\n                              preSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Founder\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <strong>Employee Pool Ownership:</strong> {formatPercentage(\r\n                              preSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Options Pool\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-SEED CAP TABLE ===== */}\r\n            {postSeedTable && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card border-success\">\r\n                    <div className=\"card-header bg-success text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Seed Round 1</h5>\r\n                      <small>{postSeedTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n\r\n                      {/* Highlight Box */}\r\n                      <div className=\"alert alert-info mb-3\">\r\n                        <strong> Key Point:</strong> Since SAFE notes do NOT convert to shares in this round,\r\n                        the total number of shares remains <strong>{formatNumber(postSeedTable.totalShares)}</strong>\r\n                        (same as Pre-Seed). SAFE investors are listed with 0 shares.\r\n                      </div>\r\n\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Contact Info</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                              <th className=\"text-center\">Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postSeedTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"SAFE Investor\" ? \"table-info\" : \"\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className={\r\n                                      sh.type === \"Founder\" ? \"text-primary\" :\r\n                                        sh.type === \"Options Pool\" ? \"text-warning\" :\r\n                                          sh.type === \"SAFE Investor\" ? \"text-info\" : \"text-dark\"\r\n                                    }>\r\n                                      {sh.name}\r\n                                    </strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                    )}\r\n                                    <span className={`badge mt-1 ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" ? \"bg-info\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" ? (\r\n                                    <div className=\"text-muted\"> {sh.email}</div>\r\n                                  ) : <span className=\"text-muted\">-</span>}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-dark\">{formatNumber(sh.shares)}</strong>\r\n                                  {sh.type === \"SAFE Investor\" && (\r\n                                    <div className=\"small text-danger fw-bold mt-1\">\r\n                                       Not converted\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.newShares > 0 ? \"bg-success\" : \"bg-secondary\"}`}>\r\n                                    {formatNumber(sh.newShares)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-primary\">{formatNumber(sh.shares + sh.newShares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      sh.type === \"SAFE Investor\" ? \"bg-info\" : \"bg-secondary\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                  {sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success mt-1\">\r\n                                       SAFE: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.note && (\r\n                                    <div className=\"small text-muted mt-1\">{sh.note}</div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-success fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(postSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(postSeedTable.shareholders.reduce((sum, sh) => sum + sh.newShares, 0))}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatNumber(postSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                              <td className=\"text-center\">{formatCurrency(postSeedTable.totalValue, currency)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-primary mb-0\">\r\n                            <small>Total Founders Ownership</small>\r\n                            <h5 className=\"mb-0\">{formatPercentage(\r\n                              postSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Founder\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}</h5>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <small>Employee Pool</small>\r\n                            <h5 className=\"mb-0\">{formatPercentage(\r\n                              postSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Options Pool\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}</h5>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <small>SAFE Investment (Not Converted)</small>\r\n                            <h5 className=\"mb-0\">{formatCurrency(postSeedTable.safeInvestment || 0, currency)}</h5>\r\n                            <small className=\"text-muted\">{postSeedTable.safeInvestorCount || 0} investors</small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== PLATFORM OUTPUTS SUMMARY ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\"> Platform Outputs Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6 className=\"text-primary\">Pre-Seed Round 1</h6>\r\n                    <ul className=\"list-unstyled\">\r\n                      <li> Total Shares: <strong>{formatNumber(calc.totalSharesPreSeed)}</strong></li>\r\n                      <li> Founder Shares: <strong>{formatNumber(calc.roundZeroTotalShares)}</strong></li>\r\n                      <li> Employee Shares: <strong>{formatNumber(calc.employeeShares)}</strong></li>\r\n                      <li> Total Value: <strong>{formatCurrency(calc.companyValue, currency)}</strong></li>\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <h6 className=\"text-success\">Post-Seed Round 1</h6>\r\n                    <ul className=\"list-unstyled\">\r\n                      <li> Total Shares: <strong>{formatNumber(calc.totalSharesPostSeed)}</strong> (Same as Pre-Seed)</li>\r\n                      <li> SAFE Investment: <strong>{formatCurrency(calc.investmentSize, currency)}</strong></li>\r\n                      <li> SAFE Shares: <strong className=\"text-danger\">0</strong> (Not converted)</li>\r\n                      <li> Total Value: <strong>{formatCurrency(calc.companyValue, currency)}</strong></li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Conversion Info */}\r\n            {capTableData.conversionInfo && (\r\n              <div className=\"alert alert-secondary mt-4\">\r\n                <h6 className=\"alert-heading\"> {capTableData.conversionInfo.note}</h6>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Conversion Trigger</small>\r\n                    <div><strong>{capTableData.conversionInfo.conversionTrigger}</strong></div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Valuation Cap</small>\r\n                    <div><strong>{formatCurrency(capTableData.conversionInfo.valuationCap, currency)}</strong></div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Discount Rate</small>\r\n                    <div><strong>{formatPercentage(capTableData.conversionInfo.discountRate)}</strong></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderSAFESeriesRoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    console.log(\"Cap Table Data:\", capTableData);\r\n    const calc = capTableData.calculations;\r\n\r\n    //  Get data from backend response structure\r\n    const preTable = capTableData.preSeedCapTable;\r\n    const postTable = capTableData.postSeedCapTable;\r\n    const inputs = capTableData.inputs || {};\r\n\r\n    //  Determine round type from backend data\r\n    const isSeriesA = capTableData.isSeriesA ||\r\n      (capTableData.shareClassType || \"\").toLowerCase().includes(\"series\");\r\n\r\n    const hasSAFEConversion = capTableData.hasSAFEConversion ||\r\n      (calc.seedConversionShares > 0);\r\n\r\n    // Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-US').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    //  Calculate ownership percentages\r\n    const getOwnershipSummary = (shareholders, totalShares) => {\r\n      if (!shareholders || !totalShares) return {\r\n        founders: 0,\r\n        employees: 0,\r\n        seedInvestors: 0,\r\n        seriesAInvestors: 0\r\n      };\r\n\r\n      let founders = 0;\r\n      let employees = 0;\r\n      let seedInvestors = 0;\r\n      let seriesAInvestors = 0;\r\n\r\n      shareholders.forEach(sh => {\r\n        const ownership = (sh.shares / totalShares) * 100;\r\n        if (sh.type === \"Founder\") founders += ownership;\r\n        else if (sh.type === \"Options Pool\" || sh.type.includes(\"Employee\")) employees += ownership;\r\n        else if (sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\")) seedInvestors += ownership;\r\n        else if (sh.type === \"Series A Investor\") seriesAInvestors += ownership;\r\n      });\r\n\r\n      return {\r\n        founders: founders.toFixed(1),\r\n        employees: employees.toFixed(1),\r\n        seedInvestors: seedInvestors.toFixed(1),\r\n        seriesAInvestors: seriesAInvestors.toFixed(1)\r\n      };\r\n    };\r\n\r\n    //  Get ownership data\r\n    const preOwnership = getOwnershipSummary(preTable?.shareholders, preTable?.totalShares);\r\n    const postOwnership = getOwnershipSummary(postTable?.shareholders, postTable?.totalShares);\r\n\r\n    //  Debug information\r\n    console.log(\"Calculations:\", {\r\n      seedInvestment: calc.seedInvestment,\r\n      valuationCap: calc.valuationCap,\r\n      discountRate: calc.discountRate,\r\n      sharePrice: calc.sharePrice,\r\n      seedOptimalPrice: calc.seedOptimalPrice,\r\n      seedConversionShares: calc.seedConversionShares,\r\n      seriesAShares: calc.seriesAShares,\r\n      totalPostShares: calc.totalSharesPostSeed\r\n    });\r\n\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    const formatCurrencyTwoDecimals = (value) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      }).format(value || 0);\r\n    }\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className={`card-header ${isSeriesA ? 'bg-primary' : 'bg-success'} text-white`}>\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Series A Round\"}</h4>\r\n            <small>\r\n              {isSeriesA ? roundname : \"Investment Round\"}\r\n              {hasSAFEConversion && \" with SAFE Conversion\"}\r\n            </small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== INPUT PARAMETERS SECTION ===== */}\r\n            <h5 className=\"mb-3\"> {capTableData.roundType}</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(inputs.preMoneyValuation || calc.preMoneyValuation)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">{capTableData.shareClassType} Investment</small>\r\n                  <h5>{formatCurrency(inputs.seriesAInvestment || calc.seriesAInvestment)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Founder Shares (Round 0)</small>\r\n                  <h5>{formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)}</h5>\r\n                  <small>{inputs.founderCount || preTable?.shareholders?.filter(sh => sh.type === \"Founder\").length || 0} founder(s)</small>\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            {/* SAFE CONVERSION SECTION (Only if has SAFE conversion) */}\r\n            {hasSAFEConversion && calc.seedInvestment > 0 && (\r\n              <>\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                      <small>Seed SAFE Investment</small>\r\n                      <h5>{formatCurrency(calc.seedInvestment)}</h5>\r\n                      <small>From previous SAFE round</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                      <small>Valuation Cap</small>\r\n                      <h5>{formatCurrency(calc.valuationCap)}</h5>\r\n                      <small>From SAFE terms</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                      <small>Discount Rate</small>\r\n                      <h5>{calc.discountRate}%</h5>\r\n                      <small>From SAFE terms</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* SAFE CONVERSION CALCULATIONS */}\r\n                {calc.seedOptimalPrice > 0 && (\r\n                  <div className=\"alert alert-success mb-4\">\r\n                    <h6 className=\"alert-heading\"> SAFE Conversion Calculations</h6>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-6\">\r\n                        <p><strong>1. {capTableData.shareClassType} Share Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(inputs.preMoneyValuation || calc.preMoneyValuation)}  {formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares + calc.employeeSharesSeedRound)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.sharePrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>2. Seed Discount Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.sharePrice)}  (1 - {calc.discountRate / 100}) =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedDiscountPrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>3. Seed Cap Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.valuationCap)}  {formatNumber(calc.totalSharesPreSeed)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrencyTwoDecimals(calc.valuationCap / calc.totalSharesPreSeed)}</span>\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-6\">\r\n                        <p><strong>4. Optimal Price (Lower of the two):</strong></p>\r\n                        <p className=\"small\">\r\n                          MIN({formatCurrency(calc.seedDiscountPrice)}) =\r\n                          <span className=\"fw-bold ms-2 text-success\">{formatCurrency(calc.seedOptimalPrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>5. Seed Conversion Shares:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.seedInvestment)}  {formatCurrency(calc.seedOptimalPrice)} =\r\n                          <span className=\"fw-bold ms-2\">{formatNumber(calc.seedConversionShares)} shares</span>\r\n                        </p>\r\n\r\n                        <p><strong>6. Seed Conversion Value:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatNumber(calc.seedConversionShares)}  {formatCurrency(calc.sharePrice)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedConversionValue)}</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* MOIC Information */}\r\n                    <div className=\"mt-3 p-2 bg-white rounded border\">\r\n                      <p className=\"mb-1\"><strong>MOIC (Multiple on Invested Capital):</strong></p>\r\n                      <p className=\"mb-0 small\">\r\n                        Seed Investors: <strong>{calc.seedMOIC}</strong> ({formatCurrency(calc.seedConversionValue)} value / {formatCurrency(calc.seedInvestment)} investment)\r\n                        {calc.seriesAMOIC && calc.seriesAMOIC !== \"0X\" && (\r\n                          <> | {capTableData.shareClassType} Investors: <strong>{calc.seriesAMOIC}</strong></>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {/* OPTION POOL SECTION */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Existing Option Pool</small>\r\n                  <h5>{formatPercentage(calc.existingOptionPoolPercent)}</h5>\r\n                  <small>{formatNumber(calc.employeeSharesSeedRound)} shares</small>\r\n                </div>\r\n              </div>\r\n\r\n              {/* <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small className=\"text-white\">Target Option Pool</small>\r\n                  <h5>{formatPercentage(calc.targetOptionPoolPercent)}</h5>\r\n                  <small>Post-investment target</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>New Option Shares</small>\r\n                  <h5>{formatNumber(calc.newOptionShares)}</h5>\r\n                  <small>Top-up required</small>\r\n                </div>\r\n              </div> */}\r\n            </div>\r\n\r\n            {/* OPTION POOL CALCULATION EXPLANATION */}\r\n            {calc.newOptionShares > 0 && (\r\n              <div className=\"alert alert-info mb-4\">\r\n                <h6 className=\"alert-heading\"> Option Pool</h6>\r\n                <p className=\"mb-2 small\">\r\n                  <strong>Formula:</strong> Total Post Shares = (Founders + Seed Investors + {capTableData.shareClassType} Investors)  (1 - Target Option Pool %)\r\n                </p>\r\n                <p className=\"mb-2 small\">\r\n                  <strong>Calculation:</strong>\r\n                  ({formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)} + {formatNumber(calc.seedConversionShares)} + {formatNumber(calc.seriesAShares)})  (1 - {calc.targetOptionPoolPercent / 100})\r\n                </p>\r\n                <p className=\"mb-0 small\">\r\n                  <strong>Result:</strong> Need to add {formatNumber(calc.newOptionShares)} new option shares to reach {formatPercentage(calc.targetOptionPoolPercent)} target pool\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== PRE-INVESTMENT CAP TABLE ===== */}\r\n            {/* ===== PRE-INVESTMENT CAP TABLE ===== */}\r\n            {preTable && preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-secondary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-{capTableData.shareClassType} Round</h5>\r\n                      <small>{preTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Type</th>\r\n                              <th className=\"text-center\">Existing Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Ownership %</th>\r\n                              <th className=\"text-center\">Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preTable.shareholders.map((sh, idx) => {\r\n                              const hasNewShares = sh.newShares > 0;\r\n                              const totalShares = sh.shares;\r\n                              const existingShares = totalShares - (sh.newShares || 0);\r\n\r\n                              return (\r\n                                <tr key={idx} className={\r\n                                  sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"table-warning\" :\r\n                                    sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                                }>\r\n                                  <td>\r\n                                    <div>\r\n                                      <strong>{sh.name || sh.fullName}</strong>\r\n                                      {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" : \"bg-info\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(existingShares)}</strong>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {hasNewShares ? (\r\n                                      <>\r\n                                        <strong className=\"text-success\">+{formatNumber(sh.newShares)}</strong>\r\n\r\n                                      </>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(totalShares)}</strong>\r\n                                    {hasNewShares && (\r\n                                      <div className=\"small text-success\">\r\n                                        {/*  from {formatNumber(existingShares)} */}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className=\"badge bg-dark\">\r\n                                      {formatPercentage(sh.ownership || ((totalShares / preTable.totalShares) * 100))}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value)}</strong>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(\r\n                                  preTable.shareholders.reduce((sum, sh) => sum + (sh.shares - (sh.newShares || 0)), 0)\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(\r\n                                  preTable.shareholders.reduce((sum, sh) => sum + (sh.newShares || 0), 0)\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatNumber(preTable.totalShares)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(preTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-INVESTMENT CAP TABLE ===== */}\r\n            {postTable && postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className={`card border-primary`}>\r\n                    <div className=\"card-header bg-primary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-{capTableData.shareClassType} Round</h5>\r\n                      <small>{postTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Type</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Ownership %</th>\r\n                              <th className=\"text-center\">Value</th>\r\n                              {hasSAFEConversion && <th className=\"text-center\">Investment / Conversion Price</th>}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postTable.shareholders.map((sh, idx) => (\r\n                              sh.isTotal ? (\r\n                                // TOTAL ROW - Show at the end\r\n                                <tr key={idx} className=\"table-primary fw-bold\">\r\n                                  <td colSpan=\"2\"><strong>TOTAL</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.commonShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.newShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.totalShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>100%</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatCurrency(sh.value)}</strong></td>\r\n                                  {hasSAFEConversion && (\r\n                                    <td className=\"text-center\">\r\n                                      <strong>{formatCurrency(postTable.safeInvestment || calc.seedInvestment + calc.seriesAInvestment)}</strong>\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              ) : (\r\n                                // REGULAR ROWS\r\n                                <tr key={idx} className={\r\n                                  sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"table-warning\" :\r\n                                    sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"table-info\" :\r\n                                      sh.type === \"Series A Investor\" ? \"table-primary\" : \"\"\r\n                                }>\r\n                                  <td>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"bg-info\" :\r\n                                          sh.type === \"Series A Investor\" ? \"bg-success\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.commonShares > 0 ? (\r\n                                      <strong>{formatNumber(sh.commonShares)}</strong>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.newShares > 0 ? (\r\n                                      <div>\r\n                                        <strong className=\"text-success\">{formatNumber(sh.newShares)}</strong>\r\n                                        {sh.displayText && (\r\n                                          <div className=\"small text-success\">{sh.displayText}</div>\r\n                                        )}\r\n                                      </div>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(sh.totalShares || sh.shares)}</strong>\r\n                                    {/* Show breakdown for Option Pool if available */}\r\n                                    {sh.breakdown && (\r\n                                      <div className=\"small text-muted\">\r\n                                        {sh.breakdown.existingShares > 0 && (\r\n                                          <div>{formatNumber(sh.breakdown.existingShares)} existing</div>\r\n                                        )}\r\n                                        {sh.breakdown.newShares > 0 && (\r\n                                          <div>+{formatNumber(sh.breakdown.newShares)} new</div>\r\n                                        )}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-dark\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"bg-info\" :\r\n                                          sh.type === \"Series A Investor\" ? \"bg-success\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {formatPercentage(sh.ownership || ((sh.totalShares || sh.shares) / postTable.totalShares) * 100)}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value)}</strong>\r\n                                  </td>\r\n                                  {hasSAFEConversion && (\r\n                                    <td className=\"text-center\">\r\n                                      {sh.investmentAmount ? (\r\n                                        <div>\r\n                                          <div className=\"fw-bold\">{formatCurrency(sh.investmentAmount)}</div>\r\n                                          {sh.conversionPrice && (\r\n                                            <div className=\"small\">\r\n                                              @ {formatCurrency(sh.conversionPrice)}/share\r\n                                            </div>\r\n                                          )}\r\n                                          {sh.moic && sh.moic !== \"0X\" && (\r\n                                            <div className=\"small text-success\">\r\n                                              MOIC: {sh.moic}\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                      ) : (\r\n                                        <span className=\"text-muted\">-</span>\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              )\r\n                            ))}\r\n\r\n                            {/* OLD TOTAL ROW - Remove if using isTotal flag in data */}\r\n                            {/* <tr className=\"table-primary fw-bold\">\r\n      <td colSpan=\"2\">TOTAL</td>\r\n      <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n      <td className=\"text-center\">100%</td>\r\n      <td className=\"text-center\">{formatCurrency(postTable.totalValue)}</td>\r\n      {hasSAFEConversion && <td className=\"text-center\">\r\n        {formatCurrency(postTable.safeInvestment || calc.seedInvestment + calc.seriesAInvestment)}\r\n      </td>}\r\n    </tr> */}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Final Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-success\">\r\n                            <h6 className=\"mb-2\">Final Ownership Distribution</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Founders:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(postOwnership.founders)}</div>\r\n                              <div className=\"col-6\">Employees:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(postOwnership.employees)}</div>\r\n                              {hasSAFEConversion && (\r\n                                <>\r\n                                  <div className=\"col-6\">Seed Investors:</div>\r\n                                  <div className=\"col-6 text-end\">{formatPercentage(postOwnership.seedInvestors)}</div>\r\n                                  <div className=\"col-6\">Series A Investors:</div>\r\n                                  <div className=\"col-6 text-end\">{formatPercentage(postOwnership.seriesAInvestors)}</div>\r\n                                </>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary\">\r\n                            <h6 className=\"mb-2\">Financial Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Post-Money Valuation:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.finalPostMoneyValuation || postTable.totalValue)}</div>\r\n                              <div className=\"col-6\">Total Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.seedInvestment + calc.seriesAInvestment)}</div>\r\n                              <div className=\"col-6\">Total Shares:</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(postTable.totalShares)}</div>\r\n                              <div className=\"col-6\">Share Price:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.sharePrice)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div> */}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== SUMMARY ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\"> Round Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Key Outcomes:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> Total capital raised: <strong>{formatCurrency(calc.seedInvestment + calc.seriesAInvestment)}</strong></li>\r\n                      <li> Post-money valuation: <strong>{formatCurrency(calc.finalPostMoneyValuation)}</strong></li>\r\n                      <li> Total shares outstanding: <strong>{formatNumber(calc.totalSharesPostSeed)}</strong></li>\r\n                      <li> Share price: <strong>{formatCurrency(calc.sharePrice)}</strong></li>\r\n                      {hasSAFEConversion && calc.seedConversionShares > 0 && (\r\n                        <li> SAFE conversion completed: <strong>{formatNumber(calc.seedConversionShares)} shares @ {formatCurrency(calc.seedOptimalPrice)} each</strong></li>\r\n                      )}\r\n                      {calc.newOptionShares > 0 && (\r\n                        <li> Option pool: <strong>{formatNumber(calc.newOptionShares)} new shares added</strong></li>\r\n                      )}\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Next Steps:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> SAFE notes converted to shares</li>\r\n                      <li> New Series A investors onboarded</li>\r\n                      <li> Update cap table with new shareholders</li>\r\n                      <li> Issue share certificates</li>\r\n                      <li> Prepare for Series B round</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSeriesATable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          {capTableData.details && (\r\n            <pre className=\"small\">{JSON.stringify(capTableData.details, null, 2)}</pre>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const isPostMoneyOptionPool = capTableData.isPostMoneyOptionPool || calc.needsExpansion;\r\n\r\n    //  FIX: Calculate foundersSeedShares if not provided\r\n    const foundersSeedShares = calc.foundersSeedShares ||\r\n      (calc.preInvestmentTotalShares - calc.existingOptionPoolShares);\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Series A Round\"}</h4>\r\n            <small className=\"opacity-75\">\r\n              {isPostMoneyOptionPool ? \"Post-Money Option Pool Calculation\" : \"Standard Calculation\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/* SERIES A INPUTS */}\r\n            <h5 className=\"mb-3\">{roundname} Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Existing Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.existingOptionPoolPercent)}</h5>\r\n                  <small className=\"text-muted\">(Before Series A)</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Target Option Pool %</small>\r\n                  <h5 className=\"text-success\">{formatPercentage(calc.optionPoolPercentPost)}</h5>\r\n                  <small className=\"text-success\">(Post-Money Target)</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* SERIES A OUTPUTS */}\r\n            <h5 className=\"mb-3\">Calculated Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small>Post-Money Valuation</small>\r\n                  <h6>{formatCurrency(calc.postMoneyValuation, currency)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Share Price</small>\r\n                  <h6>{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h6>\r\n                  <small className=\"opacity-75\">per share</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Investment Shares</small>\r\n                  <h6>{formatNumber(calc.preInvestmentTotalShares)}</h6>\r\n                  <small className=\"opacity-75\">Before Series A</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>New Shares Issued</small>\r\n                  <h6>{formatNumber(calc.totalNewShares)}</h6>\r\n                  <small className=\"opacity-75\">Total new shares</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                  <small>Post-Investment Shares</small>\r\n                  <h6>{formatNumber(calc.postInvestmentTotalShares)}</h6>\r\n                  <small className=\"opacity-75\">After Series A</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                  <small>Investor Ownership</small>\r\n                  <h6>{formatPercentage(calc.investorOwnershipPercent)}</h6>\r\n                  <small className=\"opacity-75\">Series A %</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* NEW SHARES BREAKDOWN */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-warning\">\r\n                  <h6 className=\"alert-heading\"> New Shares Breakdown</h6>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <strong>Series A Investors:</strong>\r\n                      <div className=\"h5 mb-0\">{formatNumber(calc.seriesAInvestorShares)}</div>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <strong>Option Pool Expansion:</strong>\r\n                      <div className=\"h5 mb-0\">{formatNumber(calc.additionalOptionPoolShares)}</div>\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <strong>Total New Shares:</strong>\r\n                    <strong>{formatNumber(calc.totalNewShares)}</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-info\">\r\n                  <h6 className=\"alert-heading\"> Option Pool Status</h6>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Existing Pool:</strong> {formatNumber(calc.existingOptionPoolShares)} shares\r\n                    ({formatPercentage(calc.existingOptionPoolPercent)})\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Additional:</strong> {formatNumber(calc.additionalOptionPoolShares)} shares\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <strong>Total Pool (Post):</strong>\r\n                    <strong>{formatNumber(calc.totalOptionPoolShares)}\r\n                      ({formatPercentage(calc.optionPoolPercentPost)})</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* OWNERSHIP CHART */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* ========== PRE-SERIES A CAP TABLE ========== */}\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h5 className=\"mb-0\"> Pre-Series A Cap Table</h5>\r\n                    <small>Before Series A Investment | Pre-Money Valuation: {formatCurrency(calc.preMoneyValuation, currency)}</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Type</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Value ({currency})</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.preSeriesAShareholders && capTableData.preSeriesAShareholders.length > 0 ? (\r\n                            capTableData.preSeriesAShareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <strong>{sh.name}</strong>\r\n                                  {sh.source && (\r\n                                    <div className=\"small text-muted\">Source: {sh.source}</div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.type === \"Founder\" && (\r\n                                    <span className=\"badge bg-primary\">Founder</span>\r\n                                  )}\r\n                                  {sh.type === \"Options Pool\" && (\r\n                                    <span className=\"badge bg-warning text-dark\">Option Pool</span>\r\n                                  )}\r\n                                  {sh.type === \"Investor\" && (\r\n                                    <span className=\"badge bg-success\">\r\n                                      {sh.originalType === \"Seed Investor\" ? \"Seed Investor\" : \"Investor\"}\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      \"bg-success\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"5\" className=\"text-center text-danger\">\r\n                                <strong> No pre-Series A shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Pre-Series A Summary */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Founders:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Employee Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Seed Investors:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ========== POST-SERIES A CAP TABLE ========== */}\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h5 className=\"mb-0\"> Post-Series A Cap Table</h5>\r\n                    <small>After Series A Investment | Post-Money Valuation: {formatCurrency(calc.postMoneyValuation, currency)}</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Type</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">New Shares</th>\r\n                            <th className=\"text-center\">Total Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Value ({currency})</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.shareholders && capTableData.shareholders.length > 0 ? (\r\n                            capTableData.shareholders.map((sh, idx) => {\r\n                              const existingShares = sh.preSeriesAShares || 0;\r\n                              const newShares = sh.newShares || 0;\r\n\r\n                              return (\r\n                                <tr key={idx}>\r\n                                  <td>\r\n                                    <strong>{sh.name}</strong>\r\n                                    {sh.source && (\r\n                                      <div className=\"small text-muted\">Source: {sh.source}</div>\r\n                                    )}\r\n                                    {sh.email && (\r\n                                      <div className=\"small text-muted\"> {sh.email}</div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-primary\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark\">\r\n                                        {newShares > 0 ? \"Option Pool (Expanded)\" : \"Option Pool\"}\r\n                                      </span>\r\n                                    )}\r\n                                    {sh.type === \"Investor\" && (\r\n                                      <span className={`badge ${sh.originalType === \"Seed Investor\" ? \"bg-info\" : \"bg-danger\"\r\n                                        }`}>\r\n                                        {sh.originalType === \"Seed Investor\" ? \"Seed Investor\" : \"Series A Investor\"}\r\n                                      </span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {existingShares > 0 ? (\r\n                                      <strong>{formatNumber(existingShares)}</strong>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {newShares > 0 ? (\r\n                                      <span className=\"badge bg-warning text-dark\">\r\n                                        +{formatNumber(newShares)}\r\n                                      </span>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(sh.shares)}</strong>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                        sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                          \"bg-danger\"\r\n                                      }`}>\r\n                                      {formatPercentage(sh.ownership)}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                    {sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                      <div className=\"small text-success\">\r\n                                         Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"7\" className=\"text-center text-danger\">\r\n                                <strong> No post-Series A shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-warning text-dark\">\r\n                                +{formatNumber(calc.totalNewShares)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatNumber(calc.postInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Post-Series A Summary */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Founders:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Seed Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\" && sh.originalType === \"Seed Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-danger mb-0\">\r\n                          <strong>Series A Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\" && sh.originalType === \"Series A Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/*  CORRECTED CALCULATION FORMULAS */}\r\n                    <div className=\"alert alert-dark mt-4\">\r\n                      <h6 className=\"alert-heading\"> Series A Calculation Formulas</h6>\r\n\r\n                      <div className=\"mb-3\">\r\n                        <strong className=\"badge bg-warning text-dark fSize-14\">Post-Money Option Pool Method</strong>\r\n                        {/* <div className=\"small text-muted\">\r\n                          When target option pool (20%) {'>'} existing pool (8%), additional shares are created\r\n                        </div> */}\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>1. Post-Money Valuation:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Investment + Pre-Money = Post-Money<br />\r\n                            {formatCurrency(calc.investmentSize, currency)} + {formatCurrency(calc.preMoneyValuation, currency)}\r\n                            = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>2. Investor Ownership %:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Investment  Post-Money<br />\r\n                            {formatCurrency(calc.investmentSize, currency)}  {formatCurrency(calc.postMoneyValuation, currency)}\r\n                            = {formatPercentage(calc.investorOwnershipPercent)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>3. Founders + Seed Ownership %:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            100% - Investor% - Target Pool%<br />\r\n                            100% - {formatPercentage(calc.investorOwnershipPercent)} - {formatPercentage(calc.optionPoolPercentPost)}\r\n                            = {formatPercentage(calc.existingShareholdersPercent)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>4. Post-Investment Total Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            {/*  CORRECTED FORMULA */}\r\n                            Founders+Seed Shares  Founders+Seed %<br />\r\n                            {formatNumber(foundersSeedShares)}  {formatPercentage(calc.existingShareholdersPercent)}\r\n                            = {formatNumber(calc.postInvestmentTotalShares)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>5. Total New Shares Needed:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Post-Investment Total - Existing Total<br />\r\n                            {formatNumber(calc.postInvestmentTotalShares)} - {formatNumber(calc.preInvestmentTotalShares)}\r\n                            = {formatNumber(calc.totalNewShares)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>6. Additional Option Pool Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            (Target%  Post Total) - Existing Pool<br />\r\n                            ({formatPercentage(calc.optionPoolPercentPost)}  {formatNumber(calc.postInvestmentTotalShares)})\r\n                            - {formatNumber(calc.existingOptionPoolShares)} = {formatNumber(calc.additionalOptionPoolShares)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>7. Series A Investor Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Total New Shares - Additional Option Shares<br />\r\n                            {formatNumber(calc.totalNewShares)} - {formatNumber(calc.additionalOptionPoolShares)}\r\n                            = {formatNumber(calc.seriesAInvestorShares)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>8. Share Price:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Pre-Money  (Existing + New Option Shares)<br />\r\n                            {formatCurrency(calc.preMoneyValuation, currency)} \r\n                            ({formatNumber(calc.preInvestmentTotalShares)} + {formatNumber(calc.additionalOptionPoolShares)})\r\n                            = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const PreferredEquityCapTable = ({ capTableData }) => {\r\n    if (!capTableData || !capTableData.calculations) {\r\n      return (\r\n        <div className=\"alert alert-warning\">\r\n          <h5> No Data Available</h5>\r\n          <p>Cap table data is not available for this round.</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5> Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          {capTableData.details && (\r\n            <pre className=\"small\">{JSON.stringify(capTableData.details, null, 2)}</pre>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Get data from backend response structure\r\n    const preCapTable = capTableData.preSeriesACapTable || {};\r\n    const postCapTable = capTableData.postSeriesACapTable || {};\r\n\r\n    const preSeriesAShareholders = preCapTable.shareholders || [];\r\n    const postSeriesAShareholders = postCapTable.shareholders || [];\r\n\r\n    const totalPreShares = preCapTable.totalShares || 0;\r\n    const totalPostSharesBeforeWarrants = postCapTable.totalSharesBeforeWarrants || 0;\r\n    const totalPostSharesAfterWarrants = postCapTable.totalSharesAfterWarrants || 0;\r\n\r\n    // Group shareholders by type\r\n    const founders = postSeriesAShareholders.filter(sh => sh.type === \"Founder\") || [];\r\n    const optionPool = postSeriesAShareholders.filter(sh => sh.type === \"Options Pool\") || [];\r\n    const seedInvestors = postSeriesAShareholders.filter(sh => sh.originalType === \"Seed Investor\") || [];\r\n    const seriesAInvestors = postSeriesAShareholders.filter(sh => sh.originalType === \"Series A Investor\") || [];\r\n    const warrantHolders = postSeriesAShareholders.filter(sh => sh.type === \"Warrant\") || [];\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"container-fluid py-4\" style={{ backgroundColor: '#f8f9fa' }}>\r\n        {/* Header */}\r\n        <div className=\"card mb-4 shadow\">\r\n          <div className=\"card-header text-white\" style={{ backgroundColor: '#6f42c1' }}>\r\n            <h3 className=\"mb-0\"> {capTableData.roundType || \"Preferred Equity Round\"}</h3>\r\n            <small className=\"opacity-75\">\r\n              {capTableData.hasConversions && roundname}\r\n              {capTableData.hasWarrants && \" | Includes Warrants\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/* Investment Overview */}\r\n            <h5 className=\"mb-3 text-primary\"> Investment Overview</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#e3f2fd' }}>\r\n                  <small className=\"text-muted d-block\">Investment Amount</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#f3e5f5' }}>\r\n                  <small className=\"text-muted d-block\">Pre-Money Valuation</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#e8f5e9' }}>\r\n                  <small className=\"text-muted d-block\">Post-Money Valuation</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.postMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#fff3e0' }}>\r\n                  <small className=\"text-muted d-block\">Share Price</small>\r\n                  <h5 className=\"mb-0\">{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Key Metrics */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Series A Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.seriesAShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Converted Shares (Seed)</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.convertibleNoteShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">New Option Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.newOptionShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Total Post Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(totalPostSharesAfterWarrants)}</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Warrants Alert */}\r\n            {capTableData.hasWarrants && capTableData.warrants?.length > 0 && (\r\n              <div className=\"alert alert-info mb-4\">\r\n                <h6 className=\"alert-heading\"> Warrants Exercised</h6>\r\n                {capTableData.warrants.map((warrant, idx) => (\r\n                  <div key={idx}>\r\n                    <strong>Warrant #{warrant.id}:</strong> {warrant.coverage}% coverage |\r\n                    Exercise Price: {formatCurrencyPricePerShare(warrant.exercisePrice, currency)} |\r\n                    Shares: {formatNumber(warrant.shares)} |\r\n                    Status: {warrant.status}\r\n                  </div>\r\n                ))}\r\n                <div className=\"mt-2 small text-muted\">\r\n                  Total Warrant Value: {formatCurrency(calc.warrantValue, currency)}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Convertible Note Conversion Details */}\r\n            {calc.convertibleNoteShares > 0 && (\r\n              <div className=\"alert alert-success mb-4\">\r\n                <h6 className=\"alert-heading\"> Convertible Note Conversion</h6>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Original Investment:</strong><br />\r\n                    {formatCurrency(calc.convertibleNotePrincipal, currency)}\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Principal + Interest:</strong><br />\r\n                    {formatCurrency(calc.convertibleNotePrincipalPlusInterest, currency)}\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Converted Shares:</strong><br />\r\n                    {formatNumber(calc.convertibleNoteShares)}\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <strong>Current Value:</strong><br />\r\n                    {formatCurrency(calc.convertibleNoteValue, currency)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* PRE-INVESTMENT CAP TABLE */}\r\n            <div className=\"card mb-4 shadow-sm\">\r\n              <div className=\"card-header bg-info text-white\">\r\n                <h5 className=\"mb-0\"> Pre-{capTableData.roundType} Cap Table</h5>\r\n                <small>Before Investment | Pre-Money: {formatCurrency(calc.preMoneyValuation, currency)}</small>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-bordered table-hover\">\r\n                    <thead style={{ backgroundColor: '#343a40', color: 'white' }}>\r\n                      <tr>\r\n                        <th>Shareholder</th>\r\n                        <th className=\"text-center\">Type</th>\r\n                        <th className=\"text-center\">Shares</th>\r\n                        <th className=\"text-center\">Ownership %</th>\r\n                        <th className=\"text-center\">Value ({currency})</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {preSeriesAShareholders.length > 0 ? (\r\n                        preSeriesAShareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                  \"bg-success\"\r\n                                }`}>\r\n                                {sh.type}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\"><strong>{formatNumber(sh.shares)}</strong></td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-secondary\">{formatPercentage(sh.ownership)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\"><strong>{formatCurrency(sh.value, currency)}</strong></td>\r\n                          </tr>\r\n                        ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan=\"5\" className=\"text-center text-muted\">No pre-investment data available</td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      {/* TOTAL ROW */}\r\n                      {totalPreShares > 0 && (\r\n                        <tr style={{ backgroundColor: '#e9ecef', fontWeight: 'bold' }}>\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(totalPreShares)}</td>\r\n                          <td className=\"text-center\">\r\n                            <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                          </td>\r\n                          <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                {/* Pre-Investment Summary */}\r\n                {preSeriesAShareholders.length > 0 && (\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <strong>Founders:</strong> {formatPercentage(\r\n                          preSeriesAShareholders\r\n                            .filter(sh => sh.type === \"Founder\")\r\n                            .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"alert alert-warning mb-0\">\r\n                        <strong>Employee:</strong> {formatPercentage(\r\n                          preSeriesAShareholders\r\n                            .filter(sh => sh.type === \"Options Pool\")\r\n                            .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-4\">\r\n                      <div className=\"alert alert-success mb-0\">\r\n                        <strong>Seed Investors:</strong> {formatPercentage(\r\n                          preSeriesAShareholders\r\n                            .filter(sh => sh.type === \"Investor\")\r\n                            .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* POST-INVESTMENT CAP TABLE */}\r\n            <div className=\"card shadow-sm mb-4\">\r\n              <div className=\"card-header bg-success text-white\">\r\n                <h5 className=\"mb-0\"> Post-{capTableData.roundType} Cap Table</h5>\r\n                <small>After Investment | Post-Money: {formatCurrency(calc.postMoneyValuation, currency)}</small>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-bordered table-hover\">\r\n                    <thead style={{ backgroundColor: '#343a40', color: 'white' }}>\r\n                      <tr>\r\n                        <th>Shareholder</th>\r\n                        <th className=\"text-center\">Type</th>\r\n                        <th className=\"text-center\">Existing Shares</th>\r\n                        <th className=\"text-center\">New Shares</th>\r\n                        <th className=\"text-center\">Total Shares</th>\r\n                        <th className=\"text-center\">Ownership %</th>\r\n                        <th className=\"text-center\">Value ({currency})</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {postSeriesAShareholders.length > 0 ? (\r\n                        postSeriesAShareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name}</strong>\r\n                              {sh.email && sh.email !== \"-\" && (\r\n                                <div className=\"small text-muted\"> {sh.email}</div>\r\n                              )}\r\n                              {sh.moic && (\r\n                                <div className=\"small text-success\">\r\n                                  MOIC: {sh.moic}x\r\n                                </div>\r\n                              )}\r\n                              {sh.note && (\r\n                                <div className=\"small text-info\">{sh.note}</div>\r\n                              )}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                  sh.type === \"Warrant\" ? \"bg-secondary\" :\r\n                                    sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                      \"bg-danger\"\r\n                                }`}>\r\n                                {sh.originalType || sh.type}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              {sh.existingShares > 0 ? formatNumber(sh.existingShares) : \"\"}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              {sh.newShares > 0 ? (\r\n                                <span className=\"badge bg-warning text-dark\">+{formatNumber(sh.newShares)}</span>\r\n                              ) : \"\"}\r\n                            </td>\r\n                            <td className=\"text-center\"><strong>{formatNumber(sh.shares)}</strong></td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                  sh.type === \"Warrant\" ? \"bg-secondary\" :\r\n                                    sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                      \"bg-danger\"\r\n                                }`}>\r\n                                {formatPercentage(sh.ownership)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                              {sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                <div className=\"small text-success\">\r\n                                   Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                </div>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan=\"7\" className=\"text-center text-muted\">No post-investment data available</td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      {/* TOTAL ROW */}\r\n                      {totalPostSharesAfterWarrants > 0 && (\r\n                        <tr style={{ backgroundColor: '#e9ecef', fontWeight: 'bold' }}>\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(totalPreShares)}</td>\r\n                          <td className=\"text-center\">\r\n                            <span className=\"badge bg-warning text-dark\">\r\n                              +{formatNumber(totalPostSharesAfterWarrants - totalPreShares)}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"text-center\">{formatNumber(totalPostSharesAfterWarrants)}</td>\r\n                          <td className=\"text-center\">\r\n                            <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                          </td>\r\n                          <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                {/* Post-Investment Summary */}\r\n                {postSeriesAShareholders.length > 0 && (\r\n                  <div className=\"row mt-3\">\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <strong>Founders:</strong> {formatPercentage(calc.foundersOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-warning mb-0\">\r\n                        <strong>Employee:</strong> {formatPercentage(calc.poolOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-info mb-0\">\r\n                        <strong>Seed Investors:</strong> {formatPercentage(calc.seedInvestorsOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-danger mb-0\">\r\n                        <strong>Series A Investors:</strong> {formatPercentage(calc.seriesAInvestorsOwnership)}\r\n                      </div>\r\n                    </div>\r\n                    {calc.warrantHoldersOwnership > 0 && (\r\n                      <div className=\"col-md-3 mt-2\">\r\n                        <div className=\"alert alert-secondary mb-0\">\r\n                          <strong>Warrant Holders:</strong> {formatPercentage(calc.warrantHoldersOwnership)}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* CALCULATION FORMULAS */}\r\n            <div className=\"alert alert-dark\">\r\n              <h6 className=\"alert-heading\"> Calculation Formulas</h6>\r\n\r\n              <div className=\"row small mb-3\">\r\n                <div className=\"col-md-6\">\r\n                  <strong>1. Share Price:</strong><br />\r\n                  <code style={{ backgroundColor: '#f8f9fa', padding: '4px 8px', borderRadius: '4px', display: 'block' }}>\r\n                    Pre-Money  Total Shares from Seed Round<br />\r\n                    {formatCurrency(calc.preMoneyValuation, currency)}  {formatNumber(totalPreShares)}\r\n                    = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                  </code>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <strong>2. Series A Shares:</strong><br />\r\n                  <code style={{ backgroundColor: '#f8f9fa', padding: '4px 8px', borderRadius: '4px', display: 'block' }}>\r\n                    Investment  Share Price<br />\r\n                    {formatCurrency(calc.investmentSize, currency)}  {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                    = {formatNumber(calc.seriesAShares)}\r\n                  </code>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row small\">\r\n                <div className=\"col-md-6\">\r\n                  <strong>3. Post-Money Valuation:</strong><br />\r\n                  <code style={{ backgroundColor: '#f8f9fa', padding: '4px 8px', borderRadius: '4px', display: 'block' }}>\r\n                    Total Shares  Share Price<br />\r\n                    {formatNumber(totalPostSharesBeforeWarrants)}  {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                    = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                  </code>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderConvertibleNoteRoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    console.log(\"Convertible Note Data:\", capTableData);\r\n    const calc = capTableData.calculations;\r\n    const preTable = capTableData.preSeedCapTable;\r\n    const postTable = capTableData.postSeedCapTable;\r\n\r\n    // Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-US').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Convertible Note Round\"}</h4>\r\n            <small>{roundname} - Convertible Notes (NO SHARES ISSUED)</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== INPUT PARAMETERS SECTION ===== */}\r\n            <h5 className=\"mb-3\"> Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Company Value (Input #1)</small>\r\n                  <h5>{formatCurrency(calc.companyValue)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size (Input #2 & #4)</small>\r\n                  <h5>{formatCurrency(calc.investmentSize)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Conversion Discount (Input #3)</small>\r\n                  <h5>{calc.discountRate}%</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Valuation Cap</small>\r\n                  <h5>{formatCurrency(calc.valuationCap)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Seed Option Pool % (Input #5)</small>\r\n                  <h5>{calc.optionPoolPercent}%</h5>\r\n                  <small>{formatNumber(calc.employeeShares)} employee shares created</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small>Interest Rate</small>\r\n                  <h5>{calc.interestRate}%</h5>\r\n                  <small>Annual interest on convertible notes</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small>Round 0 Founder Shares</small>\r\n                  <h5>{formatNumber(calc.roundZeroTotalShares)}</h5>\r\n                  <small>Total shares from incorporation</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ===== CALCULATION DETAILS ===== */}\r\n            <div className=\"alert alert-info mb-4\">\r\n              <h6 className=\"alert-heading\"> Employee Pool Calculation</h6>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Formula:</strong> Employee Shares = Total Founder Shares  (1 - Pool %)  Pool %\r\n              </p>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Calculation:</strong> {formatNumber(calc.roundZeroTotalShares)}  (1 - {calc.optionPoolPercent / 100})  {calc.optionPoolPercent / 100} = {formatNumber(calc.employeeShares)} shares\r\n              </p>\r\n              <p className=\"mb-0 small\">\r\n                <strong>Total Shares:</strong> {formatNumber(calc.roundZeroTotalShares)} (founders) + {formatNumber(calc.employeeShares)} (employees) = {formatNumber(calc.totalSharesPreSeed)} shares\r\n              </p>\r\n            </div>\r\n\r\n            {/*  IMPORTANT NOTE - NO SHARES ISSUED */}\r\n            <div className=\"alert alert-warning mb-4\">\r\n              <h6 className=\"alert-heading\"> CONVERTIBLE NOTES - NO SHARES ISSUED YET</h6>\r\n              <p className=\"mb-0\">\r\n                <strong>Important:</strong> Convertible notes are <strong>NOT converted into shares</strong> during this round.\r\n                <br />\r\n                Convertible note investors have invested {formatCurrency(calc.totalConfirmedInvestment || calc.investmentSize)} but receive <strong>0 shares</strong> in this round.\r\n                <br />\r\n                Conversion happens at the next priced equity round (Series A).\r\n              </p>\r\n            </div>\r\n\r\n            {/* ===== PRE-SEED CAP TABLE ===== */}\r\n            {preTable && preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-secondary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Seed Round 1 (Output #3)</h5>\r\n                      <small>Before Convertible Note investment (with {calc.optionPoolPercent}% option pool)</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Management</th>\r\n                              <th>Contact Info</th>\r\n                              <th>Common Shares</th>\r\n                              <th>New Shares</th>\r\n                              <th>Fully Diluted Ownership %</th>\r\n                              <th>Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    <div className=\"small\">{sh.note || sh.type}</div>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"small\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.voting && (\r\n                                    <div className=\"small\">\r\n                                      {sh.voting === \"voting\" ? \" Voting\" : \" Non-voting\"}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n\r\n                                  <span className=\"text-muted\">0</span>\r\n\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className=\"badge bg-dark\">\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preTable.totalShares)}</td>\r\n                              <td className=\"text-center\">{formatNumber(0)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(preTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Summary */}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <h6 className=\"mb-2\">Ownership Summary (Pre-Investment)</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Founders:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(calc.totalFoundersOwnership)}</div>\r\n                              <div className=\"col-6\">Employees:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(calc.totalEmployeeOwnership)}</div>\r\n                              <div className=\"col-6\">Convertible Note Investors:</div>\r\n                              <div className=\"col-6 text-end\">0%</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-light mb-0\">\r\n                            <h6 className=\"mb-2\">Financial Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Company Value:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.companyValue)}</div>\r\n                              <div className=\"col-6\">Share Price:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.sharePrice)}</div>\r\n                              <div className=\"col-6\">Total Shares:</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(calc.totalSharesPreSeed)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-SEED CAP TABLE ===== */}\r\n            {postTable && postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card border-warning\">\r\n                    <div className=\"card-header bg-warning text-dark\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Seed Round 1 (Output #4)</h5>\r\n                      <small>After Convertible Note investment - Notes have NOT converted yet</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <p className=\"text-center mb-4\">\r\n                        <strong> Key Point:</strong> Since Convertible notes do NOT convert to shares in this round,\r\n                        the total number of shares remains {formatNumber(postTable.totalShares)} (same as Pre-Seed).\r\n                        Convertible note investors are listed with 0 shares.\r\n                      </p>\r\n\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th>Contact Info</th>\r\n                              <th>Common Shares</th>\r\n                              <th>New Shares</th>\r\n                              <th>Total Shares</th>\r\n                              <th>Fully Diluted Ownership %</th>\r\n                              <th>Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"Convertible Note Investor\" ? \"table-info\" :\r\n                                    sh.type === \"Available Investment\" ? \"table-danger\" :\r\n                                      sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <strong>{sh.name || sh.fullName}</strong>\r\n                                  {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  {sh.isConvertibleNote && (\r\n                                    <div className=\"small text-info\">\r\n                                       Convertible Note Investor\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.isAvailable && (\r\n                                    <div className=\"small text-danger\">\r\n                                       Available for investment\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"small\"> {sh.email}</div>\r\n                                  )}\r\n                                  {sh.voting && (\r\n                                    <div className=\"small\">\r\n                                      {sh.voting === \"voting\" ? \" Voting\" : \" Non-voting\"}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.investmentAmount > 0 && (\r\n                                    <div className=\"small fw-bold\">\r\n                                       {formatCurrency(sh.investmentAmount)}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n\r\n                                  <span className=\"text-muted\">0</span>\r\n\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.shares === 0 ? \"bg-secondary\" : \"bg-dark\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-warning fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n                              <td className=\"text-center\">0</td>\r\n                              <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(postTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Investment Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-warning\">\r\n                            <h6 className=\"mb-2\">Investment Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Total Convertible Note Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.totalConfirmedInvestment)}</div>\r\n                              <div className=\"col-6\">Available for Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.availableForInvestment)}</div>\r\n                              <div className=\"col-6\">Number of Investors:</div>\r\n                              <div className=\"col-6 text-end\">{calc.investorCount}</div>\r\n                              <div className=\"col-6\">Shares Issued to Investors:</div>\r\n                              <div className=\"col-6 text-end\">0</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary\">\r\n                            <h6 className=\"mb-2\">Platform Outputs Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Post-Money Valuation (Output #1):</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.postMoneyValuation)}</div>\r\n                              <div className=\"col-6\">Post-Investment Shares (Output #2):</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(calc.postInvestmentShares)}</div>\r\n                              <div className=\"col-6\">Total Shares (No Change):</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(postTable.totalShares)}</div>\r\n                              <div className=\"col-6\">Total Value:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(postTable.totalValue)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== CONVERSION DETAILS ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\">  Convertible Notes will convert at next priced equity round</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Conversion Terms:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li><strong>Conversion Trigger:</strong> Next priced equity financing (Series A)</li>\r\n                      <li><strong>Valuation Cap:</strong> {formatCurrency(calc.valuationCap)}</li>\r\n                      <li><strong>Discount Rate:</strong> {calc.discountRate}%</li>\r\n                      <li><strong>Interest Rate:</strong> {calc.interestRate}% per annum</li>\r\n                      <li><strong>Conversion Price:</strong> Lower of (Series A price  discount) OR (Cap  Total Shares)</li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Next Steps:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> Convertible notes issued (0 shares)</li>\r\n                      <li> Investment received: {formatCurrency(calc.totalConfirmedInvestment)}</li>\r\n                      <li> Prepare for Series A priced round</li>\r\n                      <li> Convertible notes will automatically convert</li>\r\n                      <li> Update cap table after conversion</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderConvertibleNoteSeriesRoundTable = () => {\r\n    console.log(\"Render Convertible Note Series Round Table Called\");\r\n\r\n    if (!capTableData) {\r\n      return <div className=\"alert alert-warning\">No data available</div>;\r\n    }\r\n\r\n    //  Extract data\r\n    const calc = capTableData.calculations || {};\r\n    const preTable = capTableData.preSeedCapTable || {};\r\n    const postTable = capTableData.postSeedCapTable || {};\r\n\r\n    console.log(\"Post Table Shareholders:\", postTable.shareholders);\r\n\r\n    //  Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"CAD\";\r\n      const currencyCode = currency.split(' ')[0] || 'CAD';\r\n      return new Intl.NumberFormat('en-CA', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-CA').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    //  Prepare chart data\r\n    const prepareChartData = () => {\r\n      if (!postTable.shareholders || postTable.shareholders.length === 0) {\r\n        return null;\r\n      }\r\n\r\n      const labels = postTable.shareholders.map(sh => sh.name || \"Shareholder\");\r\n      const data = postTable.shareholders.map(sh => parseFloat(sh.ownership) || 0);\r\n      const backgroundColors = postTable.shareholders.map(sh => {\r\n        if (sh.type?.includes(\"Founder\")) return '#4e73df';\r\n        if (sh.type?.includes(\"Option\")) return '#f6c23e';\r\n        if (sh.type?.includes(\"Convertible\") || sh.type?.includes(\"Seed\")) return '#1cc88a';\r\n        if (sh.type?.includes(\"Series\")) return '#36b9cc';\r\n        return '#858796';\r\n      });\r\n\r\n      return {\r\n        labels,\r\n        datasets: [{\r\n          data,\r\n          backgroundColor: backgroundColors,\r\n          borderColor: '#fff',\r\n          borderWidth: 1\r\n        }]\r\n      };\r\n    };\r\n\r\n    const chartData = prepareChartData();\r\n\r\n    //  Chart options\r\n    const chartOptions = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        legend: {\r\n          position: 'right',\r\n          labels: {\r\n            padding: 20,\r\n            usePointStyle: true,\r\n          }\r\n        },\r\n        title: {\r\n          display: true,\r\n          text: 'Post-Series A Ownership Distribution',\r\n          font: {\r\n            size: 16\r\n          }\r\n        },\r\n        tooltip: {\r\n          callbacks: {\r\n            label: function (context) {\r\n              const label = context.label || '';\r\n              const value = context.parsed || 0;\r\n              return `${label}: ${value.toFixed(1)}%`;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\"> {roundname} with Convertible Note Conversion</h4>\r\n            <small>{capTableData.message || \"Convertible Note conversion completed\"}</small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/*  CHART SECTION */}\r\n            {chartData ? (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h6 className=\"mb-0\">Ownership Distribution (Pie Chart)</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div style={{ height: '300px' }}>\r\n                        {/* Pie Chart   Bar   Pie use  */}\r\n                        {(() => {\r\n                          // Temporary -  Pie chart    Bar chart show \r\n                          try {\r\n\r\n                            return <Pie data={chartData} options={chartOptions} />;\r\n                          } catch (e) {\r\n                            return <Bar data={chartData} options={chartOptions} />;\r\n                          }\r\n                        })()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h6 className=\"mb-0\">Ownership Breakdown</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <ul className=\"list-group\">\r\n                        {postTable.shareholders.map((sh, idx) => (\r\n                          <li key={idx} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                            <span>\r\n                              <strong>{sh.name}</strong>\r\n                              <small className=\"text-muted ms-2\">{sh.type}</small>\r\n                            </span>\r\n                            <span className=\"badge bg-primary rounded-pill\">\r\n                              {formatPercentage(sh.ownership)}\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"alert alert-warning mb-4\">\r\n                No shareholder data available for chart\r\n              </div>\r\n            )}\r\n\r\n            {/*  CONVERTIBLE NOTE CONVERSION DETAILS */}\r\n            <div className=\"alert alert-success mb-4\">\r\n              <h6 className=\"mb-2\"> Convertible Note Conversion</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Original Investment:</strong> {formatCurrency(calc.seedInvestment || 0)}</p>\r\n                  <p><strong>Interest Rate:</strong> {calc.interestRate || '0'}%</p>\r\n                  <p><strong>Discount Rate:</strong> {calc.discountRate || '0'}%</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Valuation Cap:</strong> {formatCurrency(calc.valuationCap || 0)}</p>\r\n                  <p><strong>Years Between Rounds:</strong> {calc.yearsBetweenRounds || 2}</p>\r\n                  <p><strong>Principal + Interest:</strong> {formatCurrency(calc.principalPlusInterest || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Shares Converted:</strong> {formatNumber(calc.seedConversionShares || 0)}</p>\r\n                  <p><strong>Conversion Value:</strong> {formatCurrency(calc.seedConversionValue || 0)}</p>\r\n                  <p><strong>MOIC:</strong> <strong className=\"text-success\">{calc.seedMOIC || \"0X\"}</strong></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  SERIES A INVESTMENT DETAILS */}\r\n            <div className=\"alert alert-primary mb-4\">\r\n              <h6 className=\"mb-2\"> Series A Investment</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <p><strong>Investment Amount:</strong> {formatCurrency(calc.seriesAInvestment || 0)}</p>\r\n                  <p><strong>Shares Purchased:</strong> {formatNumber(calc.seriesAShares || 0)}</p>\r\n                  <p><strong>Share Price:</strong> {formatCurrency(calc.sharePrice || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <p><strong>Investment Value:</strong> {formatCurrency(calc.seriesAValue || 0)}</p>\r\n                  <p><strong>MOIC:</strong> <strong>{calc.seriesAMOIC || \"0X\"}</strong></p>\r\n                  <p><strong>Pre-Money Valuation:</strong> {formatCurrency(calc.preMoneyValuation || 0)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  PRE-SERIES A CAP TABLE */}\r\n            {preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header bg-secondary text-white\">\r\n                  <h5 className=\"mb-0\"> Pre-Series A Cap Table</h5>\r\n                  <small>Total Shares: {formatNumber(preTable.totalShares || 0)} | Total Value: {formatCurrency(preTable.totalValue || 0)}</small>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-bordered table-hover\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          <th>Shareholder</th>\r\n                          <th className=\"text-center\">Type</th>\r\n                          <th className=\"text-center\">Shares</th>\r\n                          <th className=\"text-center\">Ownership %</th>\r\n                          <th className=\"text-center\">Value</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {preTable.shareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name || `Shareholder ${idx + 1}`}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type?.includes(\"Founder\") ? \"bg-primary\" :\r\n                                sh.type?.includes(\"Option\") ? \"bg-warning text-dark\" :\r\n                                  \"bg-info\"\r\n                                }`}>\r\n                                {sh.type || \"Shareholder\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatNumber(sh.shares || 0)}</strong>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">\r\n                                {formatPercentage(sh.ownership || 0)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value || 0)}</strong>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"table-secondary fw-bold\">\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(preTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">100%</td>\r\n                          <td className=\"text-center\">{formatCurrency(preTable.totalValue || 0)}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*  POST-SERIES A CAP TABLE */}\r\n            {postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header bg-primary text-white\">\r\n                  <h5 className=\"mb-0\"> Post-Series A Cap Table</h5>\r\n                  <small>Total Shares: {formatNumber(postTable.totalShares || 0)} | Total Value: {formatCurrency(postTable.totalValue || 0)}</small>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-bordered table-hover\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          <th>Shareholder</th>\r\n                          <th className=\"text-center\">Type</th>\r\n                          <th className=\"text-center\">Shares</th>\r\n                          <th className=\"text-center\">Ownership %</th>\r\n                          <th className=\"text-center\">Value</th>\r\n                          <th className=\"text-center\">Investment Details</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {postTable.shareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name || `Shareholder ${idx + 1}`}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type?.includes(\"Founder\") ? \"bg-primary\" :\r\n                                sh.type?.includes(\"Option\") ? \"bg-warning text-dark\" :\r\n                                  sh.type?.includes(\"Convertible\") || sh.type?.includes(\"Seed\") ? \"bg-info\" :\r\n                                    sh.type?.includes(\"Series\") ? \"bg-success\" :\r\n                                      \"bg-secondary\"\r\n                                }`}>\r\n                                {sh.type || \"Shareholder\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatNumber(sh.shares || sh.totalShares || 0)}</strong>\r\n                              {sh.newShares > 0 && (\r\n                                <div className=\"small text-success\">+{formatNumber(sh.newShares)} new</div>\r\n                              )}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">\r\n                                {formatPercentage(sh.ownership || 0)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value || 0)}</strong>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              {sh.conversionPrice ? (\r\n                                <div className=\"small\">\r\n                                  @ {formatCurrency(sh.conversionPrice)}/share\r\n                                  {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                </div>\r\n                              ) : sh.investment ? (\r\n                                <div className=\"small\">\r\n                                  Invested: {formatCurrency(sh.investment)}\r\n                                  {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                </div>\r\n                              ) : sh.originalInvestment ? (\r\n                                <div className=\"small\">\r\n                                  Original: {formatCurrency(sh.originalInvestment)}\r\n                                  {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                </div>\r\n                              ) : (\r\n                                <span className=\"text-muted\">-</span>\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"table-primary fw-bold\">\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(postTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">100%</td>\r\n                          <td className=\"text-center\">{formatCurrency(postTable.totalValue || 0)}</td>\r\n                          <td className=\"text-center\">\r\n                            {formatCurrency((calc.seedInvestment || 0) + (calc.seriesAInvestment || 0))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*  FINAL SUMMARY */}\r\n            <div className=\"alert alert-info\">\r\n              <h6> Final Summary</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Pre-Money Valuation:</strong> {formatCurrency(calc.preMoneyValuation || 0)}</p>\r\n                  <p><strong>Post-Money Valuation:</strong> {formatCurrency(calc.postMoneyValuation || 0)}</p>\r\n                  <p><strong>Valuation Increase:</strong> {\r\n                    (((calc.postMoneyValuation || 0) - (calc.preMoneyValuation || 0)) /\r\n                      (calc.preMoneyValuation || 1) * 100).toFixed(1)}%\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Total Capital Raised:</strong> {\r\n                    formatCurrency((calc.seedInvestment || 0) + (calc.seriesAInvestment || 0))\r\n                  }</p>\r\n                  <p><strong>Share Price:</strong> {formatCurrency(calc.sharePrice || 0)}</p>\r\n                  <p><strong>Total Shares Outstanding:</strong> {formatNumber(postTable.totalShares || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>New Shares Issued:</strong> {formatNumber(calc.newSharesIssued || 0)}</p>\r\n                  <p><strong>Option Pool Created:</strong> {formatNumber(calc.newOptionShares || 0)} shares</p>\r\n                  <p><strong>Existing Option Pool:</strong> {formatNumber(calc.existingEmployeeShares || 0)} shares</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div\r\n            className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}\r\n          >\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n              <div className=\"container-fluid\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n                  <h2>Capitalization Table</h2>\r\n                  <button\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => navigate(-1)}\r\n                  >\r\n                    Back to Rounds\r\n                  </button>\r\n                </div>\r\n\r\n                {loading && (\r\n                  <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                    <p className=\"mt-3\">Loading cap table data...</p>\r\n                  </div>\r\n                )}\r\n\r\n                {error && (\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <strong>Error:</strong> {error}\r\n                  </div>\r\n                )}\r\n                {!loading && !error && capTableData && (() => {\r\n\r\n                  // Normalize data for consistent checking\r\n                  const roundType = (capTableData.round_type).toLowerCase();\r\n                  const shareClassType = (capTableData.shareClassType).toLowerCase();\r\n                  const instrumentType = (capTableData.instrumentType || '').toLowerCase();\r\n\r\n                  // CONDITION 1: Round 0 / Incorporation (highest priority)\r\n                  if (roundType.includes(\"round 0\") ||\r\n                    roundType.includes(\"incorporation\") ||\r\n                    capTableData.isRoundZero) {\r\n                    return renderRoundZeroTable();\r\n                  }\r\n\r\n                  // CONDITION 2: Preferred Equity (check before Series/Seed)\r\n                  if (instrumentType === \"preferred equity\" ||\r\n                    instrumentType.includes(\"preferred\")) {\r\n                    return <PreferredEquityCapTable capTableData={capTableData} />;\r\n                  }\r\n\r\n                  // CONDITION 3: Series A + SAFE\r\n                  if (\r\n                    shareClassType.includes(\"series\") &&\r\n                    instrumentType === \"safe\") {\r\n\r\n                    return renderSAFESeriesRoundTable();\r\n                  }\r\n\r\n                  // CONDITION 4: Series A (without SAFE)\r\n                  if (instrumentType === 'common stock' &&\r\n                    shareClassType.includes(\"series\")) {\r\n                    return renderSeriesATable();\r\n                  }\r\n\r\n                  // CONDITION 5: Seed + SAFE\r\n                  if ((shareClassType === 'seed' || shareClassType === 'pre-seed' || shareClassType === 'post-seed') &&\r\n                    instrumentType === \"safe\") {\r\n                    return renderSAFERoundTable();\r\n                  }\r\n                  if ((shareClassType === 'seed' || shareClassType === 'pre-seed' || shareClassType === 'post-seed') &&\r\n                    instrumentType === \"convertible note\") {\r\n                    return renderConvertibleNoteRoundTable();\r\n                  }\r\n                  if (shareClassType.includes(\"series\") &&\r\n                    instrumentType === \"convertible note\") {\r\n                    return renderConvertibleNoteSeriesRoundTable();\r\n                  } else {\r\n                    return renderSeedRoundTable();\r\n                  }\r\n                  // CONDITION 6: Default - Seed Round (any remaining seed or fallback)\r\n\r\n                })()}\r\n\r\n                {!loading && !error && !capTableData && (\r\n                  <div className=\"alert alert-warning\" role=\"alert\">\r\n                    No cap table data available for this roundsss.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n"],"names":["RecordRoundCaptable","navigate","useNavigate","storedUsername","localStorage","getItem","userLogin","JSON","parse","API_URL_CAPTABLE","API_BASE_URL","document","title","id","useParams","capTableData","setCapTableData","useState","roundData","setRoundData","loading","setLoading","error","setError","isCollapsed","setIsCollapsed","useEffect","getCapTableData","async","formData","company_id","companies","round_id","res","axios","post","headers","Accept","data","success","capTable","round","message","err","_err$response","_err$response$data","response","console","formatCurrency","amount","currency","arguments","length","undefined","cleanCurrency","trim","split","currencyCode","includes","toUpperCase","Intl","NumberFormat","style","minimumFractionDigits","format","parseFloat","toFixed","formatCurrencyPricePerShare","numAmount","maximumFractionDigits","formatPriceThreeDecimal","formatNumber","num","formatPercentage","percent","RoundCapChart","_ref","chartData","_jsx","height","children","Bar","options","responsive","plugins","legend","display","text","scales","y","beginAtZero","max","PreferredEquityCapTable","_ref2","_capTableData$warrant","calculations","_jsxs","className","calc","details","stringify","preCapTable","preSeriesACapTable","postCapTable","postSeriesACapTable","preSeriesAShareholders","shareholders","postSeriesAShareholders","totalPreShares","totalShares","totalPostSharesBeforeWarrants","totalSharesBeforeWarrants","totalPostSharesAfterWarrants","totalSharesAfterWarrants","filter","sh","type","originalType","roundname","instrumentType","shareClassType","backgroundColor","roundType","hasConversions","hasWarrants","investmentSize","preMoneyValuation","postMoneyValuation","sharePrice","seriesAShares","convertibleNoteShares","newOptionShares","warrants","map","warrant","idx","coverage","exercisePrice","shares","status","warrantValue","convertibleNotePrincipal","convertibleNotePrincipalPlusInterest","convertibleNoteValue","color","name","note","ownership","value","colSpan","fontWeight","reduce","sum","email","moic","existingShares","newShares","investmentAmount","foundersOwnership","poolOwnership","seedInvestorsOwnership","seriesAInvestorsOwnership","warrantHoldersOwnership","padding","borderRadius","Wrapper","ModuleSideNav","TopBar","SectionWrapper","onClick","role","round_type","toLowerCase","isRoundZero","founderCount","totalSharesIssued","totalValue","firstName","lastName","href","phone","shareType","customShareType","shareClass","customShareClass","votingRights","fontSize","renderSAFESeriesRoundTable","_preTable$shareholder","log","preTable","preSeedCapTable","postTable","postSeedCapTable","inputs","isSeriesA","hasSAFEConversion","seedConversionShares","Math","getOwnershipSummary","founders","employees","seedInvestors","seriesAInvestors","forEach","postOwnership","seedInvestment","valuationCap","discountRate","seedOptimalPrice","totalPostShares","totalSharesPostSeed","seriesAInvestment","roundZeroShares","roundZeroTotalShares","_Fragment","employeeSharesSeedRound","seedDiscountPrice","totalSharesPreSeed","formatCurrencyTwoDecimals","seedConversionValue","seedMOIC","seriesAMOIC","existingOptionPoolPercent","targetOptionPoolPercent","hasNewShares","fullName","isTotal","commonShares","safeInvestment","displayText","breakdown","conversionPrice","finalPostMoneyValuation","renderSeriesATable","isPostMoneyOptionPool","needsExpansion","foundersSeedShares","preInvestmentTotalShares","existingOptionPoolShares","optionPoolPercentPost","totalNewShares","postInvestmentTotalShares","investorOwnershipPercent","seriesAInvestorShares","additionalOptionPoolShares","totalOptionPoolShares","source","preSeriesAShares","existingShareholdersPercent","renderConvertibleNoteSeriesRoundTable","labels","datasets","_sh$type","_sh$type2","_sh$type3","_sh$type4","_sh$type5","borderColor","borderWidth","chartOptions","maintainAspectRatio","position","usePointStyle","font","size","tooltip","callbacks","label","context","parsed","Pie","e","interestRate","yearsBetweenRounds","principalPlusInterest","seriesAValue","_sh$type6","_sh$type7","_sh$type8","_sh$type9","_sh$type10","_sh$type11","_sh$type12","investment","originalInvestment","newSharesIssued","existingEmployeeShares","renderSeedRoundTable","isConvertibleNote","isConvertibleNoteRound","optionPoolPercent","totalNoteInvestment","optionPoolShares","availableForInvestment","preSeedShareholders","preSeedTotalShares","isGeneric","renderConvertibleNoteRoundTable","companyValue","employeeShares","totalConfirmedInvestment","voting","totalFoundersOwnership","totalEmployeeOwnership","isAvailable","investorCount","postInvestmentShares","renderSAFERoundTable","preSeedTable","postSeedTable","safeInvestorCount","conversionInfo","conversionTrigger","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","defaultDatasetIdKey","reforwardRef","ref","current","setLabels","currentData","nextLabels","setDatasets","nextDatasets","datasetIdKey","addedDatasets","nextDataset","currentDataset","find","dataset","push","Object","assign","cloneData","nextData","ChartComponent","props","width","redraw","fallbackContent","updateMode","canvasProps","canvasRef","useRef","chartRef","renderChart","Chart$1","destroyChart","destroy","chart","nextOptions","setOptions","config","setTimeout","update","React","Chart","forwardRef","createTypedChart","registerables","BarController","PieController"],"sourceRoot":""}