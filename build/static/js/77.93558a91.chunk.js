"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[77],{77:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var n=s(5043),o=s(8786),i=s(3910),r=s(6213),l=s(6178),a=s.n(l),d=s(7929),c=s(4635),x=s(1003),p=s(3216),f=s(6305),h=s(6836),u=s(6115),g=s(5475),m=s(5166),j=s(579);const b=function(){const{slug:e}=(0,p.g)(),[t,l]=(0,n.useState)([]),b="https://backend.amourette.no/api/admin/",y=(0,p.Zp)(),[v,S]=(0,n.useState)(""),[w,C]=(0,n.useState)(!1),[A,z]=(0,n.useState)(!1),[k,D]=(0,n.useState)(""),[R,Y]=(0,n.useState)(""),[N,I]=(0,n.useState)(""),[M,T]=(0,n.useState)(""),[W,_]=(0,n.useState)(""),[P,q]=(0,n.useState)("");(0,n.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),t=JSON.parse(e);console.log(t),null===t&&y("/admin/login")}),[]),(0,n.useEffect)((()=>{B()}),[]);const B=async()=>{let t={slug:e};try{var s=(await r.A.post(b+"getuserdetail",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;void 0===s&&y("/admin/users"),q(s)}catch(n){n.response||(n.request?console.error("Request data:",n.request):console.error("Error message:",n.message))}},[$,E]=(0,n.useState)([]),[F,L]=(0,n.useState)(!1),[O,H]=(0,n.useState)({}),U=[{name:"Pay ID",selector:e=>e.payment_id,sortable:!0},{name:"User",selector:e=>e.username,sortable:!0},{name:"Plan",selector:e=>e.plan,sortable:!0},{name:"Amount",selector:e=>{const t=parseFloat(e.amount);return isNaN(t)?"0.00":t.toFixed(2)},sortable:!0},{name:"Refund Date",selector:e=>a()(e.PaymentrefundDispute_date).format("DD-MM-YYYY")},{name:"Action",cell:e=>(0,j.jsx)("div",{className:"d-flex align-items-center gap-3",children:"Free"!==e.plan&&(0,j.jsx)("a",{style:{fontSize:"16px"},className:"dataedit_btn",title:"Invoice View",onClick:()=>G(e),children:(0,j.jsx)(i.g,{icon:d.p4e})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],G=async e=>{let t={id:e.id};try{var s=(await r.A.post(b+"getinvoieData",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;console.log(s),T(s)}catch(n){n.response||(n.request?console.error("Request data:",n.request):console.error("Error message:",n.message))}};(0,n.useEffect)((()=>{const e=(0,j.jsxs)("div",{style:{width:"100%",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,j.jsx)("table",{style:{width:"100%",textAlign:"center",padding:"20px"},children:(0,j.jsxs)("tbody",{children:[(0,j.jsx)("tr",{children:(0,j.jsx)("td",{children:(0,j.jsx)("img",{src:s(2806),alt:"Logo",style:{maxWidth:"350px",height:"auto",objectFit:"contain"}})})}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{style:{fontSize:"20px",color:"rgb(17, 16, 16)",textTransform:"capitalize",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:"Refund from Amourette"})})]})}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:"20px"},children:[(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Refunded"}),(0,j.jsxs)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Date Issue"}),(0,j.jsx)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:a()(N.refund_date).format("MMM D, YYYY")})]})]}),(0,j.jsxs)("div",{style:{textAlign:"justify",color:"rgb(17, 16, 16)",fontSize:"16px",lineHeight:"1.6",marginTop:"20px",padding:"20px",borderBottom:"2px solid #eee"},children:["This email is to confirm that your refund has been issued by",(0,j.jsx)("strong",{children:" Amourette"}),". It can take approximately",(0,j.jsx)("strong",{children:" 10 days"})," to appear on your statement. If it takes longer, please contact your bank for assistance."]}),(0,j.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,j.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Payment To Amourette"}),(0,j.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,j.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Total"}),(0,j.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,j.jsxs)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:["Refunded on"," ",a()(N.refund_date).format("MMM D, YYYY")]}),(0,j.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,j.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Adjusted Total"}),(0,j.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]})]})]}),t=(0,j.jsxs)("div",{style:{width:"100%",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,j.jsx)("table",{style:{width:"100%",textAlign:"center",padding:"20px"},children:(0,j.jsxs)("tbody",{children:[(0,j.jsx)("tr",{children:(0,j.jsx)("td",{children:(0,j.jsx)("img",{src:s(2806),alt:"Logo",style:{maxWidth:"350px",height:"auto",objectFit:"contain"}})})}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{style:{fontSize:"20px",color:"rgb(17, 16, 16)",textTransform:"capitalize",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:"Receipt from Amourette"})})]})}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:"20px"},children:[(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Amount Paid"}),(0,j.jsxs)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Date Paid"}),(0,j.jsx)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:a()(N.start_date).format("MMM D, YYYY")})]})]}),(0,j.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,j.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Payment To Amourette"}),(0,j.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,j.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Amount charged"}),(0,j.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",N.amount]})]})]})]});""!==N&&("Succeeded"===N.refund?(0,u.A)(e,W,"Refund Invoice"):(0,u.A)(t,W,"Payment Receipt")),console.log(W)}),[N,W]),(0,n.useEffect)((()=>{const e=(0,j.jsxs)("div",{style:{width:"100%",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,j.jsx)("table",{style:{width:"100%",textAlign:"center",padding:"20px"},children:(0,j.jsxs)("tbody",{children:[(0,j.jsx)("tr",{children:(0,j.jsx)("td",{children:(0,j.jsx)("img",{src:s(2806),alt:"Logo",style:{maxWidth:"350px",height:"auto",objectFit:"contain"}})})}),(0,j.jsx)("tr",{children:(0,j.jsx)("td",{style:{fontSize:"20px",color:"rgb(17, 16, 16)",textTransform:"capitalize",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:"Refund from Amourette"})})]})}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:"20px"},children:[(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Refunded"}),(0,j.jsxs)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:[M.amount,"kr"]})]}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Date Issue"}),(0,j.jsx)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:a()(M.PaymentrefundDispute_date).format("MMM D, YYYY")})]})]}),(0,j.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,j.jsxs)("table",{className:"table-re",style:{width:"100%",borderCollapse:"collapse"},children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"Description"}),(0,j.jsx)("th",{children:"Qty"}),(0,j.jsx)("th",{children:"Unit price"}),(0,j.jsx)("th",{children:"Amount"})]})}),(0,j.jsx)("tbody",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:"Basic"}),(0,j.jsx)("td",{children:"1"}),(0,j.jsxs)("td",{children:[M.amount,"kr"]}),(0,j.jsxs)("td",{children:[M.amount,"kr"]})]})})]}),(0,j.jsxs)("ul",{className:"refund_amount",children:[(0,j.jsxs)("li",{className:"d-flex align-items-center justify-content-between gap-5",children:[(0,j.jsx)("h5",{children:"Subtotal"}),(0,j.jsxs)("p",{children:[M.amount,"kr"]})]}),(0,j.jsxs)("li",{className:"d-flex align-items-center justify-content-between gap-5",children:[(0,j.jsx)("h5",{children:"Total"}),(0,j.jsxs)("p",{children:[M.amount,"kr"]})]}),(0,j.jsxs)("li",{className:"d-flex align-items-center justify-content-between gap-5",children:[(0,j.jsx)("h4",{children:"Amount paid"}),(0,j.jsxs)("p",{children:[M.amount,"kr"]})]}),(0,j.jsxs)("li",{className:"d-flex align-items-center justify-content-between gap-5",children:[(0,j.jsxs)("h5",{children:["Refunded on"," ",a()(M.PaymentrefundDispute_date).format("MMM D, YYYY")]}),(0,j.jsxs)("p",{children:[M.amount,"kr"]})]})]})]})]});s(2806),N.amount,a()(N.start_date).format("MMM D, YYYY"),N.amount,N.amount;setTimeout((()=>{""!==M&&(0,m.A)(e)}),500)}),[M]),(0,n.useEffect)((()=>{J()}),[P]);const J=async()=>{let e={user_id:P.id};try{var t=(await r.A.post(b+"getallpaymentrefund",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;console.log(t),E(t)}catch(s){s.response||(s.request?console.error("Request data:",s.request):console.error("Error message:",s.message))}},[Q,V]=(0,n.useState)(""),Z=$.filter((e=>Object.values(e).join(" ").toLowerCase().includes(Q.toLowerCase()))),[K,X]=(0,n.useState)(!1);return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{class:"position-relative bg-white d-flex p-0",children:[(0,j.jsx)(c.A,{isOpen:K}),(0,j.jsxs)("div",{className:"content "+(K?"open":""),children:[(0,j.jsx)(x.A,{onClick:()=>{X(!K)}}),w&&(0,j.jsx)(f.A,{message:k}),A&&(0,j.jsx)(h.A,{message:R}),(0,j.jsx)("div",{className:"container-fluid pt-4 px-4",children:(0,j.jsx)("div",{className:"row g-4",children:(0,j.jsx)("div",{className:"col-12",children:(0,j.jsxs)("div",{className:"bg-light rounded h-100 p-4",children:[(0,j.jsxs)("div",{className:"d-flex flex-md-row flex-column justify-content-between",children:[(0,j.jsxs)(g.N_,{to:`/admin/paymenthistory/${e}`,style:{display:"flex",alignItems:"center",textDecoration:"none"},className:"mb-4",children:[(0,j.jsx)(i.g,{icon:d.CeG,style:{marginRight:"8px"}})," ","Back"]}),(0,j.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,j.jsx)("div",{className:"d-flex justify-content-between",children:(0,j.jsxs)("h6",{className:"mb-4",children:["Payment Refund List (",P.username,")"]})}),(0,j.jsx)("div",{className:"mb-3",children:(0,j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",value:Q,onChange:e=>V(e.target.value)})})]})]}),(0,j.jsx)("div",{className:"table-responsive",children:(0,j.jsx)(o.Ay,{columns:U,data:Z,pagination:!0,highlightOnHover:!0,noDataComponent:"No records found."})})]})})})})]})]})})}}}]);
//# sourceMappingURL=77.93558a91.chunk.js.map