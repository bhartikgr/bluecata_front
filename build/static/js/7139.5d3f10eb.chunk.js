/*! For license information please see 7139.5d3f10eb.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[7139],{6058:(e,a,s)=>{s.d(a,{Fq:()=>p,yP:()=>h});var t=s(65043),n=s(17304);const i="label";function l(e,a){"function"===typeof e?e(a):e&&(e.current=a)}function r(e,a){e.labels=a}function o(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const t=[];e.datasets=a.map((a=>{const n=e.datasets.find((e=>e[s]===a[s]));return n&&a.data&&!t.includes(n)?(t.push(n),Object.assign(n,a),n):{...a}}))}function d(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const s={labels:[],datasets:[]};return r(s,e.labels),o(s,e.datasets,a),s}function c(e,a){const{height:s=150,width:i=300,redraw:c=!1,datasetIdKey:m,type:u,data:h,options:p,plugins:x=[],fallbackContent:g,updateMode:f,...v}=e,y=(0,t.useRef)(null),b=(0,t.useRef)(null),j=()=>{y.current&&(b.current=new n.t1(y.current,{type:u,data:d(h,m),options:p&&{...p},plugins:x}),l(a,b.current))},N=()=>{l(a,null),b.current&&(b.current.destroy(),b.current=null)};return(0,t.useEffect)((()=>{!c&&b.current&&p&&function(e,a){const s=e.options;s&&a&&Object.assign(s,a)}(b.current,p)}),[c,p]),(0,t.useEffect)((()=>{!c&&b.current&&r(b.current.config.data,h.labels)}),[c,h.labels]),(0,t.useEffect)((()=>{!c&&b.current&&h.datasets&&o(b.current.config.data,h.datasets,m)}),[c,h.datasets]),(0,t.useEffect)((()=>{b.current&&(c?(N(),setTimeout(j)):b.current.update(f))}),[c,p,h.labels,h.datasets,f]),(0,t.useEffect)((()=>{b.current&&(N(),setTimeout(j))}),[u]),(0,t.useEffect)((()=>(j(),()=>N())),[]),t.createElement("canvas",{ref:y,role:"img",height:s,width:i,...v},g)}const m=(0,t.forwardRef)(c);function u(e,a){return n.t1.register(a),(0,t.forwardRef)(((a,s)=>t.createElement(m,{...a,ref:s,type:e})))}const h=u("bar",n.A6),p=u("pie",n.P$)},7118:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7365:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9493:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},23658:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33610:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]])},34379:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},40614:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},47139:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var t=s(65043),n=s(82527),i=s(97899),l=s(73216),r=s(35475),o=s(60184),d=s(53162),c=s(86213),m=s(6058),u=s(17304),h=s(70579);u.t1.register(u.PP,u.kc,u.E8,u.No,u.FN,u.Bs,u.hE,u.m_,u.s$);const p=function(){var e,a,s,u,p,x;(0,l.Zp)();const[g,f]=(0,t.useState)(""),{id:v}=(0,l.g)(),[y,b]=(0,t.useState)(null),[j,N]=(0,t.useState)(!0);document.title="Company Cap Table - Admin",(0,t.useEffect)((()=>{_()}),[]);const _=async()=>{let e={company_id:v};try{N(!0);const a=(await c.A.post("https://blueprintcatalyst.com/api/admin/company/getUsercompnayInfo",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;b(a)}catch(a){a.response?console.error("Response error:",a.response.data):a.request?console.error("Request data:",a.request):console.error("Error message:",a.message)}finally{N(!1)}},[w,k]=(0,t.useState)(""),[S,$]=(0,t.useState)(""),[A,C]=(0,t.useState)({round_type:"",target_raise:0,raised_to_date:0,expected_close:"",fundraising_progress:"0%",progresswidth:0,currency:"USD",remaining_amount:0,total_investors:0}),[E,F]=(0,t.useState)([]),[z,L]=(0,t.useState)([]),[D,R]=(0,t.useState)([]),[U,M]=(0,t.useState)([]),[P,T]=(0,t.useState)([]),[I,V]=(0,t.useState)([]),[O,W]=(0,t.useState)("0"),[B,q]=(0,t.useState)({option_pool:{total_option_pool_percentage:0,total_option_pool_shares:0,available_percentage:0,allocated_percentage:0},latest_valuation:{valuation_amount:0,currency:"",price_per_share:0,total_company_shares:0},summary:{total_company_shares:0,latest_valuation:0,option_pool_percentage:0}}),[H,K]=(0,t.useState)([]),[Z,G]=(0,t.useState)(""),[Q,J]=(0,t.useState)(""),[Y,X]=(0,t.useState)({labels:[],datasets:[]}),[ee,ae]=(0,t.useState)({labels:[],datasets:[{data:[],backgroundColor:[],borderColor:"#ffffff",borderWidth:2,hoverBorderWidth:3,hoverOffset:10}]}),[se,te]=(0,t.useState)(""),[ne,ie]=(0,t.useState)(!1),[le,re]=(0,t.useState)(null),oe="https://blueprintcatalyst.com/api/user/dashboard/",de={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,pointStyle:"circle",padding:15,font:{size:11,weight:"500"},generateLabels:function(e){const a=e.data;return a.labels.length&&a.datasets.length?a.labels.map(((e,s)=>({text:`${e}: ${a.datasets[0].data[s]}%`,fillStyle:a.datasets[0].backgroundColor[s],strokeStyle:a.datasets[0].borderColor,lineWidth:a.datasets[0].borderWidth,hidden:isNaN(a.datasets[0].data[s])||0===a.datasets[0].data[s],index:s}))):[]}}},tooltip:{callbacks:{label:function(e){return`${e.label||""}: ${e.parsed}%`}},backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255,255,255,0.2)",borderWidth:1,cornerRadius:8,displayColors:!0,usePointStyle:!0},datalabels:{display:function(e){return e.parsed>5},color:"#ffffff",font:{weight:"bold",size:10},formatter:function(e){return e+"%"}}},elements:{arc:{borderWidth:2,hoverBorderWidth:3}},animation:{animateRotate:!0,animateScale:!0,duration:1e3,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"nearest"}};(0,t.useEffect)((()=>{ce()}),[]);const ce=async()=>{let e={id:""};try{var a=(await c.A.post("https://blueprintcatalyst.com/api/user/capitalround/getallcountrySymbolList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;K(a)}catch(s){}};(0,t.useEffect)((()=>{ve(),pe(),he(),ue(),me()}),[]);const me=async()=>{N(!0),G(null);try{const e=await c.A.post(oe+"getDilutionForecast",{company_id:v});e.data&&e.data.labels?X({labels:e.data.labels,datasets:e.data.datasets}):G("No dilution data available")}catch(e){console.error("Error generating dilution forecast:",e),G("Failed to load dilution forecast")}finally{N(!1)}},ue=async()=>{const e={company_id:v};try{const a=await c.A.post(oe+"getCompanyopenround",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data&&a.data.success){const e=a.data.roundInfo;C(e)}else G("No active round found"),console.error("API Error:",a.data.message)}catch(a){console.error("Error generating summary",a)}},he=async()=>{ie(!0),re(null);const e={company_id:v};try{const a=await c.A.post(oe+"getShareholder",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data&&a.data.shareholders){const{labels:e,data:s,colors:t}=a.data.shareholders,n=[],i=[],l=[];e.forEach(((e,a)=>{s[a]>0&&(i.push(e),n.push(parseFloat(s[a])),l.push(t[a]))}));const r={labels:i,datasets:[{data:n,backgroundColor:l,borderColor:"#ffffff",borderWidth:2,hoverBorderWidth:3,hoverOffset:10,hoverBackgroundColor:l.map((e=>e+"CC"))}]};ae(r),re(null)}else re("No shareholder data available")}catch(i){var a,s,t,n;console.error("Error fetching shareholder data:",i);const e=(null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||(null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load shareholder breakdown";re(e)}finally{ie(!1)}},pe=async()=>{const e={company_id:v};N(!0),G("");try{const a=await c.A.post(oe+"getCompanyOptionPoolLastestValuation",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});a.data&&a.data.success?q(a.data.data):(G("Failed to fetch data"),console.error("API Error:",a.data.message))}catch(a){G("Error fetching option pool and valuation data"),console.error("Error generating summary",a)}finally{N(!1)}},xe=e=>{const a=null===e||void 0===e?void 0:e.replace(/[\$\s]/g,"").toUpperCase(),s=H.find((e=>{var s;return(null===(s=e.currency_code)||void 0===s?void 0:s.toUpperCase())===a}));return(null===s||void 0===s?void 0:s.currency_symbol)||""},ge=()=>{const e={};return H.forEach((a=>{if(a.currency_code){const s=a.currency_code.replace(/[\$\s]/g,"").toUpperCase();if(e[s]=s,a.currency_symbol){const t=`${s} ${a.currency_symbol}`.trim();e[t]=s}}})),e},fe=function(e){if(!e||0===e)return"0";const a=xe(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD"),s=Number(String(e).replace(/,/g,""));return s>=1e6?`${a}${(s/1e6).toFixed(1)}M`:s>=1e3?`${a}${(s/1e3).toFixed(1)}K`:`${a}${s.toLocaleString("en-US")}`},ve=async()=>{const e={company_id:v};try{const a=await c.A.post(oe+"getCompanyTotalShares",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});$(a.data.results)}catch(a){console.error("Error generating summary",a)}},ye={responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{position:"top",labels:{generateLabels:function(e){if(!e||!e.data)return[];const a=e.data;return a.labels.length&&a.datasets.length?a.datasets.map(((a,s)=>({text:a.label,fillStyle:a.backgroundColor,strokeStyle:a.borderColor||a.backgroundColor,lineWidth:a.borderWidth||0,hidden:!e.isDatasetVisible(s),index:s}))):[]}},onClick:(e,a,s)=>{try{const e=a.index,t=s.chart;if(t&&t.isDatasetVisible&&"function"===typeof t.setDatasetVisibility){const a=t.isDatasetVisible(e);t.setDatasetVisibility(e,!a),t.update()}}catch(Z){console.warn("Legend click error:",Z)}}},title:{display:!0,text:"Ownership Dilution Forecast",font:{size:16,weight:"bold"}},tooltip:{callbacks:{label:function(e){try{return`${e.dataset.label}: ${e.parsed.y.toFixed(1)}%`}catch(Z){return`${e.dataset.label}: ${e.parsed.y}%`}},footer:function(e){try{let a=0;return e.forEach((function(e){a+=e.parsed.y})),`Total: ${a.toFixed(1)}%`}catch(Z){return""}}}}},scales:{x:{stacked:!0,title:{display:!0,text:"Funding Rounds"}},y:{stacked:!0,max:100,min:0,title:{display:!0,text:"Ownership Percentage"},ticks:{callback:function(e){return e+"%"}}}},interaction:{mode:"index",intersect:!1},onHover:(e,a,s)=>{},onClick:(e,a,s)=>{}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,h.jsx)(n.A,{}),(0,h.jsxs)("div",{className:"d-flex flex-column gap-0 w-100 dashboard_padding",children:[(0,h.jsx)(i.A,{}),(0,h.jsx)("section",{className:"dashboard_adminh",children:(0,h.jsx)("div",{className:"container-xl",children:(0,h.jsx)("div",{className:"row gy-4",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"card p-3",children:[g&&(0,h.jsx)(d.A,{message:g,onClose:()=>f("")}),(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center gap-3 flex-wrap mb-4",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,h.jsxs)(r.N_,{to:`/admin/users/company/${null===y||void 0===y?void 0:y.user_id}`,className:"btn btn-secondary",children:[(0,h.jsx)(o.QVr,{})," Back"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h5",{className:"mb-1",children:j?(0,h.jsx)("span",{className:"text-muted",children:"Loading..."}):(null===y||void 0===y?void 0:y.company_name)||"Company Name"}),(0,h.jsxs)("small",{className:"text-muted",children:["Owner:"," ",(0,h.jsxs)("b",{children:[null===y||void 0===y?void 0:y.user_first_name," ",null===y||void 0===y?void 0:y.user_last_name]})]})]})]}),(0,h.jsx)("h5",{className:"mb-0 text-primary",children:"Cap Table Overview"})]}),j?(0,h.jsxs)("div",{className:"text-center py-5",children:[(0,h.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("p",{className:"mt-3 text-muted",children:"Loading company information..."})]}):y?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"card p-4 mt-3 shadow-sm",children:[(0,h.jsx)("h5",{className:"mb-4",children:"Capitalization Table"}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-12",children:[(0,h.jsx)("div",{className:"pb-3 bar_design d-flex justify-content-between align-items-center",children:(0,h.jsx)("h4",{className:"h5 mb-0",children:"Equity Snapshot"})}),(0,h.jsxs)("div",{class:"row gap-0 dashboard-top",children:[(0,h.jsx)("div",{class:"col-6 col-md-3 p-0 bor",children:(0,h.jsxs)("div",{class:"p-3",children:[(0,h.jsx)("p",{class:"small fw-medium mb-1",children:"Total Shares"}),(0,h.jsx)("div",{className:"d-flex align-items-center gap-3 justify-content-between",children:(0,h.jsxs)("p",{class:"h4 fw-semibold mb-0",children:[xe(S.currency),Number(String(S.totalCompanyShares).replace(/,/g,"")).toLocaleString("en-US")]})})]})}),(0,h.jsx)("div",{className:"col-6 col-md-3 p-0 bor",children:(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsx)("p",{className:"small fw-medium mb-1",children:"Option Pool"}),j?(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("span",{className:"small",children:"Loading..."})]}):Z?(0,h.jsx)("p",{className:"h4 fw-semibold mb-0 text-danger",children:"0"}):(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"h4 fw-semibold mb-0",children:(je=null===(e=B.option_pool)||void 0===e?void 0:e.total_option_pool_percentage,je&&0!==je?`${parseFloat(je).toFixed(1)}%`:"0%")}),(0,h.jsxs)("small",{className:"text-muted",children:[(be=null===(a=B.option_pool)||void 0===a?void 0:a.total_option_pool_shares,be&&0!==be?be>=1e6?`${(be/1e6).toFixed(1)}M`:be>=1e3?`${(be/1e3).toFixed(1)}K`:be.toLocaleString():"0")," ","shares"]})]})]})}),(0,h.jsx)("div",{class:"col-6 col-md-3 p-0 bor",children:(0,h.jsxs)("div",{class:"p-3",children:[(0,h.jsx)("p",{class:"small fw-medium mb-1",children:"Investor Stakes"}),(0,h.jsxs)("p",{class:"h4 fw-semibold mb-0",children:[O||0,"%"]})]})}),(0,h.jsx)("div",{className:"col-6 col-md-3 p-0",children:(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsx)("p",{className:"small fw-medium mb-1",children:"Latest Valuation"}),j?(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("span",{className:"small",children:"Loading..."})]}):Z?(0,h.jsx)("p",{className:"h4 fw-semibold mb-0 text-danger",children:"0"}):(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"h4 fw-semibold mb-0",children:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!e||0===e)return"$0";const s=ge();let t=a;if(a)if(s[a])t=s[a];else{t=a.replace(/[\$\s]/g,"").toUpperCase();t={CAD:"CAD",USD:"USD",EUR:"EUR",GBP:"GBP",INR:"INR"}[t]||"USD"}try{const a=new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0});return e>=1e6?a.format(e/1e6)+"M":e>=1e3?a.format(e/1e3)+"K":a.format(e)}catch(Z){console.warn(`Invalid currency code: ${a}, falling back to manual format`);const t=xe(a);return e>=1e6?`${t}${(e/1e6).toFixed(1)}M`:e>=1e3?`${t}${(e/1e3).toFixed(1)}K`:`${t}${e.toLocaleString()}`}}(null===(s=B.latest_valuation)||void 0===s?void 0:s.valuation_amount,null===(u=B.latest_valuation)||void 0===u?void 0:u.currency)}),(null===(p=B.latest_valuation)||void 0===p?void 0:p.price_per_share)>0&&(0,h.jsxs)("small",{className:"text-muted",children:["$",B.latest_valuation.price_per_share.toFixed(2),"/share"]})]})]})})]})]}),(0,h.jsx)("div",{className:"col-12 my-4",children:(0,h.jsxs)("div",{class:"dashboard_card  modern-chart m-0",children:[(0,h.jsx)("div",{class:"card-header",children:(0,h.jsx)("h3",{class:"card-title",children:"Open Round Info"})}),(0,h.jsxs)("div",{className:"info-section",children:[(0,h.jsxs)("div",{className:"info-item",children:[(0,h.jsx)("div",{className:"info-label",children:"Round Type"}),(0,h.jsx)("div",{className:"info-value",children:(null===A||void 0===A?void 0:A.round_type)||"No Active Round"})]}),(0,h.jsxs)("div",{className:"info-item",children:[(0,h.jsx)("div",{className:"info-label",children:"Target Raise"}),(0,h.jsx)("div",{className:"info-value",children:fe(null===A||void 0===A?void 0:A.target_raise,null===A||void 0===A?void 0:A.currency)})]}),(0,h.jsxs)("div",{className:"info-item",children:[(0,h.jsx)("div",{className:"info-label",children:"Raised till Date"}),(0,h.jsxs)("div",{className:"info-value",children:[(0,h.jsx)("span",{className:"raised-amount",children:fe(null===A||void 0===A?void 0:A.raised_to_date,null===A||void 0===A?void 0:A.currency)}),(null===A||void 0===A?void 0:A.total_investors)>0&&(0,h.jsxs)("small",{className:"text-muted d-block",children:["from"," ",A.total_investors," ","investor",1!==A.total_investors?"s":""]})]})]}),(0,h.jsxs)("div",{className:"info-item",children:[(0,h.jsx)("div",{className:"info-label",children:"Pre-money Valuation"}),(0,h.jsx)("div",{className:"info-value",children:fe((()=>{var e,a;const s=Number(String(null!==(e=null===S||void 0===S?void 0:S.company_shares)&&void 0!==e?e:"0").replace(/,/g,"")),t=(null===A||void 0===A?void 0:A.raised_to_date)||0;if((null===B||void 0===B||null===(a=B.latest_valuation)||void 0===a?void 0:a.price_per_share)>0){const e=s*B.latest_valuation.price_per_share-t;return e>0?e:0}return s})(),(null===A||void 0===A?void 0:A.currency)||(null===B||void 0===B||null===(x=B.latest_valuation)||void 0===x?void 0:x.currency))})]}),(0,h.jsxs)("div",{className:"info-item",children:[(0,h.jsx)("div",{className:"info-label",children:"Expected Close"}),(0,h.jsx)("div",{className:"info-value",children:(e=>{if(!e)return"Not Set";try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(Z){return e}})(null===A||void 0===A?void 0:A.expected_close)})]}),(null===A||void 0===A?void 0:A.remaining_amount)>0&&(0,h.jsxs)("div",{className:"info-item",children:[(0,h.jsx)("div",{className:"info-label",children:"Remaining Amount"}),(0,h.jsx)("div",{className:"info-value text-warning",children:fe(A.remaining_amount,null===A||void 0===A?void 0:A.currency)})]})]}),(0,h.jsxs)("div",{className:"progress-container",children:[(0,h.jsxs)("div",{className:"progress-info",children:[(0,h.jsx)("div",{className:"progress-label",children:"Fundraising Progress"}),(0,h.jsx)("div",{className:"progress-value",children:(null===A||void 0===A?void 0:A.fundraising_progress)||"0%"})]}),(0,h.jsx)("div",{className:"progress-bar",children:(0,h.jsx)("div",{className:"progress-fill",style:{width:`${Math.min((null===A||void 0===A?void 0:A.progresswidth)||0,100)}%`,backgroundColor:(e=>e>=80?"#28a745":e>=50?"#ffc107":e>=25?"#fd7e14":"#dc3545")((null===A||void 0===A?void 0:A.progresswidth)||0),transition:"width 0.3s ease-in-out"}})}),(0,h.jsx)("div",{className:"progress-details mt-2",children:(0,h.jsxs)("small",{className:"text-muted",children:[(null===A||void 0===A?void 0:A.progress_status)&&(0,h.jsx)("span",{className:"badge bg-secondary me-2",children:A.progress_status}),(null===A||void 0===A?void 0:A.raised_to_date)>0&&(null===A||void 0===A?void 0:A.target_raise)>0&&(0,h.jsxs)(h.Fragment,{children:[fe(A.raised_to_date,null===A||void 0===A?void 0:A.currency)," of ",fe(A.target_raise,null===A||void 0===A?void 0:A.currency)]})]})})]}),(0,h.jsxs)("div",{className:"row px-3",children:[(0,h.jsx)("div",{className:"my-4 col-md-6",children:(0,h.jsxs)("div",{className:"dashboard_card modern-chart h-100",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h3",{className:"card-title",children:"Dilution Forecast"})}),(0,h.jsx)("div",{className:"card-body h-100",children:j?(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,h.jsx)("div",{className:"spinner-border",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):Z?(0,h.jsx)("div",{className:"alert alert-warning h-100 d-flex align-items-center justify-content-center",children:"0"}):Y.labels.length>0?(0,h.jsx)("div",{style:{height:"300px"},children:(0,h.jsx)(m.yP,{data:Y,options:ye})}):(0,h.jsx)("div",{className:"alert alert-info h-100 d-flex align-items-center justify-content-center",children:"No rounds found. Create a round to see dilution forecast."})})]})}),(0,h.jsx)("div",{className:"my-4 col-md-6",children:(0,h.jsxs)("div",{className:"dashboard_card modern-chart h-100",children:[(0,h.jsx)("div",{className:"card-header d-flex justify-content-between align-items-center",children:(0,h.jsx)("h3",{className:"card-title mb-0",children:"Shareholder Breakdown"})}),(0,h.jsx)("div",{className:"card-body d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:ne?(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("p",{className:"text-muted",children:"Loading shareholder data..."})]}):le?(0,h.jsxs)("div",{className:"alert alert-warning text-center",children:[(0,h.jsx)("i",{className:"fas fa-exclamation-triangle fa-2x mb-3 text-warning"}),(0,h.jsx)("h6",{children:"Unable to load shareholder data"}),(0,h.jsx)("p",{className:"mb-3",children:le}),(0,h.jsx)("button",{onClick:he,className:"btn btn-sm btn-primary",children:"Try Again"})]}):ee.labels.length>0?(0,h.jsx)("div",{className:"chart-container",style:{width:"100%",maxWidth:"350px",height:"350px"},children:(0,h.jsx)(m.Fq,{data:ee,options:de})}):(0,h.jsxs)("div",{className:"alert alert-info text-center",children:[(0,h.jsx)("i",{className:"fas fa-users fa-2x mb-3 text-info"}),(0,h.jsx)("h6",{children:"No Shareholders Found"}),(0,h.jsx)("p",{className:"mb-3",children:"Add investors to see shareholder breakdown"}),(0,h.jsx)("button",{onClick:()=>{},className:"btn btn-sm btn-success",children:"Add Investors"})]})})]})})]})]})})]})]})}):(0,h.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,h.jsx)("h6",{className:"alert-heading",children:"No Data Found"}),(0,h.jsx)("p",{className:"mb-0",children:"Unable to load company information. Please try again later."})]})]})})})})})]})]})})});var be,je}},53162:(e,a,s)=>{s.d(a,{A:()=>n});s(65043);var t=s(70579);const n=function(e){let{message:a,onClose:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[(0,t.jsx)("strong",{children:"Success!"})," ",a,(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:s})]})})}},69617:(e,a,s)=>{e.exports=s.p+"static/media/woman.479e4e977fef9923d7de.jpg"},77572:(e,a,s)=>{e.exports=s.p+"static/media/capavate.b15264e93ae9765cfd05.png"},82527:(e,a,s)=>{s.d(a,{A:()=>p});var t=s(65043),n=s(73216),i=s(35475),l=s(40614),r=s(42983),o=s(34379),d=s(23658),c=s(7118),m=s(33610),u=s(7365),h=s(70579);const p=function(){const[e,a]=(0,t.useState)(!1),p=(0,n.zy)(),x=(0,t.useRef)(null);(0,t.useEffect)((()=>{x.current&&x.current.scrollIntoView({behavior:"auto",block:"nearest"})}),[p.pathname]);const g=e=>e.includes(p.pathname),f=e=>e.some((e=>"string"===typeof e?p.pathname===e:e instanceof RegExp&&e.test(p.pathname))),v=e=>e?x:null;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:{position:"fixed",zIndex:"98"},className:"d-xl-none   d-flex flex-column p-3 px-4 gap-2 justify-content-between align-items-center",children:(0,h.jsx)("div",{className:"d-flex flex-column gap-2 justify-content-center align-items-center",children:(0,h.jsx)("button",{className:"btn btn-dark ",onClick:()=>a(!e),children:e?(0,h.jsx)(l.A,{size:24}):(0,h.jsx)(r.A,{size:24})})})}),(0,h.jsx)("div",{className:`side_bar_admin  vh-100 shadow-xl p-4 position-fixed  top-0 start-0 ${e?"d-flex":"d-none"} d-xl-flex flex-column justify-content-between`,style:{width:"300px",flexShrink:"0"},children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,h.jsx)("div",{className:"side_logo",children:(0,h.jsx)("img",{className:"w-100 h-100 object-fit-cover",src:s(77572),alt:"logo"})}),(0,h.jsx)("button",{className:"close_btn_admin d-xl-none d-block",onClick:()=>a(!e),children:e?(0,h.jsx)(l.A,{size:24}):(0,h.jsx)(r.A,{size:24})}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 pt-3",children:[(0,h.jsx)(o.A,{size:26}),(0,h.jsx)("h4",{className:"m-0 fw-bold",children:"Admin Panel"})]}),(0,h.jsxs)("ul",{className:"list-unstyled dash_scroll d-flex flex-column gap-2 py-3",style:{maxHeight:"74vh",overflowY:"auto"},children:[(0,h.jsx)("li",{ref:v(g(["/admin/dashboard"])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(g(["/admin/dashboard"])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/dashboard",className:"d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(d.A,{size:20})," ",(0,h.jsx)("span",{children:"Dashboard"})]})}),(0,h.jsx)("li",{ref:v(f(["/admin/users",/^\/admin\/users\/company\/\d+$/,/^\/admin\/users\/company\/cap-table\/\d+$/,/^\/admin\/users\/company\/investor-info\/\d+$/,/^\/admin\/users\/company\/info\/\d+$/,/^\/admin\/company\/viewdetails\/\d+$/])),className:"p-2 d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/users",/^\/admin\/users\/company\/\d+$/,/^\/admin\/users\/company\/cap-table\/\d+$/,/^\/admin\/users\/company\/investor-info\/\d+$/,/^\/admin\/users\/company\/info\/\d+$/,/^\/admin\/company\/viewdetails\/\d+$/])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/users",className:"d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(c.A,{size:20})," ",(0,h.jsx)("span",{children:"Users"})]})}),(0,h.jsxs)("li",{className:"p-2 rounded d-flex flex-column gap-2 mb-2",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 ",children:[(0,h.jsx)(m.A,{size:20})," ",(0,h.jsx)("span",{children:"Modules"})]}),(0,h.jsxs)("ul",{className:"ms-4 list-unstyled",children:[(0,h.jsx)("li",{ref:v(f(["/admin/module/list","/admin/module/add",/^\/admin\/module\/edit\/\d+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/module/list","/admin/module/add",/^\/admin\/module\/edit\/\d+$/])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/module/list",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Module List"})}),(0,h.jsx)("li",{ref:v(f(["/admin/zoomeetlist","/admin/createzoomeet",/^\/admin\/editzoomeet\/\d+$/,/^\/admin\/zoomeetlist\/useregister\/\d+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/zoomeetlist","/admin/createzoomeet",/^\/admin\/editzoomeet\/\d+$/,/^\/admin\/zoomeetlist\/useregister\/\d+$/])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/zoomeetlist",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Zoom Meeting List"})}),(0,h.jsx)("li",{ref:v(f(["/admin/emailtemplate"])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/emailtemplate"])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/emailtemplate",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Email Template"})})]})]}),(0,h.jsx)("li",{ref:v(g(["/admin/duediligencecategoryList","/admin/duediligencecategory/add",/^\/admin\/duediligencecategorytip\/add\/\d+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/duediligencecategoryList","/admin/duediligencecategory/add",/^\/admin\/duediligencecategorytip\/add\/\d+$/])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/duediligencecategoryList",className:" d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(d.A,{size:20})," ",(0,h.jsx)("span",{children:"Data Rooms Category"})]})}),(0,h.jsxs)("li",{className:"p-2 rounded d-flex flex-column gap-2 mb-2",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 ",children:[(0,h.jsx)(u.A,{size:20})," ",(0,h.jsx)("span",{children:"Setting"})]}),(0,h.jsxs)("ul",{className:"ms-4 list-unstyled",children:[(0,h.jsx)("li",{ref:v(g(["/admin/setting/dataroompaymentadd"])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(g(["/admin/setting/dataroompaymentadd"])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/setting/dataroompaymentadd",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Subscription Amount"})}),(0,h.jsx)("li",{ref:v(f(["/admin/setting/paymentdiscountlist","/admin/setting/createpaymentdiscount",/^\/admin\/setting\/discountCode\/edit\/\d+$/,/^\/admin\/setting\/referralcodes\/[\w-]+$/,/^\/admin\/setting\/referralusage\/[\w-]+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/setting/paymentdiscountlist","/admin/setting/createpaymentdiscount",/^\/admin\/setting\/discountCode\/edit\/\d+$/,/^\/admin\/setting\/referralcodes\/[\w-]+$/,/^\/admin\/setting\/referralusage\/[\w-]+$/])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/setting/paymentdiscountlist",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Discount Codes"})})]})]})]})]})})]})}},97899:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(73216),n=s(65043),i=s(9493),l=s(35475),r=s(70579);const o=function(){const e=(0,t.Zp)(),[a,o]=((0,t.zy)(),(0,n.useState)(""));return(0,n.useEffect)((()=>{const a=localStorage.getItem("adminLogin"),s=JSON.parse(a);o(s),null===s&&(localStorage.removeItem("adminLogin"),e("/admin/login"))}),[]),(0,r.jsx)("section",{className:"d-block admin_top_bar w-100",children:(0,r.jsx)("div",{className:"container-xl",children:(0,r.jsxs)("div",{className:"d-flex w-100 justify-content-end align-items-center gap-2",children:[(0,r.jsx)("div",{className:"profile_admin",children:(0,r.jsx)("img",{className:"w-100 h-100 object-fit-cover",src:s(69617),alt:"logo"})}),(0,r.jsx)("div",{title:"Logout",className:"p-2 rounded  d-flex align-items-center gap-2  logout_btn",style:{cursor:"pointer"},children:(0,r.jsx)(l.N_,{to:"/admin/logout",className:"text-white text-center d-flex align-items-center justify-content-center gap-2 text-decoration-none w-100",children:(0,r.jsx)(i.A,{size:20})})})]})})})}}}]);
//# sourceMappingURL=7139.5d3f10eb.chunk.js.map