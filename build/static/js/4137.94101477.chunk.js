"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[4137],{6990:(e,s,t)=>{t.d(s,{w:()=>c});var a=t(5043),n=t(5475),r=t(4117),o=t(2862),l=t(4572),i=t(579);const c=()=>{const{t:e}=(0,r.Bd)(),[s,t]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=localStorage.getItem("language")||"en";o.A.language!==e&&o.A.changeLanguage(e)}),[o.A,e]);const c=(new Date).getFullYear();return(0,a.useEffect)((()=>{const e=localStorage.getItem("userLogin");null!==JSON.parse(e)&&t(!0)}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("footer",{className:"d-block",children:(0,i.jsx)("div",{className:"ftblocks py-5",children:(0,i.jsxs)("div",{className:"container-lg",children:[(0,i.jsxs)("div",{className:"row gy-4",children:[(0,i.jsx)("div",{className:"col-md-6",children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-3 ftlogoblock",children:[(0,i.jsx)("h4",{children:e("WELCOMETOAMOURETTE")}),(0,i.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,i.jsx)("h6",{children:e("Yourenow")}),(0,i.jsx)(n.N_,{to:"/helpsupport",className:"needsign",children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e("Needhelp")}})})]})]})}),(0,i.jsx)("div",{className:"col-md-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-3 ftblock ps-md-5",children:[(0,i.jsx)("h3",{children:e("About")}),(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 ftlink",children:[(0,i.jsx)(n.N_,{to:"/setting",children:e("Membership")}),(0,i.jsx)(n.N_,{to:"/helpsupport",children:e("Help_and_support")}),(0,i.jsx)(n.N_,{to:"/setting",children:e("Contact_us")})]})]})}),(0,i.jsx)("div",{className:"col-md-3",children:(0,i.jsxs)("div",{className:"d-flex flex-column gap-3 ftblock ps-md-5",children:[(0,i.jsx)("h3",{children:e("Resources")}),(0,i.jsxs)("div",{className:"d-flex flex-column gap-2 ftlink",children:[(0,i.jsx)(n.N_,{to:"/securitypage",children:e("Security")}),(0,i.jsx)(n.N_,{to:"/setting",children:e("privacy")}),(0,i.jsx)(n.N_,{to:"/helpsupport",children:e("Terms_and_conditions")})]})]})}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("div",{className:"d-block ftlogoblock",children:(0,i.jsxs)("p",{className:"copyrighttext",children:["\xa9 ",e("Copyright_2024_all_rights_reserved")," ",c,", ",e("all_rights_reserved")]})})})]}),(0,i.jsx)(l.A,{})]})})})})}},494:(e,s,t)=>{t.d(s,{E:()=>p});var a=t(5043),n=t(5475),r=t(184),o=t(6213),l=t(4117),i=t(2862),c=t(4258),d=t(9564),m=t(793),u=t(2074),h=t(579);const p=e=>{let{isOpen1:s,onClose1:p,PopupData:g,PopupDatafile:x,UserPhotoCommetss:f,UserAlbumId:j,getfavalbum:v,goToNext:k,goToPrevious:b,mediaImages:N,currentIndex:y,setCurrentIndex:w,openModalLikeComment:_,refreshpost:S,getfavrefresh:C}=e;const[A,E]=(0,a.useState)(""),[L,I]=(0,a.useState)(!1),[M,T]=(0,a.useState)(""),[J,D]=(0,a.useState)(!1),[O,$]=(0,a.useState)(!1),q=(0,a.useRef)(null),{t:P}=(0,l.Bd)(),R=(0,a.useRef)(null),[U,F]=(0,a.useState)(""),H=localStorage.getItem("userLogin"),W=H?JSON.parse(H):null,[Y,B]=(0,a.useState)(""),[z,G]=(0,a.useState)(""),[V,K]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=localStorage.getItem("language")||"en";i.A.language!==e&&i.A.changeLanguage(e)}),[i.A,P]),(0,a.useEffect)((()=>{B(f),setTimeout((()=>{q.current&&q.current.scrollIntoView({behavior:"smooth"})}),1e3)}),[f]),(0,a.useEffect)((()=>{K(g)}),[g,j]);var X="https://backend.amourette.no/api/members/";const[Z,Q]=(0,a.useState)(""),[ee,se]=(0,a.useState)(!1),te=e=>{if(!e)return null;const s=new Date(e);if(isNaN(s.getTime()))return console.error("Invalid date:",e),"Invalid date";const t=new Date,a=new Date(s.getTime()-36e5),n=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Oslo",hour:"2-digit",minute:"2-digit",hour12:!1}).format(a),r=t.getTime()-s.getTime(),o=Math.floor(r/1e3),l=Math.floor(o/60),i=Math.floor(l/60),c=Math.floor(i/24),d=Math.floor(c/7),m=Math.floor(c/30),u=Math.floor(c/365);return l<60||i<24?`${n}`:1===c?`Yesterday at ${n}`:c<7?`${c}d  ${n}`:d<4?`${d}w  ${n}`:m<12?`${m}m  ${n}`:`${u}y  ${n}`};(0,a.useEffect)((()=>{const e=e=>{s&&("ArrowRight"===e.key?k?k():(()=>{if(N.length>0&&null!==y){const e=(y+1)%N.length,s=N[e];w(e),_(s.id,s.url,e)}else console.warn("No media images available or invalid index")})():"ArrowLeft"===e.key&&b())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[s,k,b,N,y]),(0,a.useEffect)((()=>{const e=new WebSocket("wss://backend.amourette.no");return e.onmessage=e=>{try{const s=JSON.parse(e.data),t=String(s.comment_id),a=String(j);console.log(s,"pre"),console.log(a,t),"AlbumPost_like"===s.event&&C(),a===t&&"UserAlbumComments"===s.event&&re(s.insertedCommentId,s.comment_id)}catch(s){console.error("Failed to parse WebSocket message:",s)}},()=>{e.close()}}),[j]);const ae=!Z.trim()||J,ne=["arse","arsehead","arsehole","ass","ass hole","asshole","bastard","bitch","bloody","bollocks","brotherfucker","bugger","bullshit","child-fucker","Christ on a bike","Christ on a cracker","cock","cocksucker","crap","cunt","dammit","damn","damned","damn it","dick","dick-head","dickhead","dumb ass","dumb-ass","dumbass","dyke","faggot","father-fucker","fatherfucker","fuck","fucker","fucking","god dammit","goddammit","God damn","god damn","goddamn","Goddamn","goddamned","goddamnit","godsdamn","holy shit","horseshit","in shit","jackarse","jack-ass","jackass","Jesus Christ","Jesus fuck","Jesus Harold Christ","Jesus H. Christ","Jesus, Mary and Joseph","Jesus wept","kike","mother fucker","mother-fucker","motherfucker","nigga","nigra","pigfucker","piss","prick","pussy","shit","shit ass","shite","sibling fucker","sisterfuck","sisterfucker","slut","son of a bitch","son of a whore","spastic","sweet Jesus","twat","wanker"],re=async(e,s)=>{let t={id:e,commentid:s};console.log(t);try{const e=(await o.A.post(X+"getUseralbumsCommentsSeperate",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.album.comments;console.log(e),B((s=>[...s,...e])),e.user_id===W.id&&q.current&&q.current.scrollIntoView({behavior:"smooth"})}catch(a){a.response?console.error("Server responded with error:",a.response):a.request?console.error("No response received:",a.request):console.error("Error message:",a.message)}finally{se(!1)}},[oe,le]=(0,a.useState)(!1),ie=async e=>{if(e.preventDefault&&e.preventDefault(),oe)return;le(!0),se(!0);const s=localStorage.getItem("userLogin"),t=s?JSON.parse(s):null;let a={description:e.description||e.target.description.value,comment_id:e.comment_id||e.target.comment_id.value,user_id:t.id,image_url:x};try{await o.A.post(X+"UserPhotoCommentSave",a,{headers:{Accept:"application/json","Content-Type":"application/json"}});setTimeout((()=>{q.current&&q.current.scrollIntoView({behavior:"smooth"})}),1e3),Q("")}catch(n){n.response?console.error("Server responded with error:",n.response):n.request?console.error("No response received:",n.request):console.error("Error message:",n.message)}finally{se(!1),le(!1)}},[ce,de]=(0,a.useState)(!1),me=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=e=>{me.current&&!me.current.contains(e.target)&&de(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);(0,a.useEffect)((()=>{const e=e=>{"Escape"===e.key&&p()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[p]);if(!s)return null;const ue=async()=>{const e=localStorage.getItem("userLogin"),s=e?JSON.parse(e):null;let t={id:g.id,user_id:s.id,image_url:x};try{await o.A.post(X+"deletePostUserAlbum",t,{headers:{Accept:"application/json","Content-Type":"application/json"}});S(),$(!0),E("Deleted successfully"),setTimeout((()=>{p(),$(!1)}),1e3)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&p()},children:[(0,h.jsx)(d.M,{isOpen1:L,onClose1:()=>{I(!1)},message:z,onReturnSent:async()=>{ue()}}),O&&(0,h.jsx)(m.A,{message:A}),(0,h.jsxs)("div",{className:"popup-content col-md-10",children:[(0,h.jsx)("button",{className:"close-button",style:{zIndex:"999"},onClick:p,children:"\xd7 "}),(0,h.jsxs)("div",{className:"usergallery_pop  d-flex flex-column gap-1 h-100",children:[(0,h.jsx)("button",{className:"arrow right",type:"button",onClick:()=>k(),children:(0,h.jsx)(r.X6T,{})}),(0,h.jsx)("button",{className:"arrow left",type:"button",onClick:()=>b(),children:(0,h.jsx)(r._Jj,{})}),(0,h.jsxs)("div",{className:"row p-2 p-md-4",children:[(0,h.jsx)("div",{className:"col-lg-7",children:(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)("div",{className:"d-block gallery_im1g ",children:x&&"string"===typeof x?(0,h.jsx)(u.A,{className:"w-100 h-100",url:x}):(0,h.jsx)("p",{children:P("No_avalibale_media")})}),W.id===g.user_id&&(0,h.jsx)("div",{className:"flex-shrink-0 posttopbtns",children:(0,h.jsx)("button",{title:"Delete",onClick:()=>{I(!0),G("Are you sure? You want to delete this album media")},type:"button",className:"btn redbtn",style:{padding:"0px 0px",textAlign:"center",minWidth:"0px",background:"red",width:"40px",height:"40px",borderRadius:"50px",position:"absolute",top:"10px",right:"15px"},children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler textcolor icons-tabler-outline icon-tabler-trash",children:[(0,h.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,h.jsx)("path",{d:"M4 7l16 0"}),(0,h.jsx)("path",{d:"M10 11l0 6"}),(0,h.jsx)("path",{d:"M14 11l0 6"}),(0,h.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),(0,h.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})]})}),(0,h.jsx)("div",{className:"col-lg-5",children:(0,h.jsxs)("div",{className:"d-flex h-100 flex-column justify-content-between gap-1",children:[(0,h.jsxs)("div",{className:"d-flex flex-column gap-1 py-3 bordr-bt",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between",children:[(0,h.jsx)(n.N_,{to:`/friend/${g.uid}`,target:"_blank",children:g.username}),(0,h.jsx)("h6",{children:te(g.realdate)})]}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between",children:[(0,h.jsx)("p",{}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3 flex-shrink-0",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[(0,h.jsx)("button",{type:"button",onClick:()=>(async(e,s)=>{const t=localStorage.getItem("userLogin");let a={user_id:(t?JSON.parse(t):null).id,id:e,image_url:s};try{await o.A.post(X+"UseralbumPostLike",a,{headers:{Accept:"application/json","Content-Type":"application/json"}}),v("")}catch(n){n.response||(n.request?console.error("Request data:",n.request):console.error("Error message:",n.message))}})(g.id,x),className:"liked  fulw",children:g.total_favourites?(0,h.jsx)(r.Mbv,{}):(0,h.jsx)(r.sOK,{})}),(0,h.jsx)("p",{className:"likecount",children:g.total_favourites})]}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[(0,h.jsx)("div",{className:"d-block like_icon",children:(0,h.jsx)("img",{className:"w-100 h-100",src:t(2100),alt:"img"})}),(0,h.jsx)("p",{className:"likecount",children:Y.length})]})]})]})]}),(0,h.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,h.jsxs)("ul",{className:"usergallery_msg scroll_bar",children:[0===Y.length?(0,h.jsx)("li",{children:P("Nocommentsavailable")}):Y.map(((e,s)=>(0,h.jsxs)("li",{className:"gap-3",children:[(0,h.jsx)("div",{className:"profile_img",children:(0,h.jsx)("img",{className:"w-100 h-100",src:1===e.makeImagePrivate?t(7123):e.commenter_image?e.commenter_image:t(3141),alt:"img"})}),(0,h.jsxs)("div",{className:"comment_text d-flex flex-column gap-1",children:[(0,h.jsx)("h6",{children:e.commenter_name})," ",(0,h.jsx)("p",{children:e.message})," "]}),(0,h.jsx)("p",{children:te(e.date)})," "]},s))),(0,h.jsx)("li",{ref:q})]}),(0,h.jsxs)("form",{action:"javascript:void(0)",method:"post",onSubmit:ie,children:[J&&(0,h.jsx)("span",{className:"text-danger",style:{fontSize:"14px"},children:P("Your_message_contain")}),(0,h.jsx)("div",{className:"d-flex align-items-center gap-3 w-100 usergallery_from",children:(0,h.jsxs)("div",{className:"comment_input w-100 d-flex align-items-center gap-1",children:[ee&&(0,h.jsx)("div",{className:"spinner-border text-success postloader",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden"})}),(0,h.jsx)("input",{type:"hidden",value:g.id,name:"comment_id"}),(0,h.jsxs)("div",{className:"emoji-container",children:[(0,h.jsx)("button",{type:"button",className:"emoji-button",onClick:()=>de(!ce),children:"\ud83d\ude00"}),ce&&(0,h.jsx)("div",{className:"emoji-picker",ref:me,style:{position:"absolute",top:"64px"},children:(0,h.jsx)(c.Ay,{onEmojiClick:e=>{Q((s=>s+e.emoji)),de(!1),R.current&&R.current.focus()}})})]}),(0,h.jsx)("input",{type:"text",required:!0,ref:R,name:"description",value:Z,onChange:e=>{const s=e.target.value;Q(s),""===s.trim()&&Q("");const t=ne.some((e=>s.toLowerCase().includes(e.toLowerCase())));D(t)},onKeyDown:e=>{"Enter"===e.key&&""!==Z.trim()&&(e.preventDefault(),ie({description:Z,comment_id:g.id,user_id:W.id,image_url:x}))},placeholder:`${P("write_a_comment")}`}),(0,h.jsx)("button",{type:"submit",disabled:ae,style:{opacity:1},className:"comment_postbtn",children:P("Post")})]})})]})]})]})})]})]})]})]})})}}}]);
//# sourceMappingURL=4137.94101477.chunk.js.map