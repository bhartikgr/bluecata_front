{"version":3,"file":"static/js/1929.e090b92b.chunk.js","mappings":"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","sources":["pages/User/Investor/RecordRoundCaptable.jsx","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\n\r\n\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement // Pie chart   add \r\n} from 'chart.js';\r\n\r\n//  Register all required components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement // Pie chart  \r\n);\r\nexport default function RecordRoundCaptable() {\r\n  const navigate = useNavigate();\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = JSON.parse(storedUsername);\r\n  const API_URL_CAPTABLE = API_BASE_URL + \"api/user/capitalround/\";\r\n  document.title = \"Round Cap Table\";\r\n  const { id } = useParams();\r\n\r\n  const [capTableData, setCapTableData] = useState(null);\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getCapTableData();\r\n  }, [id]);\r\n\r\n  const getCapTableData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    let formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        setCapTableData(res.data.capTable);\r\n        setRoundData(res.data.round);\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const formatCurrency = (amount, currency = \"USD\") => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n      }).format(amount || 0);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${parseFloat(amount || 0).toFixed(2)}`;\r\n    }\r\n  };\r\n  const formatCurrencyPricePerShare = (amount = 0, currency = \"USD\") => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places, not more\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${(parseFloat(amount) || 0).toFixed(3)}`;\r\n    }\r\n  };\r\n  const formatPriceThreeDecimal = (amount = 0) => {\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback\r\n      return (parseFloat(amount) || 0).toFixed(3);\r\n    }\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    return new Intl.NumberFormat(\"en-US\").format(num || 0);\r\n  };\r\n\r\n  const formatPercentage = (percent) => {\r\n    // Convert to number if it's a string\r\n    const num = typeof percent === 'string' ? parseFloat(percent) : Number(percent);\r\n    return `${(!isNaN(num) ? num : 0).toFixed(2)}%`;\r\n  };\r\n  const RoundCapChart = ({ chartData }) => {\r\n    const options = {\r\n      responsive: true,\r\n      plugins: {\r\n        legend: { display: false },\r\n        title: { display: true, text: \"Fully Diluted Ownership %\" },\r\n      },\r\n      scales: {\r\n        y: { beginAtZero: true, max: 100 },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <div style={{ height: \"300px\" }}>\r\n        <Bar data={chartData} options={options} />\r\n      </div>\r\n    );\r\n  };\r\n  const renderRoundZeroTable = () => {\r\n    if (!capTableData) return null;\r\n\r\n    // Check for error in Round 0 data\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Data Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          <p className=\"mb-0\">\r\n            Please check Round 0 data structure. Founder allocation data is required.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small className=\"opacity-75\">Company Incorporation - Founder Shares Allocation</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Platform Inputs Summary */}\r\n            <h5 className=\"mb-3\">Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Founder Share Allocation</small>\r\n                  <h6>{capTableData.calculations.founderCount} Founders</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Share Types</small>\r\n                  <h6>Common Shares</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Price Per Share</small>\r\n                  <h6>{formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Platform Outputs */}\r\n            <h5 className=\"mb-3\">Platform Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Total Shares Issued</small>\r\n                  <h5>{formatNumber(capTableData.calculations.totalSharesIssued)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Total Company Value</small>\r\n                  <h5>{formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>Founder Count</small>\r\n                  <h5>{capTableData.calculations.founderCount}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Ownership Chart */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* Founder Share Allocation Table - CLIENT EXAMPLE  according */}\r\n            <h5 className=\"mt-4 mb-3\">Founder Share Allocation</h5>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-striped table-hover\">\r\n                <thead className=\"table-dark\">\r\n                  <tr>\r\n                    <th>Founder Name</th>\r\n                    <th>Email</th>\r\n                    <th>Phone</th>\r\n                    <th>Share Type</th>\r\n                    <th>Share Class</th>\r\n                    <th>Voting Rights</th>\r\n                    <th className=\"text-end\">Numbers of Shares</th>\r\n                    <th className=\"text-end\">Price Per Share</th>\r\n                    <th className=\"text-end\">Ownership %</th>\r\n                    <th className=\"text-end\">Value</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {capTableData.shareholders.map((sh, idx) => (\r\n                    <tr key={idx}>\r\n                      <td>\r\n                        <strong>\r\n                          {sh.firstName && sh.lastName ?\r\n                            `${sh.firstName} ${sh.lastName}` :\r\n                            `Founder ${idx + 1}`\r\n                          }\r\n                        </strong>\r\n                      </td>\r\n                      <td>\r\n                        {sh.email ? (\r\n                          <a href={`mailto:${sh.email}`} className=\"text-decoration-none\">\r\n                            {sh.email}\r\n                          </a>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        {sh.phone ? (\r\n                          <a href={`tel:${sh.phone}`} className=\"text-decoration-none\">\r\n                            {sh.phone}\r\n                          </a>\r\n                        ) : (\r\n                          '-'\r\n                        )}\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-secondary text-capitalize\">\r\n                          {sh.shareType === 'common' ? 'Common Shares' :\r\n                            sh.shareType === 'preferred' ? 'Preferred Shares' :\r\n                              sh.shareType === 'other' && sh.customShareType ? sh.customShareType :\r\n                                'Common Shares'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span className=\"badge bg-light text-dark border\">\r\n                          {sh.shareClass === 'other' && sh.customShareClass ?\r\n                            sh.customShareClass :\r\n                            sh.shareClass || 'Class A'}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <span className={`badge ${sh.votingRights === 'voting' ? 'bg-success' : 'bg-warning'}`}>\r\n                          {sh.votingRights === 'voting' ? 'Voting' : 'Non-Voting'}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-end\">{formatNumber(sh.shares)}</td>\r\n                      <td className=\"text-end\">\r\n                        {formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        <span className=\"badge bg-danger\" style={{ fontSize: '16px' }}>\r\n                          {formatPercentage(sh.ownership)}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"text-end\">\r\n                        {formatCurrency(sh.value, capTableData.currency)}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n\r\n                  {/* Total Row */}\r\n                  <tr className=\"table-secondary fw-bold\">\r\n                    <td colSpan=\"6\">TOTAL</td>\r\n                    <td className=\"text-end\">\r\n                      {formatNumber(capTableData.calculations.totalSharesIssued)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatPercentage(100)}\r\n                    </td>\r\n                    <td className=\"text-end\">\r\n                      {formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Additional Summary Information */}\r\n            <div className=\"row mt-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Founders</h6>\r\n                    <h4 className=\"text-primary\">{capTableData.shareholders.length}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Shares</h6>\r\n                    <h4 className=\"text-success\">{formatNumber(capTableData.calculations.totalSharesIssued)}</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Price Per Share</h6>\r\n                    <h4 className=\"text-info\">\r\n                      {formatCurrencyPricePerShare(\r\n                        capTableData.calculations.sharePrice,\r\n                        capTableData.currency\r\n                      )}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"card bg-light\">\r\n                  <div className=\"card-body text-center\">\r\n                    <h6 className=\"card-title text-muted\">Total Value</h6>\r\n                    <h4 className=\"text-warning\">\r\n                      {formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-4\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-info\">\r\n                  <h6 className=\"alert-heading\"> Platform Inputs</h6>\r\n                  <ul className=\"mb-0 small\">\r\n                    <li>Number of shares issued to each founder</li>\r\n                    <li>Type of shares as per incorporation documents</li>\r\n                    <li>Price per share as per incorporation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-success\">\r\n                  <h6 className=\"alert-heading\"> Platform Outputs</h6>\r\n                  <ul className=\"mb-0 small\">\r\n                    <li>Total number of shares issued</li>\r\n                    <li>Ownership % based on shares issued</li>\r\n                    <li>Total company value at incorporation</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Carry Over Information - CLIENT REQUIREMENTS  according */}\r\n            <div className=\"alert alert-warning mt-3\">\r\n              <h6 className=\"alert-heading\"> Important Note</h6>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Total shares ({formatNumber(capTableData.calculations.totalSharesIssued)}) will carry forward to Round 1.</strong>\r\n              </p>\r\n              <p className=\"mb-0 small\">\r\n                <strong>Price per share ({formatCurrencyPricePerShare(capTableData.calculations.sharePrice, capTableData.currency)}) and company valuation ({formatCurrency(capTableData.calculations.totalValue, capTableData.currency)}) will NOT carry over to investment rounds.</strong>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSeedRoundTable = () => {\r\n\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // Check if this is a Convertible Note round\r\n    const isConvertibleNote = capTableData.isConvertibleNoteRound ||\r\n      capTableData.instrumentType === \"Convertible Note\";\r\n\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-success text-white\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small className=\"opacity-75\">\r\n              {isConvertibleNote ? \"Convertible Note Round - Cap Table Calculations\" : \"Seed Round - Cap Table Calculations\"}\r\n            </small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            {/* Platform Inputs */}\r\n            <h5 className=\"mb-3\">Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.optionPoolPercent)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Round Type</small>\r\n                  <h5>{isConvertibleNote ? \"Convertible Note\" : \"Equity Round\"}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Convertible Note Specific Inputs */}\r\n            {isConvertibleNote && calc.valuationCap && (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                    <small className=\"text-white\">Valuation Cap</small>\r\n                    <h6>{formatCurrency(calc.valuationCap, currency)}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                    <small>Discount Rate</small>\r\n                    <h6>{formatPercentage(calc.discountRate)}</h6>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                    <small>Interest Rate</small>\r\n                    <h6>{formatPercentage(calc.interestRate)}</h6>\r\n                  </div>\r\n                </div>\r\n                {/* <div className=\"col-md-3\">\r\n                  <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                    <small>Conversion Trigger</small>\r\n                    <h6>{calc.convertibleTrigger || \"QUALIFIED_FINANCING\"}</h6>\r\n                  </div>\r\n                </div> */}\r\n              </div>\r\n            )}\r\n\r\n            {/* Platform Outputs */}\r\n            <h5 className=\"mb-3\">Platform Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small>Post-Money Valuation</small>\r\n                  <h6>{formatCurrency(calc.postMoneyValuation, currency)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Post-Investment # Shares</small>\r\n                  <h6>{formatNumber(calc.postInvestmentTotalShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>New Shares Issued</small>\r\n                  <h6>{formatPriceThreeDecimal(calc.newShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>\r\n                    {isConvertibleNote ? \"Theoretical Share Price\" : \"Share Price\"}\r\n                  </small>\r\n                  <h6>{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h6>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Conditional Investor Ownership Display */}\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                  <small>\r\n                    {isConvertibleNote ? \"Note Investment\" : \"Investor Ownership\"}\r\n                  </small>\r\n                  <h6>\r\n                    {isConvertibleNote\r\n                      ? formatCurrency(calc.totalNoteInvestment || 0, currency)\r\n                      : formatPercentage(calc.investorOwnershipPercent)\r\n                    }\r\n                  </h6>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                  <small>Option Pool</small>\r\n                  <h6>{formatNumber(calc.optionPoolShares)} shares</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Available for Investment Display */}\r\n            {isConvertibleNote && calc.availableForInvestment > 0 && (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"alert alert-danger\">\r\n                    <h6 className=\"alert-heading\"> Available for Investment</h6>\r\n                    <p className=\"mb-0\">\r\n                      <strong>{formatCurrency(calc.availableForInvestment, currency)}</strong> remaining in this convertible note round.\r\n                      {calc.totalNoteInvestment > 0 && (\r\n                        <span> ({formatCurrency(calc.totalNoteInvestment, currency)} already committed)</span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Ownership Chart */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* ========== PRE-SEED CAP TABLE ========== */}\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h5 className=\"mb-0\">Pre-Seed Cap Table</h5>\r\n                    <small>(# shares, Ownership %, Currency Value)</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Contact Info</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.preSeedShareholders && capTableData.preSeedShareholders.length > 0 ? (\r\n                            capTableData.preSeedShareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className=\"text-danger\">{sh.name}</strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small fw-bold text-dark\">{sh.fullName}</div>\r\n                                    )}\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-success mt-1\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark mt-1\">Option Pool</span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"text-muted mb-1\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.phone && sh.phone !== \"-\" && (\r\n                                    <div className=\"text-muted\">\r\n                                       {sh.phone}\r\n                                    </div>\r\n                                  )}\r\n                                  {(!sh.email || sh.email === \"-\") && (!sh.phone || sh.phone === \"-\") && (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-danger\" : \"bg-warning text-white\"}`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"5\" className=\"text-center text-danger\">\r\n                                <strong> No shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preSeedTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Total Founders Ownership:</strong> {formatPercentage(\r\n                            (capTableData.preSeedShareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Employee Ownership:</strong> {formatPercentage(\r\n                            (capTableData.preSeedShareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Total Pre-Seed Value:</strong> {formatCurrency(calc.preMoneyValuation, currency)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ========== POST-SEED CAP TABLE ========== */}\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h5 className=\"mb-0\">Post-Seed Cap Table</h5>\r\n                    <small>(# shares, Ownership %, Currency Value)</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Contact Info</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">New Shares</th>\r\n                            <th className=\"text-center\">Total Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.shareholders && capTableData.shareholders.length > 0 ? (\r\n                            capTableData.shareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className=\"text-danger\">{sh.name}</strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small fw-bold text-dark\">{sh.fullName}</div>\r\n                                    )}\r\n                                    {/* Type badges for all shareholder types */}\r\n                                    {sh.type === \"Investor\" && (\r\n                                      <span className=\"badge bg-success mt-1\">\r\n                                        {sh.isGeneric ? \"\" : \"Investor\"}\r\n                                        {sh.isConvertibleNote && \" (Convertible Note)\"}\r\n                                      </span>\r\n                                    )}\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-primary mt-1\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark mt-1\">Option Pool</span>\r\n                                    )}\r\n                                    {sh.type === \"Available\" && (\r\n                                      <span className=\"badge bg-danger mt-1\">Available for Investment</span>\r\n                                    )}\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {/* Hide contact info for Available for Investment */}\r\n                                  {sh.type !== \"Available\" && sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"text-muted mb-1\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.type !== \"Available\" && sh.phone && sh.phone !== \"-\" && (\r\n                                    <div className=\"text-muted\">\r\n                                       {sh.phone}\r\n                                    </div>\r\n                                  )}\r\n                                  {(sh.type === \"Available\" || !sh.email || sh.email === \"-\") &&\r\n                                    (!sh.phone || sh.phone === \"-\") && (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.type === \"Founder\" || sh.type === \"Options Pool\" ? (\r\n                                    <strong>{formatNumber(sh.shares)}</strong>\r\n                                  ) : (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.newShares > 0 ? (\r\n                                    <span className=\"badge bg-warning text-dark\">\r\n                                      {formatNumber(sh.newShares)}\r\n                                    </span>\r\n                                  ) : (\r\n                                    <span className=\"text-muted\">-</span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-danger\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      sh.type === \"Available\" ? \"bg-danger\" :\r\n                                        \"bg-success\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n\r\n                                  {/* Investment amount for Available for Investment */}\r\n                                  {sh.type === \"Available\" && sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      Available: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* Investment amount for investors */}\r\n                                  {/* {sh.type === \"Investor\" && sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success\">\r\n                                      Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )} */}\r\n\r\n                                  {/* Note for convertible note investors */}\r\n                                  {sh.type === \"Investor\" && sh.isConvertibleNote && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Convertible Note - 0 shares issued\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"7\" className=\"text-center text-danger\">\r\n                                <strong> No shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preSeedTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.newShares)}</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.postInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Summary Cards */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Total Founders:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n\r\n                    </div>\r\n                    <div className=\"row mt-3\">\r\n\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      {/* Available for Investment Summary */}\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-danger mb-0\">\r\n                          <strong>Available:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Available\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Post-Money Value:</strong> {formatCurrency(calc.postMoneyValuation, currency)}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    {/* Formula Verification */}\r\n                    <div className=\"alert alert-dark mt-3\">\r\n                      <h6 className=\"alert-heading\"> Formula</h6>\r\n                      <div className=\"row small\">\r\n                        <div className=\"col-md-4\">\r\n                          <strong>Post-Money Valuation:</strong><br />\r\n                          {formatCurrency(calc.investmentSize, currency)} + {formatCurrency(calc.preMoneyValuation, currency)} = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                        </div>\r\n\r\n                        {/* Conditional Formulas based on Round Type */}\r\n                        {isConvertibleNote ? (\r\n                          <>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Convertible Note Investment:</strong><br />\r\n                              Confirmed: {formatCurrency(calc.totalNoteInvestment || 0, currency)}<br />\r\n                              Available: {formatCurrency(calc.availableForInvestment || 0, currency)}\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Theoretical Share Price:</strong><br />\r\n                              {formatCurrencyPricePerShare(calc.preMoneyValuation, currency)}  {formatNumber(calc.preSeedTotalShares)} = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                            </div>\r\n                          </>\r\n                        ) : (\r\n                          <>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Investor Ownership:</strong><br />\r\n                              {formatCurrency(calc.investmentSize, currency)}  {formatCurrency(calc.postMoneyValuation, currency)} = {formatPercentage(calc.investorOwnershipPercent)}\r\n                            </div>\r\n                            <div className=\"col-md-4\">\r\n                              <strong>Share Price:</strong><br />\r\n                              {calc.newShares > 0 ? (\r\n                                <>\r\n                                  {formatCurrency(calc.investmentSize, currency)}  {formatNumber(calc.newShares)} = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                                </>\r\n                              ) : (\r\n                                \"No new shares issued\"\r\n                              )}\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Convertible Note Specific Information */}\r\n                      {isConvertibleNote && (\r\n                        <div className=\"mt-2 p-2 bg-warning text-dark rounded\">\r\n                          <strong> Convertible Note Round:</strong> No shares issued immediately.\r\n                          {calc.discountRate > 0 && ` Conversion will happen at next qualified financing round with ${formatPercentage(calc.discountRate)} discount`}\r\n                          {calc.valuationCap > 0 && ` and ${formatCurrency(calc.valuationCap, currency)} valuation cap.`}\r\n                          {calc.interestRate > 0 && ` Interest rate: ${formatPercentage(calc.interestRate)}.`}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSAFERoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    //  FIX 1: Need BOTH Pre-Seed and Post-Seed tables\r\n    const preSeedTable = capTableData.preSeedCapTable;\r\n    const postSeedTable = capTableData.postSeedCapTable;\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType}</h4>\r\n            <small>{roundname} Investment with Option Pool</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== PLATFORM INPUTS ===== */}\r\n            <h5 className=\"mb-3\"> Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Company Value</small>\r\n                  <h5>{formatCurrency(calc.companyValue, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Valuation Cap</small>\r\n                  <h5>{formatCurrency(calc.valuationCap, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Discount Rate</small>\r\n                  <h5>{formatPercentage(calc.discountRate)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Seed Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.optionPoolPercent)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Round 0 Total Shares</small>\r\n                  <h5>{formatNumber(calc.roundZeroTotalShares)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>Employee Shares Created</small>\r\n                  <h5>{formatNumber(calc.employeeShares)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ===== CALCULATION FORMULA BOX ===== */}\r\n            <div className=\"alert alert-info mb-4\">\r\n              <h6 className=\"alert-heading\"> Employee Pool Calculation</h6>\r\n              <p className=\"mb-1\">\r\n                <strong>Formula:</strong> Employee Shares = Total Founder Shares  (1 - Pool %)  Pool %\r\n              </p>\r\n              <p className=\"mb-0\">\r\n                <strong>Calculation:</strong> {formatNumber(calc.roundZeroTotalShares)}  (1 - {formatPercentage(calc.optionPoolPercent)})  {formatPercentage(calc.optionPoolPercent)}\r\n                = <span className=\"badge bg-warning text-dark\">{formatNumber(calc.employeeShares)} shares</span>\r\n              </p>\r\n            </div>\r\n\r\n            {/*  IMPORTANT: SAFE Notes Explanation */}\r\n            <div className=\"alert alert-warning mb-4\">\r\n              <h6 className=\"alert-heading\"> SAFE Notes - NO SHARES ISSUED YET</h6>\r\n              <p className=\"mb-2\">\r\n                <strong>Important:</strong> SAFE (Simple Agreement for Future Equity) notes are <u>NOT converted into shares</u> during this round.\r\n              </p>\r\n              <ul className=\"mb-2\">\r\n                <li>SAFE investors have invested <strong>{formatCurrency(calc.investmentSize, currency)}</strong></li>\r\n                <li>They will receive <strong>0 shares</strong> in this round</li>\r\n                <li>Conversion happens at the <strong>next priced equity round</strong> (Series A)</li>\r\n              </ul>\r\n              <p className=\"mb-0\">\r\n                <strong>Conversion Price (at Series A):</strong> LOWER of:\r\n                <br /> Series A price  (1 - {formatPercentage(calc.discountRate)})\r\n                <br /> Valuation Cap  Total Shares\r\n              </p>\r\n            </div>\r\n\r\n            {/* ===== PRE-SEED CAP TABLE ===== */}\r\n            {preSeedTable && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-primary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Seed Round 1</h5>\r\n                      <small>{preSeedTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Management</th>\r\n                              <th className=\"text-center\">Contact Info</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                              <th className=\"text-center\">Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preSeedTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={sh.type === \"Options Pool\" ? \"table-warning\" : \"\"}>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className={\r\n                                      sh.type === \"Founder\" ? \"text-primary\" :\r\n                                        sh.type === \"Options Pool\" ? \"text-warning\" : \"text-info\"\r\n                                    }>\r\n                                      {sh.name}\r\n                                    </strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                    )}\r\n                                    <span className={`badge mt-1 ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" : \"bg-info\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" ? (\r\n                                    <div className=\"text-muted\"> {sh.email}</div>\r\n                                  ) : <span className=\"text-muted\">-</span>}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-dark\">{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.newShares > 0 ? \"bg-success\" : \"bg-secondary\"}`}>\r\n                                    {formatNumber(sh.newShares)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" : \"bg-secondary\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(preSeedTable.shareholders.reduce((sum, sh) => sum + sh.newShares, 0))}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                              <td className=\"text-center\">{formatCurrency(preSeedTable.totalValue, currency)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Breakdown */}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary mb-0\">\r\n                            <strong>Total Founders Ownership:</strong> {formatPercentage(\r\n                              preSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Founder\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <strong>Employee Pool Ownership:</strong> {formatPercentage(\r\n                              preSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Options Pool\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-SEED CAP TABLE ===== */}\r\n            {postSeedTable && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card border-success\">\r\n                    <div className=\"card-header bg-success text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Seed Round 1</h5>\r\n                      <small>{postSeedTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n\r\n                      {/* Highlight Box */}\r\n                      <div className=\"alert alert-info mb-3\">\r\n                        <strong> Key Point:</strong> Since SAFE notes do NOT convert to shares in this round,\r\n                        the total number of shares remains <strong>{formatNumber(postSeedTable.totalShares)}</strong>\r\n                        (same as Pre-Seed). SAFE investors are listed with 0 shares.\r\n                      </div>\r\n\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Contact Info</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                              <th className=\"text-center\">Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postSeedTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"SAFE Investor\" ? \"table-info\" : \"\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong className={\r\n                                      sh.type === \"Founder\" ? \"text-primary\" :\r\n                                        sh.type === \"Options Pool\" ? \"text-warning\" :\r\n                                          sh.type === \"SAFE Investor\" ? \"text-info\" : \"text-dark\"\r\n                                    }>\r\n                                      {sh.name}\r\n                                    </strong>\r\n                                    {sh.fullName && sh.fullName !== sh.name && (\r\n                                      <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                    )}\r\n                                    <span className={`badge mt-1 ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" ? \"bg-info\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </div>\r\n                                </td>\r\n                                <td className=\"text-center small\">\r\n                                  {sh.email && sh.email !== \"-\" ? (\r\n                                    <div className=\"text-muted\"> {sh.email}</div>\r\n                                  ) : <span className=\"text-muted\">-</span>}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-dark\">{formatNumber(sh.shares)}</strong>\r\n                                  {sh.type === \"SAFE Investor\" && (\r\n                                    <div className=\"small text-danger fw-bold mt-1\">\r\n                                       Not converted\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.newShares > 0 ? \"bg-success\" : \"bg-secondary\"}`}>\r\n                                    {formatNumber(sh.newShares)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong className=\"text-primary\">{formatNumber(sh.shares + sh.newShares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`fSize-16 badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      sh.type === \"SAFE Investor\" ? \"bg-info\" : \"bg-secondary\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                  {sh.investmentAmount > 0 && (\r\n                                    <div className=\"small text-success mt-1\">\r\n                                       SAFE: {formatCurrency(sh.investmentAmount, currency)}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.note && (\r\n                                    <div className=\"small text-muted mt-1\">{sh.note}</div>\r\n                                  )}\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-success fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(postSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(postSeedTable.shareholders.reduce((sum, sh) => sum + sh.newShares, 0))}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatNumber(postSeedTable.totalShares)}</td>\r\n                              <td className=\"text-center\">{formatPercentage(100)}</td>\r\n                              <td className=\"text-center\">{formatCurrency(postSeedTable.totalValue, currency)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-primary mb-0\">\r\n                            <small>Total Founders Ownership</small>\r\n                            <h5 className=\"mb-0\">{formatPercentage(\r\n                              postSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Founder\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}</h5>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <small>Employee Pool</small>\r\n                            <h5 className=\"mb-0\">{formatPercentage(\r\n                              postSeedTable.shareholders\r\n                                .filter(sh => sh.type === \"Options Pool\")\r\n                                .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                            )}</h5>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <small>SAFE Investment (Not Converted)</small>\r\n                            <h5 className=\"mb-0\">{formatCurrency(postSeedTable.safeInvestment || 0, currency)}</h5>\r\n                            <small className=\"text-muted\">{postSeedTable.safeInvestorCount || 0} investors</small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== PLATFORM OUTPUTS SUMMARY ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\"> Platform Outputs Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6 className=\"text-primary\">Pre-Seed Round 1</h6>\r\n                    <ul className=\"list-unstyled\">\r\n                      <li> Total Shares: <strong>{formatNumber(calc.totalSharesPreSeed)}</strong></li>\r\n                      <li> Founder Shares: <strong>{formatNumber(calc.roundZeroTotalShares)}</strong></li>\r\n                      <li> Employee Shares: <strong>{formatNumber(calc.employeeShares)}</strong></li>\r\n                      <li> Total Value: <strong>{formatCurrency(calc.companyValue, currency)}</strong></li>\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"col-md-6\">\r\n                    <h6 className=\"text-success\">Post-Seed Round 1</h6>\r\n                    <ul className=\"list-unstyled\">\r\n                      <li> Total Shares: <strong>{formatNumber(calc.totalSharesPostSeed)}</strong> (Same as Pre-Seed)</li>\r\n                      <li> SAFE Investment: <strong>{formatCurrency(calc.investmentSize, currency)}</strong></li>\r\n                      <li> SAFE Shares: <strong className=\"text-danger\">0</strong> (Not converted)</li>\r\n                      <li> Total Value: <strong>{formatCurrency(calc.companyValue, currency)}</strong></li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Conversion Info */}\r\n            {capTableData.conversionInfo && (\r\n              <div className=\"alert alert-secondary mt-4\">\r\n                <h6 className=\"alert-heading\"> {capTableData.conversionInfo.note}</h6>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Conversion Trigger</small>\r\n                    <div><strong>{capTableData.conversionInfo.conversionTrigger}</strong></div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Valuation Cap</small>\r\n                    <div><strong>{formatCurrency(capTableData.conversionInfo.valuationCap, currency)}</strong></div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <small className=\"text-muted\">Discount Rate</small>\r\n                    <div><strong>{formatPercentage(capTableData.conversionInfo.discountRate)}</strong></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderSAFESeriesRoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    console.log(\"Cap Table Data:\", capTableData);\r\n    const calc = capTableData.calculations;\r\n\r\n    //  Get data from backend response structure\r\n    const preTable = capTableData.preSeedCapTable;\r\n    const postTable = capTableData.postSeedCapTable;\r\n    const inputs = capTableData.inputs || {};\r\n\r\n    //  Determine round type from backend data\r\n    const isSeriesA = capTableData.isSeriesA ||\r\n      (capTableData.shareClassType || \"\").toLowerCase().includes(\"series\");\r\n\r\n    const hasSAFEConversion = capTableData.hasSAFEConversion ||\r\n      (calc.seedConversionShares > 0);\r\n\r\n    // Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-US').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    //  Calculate ownership percentages\r\n    const getOwnershipSummary = (shareholders, totalShares) => {\r\n      if (!shareholders || !totalShares) return {\r\n        founders: 0,\r\n        employees: 0,\r\n        seedInvestors: 0,\r\n        seriesAInvestors: 0\r\n      };\r\n\r\n      let founders = 0;\r\n      let employees = 0;\r\n      let seedInvestors = 0;\r\n      let seriesAInvestors = 0;\r\n\r\n      shareholders.forEach(sh => {\r\n        const ownership = (sh.shares / totalShares) * 100;\r\n        if (sh.type === \"Founder\") founders += ownership;\r\n        else if (sh.type === \"Options Pool\" || sh.type.includes(\"Employee\")) employees += ownership;\r\n        else if (sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\")) seedInvestors += ownership;\r\n        else if (sh.type === \"Series A Investor\") seriesAInvestors += ownership;\r\n      });\r\n\r\n      return {\r\n        founders: founders.toFixed(1),\r\n        employees: employees.toFixed(1),\r\n        seedInvestors: seedInvestors.toFixed(1),\r\n        seriesAInvestors: seriesAInvestors.toFixed(1)\r\n      };\r\n    };\r\n\r\n    //  Get ownership data\r\n    const preOwnership = getOwnershipSummary(preTable?.shareholders, preTable?.totalShares);\r\n    const postOwnership = getOwnershipSummary(postTable?.shareholders, postTable?.totalShares);\r\n\r\n    //  Debug information\r\n    console.log(\"Calculations:\", {\r\n      seedInvestment: calc.seedInvestment,\r\n      valuationCap: calc.valuationCap,\r\n      discountRate: calc.discountRate,\r\n      sharePrice: calc.sharePrice,\r\n      seedOptimalPrice: calc.seedOptimalPrice,\r\n      seedConversionShares: calc.seedConversionShares,\r\n      seriesAShares: calc.seriesAShares,\r\n      totalPostShares: calc.totalSharesPostSeed\r\n    });\r\n\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    const formatCurrencyTwoDecimals = (value) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      }).format(value || 0);\r\n    }\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className={`card-header ${isSeriesA ? 'bg-primary' : 'bg-success'} text-white`}>\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Series A Round\"}</h4>\r\n            <small>\r\n              {isSeriesA ? roundname : \"Investment Round\"}\r\n              {hasSAFEConversion && \" with SAFE Conversion\"}\r\n            </small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== INPUT PARAMETERS SECTION ===== */}\r\n            <h5 className=\"mb-3\"> {capTableData.roundType}</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(inputs.preMoneyValuation || calc.preMoneyValuation)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">{capTableData.shareClassType} Investment</small>\r\n                  <h5>{formatCurrency(inputs.seriesAInvestment || calc.seriesAInvestment)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Founder Shares (Round 0)</small>\r\n                  <h5>{formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)}</h5>\r\n                  <small>{inputs.founderCount || preTable?.shareholders?.filter(sh => sh.type === \"Founder\").length || 0} founder(s)</small>\r\n                </div>\r\n              </div>\r\n\r\n\r\n            </div>\r\n\r\n            {/* SAFE CONVERSION SECTION (Only if has SAFE conversion) */}\r\n            {hasSAFEConversion && calc.seedInvestment > 0 && (\r\n              <>\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                      <small>Seed SAFE Investment</small>\r\n                      <h5>{formatCurrency(calc.seedInvestment)}</h5>\r\n                      <small>From previous SAFE round</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                      <small>Valuation Cap</small>\r\n                      <h5>{formatCurrency(calc.valuationCap)}</h5>\r\n                      <small>From SAFE terms</small>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                      <small>Discount Rate</small>\r\n                      <h5>{calc.discountRate}%</h5>\r\n                      <small>From SAFE terms</small>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* SAFE CONVERSION CALCULATIONS */}\r\n                {calc.seedOptimalPrice > 0 && (\r\n                  <div className=\"alert alert-success mb-4\">\r\n                    <h6 className=\"alert-heading\"> SAFE Conversion Calculations</h6>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-6\">\r\n                        <p><strong>1. {capTableData.shareClassType} Share Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(inputs.preMoneyValuation || calc.preMoneyValuation)}  {formatNumber(inputs.totalSharesPreSeed || calc.roundZeroTotalShares + calc.employeeSharesSeedRound)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.sharePrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>2. Seed Discount Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.sharePrice)}  (1 - {calc.discountRate / 100}) =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedDiscountPrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>3. Seed Cap Price:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.valuationCap)}  {formatNumber(calc.totalSharesPreSeed)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrencyTwoDecimals(calc.valuationCap / calc.totalSharesPreSeed)}</span>\r\n                        </p>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-6\">\r\n                        <p><strong>4. Optimal Price (Lower of the two):</strong></p>\r\n                        <p className=\"small\">\r\n                          MIN({formatCurrency(calc.seedDiscountPrice)}) =\r\n                          <span className=\"fw-bold ms-2 text-success\">{formatCurrency(calc.seedOptimalPrice)}</span>\r\n                        </p>\r\n\r\n                        <p><strong>5. Seed Conversion Shares:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatCurrency(calc.seedInvestment)}  {formatCurrency(calc.seedOptimalPrice)} =\r\n                          <span className=\"fw-bold ms-2\">{formatNumber(calc.seedConversionShares)} shares</span>\r\n                        </p>\r\n\r\n                        <p><strong>6. Seed Conversion Value:</strong></p>\r\n                        <p className=\"small\">\r\n                          {formatNumber(calc.seedConversionShares)}  {formatCurrency(calc.sharePrice)} =\r\n                          <span className=\"fw-bold ms-2\">{formatCurrency(calc.seedConversionValue)}</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* MOIC Information */}\r\n                    <div className=\"mt-3 p-2 bg-white rounded border\">\r\n                      <p className=\"mb-1\"><strong>MOIC (Multiple on Invested Capital):</strong></p>\r\n                      <p className=\"mb-0 small\">\r\n                        Seed Investors: <strong>{calc.seedMOIC}</strong> ({formatCurrency(calc.seedConversionValue)} value / {formatCurrency(calc.seedInvestment)} investment)\r\n                        {calc.seriesAMOIC && calc.seriesAMOIC !== \"0X\" && (\r\n                          <> | {capTableData.shareClassType} Investors: <strong>{calc.seriesAMOIC}</strong></>\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {/* OPTION POOL SECTION */}\r\n            {/* <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Existing Option Pool</small>\r\n                  <h5>{formatPercentage(calc.existingOptionPoolPercent)}</h5>\r\n                  <small>{formatNumber(calc.employeeSharesSeedRound)} shares</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small className=\"text-white\">Target Option Pool</small>\r\n                  <h5>{formatPercentage(calc.targetOptionPoolPercent)}</h5>\r\n                  <small>Post-investment target</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>New Option Shares</small>\r\n                  <h5>{formatNumber(calc.newOptionShares)}</h5>\r\n                  <small>Top-up required</small>\r\n                </div>\r\n              </div>\r\n            </div> */}\r\n\r\n            {/* OPTION POOL CALCULATION EXPLANATION */}\r\n            {calc.newOptionShares > 0 && (\r\n              <div className=\"alert alert-info mb-4\">\r\n                <h6 className=\"alert-heading\"> Option Pool</h6>\r\n                <p className=\"mb-2 small\">\r\n                  <strong>Formula:</strong> Total Post Shares = (Founders + Seed Investors + {capTableData.shareClassType} Investors)  (1 - Target Option Pool %)\r\n                </p>\r\n                <p className=\"mb-2 small\">\r\n                  <strong>Calculation:</strong>\r\n                  ({formatNumber(inputs.roundZeroShares || calc.roundZeroTotalShares)} + {formatNumber(calc.seedConversionShares)} + {formatNumber(calc.seriesAShares)})  (1 - {calc.targetOptionPoolPercent / 100})\r\n                </p>\r\n                <p className=\"mb-0 small\">\r\n                  <strong>Result:</strong> Need to add {formatNumber(calc.newOptionShares)} new option shares to reach {formatPercentage(calc.targetOptionPoolPercent)} target pool\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== PRE-INVESTMENT CAP TABLE ===== */}\r\n            {/* ===== PRE-INVESTMENT CAP TABLE ===== */}\r\n            {preTable && preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-secondary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-{capTableData.shareClassType} Round</h5>\r\n                      <small>{preTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Type</th>\r\n                              <th className=\"text-center\">Existing Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Ownership %</th>\r\n                              <th className=\"text-center\">Value</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preTable.shareholders.map((sh, idx) => {\r\n                              const hasNewShares = sh.newShares > 0;\r\n                              const totalShares = sh.shares;\r\n                              const existingShares = totalShares - (sh.newShares || 0);\r\n\r\n                              return (\r\n                                <tr key={idx} className={\r\n                                  sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"table-warning\" :\r\n                                    sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                                }>\r\n                                  <td>\r\n                                    <div>\r\n                                      <strong>{sh.name || sh.fullName}</strong>\r\n                                      {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                    </div>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" : \"bg-info\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(existingShares)}</strong>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {hasNewShares ? (\r\n                                      <>\r\n                                        <strong className=\"text-success\">+{formatNumber(sh.newShares)}</strong>\r\n\r\n                                      </>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(totalShares)}</strong>\r\n                                    {hasNewShares && (\r\n                                      <div className=\"small text-success\">\r\n                                        {/*  from {formatNumber(existingShares)} */}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className=\"badge bg-dark\">\r\n                                      {formatPercentage(sh.ownership || ((totalShares / preTable.totalShares) * 100))}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value)}</strong>\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(\r\n                                  preTable.shareholders.reduce((sum, sh) => sum + (sh.shares - (sh.newShares || 0)), 0)\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                {formatNumber(\r\n                                  preTable.shareholders.reduce((sum, sh) => sum + (sh.newShares || 0), 0)\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">{formatNumber(preTable.totalShares)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(preTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-INVESTMENT CAP TABLE ===== */}\r\n            {postTable && postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className={`card border-primary`}>\r\n                    <div className=\"card-header bg-primary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-{capTableData.shareClassType} Round</h5>\r\n                      <small>{postTable.message}</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th className=\"text-center\">Type</th>\r\n                              <th className=\"text-center\">Common Shares</th>\r\n                              <th className=\"text-center\">New Shares</th>\r\n                              <th className=\"text-center\">Total Shares</th>\r\n                              <th className=\"text-center\">Ownership %</th>\r\n                              <th className=\"text-center\">Value</th>\r\n                              {hasSAFEConversion && <th className=\"text-center\">Investment / Conversion Price</th>}\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postTable.shareholders.map((sh, idx) => (\r\n                              sh.isTotal ? (\r\n                                // TOTAL ROW - Show at the end\r\n                                <tr key={idx} className=\"table-primary fw-bold\">\r\n                                  <td colSpan=\"2\"><strong>TOTAL</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.commonShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.newShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatNumber(sh.totalShares)}</strong></td>\r\n                                  <td className=\"text-center\"><strong>100%</strong></td>\r\n                                  <td className=\"text-center\"><strong>{formatCurrency(sh.value)}</strong></td>\r\n                                  {hasSAFEConversion && (\r\n                                    <td className=\"text-center\">\r\n                                      <strong>{formatCurrency(postTable.safeInvestment || calc.seedInvestment + calc.seriesAInvestment)}</strong>\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              ) : (\r\n                                // REGULAR ROWS\r\n                                <tr key={idx} className={\r\n                                  sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"table-warning\" :\r\n                                    sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"table-info\" :\r\n                                      sh.type === \"Series A Investor\" ? \"table-primary\" : \"\"\r\n                                }>\r\n                                  <td>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"bg-info\" :\r\n                                          sh.type === \"Series A Investor\" ? \"bg-success\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {sh.type}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.commonShares > 0 ? (\r\n                                      <strong>{formatNumber(sh.commonShares)}</strong>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.newShares > 0 ? (\r\n                                      <div>\r\n                                        <strong className=\"text-success\">{formatNumber(sh.newShares)}</strong>\r\n                                        {sh.displayText && (\r\n                                          <div className=\"small text-success\">{sh.displayText}</div>\r\n                                        )}\r\n                                      </div>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\">-</span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(sh.totalShares || sh.shares)}</strong>\r\n                                    {/* Show breakdown for Option Pool if available */}\r\n                                    {sh.breakdown && (\r\n                                      <div className=\"small text-muted\">\r\n                                        {sh.breakdown.existingShares > 0 && (\r\n                                          <div>{formatNumber(sh.breakdown.existingShares)} existing</div>\r\n                                        )}\r\n                                        {sh.breakdown.newShares > 0 && (\r\n                                          <div>+{formatNumber(sh.breakdown.newShares)} new</div>\r\n                                        )}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-dark\" :\r\n                                      sh.type === \"Options Pool\" || sh.type.includes(\"Employee\") ? \"bg-warning text-dark\" :\r\n                                        sh.type === \"SAFE Investor\" || sh.type.includes(\"Seed\") ? \"bg-info\" :\r\n                                          sh.type === \"Series A Investor\" ? \"bg-success\" : \"bg-secondary\"\r\n                                      }`}>\r\n                                      {formatPercentage(sh.ownership || ((sh.totalShares || sh.shares) / postTable.totalShares) * 100)}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value)}</strong>\r\n                                  </td>\r\n                                  {hasSAFEConversion && (\r\n                                    <td className=\"text-center\">\r\n                                      {sh.investmentAmount ? (\r\n                                        <div>\r\n                                          <div className=\"fw-bold\">{formatCurrency(sh.investmentAmount)}</div>\r\n                                          {sh.conversionPrice && (\r\n                                            <div className=\"small\">\r\n                                              @ {formatCurrency(sh.conversionPrice)}/share\r\n                                            </div>\r\n                                          )}\r\n                                          {sh.moic && sh.moic !== \"0X\" && (\r\n                                            <div className=\"small text-success\">\r\n                                              MOIC: {sh.moic}\r\n                                            </div>\r\n                                          )}\r\n                                        </div>\r\n                                      ) : (\r\n                                        <span className=\"text-muted\">-</span>\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              )\r\n                            ))}\r\n\r\n                            {/* OLD TOTAL ROW - Remove if using isTotal flag in data */}\r\n                            {/* <tr className=\"table-primary fw-bold\">\r\n      <td colSpan=\"2\">TOTAL</td>\r\n      <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n      <td className=\"text-center\">100%</td>\r\n      <td className=\"text-center\">{formatCurrency(postTable.totalValue)}</td>\r\n      {hasSAFEConversion && <td className=\"text-center\">\r\n        {formatCurrency(postTable.safeInvestment || calc.seedInvestment + calc.seriesAInvestment)}\r\n      </td>}\r\n    </tr> */}\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Final Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-success\">\r\n                            <h6 className=\"mb-2\">Final Ownership Distribution</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Founders:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(postOwnership.founders)}</div>\r\n                              <div className=\"col-6\">Employees:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(postOwnership.employees)}</div>\r\n                              {hasSAFEConversion && (\r\n                                <>\r\n                                  <div className=\"col-6\">Seed Investors:</div>\r\n                                  <div className=\"col-6 text-end\">{formatPercentage(postOwnership.seedInvestors)}</div>\r\n                                  <div className=\"col-6\">Series A Investors:</div>\r\n                                  <div className=\"col-6 text-end\">{formatPercentage(postOwnership.seriesAInvestors)}</div>\r\n                                </>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary\">\r\n                            <h6 className=\"mb-2\">Financial Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Post-Money Valuation:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.finalPostMoneyValuation || postTable.totalValue)}</div>\r\n                              <div className=\"col-6\">Total Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.seedInvestment + calc.seriesAInvestment)}</div>\r\n                              <div className=\"col-6\">Total Shares:</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(postTable.totalShares)}</div>\r\n                              <div className=\"col-6\">Share Price:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.sharePrice)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div> */}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== SUMMARY ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\"> Round Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Key Outcomes:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> Total capital raised: <strong>{formatCurrency(calc.seedInvestment + calc.seriesAInvestment)}</strong></li>\r\n                      <li> Post-money valuation: <strong>{formatCurrency(calc.finalPostMoneyValuation)}</strong></li>\r\n                      <li> Total shares outstanding: <strong>{formatNumber(calc.totalSharesPostSeed)}</strong></li>\r\n                      <li> Share price: <strong>{formatCurrency(calc.sharePrice)}</strong></li>\r\n                      {hasSAFEConversion && calc.seedConversionShares > 0 && (\r\n                        <li> SAFE conversion completed: <strong>{formatNumber(calc.seedConversionShares)} shares @ {formatCurrency(calc.seedOptimalPrice)} each</strong></li>\r\n                      )}\r\n                      {calc.newOptionShares > 0 && (\r\n                        <li> Option pool: <strong>{formatNumber(calc.newOptionShares)} new shares added</strong></li>\r\n                      )}\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Next Steps:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> SAFE notes converted to shares</li>\r\n                      <li> New Series A investors onboarded</li>\r\n                      <li> Update cap table with new shareholders</li>\r\n                      <li> Issue share certificates</li>\r\n                      <li> Prepare for Series B round</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderSeriesATable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    if (capTableData.error) {\r\n      return (\r\n        <div className=\"alert alert-danger\">\r\n          <h5>Calculation Error</h5>\r\n          <p>{capTableData.error}</p>\r\n          {capTableData.details && (\r\n            <pre className=\"small\">{JSON.stringify(capTableData.details, null, 2)}</pre>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const isPostMoneyOptionPool = capTableData.isPostMoneyOptionPool || calc.needsExpansion;\r\n\r\n    //  FIX: Calculate foundersSeedShares if not provided\r\n    const foundersSeedShares = calc.foundersSeedShares ||\r\n      (calc.preInvestmentTotalShares - calc.existingOptionPoolShares);\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Series A Round\"}</h4>\r\n            <small className=\"opacity-75\">\r\n              {isPostMoneyOptionPool ? \"Post-Money Option Pool Calculation\" : \"Standard Calculation\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/* SERIES A INPUTS */}\r\n            <h5 className=\"mb-3\">{roundname} Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size</small>\r\n                  <h5>{formatCurrency(calc.investmentSize, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Pre-Money Valuation</small>\r\n                  <h5>{formatCurrency(calc.preMoneyValuation, currency)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Existing Option Pool %</small>\r\n                  <h5>{formatPercentage(calc.existingOptionPoolPercent)}</h5>\r\n                  <small className=\"text-muted\">(Before Series A)</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Target Option Pool %</small>\r\n                  <h5 className=\"text-success\">{formatPercentage(calc.optionPoolPercentPost)}</h5>\r\n                  <small className=\"text-success\">(Post-Money Target)</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* SERIES A OUTPUTS */}\r\n            <h5 className=\"mb-3\">Calculated Outputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-primary text-white\">\r\n                  <small>Post-Money Valuation</small>\r\n                  <h6>{formatCurrency(calc.postMoneyValuation, currency)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-success text-white\">\r\n                  <small>Share Price</small>\r\n                  <h6>{formatCurrencyPricePerShare(calc.sharePrice, currency)}</h6>\r\n                  <small className=\"opacity-75\">per share</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Investment Shares</small>\r\n                  <h6>{formatNumber(calc.preInvestmentTotalShares)}</h6>\r\n                  <small className=\"opacity-75\">Before Series A</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-warning text-dark\">\r\n                  <small>New Shares Issued</small>\r\n                  <h6>{formatNumber(calc.totalNewShares)}</h6>\r\n                  <small className=\"opacity-75\">Total new shares</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-dark text-white\">\r\n                  <small>Post-Investment Shares</small>\r\n                  <h6>{formatNumber(calc.postInvestmentTotalShares)}</h6>\r\n                  <small className=\"opacity-75\">After Series A</small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-2\">\r\n                <div className=\"info-box p-3 border rounded bg-secondary text-white\">\r\n                  <small>Investor Ownership</small>\r\n                  <h6>{formatPercentage(calc.investorOwnershipPercent)}</h6>\r\n                  <small className=\"opacity-75\">Series A %</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* NEW SHARES BREAKDOWN */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-warning\">\r\n                  <h6 className=\"alert-heading\"> New Shares Breakdown</h6>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-6\">\r\n                      <strong>Series A Investors:</strong>\r\n                      <div className=\"h5 mb-0\">{formatNumber(calc.seriesAInvestorShares)}</div>\r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                      <strong>Option Pool Expansion:</strong>\r\n                      <div className=\"h5 mb-0\">{formatNumber(calc.additionalOptionPoolShares)}</div>\r\n                    </div>\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <strong>Total New Shares:</strong>\r\n                    <strong>{formatNumber(calc.totalNewShares)}</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <div className=\"alert alert-info\">\r\n                  <h6 className=\"alert-heading\"> Option Pool Status</h6>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Existing Pool:</strong> {formatNumber(calc.existingOptionPoolShares)} shares\r\n                    ({formatPercentage(calc.existingOptionPoolPercent)})\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    <strong>Additional:</strong> {formatNumber(calc.additionalOptionPoolShares)} shares\r\n                  </div>\r\n                  <hr />\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <strong>Total Pool (Post):</strong>\r\n                    <strong>{formatNumber(calc.totalOptionPoolShares)}\r\n                      ({formatPercentage(calc.optionPoolPercentPost)})</strong>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* OWNERSHIP CHART */}\r\n            <div className=\"mb-4\">\r\n              <RoundCapChart chartData={capTableData.chartData} />\r\n            </div>\r\n\r\n            {/* ========== PRE-SERIES A CAP TABLE ========== */}\r\n            <div className=\"row mb-5\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h5 className=\"mb-0\"> Pre-Series A Cap Table</h5>\r\n                    <small>Before Series A Investment | Pre-Money Valuation: {formatCurrency(calc.preMoneyValuation, currency)}</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Type</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Value ({currency})</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.preSeriesAShareholders && capTableData.preSeriesAShareholders.length > 0 ? (\r\n                            capTableData.preSeriesAShareholders.map((sh, idx) => (\r\n                              <tr key={idx}>\r\n                                <td>\r\n                                  <strong>{sh.name}</strong>\r\n                                  {sh.source && (\r\n                                    <div className=\"small text-muted\">Source: {sh.source}</div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  {sh.type === \"Founder\" && (\r\n                                    <span className=\"badge bg-primary\">Founder</span>\r\n                                  )}\r\n                                  {sh.type === \"Options Pool\" && (\r\n                                    <span className=\"badge bg-warning text-dark\">Option Pool</span>\r\n                                  )}\r\n                                  {sh.type === \"Investor\" && (\r\n                                    <span className=\"badge bg-success\">\r\n                                      {sh.originalType === \"Seed Investor\" ? \"Seed Investor\" : \"Investor\"}\r\n                                    </span>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                    sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                      \"bg-success\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"5\" className=\"text-center text-danger\">\r\n                                <strong> No pre-Series A shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.preMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Pre-Series A Summary */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Founders:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Employee Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"alert alert-success mb-0\">\r\n                          <strong>Seed Investors:</strong> {formatPercentage(\r\n                            (capTableData.preSeriesAShareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ========== POST-SERIES A CAP TABLE ========== */}\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-success text-white\">\r\n                    <h5 className=\"mb-0\"> Post-Series A Cap Table</h5>\r\n                    <small>After Series A Investment | Post-Money Valuation: {formatCurrency(calc.postMoneyValuation, currency)}</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-bordered table-hover\">\r\n                        <thead className=\"table-dark\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-center\">Type</th>\r\n                            <th className=\"text-center\">Common Shares</th>\r\n                            <th className=\"text-center\">New Shares</th>\r\n                            <th className=\"text-center\">Total Shares</th>\r\n                            <th className=\"text-center\">Fully Diluted Ownership %</th>\r\n                            <th className=\"text-center\">Value ({currency})</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.shareholders && capTableData.shareholders.length > 0 ? (\r\n                            capTableData.shareholders.map((sh, idx) => {\r\n                              const existingShares = sh.preSeriesAShares || 0;\r\n                              const newShares = sh.newShares || 0;\r\n\r\n                              return (\r\n                                <tr key={idx}>\r\n                                  <td>\r\n                                    <strong>{sh.name}</strong>\r\n                                    {sh.source && (\r\n                                      <div className=\"small text-muted\">Source: {sh.source}</div>\r\n                                    )}\r\n                                    {sh.email && (\r\n                                      <div className=\"small text-muted\"> {sh.email}</div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {sh.type === \"Founder\" && (\r\n                                      <span className=\"badge bg-primary\">Founder</span>\r\n                                    )}\r\n                                    {sh.type === \"Options Pool\" && (\r\n                                      <span className=\"badge bg-warning text-dark\">\r\n                                        {newShares > 0 ? \"Option Pool (Expanded)\" : \"Option Pool\"}\r\n                                      </span>\r\n                                    )}\r\n                                    {sh.type === \"Investor\" && (\r\n                                      <span className={`badge ${sh.originalType === \"Seed Investor\" ? \"bg-info\" : \"bg-danger\"\r\n                                        }`}>\r\n                                        {sh.originalType === \"Seed Investor\" ? \"Seed Investor\" : \"Series A Investor\"}\r\n                                      </span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {existingShares > 0 ? (\r\n                                      <strong>{formatNumber(existingShares)}</strong>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    {newShares > 0 ? (\r\n                                      <span className=\"badge bg-warning text-dark\">\r\n                                        +{formatNumber(newShares)}\r\n                                      </span>\r\n                                    ) : (\r\n                                      <span className=\"text-muted\"></span>\r\n                                    )}\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatNumber(sh.shares)}</strong>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                      sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                        sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                          \"bg-danger\"\r\n                                      }`}>\r\n                                      {formatPercentage(sh.ownership)}\r\n                                    </span>\r\n                                  </td>\r\n                                  <td className=\"text-center\">\r\n                                    <strong>{formatCurrency(sh.value, currency)}</strong>\r\n                                    {sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                      <div className=\"small text-success\">\r\n                                         Invested: {formatCurrency(sh.investmentAmount, currency)}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })\r\n                          ) : (\r\n                            <tr>\r\n                              <td colSpan=\"7\" className=\"text-center text-danger\">\r\n                                <strong> No post-Series A shareholders data available</strong>\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n\r\n                          {/* TOTAL ROW */}\r\n                          <tr className=\"table-secondary fw-bold\">\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-center\">{formatNumber(calc.preInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-warning text-dark\">\r\n                                +{formatNumber(calc.totalNewShares)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatNumber(calc.postInvestmentTotalShares)}</td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">{formatPercentage(100)}</span>\r\n                            </td>\r\n                            <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation, currency)}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Post-Series A Summary */}\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-primary mb-0\">\r\n                          <strong>Founders:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Founder\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-warning mb-0\">\r\n                          <strong>Option Pool:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Options Pool\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-info mb-0\">\r\n                          <strong>Seed Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\" && sh.originalType === \"Seed Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"alert alert-danger mb-0\">\r\n                          <strong>Series A Investors:</strong> {formatPercentage(\r\n                            (capTableData.shareholders || [])\r\n                              .filter(sh => sh.type === \"Investor\" && sh.originalType === \"Series A Investor\")\r\n                              .reduce((sum, sh) => sum + sh.ownership, 0)\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/*  CORRECTED CALCULATION FORMULAS */}\r\n                    <div className=\"alert alert-dark mt-4\">\r\n                      <h6 className=\"alert-heading\"> Series A Calculation Formulas</h6>\r\n\r\n                      <div className=\"mb-3\">\r\n                        <strong className=\"badge bg-warning text-dark fSize-14\">Post-Money Option Pool Method</strong>\r\n                        {/* <div className=\"small text-muted\">\r\n                          When target option pool (20%) {'>'} existing pool (8%), additional shares are created\r\n                        </div> */}\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>1. Post-Money Valuation:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Investment + Pre-Money = Post-Money<br />\r\n                            {formatCurrency(calc.investmentSize, currency)} + {formatCurrency(calc.preMoneyValuation, currency)}\r\n                            = {formatCurrency(calc.postMoneyValuation, currency)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>2. Investor Ownership %:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Investment  Post-Money<br />\r\n                            {formatCurrency(calc.investmentSize, currency)}  {formatCurrency(calc.postMoneyValuation, currency)}\r\n                            = {formatPercentage(calc.investorOwnershipPercent)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>3. Founders + Seed Ownership %:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            100% - Investor% - Target Pool%<br />\r\n                            100% - {formatPercentage(calc.investorOwnershipPercent)} - {formatPercentage(calc.optionPoolPercentPost)}\r\n                            = {formatPercentage(calc.existingShareholdersPercent)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>4. Post-Investment Total Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            {/*  CORRECTED FORMULA */}\r\n                            Founders+Seed Shares  Founders+Seed %<br />\r\n                            {formatNumber(foundersSeedShares)}  {formatPercentage(calc.existingShareholdersPercent)}\r\n                            = {formatNumber(calc.postInvestmentTotalShares)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small mb-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>5. Total New Shares Needed:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Post-Investment Total - Existing Total<br />\r\n                            {formatNumber(calc.postInvestmentTotalShares)} - {formatNumber(calc.preInvestmentTotalShares)}\r\n                            = {formatNumber(calc.totalNewShares)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>6. Additional Option Pool Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            (Target%  Post Total) - Existing Pool<br />\r\n                            ({formatPercentage(calc.optionPoolPercentPost)}  {formatNumber(calc.postInvestmentTotalShares)})\r\n                            - {formatNumber(calc.existingOptionPoolShares)} = {formatNumber(calc.additionalOptionPoolShares)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"row small\">\r\n                        <div className=\"col-md-6\">\r\n                          <strong>7. Series A Investor Shares:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Total New Shares - Additional Option Shares<br />\r\n                            {formatNumber(calc.totalNewShares)} - {formatNumber(calc.additionalOptionPoolShares)}\r\n                            = {formatNumber(calc.seriesAInvestorShares)}\r\n                          </code>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <strong>8. Share Price:</strong><br />\r\n                          <code className=\"bg-light p-1 rounded\">\r\n                            Pre-Money  (Existing + New Option Shares)<br />\r\n                            {formatCurrency(calc.preMoneyValuation, currency)} \r\n                            ({formatNumber(calc.preInvestmentTotalShares)} + {formatNumber(calc.additionalOptionPoolShares)})\r\n                            = {formatCurrencyPricePerShare(calc.sharePrice, currency)}\r\n                          </code>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const PreferredEquityCapTable = ({ capTableData }) => {\r\n    if (!capTableData || !capTableData.calculations) {\r\n      return (\r\n        <div className=\"alert alert-warning\">\r\n          <h5> No Data Available</h5>\r\n          <p>Cap table data is not available for this round.</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const calc = capTableData.calculations;\r\n    const currency = capTableData.currency || \"USD\";\r\n\r\n    //  FIXED: Check if warrants are exercised or pending\r\n    const hasExercisedWarrants = capTableData.hasExercisedWarrants || false;\r\n    const hasPendingWarrants = capTableData.hasPendingWarrants || false;\r\n    const pendingWarrantShares = calc.pendingWarrantShares || 0;\r\n\r\n    // Get data from backend response structure\r\n    const postCapTable = capTableData.postSeriesACapTable || {};\r\n    const postSeriesAShareholders = postCapTable.shareholders || [];\r\n    const totalPostSharesAfterWarrants = postCapTable.totalSharesAfterWarrants || 0;\r\n\r\n    //  FIXED: Calculate actual totals from shareholders data\r\n    const totalFounderShares = postSeriesAShareholders\r\n      .filter(sh => sh.type === \"Founder\")\r\n      .reduce((sum, sh) => sum + (sh.shares || 0), 0);\r\n\r\n    const totalOptionShares = postSeriesAShareholders\r\n      .filter(sh => sh.type === \"Options Pool\")\r\n      .reduce((sum, sh) => sum + (sh.shares || 0), 0);\r\n\r\n    const totalSeedInvestorShares = postSeriesAShareholders\r\n      .filter(sh => sh.originalType === \"Seed Investor\" || sh.type === \"Investor\" && sh.name.includes(\"Seed\"))\r\n      .reduce((sum, sh) => sum + (sh.shares || 0), 0);\r\n\r\n    const totalSeriesAShares = postSeriesAShareholders\r\n      .filter(sh => sh.originalType === \"Series A Investor\")\r\n      .reduce((sum, sh) => sum + (sh.shares || 0), 0);\r\n\r\n    const totalWarrantShares = postSeriesAShareholders\r\n      .filter(sh => sh.type === \"Warrant\")\r\n      .reduce((sum, sh) => sum + (sh.shares || 0), 0);\r\n\r\n    //  FIXED: Calculate ownership percentages\r\n    const founderOwnership = (totalFounderShares / totalPostSharesAfterWarrants) * 100;\r\n    const optionPoolOwnership = (totalOptionShares / totalPostSharesAfterWarrants) * 100;\r\n    const seedInvestorOwnership = (totalSeedInvestorShares / totalPostSharesAfterWarrants) * 100;\r\n    const seriesAOwnership = (totalSeriesAShares / totalPostSharesAfterWarrants) * 100;\r\n    const warrantOwnership = (totalWarrantShares / totalPostSharesAfterWarrants) * 100;\r\n\r\n    //  FIXED: Get correct share price\r\n    const sharePrice = calc.sharePrice || 0;\r\n\r\n    // Calculate pre-money shares properly\r\n    const preMoneyShares = totalPostSharesAfterWarrants - calc.seriesAShares;\r\n    const preMoneyValuation = preMoneyShares * sharePrice;\r\n\r\n    //  FIXED: Format numbers\r\n\r\n\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid py-4\" style={{ backgroundColor: '#f8f9fa' }}>\r\n        {/* Header */}\r\n        <div className=\"card mb-4 shadow\">\r\n          <div className=\"card-header text-white\" style={{ backgroundColor: '#6f42c1' }}>\r\n            <h3 className=\"mb-0\"> {capTableData.roundType || \"Preferred Equity Round\"}</h3>\r\n            <small className=\"opacity-75\">\r\n              {capTableData.hasConversions && \"Includes Convertible Instruments\"}\r\n              {hasPendingWarrants && \" | Has Pending Warrants\"}\r\n              {hasExercisedWarrants && \" | Includes Exercised Warrants\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/* Investment Overview */}\r\n            <h5 className=\"mb-3 text-primary\"> Investment Overview</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#e3f2fd' }}>\r\n                  <small className=\"text-muted d-block\">Investment Amount</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.investmentSize)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#f3e5f5' }}>\r\n                  <small className=\"text-muted d-block\">Pre-Money Valuation</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(preMoneyValuation)}</h5>\r\n                  <small className=\"text-muted\">\r\n                    {formatNumber(preMoneyShares)} shares  {formatCurrencyPricePerShare(sharePrice)}\r\n                  </small>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#e8f5e9' }}>\r\n                  <small className=\"text-muted d-block\">Post-Money Valuation</small>\r\n                  <h5 className=\"mb-0\">{formatCurrency(calc.postMoneyValuation)}</h5>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded\" style={{ backgroundColor: '#fff3e0' }}>\r\n                  <small className=\"text-muted d-block\">Share Price</small>\r\n                  <h5 className=\"mb-0\">{formatCurrencyPricePerShare(sharePrice)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Key Metrics */}\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Series A Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.seriesAShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Converted Shares (Seed)</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(calc.convertibleNoteShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Option Pool</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(totalOptionShares)}</h6>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-3\">\r\n                <div className=\"p-3 border rounded bg-white\">\r\n                  <small className=\"text-muted d-block\">Total Shares</small>\r\n                  <h6 className=\"mb-0\">{formatNumber(totalPostSharesAfterWarrants)}</h6>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  FIXED: Warrants Section */}\r\n            {capTableData.hasWarrants && (\r\n              <div className=\"alert alert-info mb-4\">\r\n                <h6 className=\"alert-heading\">\r\n                  {hasExercisedWarrants ? \" Warrants Exercised\" : \" Pending Warrants\"}\r\n                </h6>\r\n                {capTableData.warrants && capTableData.warrants.length > 0 ? (\r\n                  <div>\r\n                    {capTableData.warrants.map((warrant, idx) => (\r\n                      <div key={idx} className=\"mb-2\">\r\n                        <strong>Warrant #{idx + 1}:</strong> {warrant.coveragePercent}% coverage |\r\n                        Exercise Price: {formatCurrencyPricePerShare(warrant.calculatedExercisePrice)} |\r\n                        Potential Shares: {formatNumber(warrant.potentialShares)} |\r\n                        Status: <span className={`badge ${warrant.status === 'exercised' ? 'bg-success' : 'bg-warning'}`}>\r\n                          {warrant.status}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n\r\n                    {hasExercisedWarrants && (\r\n                      <div className=\"mt-2\">\r\n                        <strong>Exercised Warrants Total:</strong> {formatNumber(calc.exercisedWarrantShares)} shares |\r\n                        Value: {formatCurrency(calc.warrantValue)}\r\n                      </div>\r\n                    )}\r\n\r\n                    {hasPendingWarrants && (\r\n                      <div className=\"mt-2 text-warning\">\r\n                        <strong> Pending Warrants:</strong> {formatNumber(pendingWarrantShares)} shares\r\n                        ({formatPercentage((pendingWarrantShares / totalPostSharesAfterWarrants) * 100)} potential dilution)\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <p>No warrant details available</p>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Convertible Note Conversion Details */}\r\n            {calc.convertibleNoteShares > 0 && (\r\n              <div className=\"alert alert-success mb-4\">\r\n                <h6 className=\"alert-heading\"> Convertible Note Conversion</h6>\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-4\">\r\n                    <strong>Converted Shares:</strong><br />\r\n                    {formatNumber(calc.convertibleNoteShares)}\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <strong>Current Value:</strong><br />\r\n                    {formatCurrency(calc.convertibleNoteValue)}\r\n                  </div>\r\n                  <div className=\"col-md-4\">\r\n                    <strong>Ownership:</strong><br />\r\n                    {formatPercentage(seedInvestorOwnership)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* POST-INVESTMENT CAP TABLE */}\r\n            <div className=\"card shadow-sm mb-4\">\r\n              <div className=\"card-header bg-success text-white\">\r\n                <h5 className=\"mb-0\"> Post-{capTableData.roundType} Cap Table</h5>\r\n                <small>\r\n                  After Investment | Post-Money: {formatCurrency(calc.postMoneyValuation)} |\r\n                  Total Shares: {formatNumber(totalPostSharesAfterWarrants)}\r\n                </small>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-bordered table-hover\">\r\n                    <thead style={{ backgroundColor: '#343a40', color: 'white' }}>\r\n                      <tr>\r\n                        <th>Shareholder</th>\r\n                        <th className=\"text-center\">Type</th>\r\n                        <th className=\"text-center\">Shares</th>\r\n                        <th className=\"text-center\">Ownership %</th>\r\n                        <th className=\"text-center\">Value ({currency})</th>\r\n                        <th className=\"text-center\">Notes</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {postSeriesAShareholders.length > 0 ? (\r\n                        postSeriesAShareholders.map((sh, idx) => {\r\n                          //  FIXED: Calculate ownership properly\r\n                          const ownership = (sh.shares / totalPostSharesAfterWarrants) * 100;\r\n                          const value = sh.shares * sharePrice;\r\n\r\n                          return (\r\n                            <tr key={idx}>\r\n                              <td>\r\n                                <strong>{sh.name}</strong>\r\n                                {sh.fullName && sh.fullName !== sh.name && (\r\n                                  <div className=\"small text-muted\">{sh.fullName}</div>\r\n                                )}\r\n                                {sh.email && sh.email !== \"-\" && (\r\n                                  <div className=\"small\"> {sh.email}</div>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <span className={`badge ${sh.type === \"Founder\" ? \"bg-primary\" :\r\n                                  sh.type === \"Options Pool\" ? \"bg-warning text-dark\" :\r\n                                    sh.type === \"Warrant\" ? \"bg-secondary\" :\r\n                                      sh.type === \"Potential Dilution\" ? \"bg-info\" :\r\n                                        sh.originalType === \"Seed Investor\" ? \"bg-info\" :\r\n                                          \"bg-danger\"\r\n                                  }`}>\r\n                                  {sh.type === \"Potential Dilution\" ? \"Pending Warrants\" : (sh.originalType || sh.type)}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <strong>{formatNumber(sh.shares)}</strong>\r\n                                {sh.type === \"Potential Dilution\" && sh.pendingShares && (\r\n                                  <div className=\"small text-warning\">\r\n                                    (Potential: {formatNumber(sh.pendingShares)})\r\n                                  </div>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <span className=\"badge bg-dark\">\r\n                                  {formatPercentage(ownership)}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <strong>{formatCurrency(value)}</strong>\r\n                                {sh.investmentAmount && sh.investmentAmount > 0 && (\r\n                                  <div className=\"small text-success\">\r\n                                     Invested: {formatCurrency(sh.investmentAmount)}\r\n                                  </div>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                {sh.note && (\r\n                                  <small className=\"text-muted\">{sh.note}</small>\r\n                                )}\r\n                                {sh.exercisePrice && sh.exercisePrice > 0 && (\r\n                                  <div className=\"small\">\r\n                                    Exercise: {formatCurrencyPricePerShare(sh.exercisePrice)}\r\n                                  </div>\r\n                                )}\r\n                                {sh.moic && (\r\n                                  <div className=\"small text-success\">MOIC: {sh.moic}x</div>\r\n                                )}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })\r\n                      ) : (\r\n                        <tr>\r\n                          <td colSpan=\"6\" className=\"text-center text-muted\">\r\n                            No shareholder data available\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      {/* TOTAL ROW */}\r\n                      <tr style={{ backgroundColor: '#e9ecef', fontWeight: 'bold' }}>\r\n                        <td>TOTAL</td>\r\n                        <td className=\"text-center\"></td>\r\n                        <td className=\"text-center\">{formatNumber(totalPostSharesAfterWarrants)}</td>\r\n                        <td className=\"text-center\">\r\n                          <span className=\"badge bg-dark\">100.00%</span>\r\n                        </td>\r\n                        <td className=\"text-center\">{formatCurrency(calc.postMoneyValuation)}</td>\r\n                        <td className=\"text-center\"></td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n\r\n                {/* Post-Investment Summary */}\r\n                <div className=\"row mt-3\">\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"alert alert-primary mb-2\">\r\n                      <strong>Founders:</strong> {formatPercentage(founderOwnership)}\r\n                      <div className=\"small\">\r\n                        {formatNumber(totalFounderShares)} shares\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"alert alert-warning mb-2\">\r\n                      <strong>Employee Pool:</strong> {formatPercentage(optionPoolOwnership)}\r\n                      <div className=\"small\">\r\n                        {formatNumber(totalOptionShares)} shares\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"alert alert-info mb-2\">\r\n                      <strong>Seed Investors:</strong> {formatPercentage(seedInvestorOwnership)}\r\n                      <div className=\"small\">\r\n                        {formatNumber(totalSeedInvestorShares)} shares\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-md-3\">\r\n                    <div className=\"alert alert-danger mb-2\">\r\n                      <strong>Series A Investors:</strong> {formatPercentage(seriesAOwnership)}\r\n                      <div className=\"small\">\r\n                        {formatNumber(totalSeriesAShares)} shares\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {hasExercisedWarrants && warrantOwnership > 0 && (\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-secondary mb-2\">\r\n                        <strong>Warrant Holders:</strong> {formatPercentage(warrantOwnership)}\r\n                        <div className=\"small\">\r\n                          {formatNumber(totalWarrantShares)} shares\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  {hasPendingWarrants && (\r\n                    <div className=\"col-md-3\">\r\n                      <div className=\"alert alert-warning mb-2\">\r\n                        <strong>Pending Warrants:</strong> {formatPercentage(\r\n                          (pendingWarrantShares / totalPostSharesAfterWarrants) * 100\r\n                        )}\r\n                        <div className=\"small\">\r\n                          Potential: {formatNumber(pendingWarrantShares)} shares\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* CALCULATION FORMULAS */}\r\n            <div className=\"alert alert-dark\">\r\n              <h6 className=\"alert-heading\"> Calculation Formulas</h6>\r\n              <div className=\"row small\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <strong>1. Share Price:</strong><br />\r\n                  <code className=\"d-block p-2 bg-light rounded\">\r\n                    Pre-Money Valuation  Pre-Money Shares<br />\r\n                    {formatCurrency(preMoneyValuation)}  {formatNumber(preMoneyShares)}\r\n                    = {formatCurrencyPricePerShare(sharePrice)}\r\n                  </code>\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <strong>2. Series A Shares:</strong><br />\r\n                  <code className=\"d-block p-2 bg-light rounded\">\r\n                    Investment  Share Price<br />\r\n                    {formatCurrency(calc.investmentSize)}  {formatCurrencyPricePerShare(sharePrice)}\r\n                    = {formatNumber(calc.seriesAShares)}\r\n                  </code>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <strong>3. Post-Money Valuation:</strong><br />\r\n                  <code className=\"d-block p-2 bg-light rounded\">\r\n                    Total Shares  Share Price<br />\r\n                    {formatNumber(totalPostSharesAfterWarrants)}  {formatCurrencyPricePerShare(sharePrice)}\r\n                    = {formatCurrency(calc.postMoneyValuation)}\r\n                  </code>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <strong>4. Warrant Shares:</strong><br />\r\n                  <code className=\"d-block p-2 bg-light rounded\">\r\n                    Series A Shares  Warrant Coverage %<br />\r\n                    {formatNumber(calc.seriesAShares)}  {capTableData.warrants?.[0]?.coveragePercent || 0}%\r\n                    = {formatNumber(calc.seriesAShares * (capTableData.warrants?.[0]?.coveragePercent || 0) / 100)}\r\n                  </code>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderConvertibleNoteRoundTable = () => {\r\n    if (!capTableData || !capTableData.calculations) return null;\r\n\r\n    console.log(\"Convertible Note Data:\", capTableData);\r\n    const calc = capTableData.calculations;\r\n    const preTable = capTableData.preSeedCapTable;\r\n    const postTable = capTableData.postSeedCapTable;\r\n\r\n    // Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"USD\";\r\n      const currencyCode = currency.split(' ')[0] || 'USD';\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 2\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-US').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-warning text-dark\">\r\n            <h4 className=\"mb-0\">{capTableData.roundType || \"Convertible Note Round\"}</h4>\r\n            <small>{roundname} - Convertible Notes (NO SHARES ISSUED)</small>\r\n          </div>\r\n          <div className=\"card-body\">\r\n\r\n            {/* ===== INPUT PARAMETERS SECTION ===== */}\r\n            <h5 className=\"mb-3\"> Platform Inputs</h5>\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Company Value (Input #1)</small>\r\n                  <h5>{formatCurrency(calc.companyValue)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Investment Size (Input #2 & #4)</small>\r\n                  <h5>{formatCurrency(calc.investmentSize)}</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Conversion Discount (Input #3)</small>\r\n                  <h5>{calc.discountRate}%</h5>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-3\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small className=\"text-muted\">Valuation Cap</small>\r\n                  <h5>{formatCurrency(calc.valuationCap)}</h5>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-info text-white\">\r\n                  <small>Pre-Seed Option Pool % (Input #5)</small>\r\n                  <h5>{calc.optionPoolPercent}%</h5>\r\n                  <small>{formatNumber(calc.employeeShares)} employee shares created</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small>Interest Rate</small>\r\n                  <h5>{calc.interestRate}%</h5>\r\n                  <small>Annual interest on convertible notes</small>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                <div className=\"info-box p-3 border rounded bg-light\">\r\n                  <small>Round 0 Founder Shares</small>\r\n                  <h5>{formatNumber(calc.roundZeroTotalShares)}</h5>\r\n                  <small>Total shares from incorporation</small>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* ===== CALCULATION DETAILS ===== */}\r\n            <div className=\"alert alert-info mb-4\">\r\n              <h6 className=\"alert-heading\"> Employee Pool Calculation</h6>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Formula:</strong> Employee Shares = Total Founder Shares  (1 - Pool %)  Pool %\r\n              </p>\r\n              <p className=\"mb-2 small\">\r\n                <strong>Calculation:</strong> {formatNumber(calc.roundZeroTotalShares)}  (1 - {calc.optionPoolPercent / 100})  {calc.optionPoolPercent / 100} = {formatNumber(calc.employeeShares)} shares\r\n              </p>\r\n              <p className=\"mb-0 small\">\r\n                <strong>Total Shares:</strong> {formatNumber(calc.roundZeroTotalShares)} (founders) + {formatNumber(calc.employeeShares)} (employees) = {formatNumber(calc.totalSharesPreSeed)} shares\r\n              </p>\r\n            </div>\r\n\r\n            {/*  IMPORTANT NOTE - NO SHARES ISSUED */}\r\n            <div className=\"alert alert-warning mb-4\">\r\n              <h6 className=\"alert-heading\"> CONVERTIBLE NOTES - NO SHARES ISSUED YET</h6>\r\n              <p className=\"mb-0\">\r\n                <strong>Important:</strong> Convertible notes are <strong>NOT converted into shares</strong> during this round.\r\n                <br />\r\n                Convertible note investors have invested {formatCurrency(calc.totalConfirmedInvestment || calc.investmentSize)} but receive <strong>0 shares</strong> in this round.\r\n                <br />\r\n                Conversion happens at the next priced equity round (Series A).\r\n              </p>\r\n            </div>\r\n\r\n            {/* ===== PRE-SEED CAP TABLE ===== */}\r\n            {preTable && preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header bg-secondary text-white\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Pre-Seed Round 1 (Output #3)</h5>\r\n                      <small>Before Convertible Note investment (with {calc.optionPoolPercent}% option pool)</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Management</th>\r\n                              <th>Contact Info</th>\r\n                              <th>Common Shares</th>\r\n                              <th>New Shares</th>\r\n                              <th>Fully Diluted Ownership %</th>\r\n                              <th>Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {preTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <div>\r\n                                    <strong>{sh.name || sh.fullName}</strong>\r\n                                    <div className=\"small\">{sh.note || sh.type}</div>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"small\">\r\n                                       {sh.email}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.voting && (\r\n                                    <div className=\"small\">\r\n                                      {sh.voting === \"voting\" ? \" Voting\" : \" Non-voting\"}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n\r\n                                  <span className=\"text-muted\">0</span>\r\n\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className=\"badge bg-dark\">\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-secondary fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(preTable.totalShares)}</td>\r\n                              <td className=\"text-center\">{formatNumber(0)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(preTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Ownership Summary */}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <h6 className=\"mb-2\">Ownership Summary (Pre-Investment)</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Founders:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(calc.totalFoundersOwnership)}</div>\r\n                              <div className=\"col-6\">Employees:</div>\r\n                              <div className=\"col-6 text-end\">{formatPercentage(calc.totalEmployeeOwnership)}</div>\r\n                              <div className=\"col-6\">Convertible Note Investors:</div>\r\n                              <div className=\"col-6 text-end\">0%</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-light mb-0\">\r\n                            <h6 className=\"mb-2\">Financial Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Company Value:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.companyValue)}</div>\r\n                              <div className=\"col-6\">Share Price:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.sharePrice)}</div>\r\n                              <div className=\"col-6\">Total Shares:</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(calc.totalSharesPreSeed)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== POST-SEED CAP TABLE ===== */}\r\n            {postTable && postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"row mb-5\">\r\n                <div className=\"col-md-12\">\r\n                  <div className=\"card border-warning\">\r\n                    <div className=\"card-header bg-warning text-dark\">\r\n                      <h5 className=\"mb-0\"> Common Shares at Post-Seed Round 1 (Output #4)</h5>\r\n                      <small>After Convertible Note investment - Notes have NOT converted yet</small>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <p className=\"text-center mb-4\">\r\n                        <strong> Key Point:</strong> Since Convertible notes do NOT convert to shares in this round,\r\n                        the total number of shares remains {formatNumber(postTable.totalShares)} (same as Pre-Seed).\r\n                        Convertible note investors are listed with 0 shares.\r\n                      </p>\r\n\r\n                      <div className=\"table-responsive\">\r\n                        <table className=\"table table-bordered table-hover\">\r\n                          <thead className=\"table-dark\">\r\n                            <tr>\r\n                              <th>Shareholder</th>\r\n                              <th>Contact Info</th>\r\n                              <th>Common Shares</th>\r\n                              <th>New Shares</th>\r\n                              <th>Total Shares</th>\r\n                              <th>Fully Diluted Ownership %</th>\r\n                              <th>Value ($)</th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            {postTable.shareholders.map((sh, idx) => (\r\n                              <tr key={idx} className={\r\n                                sh.type === \"Options Pool\" ? \"table-warning\" :\r\n                                  sh.type === \"Convertible Note Investor\" ? \"table-info\" :\r\n                                    sh.type === \"Available Investment\" ? \"table-danger\" :\r\n                                      sh.type === \"Founder\" ? \"\" : \"table-light\"\r\n                              }>\r\n                                <td>\r\n                                  <strong>{sh.name || sh.fullName}</strong>\r\n                                  {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                                  {sh.isConvertibleNote && (\r\n                                    <div className=\"small text-info\">\r\n                                       Convertible Note Investor\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.isAvailable && (\r\n                                    <div className=\"small text-danger\">\r\n                                       Available for investment\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td>\r\n                                  {sh.email && sh.email !== \"-\" && (\r\n                                    <div className=\"small\"> {sh.email}</div>\r\n                                  )}\r\n                                  {sh.voting && (\r\n                                    <div className=\"small\">\r\n                                      {sh.voting === \"voting\" ? \" Voting\" : \" Non-voting\"}\r\n                                    </div>\r\n                                  )}\r\n                                  {sh.investmentAmount > 0 && (\r\n                                    <div className=\"small fw-bold\">\r\n                                       {formatCurrency(sh.investmentAmount)}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n\r\n                                  <span className=\"text-muted\">0</span>\r\n\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatNumber(sh.shares)}</strong>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <span className={`badge ${sh.shares === 0 ? \"bg-secondary\" : \"bg-dark\"\r\n                                    }`}>\r\n                                    {formatPercentage(sh.ownership)}\r\n                                  </span>\r\n                                </td>\r\n                                <td className=\"text-center\">\r\n                                  <strong>{formatCurrency(sh.value)}</strong>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                            {/* TOTAL ROW */}\r\n                            <tr className=\"table-warning fw-bold\">\r\n                              <td colSpan=\"2\">TOTAL</td>\r\n                              <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n                              <td className=\"text-center\">0</td>\r\n                              <td className=\"text-center\">{formatNumber(postTable.totalShares)}</td>\r\n                              <td className=\"text-center\">100%</td>\r\n                              <td className=\"text-center\">{formatCurrency(postTable.totalValue)}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n\r\n                      {/* Investment Summary */}\r\n                      <div className=\"row mt-4\">\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-warning\">\r\n                            <h6 className=\"mb-2\">Investment Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Total Convertible Note Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.totalConfirmedInvestment)}</div>\r\n                              <div className=\"col-6\">Available for Investment:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.availableForInvestment)}</div>\r\n                              <div className=\"col-6\">Number of Investors:</div>\r\n                              <div className=\"col-6 text-end\">{calc.investorCount}</div>\r\n                              <div className=\"col-6\">Shares Issued to Investors:</div>\r\n                              <div className=\"col-6 text-end\">0</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"col-md-6\">\r\n                          <div className=\"alert alert-primary\">\r\n                            <h6 className=\"mb-2\">Platform Outputs Summary</h6>\r\n                            <div className=\"row small\">\r\n                              <div className=\"col-6\">Post-Money Valuation (Output #1):</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(calc.postMoneyValuation)}</div>\r\n                              <div className=\"col-6\">Post-Investment Shares (Output #2):</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(calc.postInvestmentShares)}</div>\r\n                              <div className=\"col-6\">Total Shares (No Change):</div>\r\n                              <div className=\"col-6 text-end\">{formatNumber(postTable.totalShares)}</div>\r\n                              <div className=\"col-6\">Total Value:</div>\r\n                              <div className=\"col-6 text-end\">{formatCurrency(postTable.totalValue)}</div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* ===== CONVERSION DETAILS ===== */}\r\n            <div className=\"card bg-light\">\r\n              <div className=\"card-header\">\r\n                <h5 className=\"mb-0\">  Convertible Notes will convert at next priced equity round</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Conversion Terms:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li><strong>Conversion Trigger:</strong> Next priced equity financing (Series A)</li>\r\n                      <li><strong>Valuation Cap:</strong> {formatCurrency(calc.valuationCap)}</li>\r\n                      <li><strong>Discount Rate:</strong> {calc.discountRate}%</li>\r\n                      <li><strong>Interest Rate:</strong> {calc.interestRate}% per annum</li>\r\n                      <li><strong>Conversion Price:</strong> Lower of (Series A price  discount) OR (Cap  Total Shares)</li>\r\n                    </ul>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <h6>Next Steps:</h6>\r\n                    <ul className=\"mb-0\">\r\n                      <li> Convertible notes issued (0 shares)</li>\r\n                      <li> Investment received: {formatCurrency(calc.totalConfirmedInvestment)}</li>\r\n                      <li> Prepare for Series A priced round</li>\r\n                      <li> Convertible notes will automatically convert</li>\r\n                      <li> Update cap table after conversion</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const renderConvertibleNoteSeriesRoundTable = () => {\r\n\r\n\r\n    if (!capTableData) {\r\n      return <div className=\"alert alert-warning\">No data available</div>;\r\n    }\r\n\r\n    //  Extract data\r\n    const calc = capTableData.calculations || {};\r\n    const preTable = capTableData.preSeedCapTable || {};\r\n    const postTable = capTableData.postSeedCapTable || {};\r\n\r\n    console.log(\"Post Table Shareholders:\", calc.sharePrice);\r\n\r\n    //  Helper functions\r\n    const formatCurrency = (amount) => {\r\n      const currency = capTableData.currency || \"CAD\";\r\n      const currencyCode = currency.split(' ')[0] || 'CAD';\r\n\r\n      // For small amounts (< 1000), show 2 decimal places\r\n      if (Math.abs(amount) < 1000) {\r\n        return new Intl.NumberFormat('en-CA', {\r\n          style: 'currency',\r\n          currency: currencyCode,\r\n          minimumFractionDigits: 2,\r\n          maximumFractionDigits: 2\r\n        }).format(amount || 0);\r\n      }\r\n\r\n      // For larger amounts, no decimal places\r\n      return new Intl.NumberFormat('en-CA', {\r\n        style: 'currency',\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 0,\r\n        maximumFractionDigits: 0\r\n      }).format(amount || 0);\r\n    };\r\n\r\n    const formatNumber = (num) => {\r\n      return new Intl.NumberFormat('en-CA').format(Math.round(num || 0));\r\n    };\r\n\r\n    const formatPercentage = (percent) => {\r\n      const numValue = typeof percent === 'string' ? parseFloat(percent) : (percent || 0);\r\n      return `${numValue.toFixed(1)}%`;\r\n    };\r\n\r\n    //  Prepare chart data\r\n    const prepareChartData = () => {\r\n      if (!postTable.shareholders || postTable.shareholders.length === 0) {\r\n        return null;\r\n      }\r\n\r\n      const labels = postTable.shareholders.map(sh => sh.name || \"Shareholder\");\r\n      const data = postTable.shareholders.map(sh => parseFloat(sh.ownership) || 0);\r\n      const backgroundColors = postTable.shareholders.map(sh => {\r\n        if (sh.type?.includes(\"Founder\")) return '#4e73df';\r\n        if (sh.type?.includes(\"Option\")) return '#f6c23e';\r\n        if (sh.type?.includes(\"Convertible\") || sh.type?.includes(\"Seed\")) return '#1cc88a';\r\n        if (sh.type?.includes(\"Series\")) return '#36b9cc';\r\n        return '#858796';\r\n      });\r\n\r\n      return {\r\n        labels,\r\n        datasets: [{\r\n          data,\r\n          backgroundColor: backgroundColors,\r\n          borderColor: '#fff',\r\n          borderWidth: 1\r\n        }]\r\n      };\r\n    };\r\n\r\n    const chartData = prepareChartData();\r\n\r\n    //  Chart options\r\n    const chartOptions = {\r\n      responsive: true,\r\n      maintainAspectRatio: false,\r\n      plugins: {\r\n        legend: {\r\n          position: 'right',\r\n          labels: {\r\n            padding: 20,\r\n            usePointStyle: true,\r\n          }\r\n        },\r\n        title: {\r\n          display: true,\r\n          text: 'Post-Series A Ownership Distribution',\r\n          font: {\r\n            size: 16\r\n          }\r\n        },\r\n        tooltip: {\r\n          callbacks: {\r\n            label: function (context) {\r\n              const label = context.label || '';\r\n              const value = context.parsed || 0;\r\n              return `${label}: ${value.toFixed(1)}%`;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    var roundname = capTableData.instrumentType + ' ' + capTableData.shareClassType;\r\n\r\n    //  Calculate current shares from pre-table for comparison\r\n    const getPreSharesForShareholder = (name) => {\r\n      if (!preTable.shareholders) return 0;\r\n      const shareholder = preTable.shareholders.find(sh =>\r\n        sh.name.includes(name) || name.includes(sh.name)\r\n      );\r\n      return shareholder ? shareholder.shares : 0;\r\n    };\r\n\r\n    return (\r\n      <div className=\"cap-table-section\">\r\n        <div className=\"card mb-4\">\r\n          <div className=\"card-header bg-primary text-white\">\r\n            <h4 className=\"mb-0\"> {roundname} with Convertible Note Conversion</h4>\r\n            <small>{capTableData.message || \"Convertible Note conversion completed\"}</small>\r\n          </div>\r\n\r\n          <div className=\"card-body\">\r\n            {/*  CHART SECTION */}\r\n            {chartData ? (\r\n              <div className=\"row mb-4\">\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h6 className=\"mb-0\">Ownership Distribution (Pie Chart)</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <div style={{ height: '300px' }}>\r\n                        {(() => {\r\n                          try {\r\n                            return <Pie data={chartData} options={chartOptions} />;\r\n                          } catch (e) {\r\n                            return <Bar data={chartData} options={chartOptions} />;\r\n                          }\r\n                        })()}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-6\">\r\n                  <div className=\"card\">\r\n                    <div className=\"card-header\">\r\n                      <h6 className=\"mb-0\">Ownership Breakdown</h6>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                      <ul className=\"list-group\">\r\n                        {postTable.shareholders.map((sh, idx) => (\r\n                          <li key={idx} className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n                            <span>\r\n                              <strong>{sh.name}</strong>\r\n                              <small className=\"text-muted ms-2\">{sh.type}</small>\r\n                            </span>\r\n                            <span className=\"badge bg-primary rounded-pill\">\r\n                              {formatPercentage(sh.ownership)}\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"alert alert-warning mb-4\">\r\n                No shareholder data available for chart\r\n              </div>\r\n            )}\r\n\r\n            {/*  CONVERTIBLE NOTE CONVERSION DETAILS */}\r\n            <div className=\"alert alert-success mb-4\">\r\n              <h6 className=\"mb-2\"> Convertible Note Conversion</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Original Investment:</strong> {formatCurrency(calc.seedInvestment || 0)}</p>\r\n                  <p><strong>Interest Rate:</strong> {calc.interestRate || '0'}%</p>\r\n                  <p><strong>Discount Rate:</strong> {calc.discountRate || '0'}%</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Valuation Cap:</strong> {formatCurrency(calc.valuationCap || 0)}</p>\r\n                  <p><strong>Years Between Rounds:</strong> {calc.yearsBetweenRounds || 2}</p>\r\n                  <p><strong>Principal + Interest:</strong> {formatCurrency(calc.principalPlusInterest || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Shares Converted:</strong> {formatNumber(calc.seedConversionShares || 0)}</p>\r\n                  <p><strong>Conversion Value:</strong> {formatCurrency(calc.seedConversionValue || 0)}</p>\r\n                  <p><strong>MOIC:</strong> <strong className=\"text-success\">{calc.seedMOIC || \"0X\"}</strong></p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  SERIES A INVESTMENT DETAILS */}\r\n            <div className=\"alert alert-primary mb-4\">\r\n              <h6 className=\"mb-2\"> Series A Investment</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6\">\r\n                  <p><strong>Investment Amount:</strong> {formatCurrency(calc.seriesAInvestment || 0)}</p>\r\n                  <p><strong>Shares Purchased:</strong> {formatNumber(calc.seriesAShares || 0)}</p>\r\n                  <p><strong>Share Price:</strong> {formatCurrency(calc.sharePrice || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-6\">\r\n                  <p><strong>Investment Value:</strong> {formatCurrency(calc.seriesAValue || 0)}</p>\r\n                  <p><strong>MOIC:</strong> <strong>{calc.seriesAMOIC || \"0X\"}</strong></p>\r\n                  <p><strong>Pre-Money Valuation:</strong> {formatCurrency(calc.preMoneyValuation || 0)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/*  PRE-SERIES A CAP TABLE */}\r\n            {preTable.shareholders && preTable.shareholders.length > 0 && (\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header bg-secondary text-white\">\r\n                  <h5 className=\"mb-0\"> Pre-Series A Cap Table</h5>\r\n                  <small>Total Shares: {formatNumber(preTable.totalShares || 0)} | Total Value: {formatCurrency(preTable.totalValue || 0)}</small>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-bordered table-hover\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          <th>Shareholder</th>\r\n                          <th className=\"text-center\">Type</th>\r\n                          <th className=\"text-center\">Shares</th>\r\n                          <th className=\"text-center\">Ownership %</th>\r\n                          <th className=\"text-center\">Value</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {preTable.shareholders.map((sh, idx) => (\r\n                          <tr key={idx}>\r\n                            <td>\r\n                              <strong>{sh.name || `Shareholder ${idx + 1}`}</strong>\r\n                              {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className={`badge ${sh.type?.includes(\"Founder\") ? \"bg-primary\" :\r\n                                sh.type?.includes(\"Option\") ? \"bg-warning text-dark\" :\r\n                                  \"bg-info\"\r\n                                }`}>\r\n                                {sh.type || \"Shareholder\"}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatNumber(sh.shares || 0)}</strong>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <span className=\"badge bg-dark\">\r\n                                {formatPercentage(sh.ownership || 0)}\r\n                              </span>\r\n                            </td>\r\n                            <td className=\"text-center\">\r\n                              <strong>{formatCurrency(sh.value || 0)}</strong>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr className=\"table-secondary fw-bold\">\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(preTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">100%</td>\r\n                          <td className=\"text-center\">{formatCurrency(preTable.totalValue || 0)}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*  POST-SERIES A CAP TABLE WITH 3 COLUMNS */}\r\n            {postTable.shareholders && postTable.shareholders.length > 0 && (\r\n              <div className=\"card mb-4\">\r\n                <div className=\"card-header bg-primary text-white\">\r\n                  <h5 className=\"mb-0\"> Post-Series A Cap Table</h5>\r\n                  <small>Total Shares: {formatNumber(postTable.totalShares || 0)} | Total Value: {formatCurrency(postTable.totalValue || 0)}</small>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"table-responsive\">\r\n                    <table className=\"table table-bordered table-hover\">\r\n                      <thead className=\"table-dark\">\r\n                        <tr>\r\n                          <th>Shareholder</th>\r\n                          <th className=\"text-center\">Type</th>\r\n                          <th className=\"text-center\">Shares</th>\r\n                          <th className=\"text-center\">New Shares</th>\r\n                          <th className=\"text-center\">Total Shares</th>\r\n                          <th className=\"text-center\">Ownership %</th>\r\n                          <th className=\"text-center\">Value</th>\r\n                          <th className=\"text-center\">Investment Details</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {postTable.shareholders.map((sh, idx) => {\r\n                          // Calculate current shares from pre-table\r\n                          const preShares = getPreSharesForShareholder(sh.name);\r\n                          const newShares = sh.newShares || (sh.shares - preShares);\r\n                          const totalShares = sh.shares;\r\n\r\n                          return (\r\n                            <tr key={idx}>\r\n                              <td>\r\n                                <strong>{sh.name || `Shareholder ${idx + 1}`}</strong>\r\n                                {sh.note && <div className=\"small text-muted\">{sh.note}</div>}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <span className={`badge ${sh.type?.includes(\"Founder\") ? \"bg-primary\" :\r\n                                  sh.type?.includes(\"Option\") ? \"bg-warning text-dark\" :\r\n                                    sh.type?.includes(\"Convertible\") || sh.type?.includes(\"Seed\") ? \"bg-info\" :\r\n                                      sh.type?.includes(\"Series\") ? \"bg-success\" :\r\n                                        \"bg-secondary\"\r\n                                  }`}>\r\n                                  {sh.type || \"Shareholder\"}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <strong>{formatNumber(preShares)}</strong>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                {newShares > 0 ? (\r\n                                  <div className=\"text-success fw-bold\">\r\n                                    +{formatNumber(newShares)}\r\n                                  </div>\r\n                                ) : (\r\n                                  <span className=\"text-muted\">0</span>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <strong>{formatNumber(totalShares)}</strong>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <span className=\"badge bg-dark\">\r\n                                  {formatPercentage(sh.ownership || 0)}\r\n                                </span>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                <strong>{formatCurrency(sh.value || 0)}</strong>\r\n                              </td>\r\n                              <td className=\"text-center\">\r\n                                {sh.conversionPrice ? (\r\n                                  <div className=\"small\">\r\n                                    @ {formatCurrency(sh.conversionPrice)}/share\r\n                                    {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                    {sh.principalPlusInterest && (\r\n                                      <div className=\"text-info\">Principal + Interest: {formatCurrency(sh.principalPlusInterest)}</div>\r\n                                    )}\r\n                                  </div>\r\n                                ) : sh.investment ? (\r\n                                  <div className=\"small\">\r\n                                    Invested: {formatCurrency(sh.investment)}\r\n                                    {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                  </div>\r\n                                ) : sh.originalInvestment ? (\r\n                                  <div className=\"small\">\r\n                                    Original: {formatCurrency(sh.originalInvestment)}\r\n                                    {sh.moic && <div className=\"text-success\">MOIC: {sh.moic}</div>}\r\n                                  </div>\r\n                                ) : (\r\n                                  <span className=\"text-muted\">-</span>\r\n                                )}\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                        <tr className=\"table-primary fw-bold\">\r\n                          <td colSpan=\"2\">TOTAL</td>\r\n                          <td className=\"text-center\">{formatNumber(preTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">{formatNumber(calc.newSharesIssued || 0)}</td>\r\n                          <td className=\"text-center\">{formatNumber(postTable.totalShares || 0)}</td>\r\n                          <td className=\"text-center\">100%</td>\r\n                          <td className=\"text-center\">{formatCurrency(postTable.totalValue || 0)}</td>\r\n                          <td className=\"text-center\">\r\n                            {formatCurrency((calc.seedInvestment || 0) + (calc.seriesAInvestment || 0))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n\r\n                  {/*  SUMMARY OF NEW SHARES */}\r\n                  <div className=\"alert alert-info mt-3\">\r\n                    <h6> New Shares Summary</h6>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-3\">\r\n                        <p><strong>Convertible Note Conversion:</strong> {formatNumber(calc.seedConversionShares || 0)} shares</p>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <p><strong>Series A Investment:</strong> {formatNumber(calc.seriesAShares || 0)} shares</p>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <p><strong>New Option Pool:</strong> {formatNumber(calc.newOptionShares || 0)} shares</p>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <p><strong>Total New Shares:</strong> {formatNumber(calc.newSharesIssued || 0)} shares</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/*  FINAL SUMMARY */}\r\n            <div className=\"alert alert-info\">\r\n              <h6> Final Summary</h6>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Pre-Money Valuation:</strong> {formatCurrency(calc.preMoneyValuation || 0)}</p>\r\n                  <p><strong>Post-Money Valuation:</strong> {formatCurrency(calc.postMoneyValuation || 0)}</p>\r\n                  <p><strong>Valuation Increase:</strong> {\r\n                    (((calc.postMoneyValuation || 0) - (calc.preMoneyValuation || 0)) /\r\n                      (calc.preMoneyValuation || 1) * 100).toFixed(1)}%\r\n                  </p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>Total Capital Raised:</strong> {\r\n                    formatCurrency((calc.seedInvestment || 0) + (calc.seriesAInvestment || 0))\r\n                  }</p>\r\n                  <p><strong>Share Price:</strong> {formatCurrency(calc.sharePrice || 0)}</p>\r\n                  <p><strong>Total Shares Outstanding:</strong> {formatNumber(postTable.totalShares || 0)}</p>\r\n                </div>\r\n                <div className=\"col-md-4\">\r\n                  <p><strong>New Shares Issued:</strong> {formatNumber(calc.newSharesIssued || 0)}</p>\r\n                  <p><strong>Option Pool Created:</strong> {formatNumber(calc.newOptionShares || 0)} shares</p>\r\n                  <p><strong>Existing Option Pool:</strong> {formatNumber(calc.employeeSharesSeedRound || 0)} shares</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/*  NEW: Ownership Summary Section */}\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-md-12\">\r\n                  <h6> Ownership Distribution</h6>\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-3\">\r\n                      <p><strong>Total Founders Ownership:</strong> {\r\n                        (() => {\r\n                          // Calculate total founders shares from postSeedShareholders\r\n                          const founders = postTable.shareholders?.filter(s => s.type === \"Founder\") || [];\r\n                          const totalFounderShares = founders.reduce((sum, f) => sum + (f.shares || 0), 0);\r\n                          const totalPostShares = postTable.totalShares || 1;\r\n                          const founderPercentage = (totalFounderShares / totalPostShares * 100).toFixed(1);\r\n                          return `${founderPercentage}%`;\r\n                        })()\r\n                      }</p>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <p><strong>Employee Option Pool:</strong> {\r\n                        (() => {\r\n                          const optionPool = postTable.shareholders?.find(s => s.type === \"Options Pool\") || {};\r\n                          const optionShares = optionPool.shares || 0;\r\n                          const totalPostShares = postTable.totalShares || 1;\r\n                          const optionPercentage = (optionShares / totalPostShares * 100).toFixed(1);\r\n                          return `${optionPercentage}%`;\r\n                        })()\r\n                      }</p>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <p><strong>Investor Ownership:</strong> {\r\n                        (() => {\r\n                          const investors = postTable.shareholders?.filter(s => s.type === \"Investor\") || [];\r\n                          const totalInvestorShares = investors.reduce((sum, inv) => sum + (inv.shares || 0), 0);\r\n                          const totalPostShares = postTable.totalShares || 1;\r\n                          const investorPercentage = (totalInvestorShares / totalPostShares * 100).toFixed(1);\r\n                          return `${investorPercentage}%`;\r\n                        })()\r\n                      }</p>\r\n                    </div>\r\n                    <div className=\"col-md-3\">\r\n                      <p><strong>Fully Diluted Total:</strong> 100%</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div\r\n            className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}\r\n          >\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n              <div className=\"container-fluid\">\r\n                <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n                  <h2>Capitalization Table</h2>\r\n                  <button\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => navigate(-1)}\r\n                  >\r\n                    Back to Rounds\r\n                  </button>\r\n                </div>\r\n\r\n                {loading && (\r\n                  <div className=\"text-center py-5\">\r\n                    <div className=\"spinner-border text-primary\" role=\"status\">\r\n                      <span className=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                    <p className=\"mt-3\">Loading cap table data...</p>\r\n                  </div>\r\n                )}\r\n\r\n                {error && (\r\n                  <div className=\"alert alert-danger\" role=\"alert\">\r\n                    <strong>Error:</strong> {error}\r\n                  </div>\r\n                )}\r\n                {!loading && !error && capTableData && (() => {\r\n                  console.log(capTableData);\r\n                  // Normalize data for consistent checking\r\n                  const roundType = (capTableData.round_type).toLowerCase();\r\n                  const shareClassType = (capTableData.shareClassType).toLowerCase();\r\n                  const instrumentType = (capTableData.instrumentType || '').toLowerCase();\r\n\r\n                  // CONDITION 1: Round 0 / Incorporation (highest priority)\r\n                  if (roundType.includes(\"round 0\") ||\r\n                    roundType.includes(\"incorporation\") ||\r\n                    capTableData.isRoundZero) {\r\n                    return renderRoundZeroTable();\r\n                  }\r\n\r\n                  // CONDITION 2: Preferred Equity (check before Series/Seed)\r\n                  // if (instrumentType === \"preferred equity\" ||\r\n                  //   instrumentType.includes(\"preferred\")) {\r\n                  //   return <PreferredEquityCapTable capTableData={capTableData} />;\r\n                  // }\r\n\r\n                  // CONDITION 3: Series A + SAFE\r\n                  if (\r\n\r\n                    instrumentType === \"preferred equity\") {\r\n\r\n                    return renderSAFESeriesRoundTable();\r\n                  }\r\n\r\n                  // CONDITION 4: Series A (without SAFE)\r\n                  if (instrumentType === 'common stock' &&\r\n                    shareClassType.includes(\"series\")) {\r\n                    return renderSeriesATable();\r\n                  }\r\n\r\n                  // CONDITION 5: Seed + SAFE\r\n                  if ((shareClassType === 'seed' || shareClassType === 'pre-seed' || shareClassType === 'post-seed') &&\r\n                    instrumentType === \"safe\") {\r\n                    return renderSAFERoundTable();\r\n                  }\r\n                  if ((shareClassType === 'seed' || shareClassType === 'pre-seed' || shareClassType === 'post-seed') &&\r\n                    instrumentType === \"convertible note\") {\r\n                    return renderConvertibleNoteRoundTable();\r\n                  }\r\n                  if (shareClassType.includes(\"series\") &&\r\n                    instrumentType === \"convertible note\") {\r\n                    return renderConvertibleNoteSeriesRoundTable();\r\n                  } else {\r\n                    return renderSeedRoundTable();\r\n                  }\r\n                  // CONDITION 6: Default - Seed Round (any remaining seed or fallback)\r\n\r\n                })()}\r\n\r\n                {!loading && !error && !capTableData && (\r\n                  <div className=\"alert alert-warning\" role=\"alert\">\r\n                    No cap table data available for this roundsss.\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}\r\n","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n"],"names":["RecordRoundCaptable","navigate","useNavigate","storedUsername","localStorage","getItem","userLogin","JSON","parse","API_URL_CAPTABLE","API_BASE_URL","document","title","id","useParams","capTableData","setCapTableData","useState","roundData","setRoundData","loading","setLoading","error","setError","isCollapsed","setIsCollapsed","useEffect","getCapTableData","async","formData","company_id","companies","round_id","res","axios","post","headers","Accept","data","success","capTable","round","message","err","_err$response","_err$response$data","response","console","formatCurrency","amount","currency","arguments","length","undefined","cleanCurrency","trim","split","currencyCode","includes","toUpperCase","Intl","NumberFormat","style","minimumFractionDigits","format","parseFloat","toFixed","formatCurrencyPricePerShare","numAmount","maximumFractionDigits","formatPriceThreeDecimal","formatNumber","num","formatPercentage","percent","Number","isNaN","RoundCapChart","_ref","chartData","_jsx","height","children","Bar","options","responsive","plugins","legend","display","text","scales","y","beginAtZero","max","renderConvertibleNoteSeriesRoundTable","className","calc","calculations","preTable","preSeedCapTable","postTable","postSeedCapTable","log","sharePrice","Math","abs","prepareChartData","shareholders","labels","map","sh","name","datasets","ownership","backgroundColor","_sh$type","_sh$type2","_sh$type3","_sh$type4","_sh$type5","type","borderColor","borderWidth","chartOptions","maintainAspectRatio","position","padding","usePointStyle","font","size","tooltip","callbacks","label","context","parsed","roundname","instrumentType","shareClassType","_jsxs","Pie","e","idx","seedInvestment","interestRate","discountRate","valuationCap","yearsBetweenRounds","principalPlusInterest","seedConversionShares","seedConversionValue","seedMOIC","seriesAInvestment","seriesAShares","seriesAValue","seriesAMOIC","preMoneyValuation","totalShares","totalValue","_sh$type6","_sh$type7","note","shares","value","colSpan","_sh$type8","_sh$type9","_sh$type10","_sh$type11","_sh$type12","preShares","shareholder","find","getPreSharesForShareholder","newShares","conversionPrice","moic","investment","originalInvestment","newSharesIssued","newOptionShares","postMoneyValuation","employeeSharesSeedRound","_postTable$shareholde","filter","s","reduce","sum","f","_postTable$shareholde2","_postTable$shareholde3","inv","Wrapper","ModuleSideNav","TopBar","SectionWrapper","onClick","role","roundType","round_type","toLowerCase","isRoundZero","founderCount","totalSharesIssued","firstName","lastName","email","href","phone","shareType","customShareType","shareClass","customShareClass","votingRights","fontSize","renderSAFESeriesRoundTable","_preTable$shareholder","inputs","isSeriesA","hasSAFEConversion","getOwnershipSummary","founders","employees","seedInvestors","seriesAInvestors","forEach","postOwnership","seedOptimalPrice","totalPostShares","totalSharesPostSeed","roundZeroShares","roundZeroTotalShares","_Fragment","totalSharesPreSeed","seedDiscountPrice","formatCurrencyTwoDecimals","targetOptionPoolPercent","hasNewShares","existingShares","fullName","isTotal","commonShares","safeInvestment","displayText","breakdown","investmentAmount","finalPostMoneyValuation","renderSeriesATable","details","stringify","isPostMoneyOptionPool","needsExpansion","foundersSeedShares","preInvestmentTotalShares","existingOptionPoolShares","investmentSize","existingOptionPoolPercent","optionPoolPercentPost","totalNewShares","postInvestmentTotalShares","investorOwnershipPercent","seriesAInvestorShares","additionalOptionPoolShares","totalOptionPoolShares","preSeriesAShareholders","source","originalType","preSeriesAShares","existingShareholdersPercent","renderSeedRoundTable","isConvertibleNote","isConvertibleNoteRound","optionPoolPercent","totalNoteInvestment","optionPoolShares","availableForInvestment","preSeedShareholders","preSeedTotalShares","isGeneric","renderConvertibleNoteRoundTable","companyValue","employeeShares","totalConfirmedInvestment","voting","totalFoundersOwnership","totalEmployeeOwnership","isAvailable","investorCount","postInvestmentShares","renderSAFERoundTable","preSeedTable","postSeedTable","safeInvestorCount","conversionInfo","conversionTrigger","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","defaultDatasetIdKey","reforwardRef","ref","current","setLabels","currentData","nextLabels","setDatasets","nextDatasets","datasetIdKey","addedDatasets","nextDataset","currentDataset","dataset","push","Object","assign","cloneData","nextData","ChartComponent","props","width","redraw","fallbackContent","updateMode","canvasProps","canvasRef","useRef","chartRef","renderChart","Chart$1","destroyChart","destroy","chart","nextOptions","setOptions","config","setTimeout","update","React","Chart","forwardRef","createTypedChart","registerables","BarController","PieController"],"sourceRoot":""}