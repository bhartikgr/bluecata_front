/*! For license information please see 7139.ea21014f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[7139],{6058:(e,a,s)=>{s.d(a,{Fq:()=>u,yP:()=>h});var t=s(65043),n=s(17304);const i="label";function l(e,a){"function"===typeof e?e(a):e&&(e.current=a)}function r(e,a){e.labels=a}function d(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i;const t=[];e.datasets=a.map((a=>{const n=e.datasets.find((e=>e[s]===a[s]));return n&&a.data&&!t.includes(n)?(t.push(n),Object.assign(n,a),n):{...a}}))}function o(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;const s={labels:[],datasets:[]};return r(s,e.labels),d(s,e.datasets,a),s}function c(e,a){const{height:s=150,width:i=300,redraw:c=!1,datasetIdKey:m,type:p,data:h,options:u,plugins:x=[],fallbackContent:g,updateMode:f,...y}=e,j=(0,t.useRef)(null),b=(0,t.useRef)(null),v=()=>{j.current&&(b.current=new n.t1(j.current,{type:p,data:o(h,m),options:u&&{...u},plugins:x}),l(a,b.current))},N=()=>{l(a,null),b.current&&(b.current.destroy(),b.current=null)};return(0,t.useEffect)((()=>{!c&&b.current&&u&&function(e,a){const s=e.options;s&&a&&Object.assign(s,a)}(b.current,u)}),[c,u]),(0,t.useEffect)((()=>{!c&&b.current&&r(b.current.config.data,h.labels)}),[c,h.labels]),(0,t.useEffect)((()=>{!c&&b.current&&h.datasets&&d(b.current.config.data,h.datasets,m)}),[c,h.datasets]),(0,t.useEffect)((()=>{b.current&&(c?(N(),setTimeout(v)):b.current.update(f))}),[c,u,h.labels,h.datasets,f]),(0,t.useEffect)((()=>{b.current&&(N(),setTimeout(v))}),[p]),(0,t.useEffect)((()=>(v(),()=>N())),[]),t.createElement("canvas",{ref:j,role:"img",height:s,width:i,...y},g)}const m=(0,t.forwardRef)(c);function p(e,a){return n.t1.register(a),(0,t.forwardRef)(((a,s)=>t.createElement(m,{...a,ref:s,type:e})))}const h=p("bar",n.A6),u=p("pie",n.P$)},7118:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7365:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9493:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},23658:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},33610:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]])},34379:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},40614:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},47139:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var t=s(65043),n=s(82527),i=s(97899),l=s(73216),r=s(35475),d=s(60184),o=s(53162),c=s(86213),m=s(6058),p=s(17304),h=s(70579);p.t1.register(p.PP,p.kc,p.E8,p.No,p.FN,p.Bs,p.hE,p.m_,p.s$);const u=function(){var e,a,s,p,u;(0,l.Zp)();const[x,g]=(0,t.useState)(""),{id:f}=(0,l.g)(),[y,j]=(0,t.useState)(null),[b,v]=(0,t.useState)(!0);document.title="Company Cap Table - Admin",(0,t.useEffect)((()=>{N()}),[]);const N=async()=>{let e={company_id:f};try{v(!0);const a=(await c.A.post("https://blueprintcatalyst.com/api/admin/company/getUsercompnayInfo",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;j(a)}catch(a){a.response?console.error("Response error:",a.response.data):a.request?console.error("Request data:",a.request):console.error("Error message:",a.message)}finally{v(!1)}},[_,w]=(0,t.useState)(""),[k,A]=(0,t.useState)(""),[$,S]=(0,t.useState)({round_type:"",target_raise:0,raised_to_date:0,expected_close:"",fundraising_progress:"0%",progresswidth:0,currency:"USD",remaining_amount:0,total_investors:0}),[C,F]=(0,t.useState)("0"),[E,z]=(0,t.useState)({option_pool:{total_option_pool_percentage:0,total_option_pool_shares:0,available_percentage:0,allocated_percentage:0},latest_valuation:{valuation_amount:0,currency:"",price_per_share:0,total_company_shares:0},summary:{total_company_shares:0,latest_valuation:0,option_pool_percentage:0}}),[L,T]=(0,t.useState)([]),[R,D]=(0,t.useState)(""),[I,M]=(0,t.useState)(""),[O,P]=(0,t.useState)({labels:[],datasets:[]}),[U,B]=(0,t.useState)({labels:[],datasets:[{data:[],backgroundColor:[],borderColor:"#ffffff",borderWidth:2,hoverBorderWidth:3,hoverOffset:10}]}),[W,V]=(0,t.useState)(""),[q,H]=(0,t.useState)(!1),[K,Z]=(0,t.useState)(null),G="https://blueprintcatalyst.com/api/user/dashboard/",Q={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,pointStyle:"circle",padding:15,font:{size:11,weight:"500"},generateLabels:function(e){const a=e.data;return a.labels.length&&a.datasets.length?a.labels.map(((e,s)=>({text:`${e}: ${a.datasets[0].data[s]}%`,fillStyle:a.datasets[0].backgroundColor[s],strokeStyle:a.datasets[0].borderColor,lineWidth:a.datasets[0].borderWidth,hidden:isNaN(a.datasets[0].data[s])||0===a.datasets[0].data[s],index:s}))):[]}}},tooltip:{callbacks:{label:function(e){return`${e.label||""}: ${e.parsed}%`}},backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255,255,255,0.2)",borderWidth:1,cornerRadius:8,displayColors:!0,usePointStyle:!0},datalabels:{display:function(e){return e.parsed>5},color:"#ffffff",font:{weight:"bold",size:10},formatter:function(e){return e+"%"}}},elements:{arc:{borderWidth:2,hoverBorderWidth:3}},animation:{animateRotate:!0,animateScale:!0,duration:1e3,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"nearest"}};(0,t.useEffect)((()=>{J(),Y()}),[]);const J=async()=>{let e={id:""};try{var a=(await c.A.post("https://blueprintcatalyst.com/api/user/capitalround/getallcountrySymbolList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;T(a)}catch(s){}};(0,t.useEffect)((()=>{if(_&&_.length>0){let e=0,a=0;_.forEach((s=>{const t=parseFloat(s.total_issued_shares||0),n=parseFloat(s.founder_shares||0);e+=t,a+=t-n}));const s=e>0?Math.round(a/e*1e4)/100:0;F(s.toFixed(2))}}),[_]);const Y=async()=>{const e={company_id:f};try{const s=await c.A.post(G+"getCompanystokes",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.data.results.length>0){var a=s.data.results;w(a)}}catch(s){console.error("Error generating summary",s)}};(0,t.useEffect)((()=>{re(),ne(),te(),ee(),X()}),[]);const X=async()=>{v(!0),D(null);try{const e=await c.A.post(G+"getDilutionForecast",{company_id:f});e.data&&e.data.labels?P({labels:e.data.labels,datasets:e.data.datasets}):D("No dilution data available")}catch(e){console.error("Error generating dilution forecast:",e),D("Failed to load dilution forecast")}finally{v(!1)}},ee=async()=>{const e={company_id:f};try{const a=await c.A.post(G+"getCompanyopenround",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data&&a.data.success){const e=a.data.roundInfo;S(e)}else D("No active round found"),console.error("API Error:",a.data.message)}catch(a){console.error("Error generating summary",a)}},[ae,se]=(0,t.useState)([]),te=async()=>{H(!0),Z(null);const e={company_id:f};try{const a=await c.A.post(G+"getShareholder",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data&&a.data.shareholders){const{labels:e,data:s,colors:t}=a.data.shareholders,n=[],i=[],l=[];e.forEach(((e,a)=>{s[a]>0&&(i.push(e),n.push(parseFloat(s[a])),l.push(t[a]))}));const r={labels:i,datasets:[{data:n,backgroundColor:l,borderColor:"#ffffff",borderWidth:2,hoverBorderWidth:3,hoverOffset:10,hoverBackgroundColor:l.map((e=>e+"CC"))}]};B(r),se(a.data.ownershipTable||[]),Z(null)}else Z("No shareholder data available")}catch(i){var a,s,t,n;console.error("Error fetching shareholder data:",i);const e=(null===(a=i.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)||(null===(t=i.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to load shareholder breakdown";Z(e)}finally{H(!1)}},ne=async()=>{const e={company_id:f};v(!0),D("");try{const a=await c.A.post(G+"getCompanyOptionPoolLastestValuation",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});a.data&&a.data.success?z(a.data.data):(D("Failed to fetch data"),console.error("API Error:",a.data.message))}catch(a){D("Error fetching option pool and valuation data"),console.error("Error generating summary",a)}finally{v(!1)}},ie=e=>{const a=null===e||void 0===e?void 0:e.replace(/[\$\s]/g,"").toUpperCase(),s=L.find((e=>{var s;return(null===(s=e.currency_code)||void 0===s?void 0:s.toUpperCase())===a}));return(null===s||void 0===s?void 0:s.currency_symbol)||""},le=()=>{const e={};return L.forEach((a=>{if(a.currency_code){const s=a.currency_code.replace(/[\$\s]/g,"").toUpperCase();if(e[s]=s,a.currency_symbol){const t=`${s} ${a.currency_symbol}`.trim();e[t]=s}}})),e},re=async()=>{const e={company_id:f};try{const a=await c.A.post(G+"getCompanyTotalShares",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});A(a.data.results)}catch(a){console.error("Error generating summary",a)}},[de,oe]=(0,t.useState)({labels:[],datasets:[]});return(0,t.useEffect)((()=>{(async()=>{let e={company_id:f};v(!0);try{const a=await c.A.post(G+"getBasicVsFullyDilutedOwnership",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});a.data&&a.data.labels&&oe(a.data)}catch(a){console.error("Error generating summary",a)}})()}),[f]),(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,h.jsx)(n.A,{}),(0,h.jsxs)("div",{className:"d-flex flex-column gap-0 w-100 dashboard_padding",children:[(0,h.jsx)(i.A,{}),(0,h.jsx)("section",{className:"dashboard_adminh",children:(0,h.jsx)("div",{className:"container-xl",children:(0,h.jsx)("div",{className:"row gy-4",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"card p-3",children:[x&&(0,h.jsx)(o.A,{message:x,onClose:()=>g("")}),(0,h.jsxs)("div",{className:"d-flex justify-content-between align-items-center gap-3 flex-wrap mb-4",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,h.jsxs)(r.N_,{to:`/admin/users/company/${null===y||void 0===y?void 0:y.user_id}`,className:"btn btn-secondary",children:[(0,h.jsx)(d.QVr,{})," Back"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h5",{className:"mb-1",children:b?(0,h.jsx)("span",{className:"text-muted",children:"Loading..."}):(null===y||void 0===y?void 0:y.company_name)||"Company Name"}),(0,h.jsxs)("small",{className:"text-muted",children:["Owner:"," ",(0,h.jsxs)("b",{children:[null===y||void 0===y?void 0:y.user_first_name," ",null===y||void 0===y?void 0:y.user_last_name]})]})]})]}),(0,h.jsx)("h5",{className:"mb-0 text-primary text-color",children:"Cap Table Overview"})]}),b?(0,h.jsxs)("div",{className:"text-center py-5",children:[(0,h.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("p",{className:"mt-3 text-muted",children:"Loading company information..."})]}):y?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"card p-4 mt-3 shadow-sm",children:[(0,h.jsx)("h5",{className:"mb-4",children:"Capitalization Table"}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-12",children:[(0,h.jsx)("div",{className:"pb-3 bar_design d-flex justify-content-between align-items-center",children:(0,h.jsx)("h4",{className:"h5 mb-0",children:"Equity Snapshot"})}),(0,h.jsxs)("div",{class:"row gap-0 dashboard-top",children:[(0,h.jsx)("div",{class:"col-6 col-md-3 p-0 bor",children:(0,h.jsxs)("div",{class:"p-3",children:[(0,h.jsx)("p",{class:"small fw-medium mb-1",children:"Total Shares"}),(0,h.jsx)("div",{className:"d-flex align-items-center gap-3 justify-content-between",children:(0,h.jsxs)("p",{class:"h4 fw-semibold mb-0",children:[ie(k.currency),Number(String(k.totalCompanyShares).replace(/,/g,"")).toLocaleString("en-US")]})})]})}),(0,h.jsx)("div",{className:"col-6 col-md-3 p-0 bor",children:(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsx)("p",{className:"small fw-medium mb-1",children:"Option Pool"}),b?(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("span",{className:"small",children:"Loading..."})]}):R?(0,h.jsx)("p",{className:"h4 fw-semibold mb-0 text-danger",children:"0"}):(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"h4 fw-semibold mb-0",children:(me=null===(e=E.option_pool)||void 0===e?void 0:e.total_option_pool_percentage,me&&0!==me?`${parseFloat(me).toFixed(1)}%`:"0%")}),(0,h.jsxs)("small",{className:"text-muted",children:[(ce=null===(a=E.option_pool)||void 0===a?void 0:a.total_option_pool_shares,ce&&0!==ce?ce>=1e6?`${(ce/1e6).toFixed(1)}M`:ce>=1e3?`${(ce/1e3).toFixed(1)}K`:ce.toLocaleString():"0")," ","shares"]})]})]})}),(0,h.jsx)("div",{class:"col-6 col-md-3 p-0 bor",children:(0,h.jsxs)("div",{class:"p-3",children:[(0,h.jsx)("p",{class:"small fw-medium mb-1",children:"Investor Stakes"}),(0,h.jsxs)("p",{class:"h4 fw-semibold mb-0",children:[C||0,"%"]})]})}),(0,h.jsx)("div",{className:"col-6 col-md-3 p-0",children:(0,h.jsxs)("div",{className:"p-3",children:[(0,h.jsx)("p",{className:"small fw-medium mb-1",children:"Latest Valuation"}),b?(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("span",{className:"small",children:"Loading..."})]}):R?(0,h.jsx)("p",{className:"h4 fw-semibold mb-0 text-danger",children:"0"}):(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"h4 fw-semibold mb-0",children:function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!e||0===e)return"$0";const s=le();let t=a;if(a)if(s[a])t=s[a];else{t=a.replace(/[\$\s]/g,"").toUpperCase();t={CAD:"CAD",USD:"USD",EUR:"EUR",GBP:"GBP",INR:"INR"}[t]||"USD"}try{const a=new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0});return e>=1e6?a.format(e/1e6)+"M":e>=1e3?a.format(e/1e3)+"K":a.format(e)}catch(R){console.warn(`Invalid currency code: ${a}, falling back to manual format`);const t=ie(a);return e>=1e6?`${t}${(e/1e6).toFixed(1)}M`:e>=1e3?`${t}${(e/1e3).toFixed(1)}K`:`${t}${e.toLocaleString()}`}}(null===(s=E.latest_valuation)||void 0===s?void 0:s.valuation_amount,null===(p=E.latest_valuation)||void 0===p?void 0:p.currency)}),(null===(u=E.latest_valuation)||void 0===u?void 0:u.price_per_share)>0&&(0,h.jsxs)("small",{className:"text-muted",children:["$",E.latest_valuation.price_per_share.toFixed(2),"/share"]})]})]})})]})]}),(0,h.jsxs)("div",{className:"row px-3",children:[(0,h.jsx)("div",{className:"my-4 col-md-12",children:(0,h.jsxs)("div",{className:"dashboard_card modern-chart h-100",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h3",{className:"card-title",children:"Founder Dilution Across Funding Rounds"})}),(0,h.jsx)("div",{className:"card-body h-100",children:b?(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,h.jsx)("div",{className:"spinner-border",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):R?(0,h.jsx)("div",{className:"alert alert-warning h-100 d-flex align-items-center justify-content-center",children:"0"}):O.labels.length>0?(0,h.jsx)("div",{style:{height:"300px"},children:(0,h.jsx)(m.yP,{data:O,options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:0},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(e){return`${e.dataset.label}: ${e.parsed.y.toFixed(2)}%`},footer:function(e){return`Total: ${e.reduce(((e,a)=>e+a.parsed.y),0).toFixed(2)}%`}}},title:{display:!0,text:"Ownership Dilution Forecast",font:{size:16,weight:"bold"}}},scales:{x:{stacked:!0,title:{display:!0,text:"Funding Rounds"}},y:{stacked:!0,max:100,min:0,title:{display:!0,text:"Ownership Percentage"},ticks:{callback:function(e){return e.toFixed(2)+"%"}}}},interaction:{mode:"index",intersect:!1}}})}):(0,h.jsx)("div",{className:"alert alert-info h-100 d-flex align-items-center justify-content-center",children:"No rounds found. Create a round to see dilution forecast."})})]})}),(0,h.jsx)("div",{className:"my-4 col-md-12",children:(0,h.jsx)("div",{className:"card-body",style:{minHeight:"400px"},children:q?(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"spinner-border text-primary mb-3",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,h.jsx)("p",{className:"text-muted",children:"Loading shareholder data..."})]}):K?(0,h.jsxs)("div",{className:"alert alert-warning text-center",children:[(0,h.jsx)("i",{className:"fas fa-exclamation-triangle fa-2x mb-3 text-warning"}),(0,h.jsx)("h6",{children:"Unable to load shareholder data"}),(0,h.jsx)("p",{className:"mb-3",children:K}),(0,h.jsx)("button",{onClick:te,className:"btn btn-sm btn-primary",children:"Try Again"})]}):U.labels.length>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-4",children:(0,h.jsx)("div",{className:"chart-container",style:{width:"100%",maxWidth:"350px",height:"350px"},children:(0,h.jsx)(m.Fq,{data:U,options:Q})})}),(0,h.jsxs)("div",{className:"table-responsive",children:[(0,h.jsx)("h5",{className:"mb-3 text-center fw-bold",children:"Final Ownership Structure"}),(0,h.jsxs)("table",{className:"table table-hover table-bordered align-middle",children:[(0,h.jsx)("thead",{className:"table-light",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"text-dark",children:"Stakeholder"}),(0,h.jsx)("th",{className:"text-end text-dark",children:"Shares"}),(0,h.jsx)("th",{className:"text-end text-dark",children:"Ownership %"}),(0,h.jsx)("th",{className:"text-dark",children:"Security Type"})]})}),(0,h.jsx)("tbody",{children:ae.map(((e,a)=>(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:(0,h.jsxs)("div",{className:"d-flex align-items-center",children:[(0,h.jsx)("span",{className:"badge me-2",style:{backgroundColor:e.color,width:"12px",height:"12px",borderRadius:"50%"}}),(0,h.jsx)("strong",{children:e.stakeholder})]})}),(0,h.jsx)("td",{className:"text-end",children:e.shares.toLocaleString()}),(0,h.jsx)("td",{className:"text-end",children:(0,h.jsxs)("span",{className:"badge bg-primary",children:[e.percentage.toFixed(2),"%"]})}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{className:"badge bg-secondary",children:e.securityType})})]},a)))}),(0,h.jsx)("tfoot",{className:"table-light",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"fw-bold",children:"Total"}),(0,h.jsx)("td",{className:"text-end fw-bold",children:ae.reduce(((e,a)=>e+a.shares),0).toLocaleString()}),(0,h.jsx)("td",{className:"text-end fw-bold",children:(0,h.jsx)("span",{className:"badge bg-success",children:"100.00%"})}),(0,h.jsx)("td",{})]})})]})]})]}):(0,h.jsxs)("div",{className:"alert alert-info text-center",children:[(0,h.jsx)("i",{className:"fas fa-users fa-2x mb-3 text-info"}),(0,h.jsx)("h6",{children:"No Shareholders Found"}),(0,h.jsx)("p",{className:"mb-3",children:"Add investors to see shareholder breakdown"})]})})}),(0,h.jsx)("div",{className:"my-4 col-md-12",children:(0,h.jsxs)("div",{className:"dashboard_card modern-chart h-100",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsx)("h3",{className:"card-title",children:"Basic vs Fully Diluted Ownership"})}),(0,h.jsx)("div",{className:"card-body h-100",children:b?(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center h-100",children:(0,h.jsx)("div",{className:"spinner-border",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):R?(0,h.jsx)("div",{className:"alert alert-warning h-100 d-flex align-items-center justify-content-center",children:"0"}):de.labels.length>0?(0,h.jsx)("div",{style:{height:"300px"},children:(0,h.jsx)(m.yP,{data:de,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Basic vs Fully Diluted Ownership"},tooltip:{callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.y}%`}}},scales:{x:{stacked:!0},y:{stacked:!0,max:100,min:0,ticks:{callback:e=>e+"%"}}}}})}):(0,h.jsx)("div",{className:"alert alert-info h-100 d-flex align-items-center justify-content-center",children:"No rounds found. Create a round to see dilution forecast."})})]})})]})]})]})}):(0,h.jsxs)("div",{className:"alert alert-warning",role:"alert",children:[(0,h.jsx)("h6",{className:"alert-heading",children:"No Data Found"}),(0,h.jsx)("p",{className:"mb-0",children:"Unable to load company information. Please try again later."})]})]})})})})})]})]})})});var ce,me}},53162:(e,a,s)=>{s.d(a,{A:()=>n});s(65043);var t=s(70579);const n=function(e){let{message:a,onClose:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"alert alert-success alert-dismissible fade show",role:"alert",children:[(0,t.jsx)("strong",{children:"Success!"})," ",a,(0,t.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close",onClick:s})]})})}},69617:(e,a,s)=>{e.exports=s.p+"static/media/woman.479e4e977fef9923d7de.jpg"},77572:(e,a,s)=>{e.exports=s.p+"static/media/capavate.b15264e93ae9765cfd05.png"},82527:(e,a,s)=>{s.d(a,{A:()=>u});var t=s(65043),n=s(73216),i=s(35475),l=s(40614),r=s(42983),d=s(34379),o=s(23658),c=s(7118),m=s(33610),p=s(7365),h=s(70579);const u=function(){const[e,a]=(0,t.useState)(!1),u=(0,n.zy)(),x=(0,t.useRef)(null);(0,t.useEffect)((()=>{x.current&&x.current.scrollIntoView({behavior:"auto",block:"nearest"})}),[u.pathname]);const g=e=>e.includes(u.pathname),f=e=>e.some((e=>"string"===typeof e?u.pathname===e:e instanceof RegExp&&e.test(u.pathname))),y=e=>e?x:null;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:{position:"fixed",zIndex:"98"},className:"d-xl-none   d-flex flex-column p-3 px-4 gap-2 justify-content-between align-items-center",children:(0,h.jsx)("div",{className:"d-flex flex-column gap-2 justify-content-center align-items-center",children:(0,h.jsx)("button",{className:"btn btn-dark ",onClick:()=>a(!e),children:e?(0,h.jsx)(l.A,{size:24}):(0,h.jsx)(r.A,{size:24})})})}),(0,h.jsx)("div",{className:`side_bar_admin  vh-100 shadow-xl p-4 position-fixed  top-0 start-0 ${e?"d-flex":"d-none"} d-xl-flex flex-column justify-content-between`,style:{width:"300px",flexShrink:"0"},children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-3",children:[(0,h.jsx)("div",{className:"side_logo",children:(0,h.jsx)("img",{className:"w-100 h-100 object-fit-cover",src:s(77572),alt:"logo"})}),(0,h.jsx)("button",{className:"close_btn_admin d-xl-none d-block",onClick:()=>a(!e),children:e?(0,h.jsx)(l.A,{size:24}):(0,h.jsx)(r.A,{size:24})}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 pt-3",children:[(0,h.jsx)(d.A,{size:26}),(0,h.jsx)("h4",{className:"m-0 fw-bold",children:"Admin Panel"})]}),(0,h.jsxs)("ul",{className:"list-unstyled dash_scroll d-flex flex-column gap-2 py-3",style:{maxHeight:"74vh",overflowY:"auto"},children:[(0,h.jsx)("li",{ref:y(g(["/admin/dashboard"])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(g(["/admin/dashboard"])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/dashboard",className:"d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(o.A,{size:20})," ",(0,h.jsx)("span",{children:"Dashboard"})]})}),(0,h.jsx)("li",{ref:y(f(["/admin/users",/^\/admin\/users\/company\/\d+$/,/^\/admin\/company\/investor-reporting\/\d+$/,/^\/admin\/company\/record-round\/\d+$/,/^\/admin\/users\/company\/cap-table\/\d+$/,/^\/admin\/users\/company\/investor-info\/\d+$/,/^\/admin\/users\/company\/info\/\d+$/,/^\/admin\/company\/viewdetails\/\d+$/])),className:"p-2 d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/users",/^\/admin\/users\/company\/\d+$/,/^\/admin\/company\/investor-reporting\/\d+$/,/^\/admin\/company\/record-round\/\d+$/,/^\/admin\/users\/company\/cap-table\/\d+$/,/^\/admin\/users\/company\/investor-info\/\d+$/,/^\/admin\/users\/company\/info\/\d+$/,/^\/admin\/company\/viewdetails\/\d+$/])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/users",className:"d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(c.A,{size:20})," ",(0,h.jsx)("span",{children:"Users"})]})}),(0,h.jsx)("li",{ref:y(f(["/admin/investor",/^\/admin\/investor-info\/\d+$/,/^\/admin\/investor\/viewdetails\/\d+$/])),className:"p-2 d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/investor",/^\/admin\/investor-info\/\d+$/,/^\/admin\/investor\/viewdetails\/\d+$/])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/investor",className:"d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(c.A,{size:20})," ",(0,h.jsx)("span",{children:"Investors"})]})}),(0,h.jsxs)("li",{className:"p-2 rounded d-flex flex-column gap-2 mb-2",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 ",children:[(0,h.jsx)(m.A,{size:20})," ",(0,h.jsx)("span",{children:"Modules"})]}),(0,h.jsxs)("ul",{className:"ms-4 list-unstyled",children:[(0,h.jsx)("li",{ref:y(f(["/admin/module/list","/admin/module/add",/^\/admin\/module\/edit\/\d+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/module/list","/admin/module/add",/^\/admin\/module\/edit\/\d+$/])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/module/list",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Module List"})}),(0,h.jsx)("li",{ref:y(f(["/admin/zoomeetlist","/admin/createzoomeet",/^\/admin\/editzoomeet\/\d+$/,/^\/admin\/zoomeetlist\/useregister\/\d+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/zoomeetlist","/admin/createzoomeet",/^\/admin\/editzoomeet\/\d+$/,/^\/admin\/zoomeetlist\/useregister\/\d+$/])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/zoomeetlist",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Zoom Meeting List"})}),(0,h.jsx)("li",{ref:y(f(["/admin/emailtemplate"])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/emailtemplate"])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/emailtemplate",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Email Template"})})]})]}),(0,h.jsx)("li",{ref:y(g(["/admin/duediligencecategoryList","/admin/duediligencecategory/add",/^\/admin\/duediligencecategorytip\/add\/\d+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/duediligencecategoryList","/admin/duediligencecategory/add",/^\/admin\/duediligencecategorytip\/add\/\d+$/])?"color_primary":""),children:(0,h.jsxs)(i.N_,{to:"/admin/duediligencecategoryList",className:" d-flex align-items-center gap-2 text-decoration-none w-100",children:[(0,h.jsx)(o.A,{size:20})," ",(0,h.jsx)("span",{children:"Data Rooms Category"})]})}),(0,h.jsxs)("li",{className:"p-2 rounded d-flex flex-column gap-2 mb-2",children:[(0,h.jsxs)("div",{className:"d-flex align-items-center gap-2 ",children:[(0,h.jsx)(p.A,{size:20})," ",(0,h.jsx)("span",{children:"Setting"})]}),(0,h.jsxs)("ul",{className:"ms-4 list-unstyled",children:[(0,h.jsx)("li",{ref:y(g(["/admin/setting/dataroompaymentadd"])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(g(["/admin/setting/dataroompaymentadd"])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/setting/dataroompaymentadd",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Subscription Amount"})}),(0,h.jsx)("li",{ref:y(f(["/admin/setting/paymentdiscountlist","/admin/setting/createpaymentdiscount",/^\/admin\/setting\/discountCode\/edit\/\d+$/,/^\/admin\/setting\/referralcodes\/[\w-]+$/,/^\/admin\/setting\/referralusage\/[\w-]+$/])),className:"p-2  d-flex align-items-center gap-2 mb-2 border-bottom "+(f(["/admin/setting/paymentdiscountlist","/admin/setting/createpaymentdiscount",/^\/admin\/setting\/discountCode\/edit\/\d+$/,/^\/admin\/setting\/referralcodes\/[\w-]+$/,/^\/admin\/setting\/referralusage\/[\w-]+$/])?"color_primary":""),children:(0,h.jsx)(i.N_,{to:"/admin/setting/paymentdiscountlist",className:" d-flex align-items-center gap-2 text-decoration-none py-1 submenu_new",children:"Discount Codes"})})]})]})]})]})})]})}},97899:(e,a,s)=>{s.d(a,{A:()=>d});var t=s(73216),n=s(65043),i=s(9493),l=s(35475),r=s(70579);const d=function(){const e=(0,t.Zp)(),[a,d]=((0,t.zy)(),(0,n.useState)(""));return(0,n.useEffect)((()=>{const a=localStorage.getItem("adminLogin"),s=a?JSON.parse(a):null;if(!s)return localStorage.removeItem("adminLogin"),void e("/admin/login");(new Date).getTime()>s.adminexpiry?(localStorage.removeItem("adminLogin"),e("/admin/login")):d(s)}),[]),(0,r.jsx)("section",{className:"d-block admin_top_bar w-100",children:(0,r.jsx)("div",{className:"container-xl",children:(0,r.jsxs)("div",{className:"d-flex w-100 justify-content-end align-items-center gap-2",children:[(0,r.jsx)("div",{className:"profile_admin",children:(0,r.jsx)("img",{className:"w-100 h-100 object-fit-cover",src:s(69617),alt:"logo"})}),(0,r.jsx)("div",{title:"Logout",className:"p-2 rounded  d-flex align-items-center gap-2  logout_btn",style:{cursor:"pointer"},children:(0,r.jsx)(l.N_,{to:"/admin/logout",className:"text-white text-center d-flex align-items-center justify-content-center gap-2 text-decoration-none w-100",children:(0,r.jsx)(i.A,{size:20})})})]})})})}}}]);
//# sourceMappingURL=7139.ea21014f.chunk.js.map