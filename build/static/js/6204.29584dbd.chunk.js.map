{"version":3,"file":"static/js/6204.29584dbd.chunk.js","mappings":"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","sources":["pages/Admin/PaymentSubscription.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport DataTable from \"react-data-table-component\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport {\n  faComment,\n  faFileInvoice,\n  faUndo,\n  faEye,\n  faArrowLeft,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nimport { Link, useParams } from \"react-router-dom\";\nimport Headeradmin from \"../../components/Admin/HeaderAdmin\";\nimport NavAdmin from \"../../components/Admin/NavAdmin\";\nimport { useNavigate } from \"react-router-dom\";\nimport SuccessPop from \"../../components/Admin/SuccessPop\";\nimport ErrorPop from \"../../components/Admin/ErrorPop\";\nimport generatePDF from \"./PDFGeneration\";\n\nimport generatePDFView from \"./PDFGenerationView\";\nimport logo from \"../../assets/images/logo.png\";\nfunction PaymentSubscription() {\n  const { slug } = useParams();\n  const [alluserpayment, setalluserpayment] = useState([]);\n  const apiUrl = \"https://backend.amourette.no/api/admin/\";\n  const navigate = useNavigate();\n  const [paymentIntentId, setPaymentIntentId] = useState(\"\");\n  const [showPopSuccess, setShowPopSuccess] = useState(false);\n  const [showPopError, setShowPopError] = useState(false);\n  const [successPopMessage, setPopsuccessMessage] = useState(\"\");\n  const [errorPopMessage, setPoperrorMessage] = useState(\"\");\n  const [invoiceData, setinvoiceData] = useState(\"\");\n  const [invoiceDataView, setinvoiceDataView] = useState(\"\");\n  const [UserEmail, setUserEmail] = useState(\"\");\n  const [UserDetail, setUserDetail] = useState(\"\");\n  useEffect(() => {\n    // Check if the username key exists in session storage\n    const storedUsername = localStorage.getItem(\"adminLogin\");\n    const userLogin = JSON.parse(storedUsername);\n    console.log(userLogin);\n    if (userLogin === null) {\n      navigate(\"/admin/login\");\n    }\n  }, []);\n  useEffect(() => {\n    getuserdetail();\n  }, []);\n  const getuserdetail = async () => {\n    let formData = {\n      slug: slug,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"getuserdetail\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.result;\n\n      if (respo === undefined) {\n        navigate(\"/admin/users\");\n      }\n\n      setUserDetail(respo);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const [records, setRecords] = useState([]);\n\n  const [showModal, setShowModal] = useState(false);\n  const [currentRecord, setCurrentRecord] = useState({});\n\n  const columns = [\n    {\n      name: \"Pay ID\",\n      selector: (row) => row.payment_id,\n      sortable: true,\n    },\n    { name: \"User\", selector: (row) => row.username, sortable: true },\n    { name: \"Plan\", selector: (row) => row.plan, sortable: true },\n    {\n      name: \"Amount\",\n      selector: (row) => {\n        const amount = parseFloat(row.amount); // Convert to number\n        return !isNaN(amount) ? amount.toFixed(2) : \"0.00\"; // Check if it's a valid number\n      },\n      sortable: true,\n    },\n    { name: \"Date\", selector: (row) => moment(row.date).format(\"DD-MM-YYYY\") },\n\n    {\n      name: \"Action\",\n      cell: (row) => (\n        <div className=\"d-flex align-items-center gap-3\">\n          {/* Payment Disputes Icon, only visible if plan is not 'Free' */}\n          {row.plan !== \"Free\" && (\n            <a\n              className=\"dataedit_btn\"\n              onClick={() => handleDispute(row)}\n              style={{ fontSize: \"16px\" }}\n              title=\"Payment Disputes\"\n            >\n              <FontAwesomeIcon icon={faComment} />\n            </a>\n          )}\n\n          {row.plan !== \"Free\" && (\n            <a\n              className=\"dataedit_btn\"\n              style={{ fontSize: \"16px\" }}\n              title=\"Invoice View\"\n              onClick={() => handleSendInvoiceView(row)}\n            >\n              <FontAwesomeIcon icon={faFileInvoice} />\n            </a>\n          )}\n\n          {/* Refund Icon, only visible if plan is not 'Free' */}\n          {row.plan !== \"Free\" && row.refund !== \"Succeeded\" && (\n            <a\n              className=\"dataedit_btn\"\n              style={{ fontSize: \"16px\" }}\n              title=\"Refund\"\n              onClick={() => handleRefund(row)}\n            >\n              <FontAwesomeIcon icon={faUndo} />\n            </a>\n          )}\n        </div>\n      ),\n      ignoreRowClick: true,\n      allowOverflow: true,\n      button: true,\n    },\n  ];\n  const handleSendInvoice = async (row) => {\n    let formData = {\n      id: row.id,\n    };\n    setUserEmail(row.email);\n    try {\n      const res = await axios.post(apiUrl + \"getinvoieData\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.result;\n      setinvoiceData(respo);\n      setPopsuccessMessage(\"Invoice successfully sent!\");\n      setShowPopSuccess(true);\n\n      setTimeout(() => {\n        setPopsuccessMessage(\"\");\n        setShowPopSuccess(false);\n      }, 2000);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const handleSendInvoiceView = async (row) => {\n    let formData = {\n      id: row.id,\n    };\n\n    try {\n      const res = await axios.post(apiUrl + \"getinvoieData\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.result;\n      console.log(respo);\n      setinvoiceDataView(respo);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const handleSendInvoiceRefund = async (row) => {\n    let formData = {\n      id: row.id,\n    };\n    setUserEmail(row.email);\n    try {\n      const res = await axios.post(apiUrl + \"getinvoieData\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.result;\n      setinvoiceData(respo);\n      setPopsuccessMessage(\"Invoice successfully sent!\");\n      setShowPopSuccess(true);\n\n      setTimeout(() => {\n        setPopsuccessMessage(\"\");\n        setShowPopSuccess(false);\n      }, 2000);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const handleSendInvoiceRefundInvoice = async (row) => {\n    let formData = {\n      id: row.id,\n    };\n    setUserEmail(row.email);\n    try {\n      const res = await axios.post(apiUrl + \"getinvoieData\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.result;\n      setinvoiceData(respo);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  useEffect(() => {\n    const mainpdf = (\n      <div\n        style={{\n          width: \"100%\",\n          margin: \"50px auto\",\n          backgroundColor: \"#ffffff\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n          overflow: \"hidden\",\n        }}\n      >\n        {/* Header Section */}\n        <table\n          style={{\n            width: \"100%\",\n            textAlign: \"center\",\n            padding: \"20px\",\n          }}\n        >\n          <tbody>\n            <tr>\n              <td>\n                <img\n                  src={require(\"../../assets/images/logo.png\")}\n                  alt=\"Logo\"\n                  style={{\n                    maxWidth: \"350px\",\n                    height: \"auto\",\n                    objectFit: \"contain\",\n                  }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td\n                style={{\n                  fontSize: \"20px\",\n                  color: \"rgb(17, 16, 16)\",\n                  textTransform: \"capitalize\",\n                  borderBottom: \"2px solid #eee\",\n                  paddingBottom: \"10px\",\n                }}\n              >\n                Refund from Amourette\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {/* Refunded and Date Issue Section */}\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n            padding: \"20px\",\n          }}\n        >\n          {/* Refunded Section */}\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <span\n              style={{\n                fontSize: \"20px\",\n                color: \"rgb(95, 91, 91)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Refunded\n            </span>\n            <span\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              ${invoiceData.amount}\n            </span>\n          </div>\n\n          {/* Date Issue Section */}\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <span\n              style={{\n                fontSize: \"20px\",\n                color: \"rgb(95, 91, 91)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Date Issue\n            </span>\n            <span\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {moment(invoiceData.PaymentrefundDispute_date).format(\n                \"MMM D, YYYY\"\n              )}\n            </span>\n          </div>\n        </div>\n\n        {/* Confirmation Text */}\n        <div\n          style={{\n            textAlign: \"justify\", // Makes the text align evenly on both sides\n            color: \"rgb(17, 16, 16)\",\n            fontSize: \"16px\",\n            lineHeight: \"1.6\", // Adjusts the spacing between lines for better readability\n            marginTop: \"20px\",\n            padding: \"20px\",\n            borderBottom: \"2px solid #eee\",\n          }}\n        >\n          This email is to confirm that your refund has been issued by\n          <strong> Amourette</strong>. It can take approximately\n          <strong> 10 days</strong> to appear on your statement. If it takes\n          longer, please contact your bank for assistance.\n        </div>\n\n        {/* Summary Section */}\n        <div\n          style={{\n            padding: \"20px\",\n            textAlign: \"center\",\n            backgroundColor: \"#f9f9f9\", // Special background color\n            borderRadius: \"8px\", // Optional: Rounded corners\n            boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.1)\", // Optional: Add some shadow\n          }}\n        >\n          {/* Main Stats Section */}\n\n          {/* Payment To and Total Section */}\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"20px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Payment To */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Payment To Amourette\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </div>\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"10px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Total */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Total\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </div>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"10px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Total */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Refunded on{\" \"}\n              {moment(invoiceData.PaymentrefundDispute_date).format(\n                \"MMM D, YYYY\"\n              )}\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </div>\n          </div>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"10px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Total */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Adjusted Total\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n    const mainpdfrecepit = (\n      <div\n        style={{\n          width: \"100%\",\n          margin: \"50px auto\",\n          backgroundColor: \"#ffffff\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n          overflow: \"hidden\",\n        }}\n      >\n        {/* Header Section */}\n        <table\n          style={{\n            width: \"100%\",\n            textAlign: \"center\",\n            padding: \"20px\",\n          }}\n        >\n          <tbody>\n            <tr>\n              <td>\n                <img\n                  src={require(\"../../assets/images/logo.png\")}\n                  alt=\"Logo\"\n                  style={{\n                    maxWidth: \"350px\",\n                    height: \"auto\",\n                    objectFit: \"contain\",\n                  }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td\n                style={{\n                  fontSize: \"20px\",\n                  color: \"rgb(17, 16, 16)\",\n                  textTransform: \"capitalize\",\n                  borderBottom: \"2px solid #eee\",\n                  paddingBottom: \"10px\",\n                }}\n              >\n                Receipt from Amourette\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {/* Receipt and Date Issue Section */}\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n            padding: \"20px\",\n          }}\n        >\n          {/* Receipt Section */}\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <span\n              style={{\n                fontSize: \"20px\",\n                color: \"rgb(95, 91, 91)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Amount Paid\n            </span>\n            <span\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </span>\n          </div>\n\n          {/* Date Issue Section */}\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <span\n              style={{\n                fontSize: \"20px\",\n                color: \"rgb(95, 91, 91)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Date Paid\n            </span>\n            <span\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {moment(invoiceData.start_date).format(\"MMM D, YYYY\")}\n            </span>\n          </div>\n        </div>\n\n        {/* Confirmation Text */}\n\n        {/* Summary Section */}\n        <div\n          style={{\n            padding: \"20px\",\n            textAlign: \"center\",\n            backgroundColor: \"#f9f9f9\", // Special background color\n            borderRadius: \"8px\", // Optional: Rounded corners\n            boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.1)\", // Optional: Add some shadow\n          }}\n        >\n          {/* Main Stats Section */}\n\n          {/* Payment To and Total Section */}\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"20px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Payment To */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Payment To Amourette\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </div>\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"10px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Total */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Amount charged\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceData.amount}kr\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n\n    // if (invoiceData !== \"\") {\n    //   if (invoiceData.PaymentrefundDispute_status === \"Refund\") {\n    //     generatePDF(mainpdf, UserEmail, \"Refund Invoice\");\n    //   } else {\n    //     generatePDF(mainpdfrecepit, UserEmail, \"Payment Receipt\");\n    //   }\n    // }\n    console.log(UserEmail);\n  }, [invoiceData, UserEmail]);\n\n  useEffect(() => {\n    const mainpdfrecepit = (\n      <div\n        style={{\n          width: \"100%\",\n          margin: \"50px auto\",\n          backgroundColor: \"#ffffff\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"8px\",\n          boxShadow: \"0 4px 8px rgba(0, 0, 0, 0.1)\",\n          overflow: \"hidden\",\n        }}\n      >\n        {/* Header Section */}\n        <table\n          style={{\n            width: \"100%\",\n            textAlign: \"center\",\n            padding: \"20px\",\n          }}\n        >\n          <tbody>\n            <tr>\n              <td>\n                <img\n                  src={require(\"../../assets/images/logo.png\")}\n                  alt=\"Logo\"\n                  style={{\n                    maxWidth: \"350px\",\n                    height: \"auto\",\n                    objectFit: \"contain\",\n                  }}\n                />\n              </td>\n            </tr>\n            <tr>\n              <td\n                style={{\n                  fontSize: \"20px\",\n                  color: \"rgb(17, 16, 16)\",\n                  textTransform: \"capitalize\",\n                  borderBottom: \"2px solid #eee\",\n                  paddingBottom: \"10px\",\n                }}\n              >\n                Receipt from Amourette\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        {/* Receipt and Date Issue Section */}\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n            padding: \"20px\",\n          }}\n        >\n          {/* Receipt Section */}\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <span\n              style={{\n                fontSize: \"20px\",\n                color: \"rgb(95, 91, 91)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Amount Paid\n            </span>\n            <span\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceDataView.amount}kr\n            </span>\n          </div>\n\n          {/* Date Issue Section */}\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"center\",\n            }}\n          >\n            <span\n              style={{\n                fontSize: \"20px\",\n                color: \"rgb(95, 91, 91)\",\n                fontWeight: \"bold\",\n              }}\n            >\n              Date Paid\n            </span>\n            <span\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {moment(invoiceDataView.start_date).format(\"MMM D, YYYY\")}\n            </span>\n          </div>\n        </div>\n\n        {/* Confirmation Text */}\n\n        {/* Summary Section */}\n        <div\n          style={{\n            padding: \"20px\",\n            textAlign: \"center\",\n            backgroundColor: \"#f9f9f9\", // Special background color\n            borderRadius: \"8px\", // Optional: Rounded corners\n            boxShadow: \"0px 4px 8px rgba(0, 0, 0, 0.1)\", // Optional: Add some shadow\n          }}\n        >\n          {/* Main Stats Section */}\n\n          {/* Payment To and Total Section */}\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"20px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Payment To */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Payment To Amourette\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceDataView.amount}kr\n            </div>\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginTop: \"10px\",\n              padding: \"15px 20px\",\n              backgroundColor: \"#fff\", // Light background for contrast\n              borderRadius: \"8px\", // Optional: Rounded corners\n            }}\n          >\n            {/* Total */}\n            <div\n              style={{\n                fontSize: \"18px\",\n                fontWeight: \"bold\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              Amount charged\n            </div>\n            <div\n              style={{\n                fontSize: \"18px\",\n                color: \"rgb(95, 91, 91)\",\n              }}\n            >\n              {invoiceDataView.amount}kr\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n    setTimeout(() => {\n      if (invoiceDataView !== \"\") {\n        generatePDFView(mainpdfrecepit);\n      }\n    }, 500);\n  }, [invoiceDataView]);\n  const handleRefund = async (row) => {\n    const paymentIntentId = row.unique_code;\n    let formData = {\n      paymentIntentId: paymentIntentId,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"paymentrefund\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      console.log(res.data);\n      var respo = res.data.result;\n      console.log(res.data);\n      fetchData();\n      sendmailuser(paymentIntentId);\n      if (res.data.success === true) {\n        fetchData();\n        setPopsuccessMessage(\"Payment refunded successfully!\");\n        setShowPopSuccess(true);\n        setShowPopError(false);\n        setTimeout(() => {\n          handleSendInvoiceRefundInvoice(row);\n          setPopsuccessMessage(\"\");\n          setShowPopSuccess(false);\n        }, 3500);\n      }\n      if (res.data.success === false) {\n        fetchData();\n        setPoperrorMessage(res.data.error);\n        setShowPopSuccess(false);\n        setShowPopError(true);\n        setTimeout(() => {\n          setPoperrorMessage(\"\");\n          setShowPopError(false);\n        }, 3500);\n      }\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const sendmailuser = async (paymentIntentId) => {\n    let formData = {\n      paymentIntentId: paymentIntentId,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"sendmailuserrefund\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  const handleDispute = async (row) => {\n    const paymentIntentId = row.unique_code;\n    let formData = {\n      paymentIntentId: paymentIntentId,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"paymentdispute\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n\n      var respo = res.data.result;\n\n      fetchData();\n      if (res.data.success === true) {\n        setPopsuccessMessage(\"Payment Disputed successfully!\");\n        setShowPopSuccess(true);\n        setShowPopError(false);\n        setTimeout(() => {\n          fetchData();\n          setPopsuccessMessage(\"\");\n          setShowPopSuccess(false);\n        }, 3500);\n      }\n      if (res.data.success === false) {\n        setPoperrorMessage(res.data.error);\n        setShowPopSuccess(false);\n        setShowPopError(true);\n        setTimeout(() => {\n          setPoperrorMessage(\"\");\n          setShowPopError(false);\n        }, 3500);\n      }\n      fetchData();\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n  useEffect(() => {\n    fetchData();\n  }, [UserDetail]);\n  const fetchData = async () => {\n    let formData = {\n      user_id: UserDetail.id,\n    };\n    try {\n      const res = await axios.post(apiUrl + \"getallpayment\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\n        },\n      });\n      var respo = res.data.result;\n\n      setRecords(respo);\n    } catch (err) {\n      // Enhanced error handling\n      if (err.response) {\n      } else if (err.request) {\n        console.error(\"Request data:\", err.request);\n      } else {\n        console.error(\"Error message:\", err.message);\n      }\n    }\n  };\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const filteredRecords = records.filter((record) =>\n    Object.values(record)\n      .join(\" \")\n      .toLowerCase()\n      .includes(searchQuery.toLowerCase())\n  );\n  // Define filtered data based on the search query\n\n  const [isOpen, setIsOpen] = useState(false);\n\n  const toggleNavAdmin = () => {\n    setIsOpen(!isOpen); // Toggle the state between true and false\n  };\n  return (\n    <>\n      <div class=\"position-relative bg-white d-flex p-0\">\n        <Headeradmin isOpen={isOpen} />\n        <div className={`content ${isOpen ? \"open\" : \"\"}`}>\n          <NavAdmin onClick={toggleNavAdmin} />\n          {showPopSuccess && <SuccessPop message={successPopMessage} />}\n          {showPopError && <ErrorPop message={errorPopMessage} />}\n          <div className=\"container-fluid pt-4 px-4\">\n            <div className=\"row g-4\">\n              <div className=\"col-12\">\n                <div className=\"bg-light rounded h-100 p-4\">\n                  <div className=\"d-flex justify-content-between\">\n                    <Link\n                      to=\"/admin/users\"\n                      style={{\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        textDecoration: \"none\",\n                      }}\n                      className=\"mb-4\"\n                    >\n                      <FontAwesomeIcon\n                        icon={faArrowLeft}\n                        style={{ marginRight: \"8px\" }}\n                      />{\" \"}\n                      Back\n                    </Link>\n                    <div className=\"d-flex justify-content-between gap-2\">\n                      <Link\n                        to={`/admin/paymentrefund/${slug}`}\n                        target=\"_blank\"\n                        className=\"btn btn-primary mb-4\"\n                        title=\"View Refund\"\n                        style={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          textDecoration: \"none\",\n                        }}\n                      >\n                        <FontAwesomeIcon\n                          icon={faEye}\n                          style={{ marginRight: \"8px\" }}\n                        />{\" \"}\n                        Refund\n                      </Link>\n                      <Link\n                        to={`/admin/paymentdispute/${slug}`}\n                        target=\"_blank\"\n                        title=\"View Dispute\"\n                        className=\"btn btn-primary mb-4\"\n                        style={{\n                          display: \"flex\",\n                          alignItems: \"center\",\n                          textDecoration: \"none\",\n                        }}\n                      >\n                        <FontAwesomeIcon\n                          icon={faEye}\n                          style={{ marginRight: \"8px\" }}\n                        />{\" \"}\n                        Dispute\n                      </Link>\n                    </div>\n                  </div>\n                  <div className=\"d-flex justify-content-between\">\n                    <div className=\"d-flex justify-content-between\">\n                      <h6 className=\"mb-4\">\n                        Payment History ({UserDetail.username})\n                      </h6>\n                    </div>\n                    <div className=\"mb-3\">\n                      <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        placeholder=\"Search...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"table-responsive\">\n                    <DataTable\n                      columns={columns}\n                      data={filteredRecords}\n                      pagination\n                      highlightOnHover\n                      noDataComponent=\"No records found.\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\nexport default PaymentSubscription;\n"],"names":["slug","useParams","alluserpayment","setalluserpayment","useState","apiUrl","navigate","useNavigate","paymentIntentId","setPaymentIntentId","showPopSuccess","setShowPopSuccess","showPopError","setShowPopError","successPopMessage","setPopsuccessMessage","errorPopMessage","setPoperrorMessage","invoiceData","setinvoiceData","invoiceDataView","setinvoiceDataView","UserEmail","setUserEmail","UserDetail","setUserDetail","useEffect","storedUsername","localStorage","getItem","userLogin","JSON","parse","console","log","getuserdetail","async","formData","respo","axios","post","headers","Accept","data","result","undefined","err","response","request","error","message","records","setRecords","showModal","setShowModal","currentRecord","setCurrentRecord","columns","name","selector","row","payment_id","sortable","username","plan","amount","parseFloat","isNaN","toFixed","moment","date","format","cell","_jsxs","className","children","_jsx","onClick","handleDispute","style","fontSize","title","FontAwesomeIcon","icon","faComment","handleSendInvoiceView","faFileInvoice","refund","handleRefund","faUndo","ignoreRowClick","allowOverflow","button","id","require","PaymentrefundDispute_date","start_date","mainpdfrecepit","width","margin","backgroundColor","border","borderRadius","boxShadow","overflow","textAlign","padding","src","alt","maxWidth","height","objectFit","color","textTransform","borderBottom","paddingBottom","display","flexDirection","justifyContent","alignItems","fontWeight","marginTop","setTimeout","generatePDFView","unique_code","res","fetchData","sendmailuser","success","email","handleSendInvoiceRefundInvoice","user_id","searchQuery","setSearchQuery","filteredRecords","filter","record","Object","values","join","toLowerCase","includes","isOpen","setIsOpen","_Fragment","class","Headeradmin","NavAdmin","toggleNavAdmin","SuccessPop","ErrorPop","Link","to","textDecoration","faArrowLeft","marginRight","target","faEye","type","placeholder","value","onChange","e","DataTable","pagination","highlightOnHover","noDataComponent"],"sourceRoot":""}