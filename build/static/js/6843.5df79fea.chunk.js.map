{"version":3,"file":"static/js/6843.5df79fea.chunk.js","mappings":"+SAqUA,QAhTA,YACmBA,EAAAA,EAAAA,MAAjB,MACOC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAAgBC,IAAqBF,EAAAA,EAAAA,UAAS,KACrDG,EAAAA,EAAAA,YAAU,KACRC,SAASC,MAAQ,uBAAuB,GACvC,IACH,MAAMC,EAAS,mDACRC,EAAaC,IAAkBR,EAAAA,EAAAA,UAAS,KACxCS,EAAcC,IAAmBV,EAAAA,EAAAA,UAAS,KAC1CW,EAAQC,IAAaZ,EAAAA,EAAAA,UAAS,IAE/Ba,EAAkBf,EAAQgB,QAAQC,GACtCC,OAAOC,OAAOF,GACXG,KAAK,KACLC,cACAC,SAASb,EAAYY,kBAE1BhB,EAAAA,EAAAA,YAAU,KACRkB,GAAoB,GACnB,IACH,MAAMA,EAAqBC,UACzB,IAAIC,EAAW,CACbC,QAAS,IAEX,IAOE,IAAIC,SANcC,EAAAA,EAAMC,KAAKrB,EAAS,qBAAsBiB,EAAU,CACpEK,QAAS,CACPC,OAAQ,mBACR,eAAgB,uBAGJC,KAAKC,IACrB7B,EAAkBuB,EAAM,GAC1B,CAAE,MAAOO,GAEHA,EAAIC,WACGD,EAAIE,QACbC,QAAQC,MAAM,gBAAiBJ,EAAIE,SAEnCC,QAAQC,MAAM,iBAAkBJ,EAAIK,SAExC,IAEKC,EAAgBC,IAAqBvC,EAAAA,EAAAA,UAAS,KAC9CwC,EAAMC,IAAWzC,EAAAA,EAAAA,WAAS,IAC1B0C,EAAUC,IAAe3C,EAAAA,EAAAA,UAAS,KAClC4C,EAAgBC,IAAqB7C,EAAAA,EAAAA,WAAS,GAK/C8C,EAAU,CACd,CACEC,KAAM,gBACNC,SAAWjB,GAAQA,EAAIkB,KACvBC,UAAU,EACVC,UAAW,OAGb,CACEJ,KAAM,WACNC,SAAWjB,GAAQA,EAAIqB,WAAa,IACpCF,UAAU,EACVC,UAAW,OAGb,CACEJ,KAAM,SACNC,SAAWjB,GAAQA,EAAIsB,OACvBH,UAAU,EACVC,UAAW,OAEb,CACEJ,KAAM,QACNC,SAAWjB,GAAQA,EAAIuB,OACvBJ,UAAU,EACVC,UAAW,OAEb,CACEJ,KAAM,YACNC,SAAWjB,GAAQA,EAAIwB,YACvBL,UAAU,EACVC,UAAW,OAEb,CACEJ,KAAM,aACNC,SAAWjB,GAAQA,EAAIyB,WACvBN,UAAU,EACVC,UAAW,OAEb,CACEJ,KAAM,SACNU,KAAO1B,IACL2B,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,OAAKV,UAAU,kCAAiCS,SAAA,EAC9CF,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHX,UAAU,QACVY,GAAI,gCAAgChC,EAAIkB,OACxC5C,MAAM,iBAAgBuD,UAEtBF,EAAAA,EAAAA,KAACM,EAAAA,GAAM,OAETN,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHX,UAAU,QACVY,GAAI,gCAAgChC,EAAIkB,OACxC5C,MAAM,iBAAgBuD,UAEtBF,EAAAA,EAAAA,KAACO,EAAAA,IAAW,OAEdP,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHX,UAAU,QACVY,GAAG,qBACHG,QAASA,IAAMC,EAAgBpC,EAAIkB,MACnC5C,MAAM,QAAOuD,UAEbF,EAAAA,EAAAA,KAACU,EAAAA,IAAU,OAEbV,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CACHX,UAAU,QACVY,GAAI,oCAAoChC,EAAIsC,KAC5ChE,MAAM,OAAMuD,UAEZF,EAAAA,EAAAA,KAACY,EAAAA,IAAM,OAETZ,EAAAA,EAAAA,KAAA,UACEa,KAAK,SACLL,QAASA,IA/EA5C,WACnBqB,EAAY0B,GACZ5B,GAAQ,EAAK,EA6EY+B,CAAazC,EAAIsC,IAChClB,UAAU,yCACV9C,MAAM,SAAQuD,UAEdF,EAAAA,EAAAA,KAACe,EAAAA,IAAU,WAKnBC,gBAAgB,EAChBC,eAAe,EACfC,QAAQ,KAIZzE,EAAAA,EAAAA,YAAU,KACR0E,GAAiB,GAChB,IACH,MAAMA,EAAkBvD,UACtB,IAAIC,EAAW,CACbC,QAAS,IAEX,IAOE,IAAIC,SANcC,EAAAA,EAAMC,KAAKrB,EAAS,kBAAmBiB,EAAU,CACjEK,QAAS,CACPC,OAAQ,mBACR,eAAgB,uBAGJC,KAAKgD,QACrB/E,EAAW0B,EACb,CAAE,MAAOO,GAEHA,EAAIC,WACGD,EAAIE,QACbC,QAAQC,MAAM,gBAAiBJ,EAAIE,SAEnCC,QAAQC,MAAM,iBAAkBJ,EAAIK,SAExC,GAEI8B,EAAmBY,IACvBnE,EAAUmE,GACVlC,GAAkB,EAAK,EAEnBmC,EAAcA,KAClBvC,GAAQ,EAAM,EA+BhB,OACEoB,EAAAA,EAAAA,MAAAF,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAAE,UACEC,EAAAA,EAAAA,MAAA,OAAKV,UAAU,iCAAgCS,SAAA,EAC7CF,EAAAA,EAAAA,KAACuB,EAAAA,EAAO,KACRpB,EAAAA,EAAAA,MAAA,OAAKV,UAAU,iCAAgCS,SAAA,EAC7CF,EAAAA,EAAAA,KAACwB,EAAAA,EAAM,KACPxB,EAAAA,EAAAA,KAAA,WAASP,UAAU,mBAAkBS,UACnCF,EAAAA,EAAAA,KAAA,OAAKP,UAAU,eAAcS,UAC3BF,EAAAA,EAAAA,KAAA,OAAKP,UAAU,WAAUS,UACvBF,EAAAA,EAAAA,KAAA,OAAKP,UAAU,SAAQS,UACrBC,EAAAA,EAAAA,MAAA,OAAKV,UAAU,WAAUS,SAAA,CACtBtB,IACCoB,EAAAA,EAAAA,KAACyB,EAAAA,EAAY,CACX9C,QAASC,EACT8C,QAASA,IAAM7C,EAAkB,OAGrCsB,EAAAA,EAAAA,MAAA,OAAKV,UAAU,sCAAqCS,SAAA,EAClDF,EAAAA,EAAAA,KAAA,MAAIP,UAAU,OAAMS,SAAC,mBACrBC,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CACHC,GAAG,uCACHZ,UAAU,kBAAiBS,SAAA,CAC5B,aACUF,EAAAA,EAAAA,KAAC2B,EAAAA,IAAM,WAGpB3B,EAAAA,EAAAA,KAAA,OAAKP,UAAU,6CAA4CS,UACzDC,EAAAA,EAAAA,MAAA,OAAKyB,MAAM,aAAY1B,SAAA,EACrBF,EAAAA,EAAAA,KAAA,SACEa,KAAK,OACLgB,YAAY,YACZC,MAAOjF,EACPkF,SAAWC,GAAMlF,EAAekF,EAAEC,OAAOH,UAE3C9B,EAAAA,EAAAA,KAAA,QAAM4B,MAAM,cAAa1B,UACvBF,EAAAA,EAAAA,KAAA,OACEkC,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRC,OAAO,eAAcnC,UAErBF,EAAAA,EAAAA,KAAA,QACE,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbsC,EAAE,kEAMZtC,EAAAA,EAAAA,KAACuC,EAAAA,GAAS,CACRnD,QAASA,EACThB,KAAMjB,EACNqF,YAAU,EACVC,kBAAgB,EAChBC,SAAO,EACPC,YAAU,EACVC,iBACE5C,EAAAA,EAAAA,KAAA,OAAKP,UAAU,cAAaS,UAC1BF,EAAAA,EAAAA,KAAA,QAAAE,SAAM,6CAY5BC,EAAAA,EAAAA,MAAC0C,EAAAA,EAAK,CAAC/D,KAAMA,EAAMgE,OAAQxB,EAAYpB,SAAA,EACrCF,EAAAA,EAAAA,KAAC6C,EAAAA,EAAME,OAAM,CAACC,aAAW,EAAA9C,UACvBF,EAAAA,EAAAA,KAAC6C,EAAAA,EAAMI,MAAK,CAAA/C,SAAC,wBAEfF,EAAAA,EAAAA,KAAC6C,EAAAA,EAAMK,KAAI,CAAAhD,UACTF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,oDAELC,EAAAA,EAAAA,MAAC0C,EAAAA,EAAMM,OAAM,CAAAjD,SAAA,EACXF,EAAAA,EAAAA,KAACoD,EAAAA,EAAM,CAACC,QAAQ,YAAY7C,QAASc,EAAYpB,SAAC,YAGlDF,EAAAA,EAAAA,KAACoD,EAAAA,EAAM,CAACC,QAAQ,SAAS7C,QAjHL5C,UAC1B,IAAIC,EAAW,CACb8C,GAAI3B,GAEN,IAOE,IAAIjB,SANcC,EAAAA,EAAMC,KAAKrB,EAAS,qBAAsBiB,EAAU,CACpEK,QAAS,CACPC,OAAQ,mBACR,eAAgB,uBAGJC,KAChBW,GAAQ,GACRoC,IACAtC,EAAkBd,EAAMY,SACxB2E,YAAW,KACTzE,EAAkB,GAAG,GACpB,KACL,CAAE,MAAOP,GAEHA,EAAIC,WACGD,EAAIE,QACbC,QAAQC,MAAM,gBAAiBJ,EAAIE,SAEnCC,QAAQC,MAAM,iBAAkBJ,EAAIK,SAExC,GAuF4DuB,SAAC,yBAK1DhB,IACCc,EAAAA,EAAAA,KAACuD,EAAAA,EAAmB,CAClB7B,QAASA,IAAMvC,GAAkB,GACjCqE,OAAQvG,EACRwG,cA9FcA,WAmGxB,C","sources":["pages/Admin/Setting/AdminDiscountCode.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Sidebar from \"../../../components/Admin/Sidebar\";\r\nimport TopBar from \"../../../components/Admin//TopBar\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { FaPlus } from \"react-icons/fa6\";\r\nimport { Modal, Button } from \"react-bootstrap\";\r\nimport {\r\n  FaEye,\r\n  FaTrashAlt,\r\n  FaEdit,\r\n  FaShareAlt,\r\n  FaGift,\r\n  FaCode,\r\n  FaTags,\r\n  FaUserCheck,\r\n} from \"react-icons/fa\";\r\nimport SuccessAlert from \"../../../components/Admin/SuccessAlert\";\r\nimport CompanyShareReferal from \"../../../components/Admin/popup/CompanyShareReferal\";\r\nfunction AdminDiscountCode() {\r\n  const navigate = useNavigate();\r\n  const [records, setRecords] = useState([]);\r\n  const [getDataroompay, setgetDataroompay] = useState(\"\");\r\n  useEffect(() => {\r\n    document.title = \"Discount Code - Admin\";\r\n  }, []);\r\n  const apiUrl = \"https://blueprintcatalyst.com/api/admin/module/\";\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [DiscountCode, setDiscountCode] = useState([]);\r\n  const [CodeId, setCodeId] = useState(\"\");\r\n  // Define filtered data based on the search query\r\n  const filteredRecords = records.filter((record) =>\r\n    Object.values(record)\r\n      .join(\" \")\r\n      .toLowerCase()\r\n      .includes(searchQuery.toLowerCase())\r\n  );\r\n  useEffect(() => {\r\n    getDataroompayment();\r\n  }, []);\r\n  const getDataroompayment = async () => {\r\n    let formData = {\r\n      user_id: \"\",\r\n    };\r\n    try {\r\n      const res = await axios.post(apiUrl + \"getDataroompayment\", formData, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\r\n        },\r\n      });\r\n      var respo = res.data.row;\r\n      setgetDataroompay(respo[0]);\r\n    } catch (err) {\r\n      // Enhanced error handling\r\n      if (err.response) {\r\n      } else if (err.request) {\r\n        console.error(\"Request data:\", err.request);\r\n      } else {\r\n        console.error(\"Error message:\", err.message);\r\n      }\r\n    }\r\n  };\r\n  const [successMessage, setsuccessMessage] = useState(\"\");\r\n  const [show, setShow] = useState(false);\r\n  const [Deleteid, setDeleteid] = useState(\"\");\r\n  const [SharedDiscount, setSharedDiscount] = useState(false);\r\n  const handleDelete = async (id) => {\r\n    setDeleteid(id);\r\n    setShow(true);\r\n  };\r\n  const columns = [\r\n    {\r\n      name: \"Referral Code\",\r\n      selector: (row) => row.code,\r\n      sortable: true,\r\n      className: \"age\",\r\n    },\r\n\r\n    {\r\n      name: \"Discount\",\r\n      selector: (row) => row.percentage + \"%\",\r\n      sortable: true,\r\n      className: \"age\",\r\n    },\r\n\r\n    {\r\n      name: \"Status\",\r\n      selector: (row) => row.status,\r\n      sortable: true,\r\n      className: \"age\",\r\n    },\r\n    {\r\n      name: \"Share\",\r\n      selector: (row) => row.shared,\r\n      sortable: true,\r\n      className: \"age\",\r\n    },\r\n    {\r\n      name: \"Use Limit\",\r\n      selector: (row) => row.usage_limit,\r\n      sortable: true,\r\n      className: \"age\",\r\n    },\r\n    {\r\n      name: \"Used Count\",\r\n      selector: (row) => row.used_count,\r\n      sortable: true,\r\n      className: \"age\",\r\n    },\r\n    {\r\n      name: \"Action\",\r\n      cell: (row) => (\r\n        <>\r\n          <div className=\"d-flex align-items-center gap-2\">\r\n            <Link\r\n              className=\" fs-5\"\r\n              to={`/admin/setting/referralcodes/${row.code}`}\r\n              title=\"Referral Codes\"\r\n            >\r\n              <FaGift />\r\n            </Link>\r\n            <Link\r\n              className=\" fs-5\"\r\n              to={`/admin/setting/referralusage/${row.code}`}\r\n              title=\"Referral Usage\"\r\n            >\r\n              <FaUserCheck />\r\n            </Link>\r\n            <Link\r\n              className=\" fs-5\"\r\n              to=\"javascript:void(0)\"\r\n              onClick={() => handleShareCode(row.code)}\r\n              title=\"Share\"\r\n            >\r\n              <FaShareAlt />\r\n            </Link>\r\n            <Link\r\n              className=\" fs-5\"\r\n              to={`/admin/setting/discountCode/edit/${row.id}`}\r\n              title=\"Edit\"\r\n            >\r\n              <FaEdit />\r\n            </Link>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => handleDelete(row.id)}\r\n              className=\"dataedit_btn text-danger border-0 fs-5\"\r\n              title=\"Delete\"\r\n            >\r\n              <FaTrashAlt />\r\n            </button>\r\n          </div>\r\n        </>\r\n      ),\r\n      ignoreRowClick: true,\r\n      allowOverflow: true,\r\n      button: true,\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getdiscountCode();\r\n  }, []);\r\n  const getdiscountCode = async () => {\r\n    let formData = {\r\n      user_id: \"\",\r\n    };\r\n    try {\r\n      const res = await axios.post(apiUrl + \"getdiscountCode\", formData, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\r\n        },\r\n      });\r\n      var respo = res.data.results;\r\n      setRecords(respo);\r\n    } catch (err) {\r\n      // Enhanced error handling\r\n      if (err.response) {\r\n      } else if (err.request) {\r\n        console.error(\"Request data:\", err.request);\r\n      } else {\r\n        console.error(\"Error message:\", err.message);\r\n      }\r\n    }\r\n  };\r\n  const handleShareCode = (cod) => {\r\n    setCodeId(cod);\r\n    setSharedDiscount(true);\r\n  };\r\n  const handleClose = () => {\r\n    setShow(false);\r\n  };\r\n  const handleConfirmDelete = async () => {\r\n    let formData = {\r\n      id: Deleteid,\r\n    };\r\n    try {\r\n      const res = await axios.post(apiUrl + \"deletediscountcode\", formData, {\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\", // Ensure the content type is JSON\r\n        },\r\n      });\r\n      var respo = res.data;\r\n      setShow(false);\r\n      getdiscountCode();\r\n      setsuccessMessage(respo.message);\r\n      setTimeout(() => {\r\n        setsuccessMessage(\"\");\r\n      }, 1200); // 3\r\n    } catch (err) {\r\n      // Enhanced error handling\r\n      if (err.response) {\r\n      } else if (err.request) {\r\n        console.error(\"Request data:\", err.request);\r\n      } else {\r\n        console.error(\"Error message:\", err.message);\r\n      }\r\n    }\r\n  };\r\n  const returnrefresh = () => {};\r\n  return (\r\n    <>\r\n      <div>\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <Sidebar />\r\n          <div className=\"d-flex flex-column gap-0 w-100\">\r\n            <TopBar />\r\n            <section className=\"dashboard_adminh\">\r\n              <div className=\"container-xl\">\r\n                <div className=\"row gy-4\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card p-4\">\r\n                      {successMessage && (\r\n                        <SuccessAlert\r\n                          message={successMessage}\r\n                          onClose={() => setsuccessMessage(\"\")}\r\n                        />\r\n                      )}\r\n                      <div className=\"d-flex justify-content-between mb-3\">\r\n                        <h5 className=\"mb-3\">Discount Code</h5>\r\n                        <Link\r\n                          to=\"/admin/setting/createpaymentdiscount\"\r\n                          className=\"btn btn-primary\"\r\n                        >\r\n                          Add Code <FaPlus />\r\n                        </Link>\r\n                      </div>\r\n                      <div className=\"d-flex justify-content-end align-items-end\">\r\n                        <div class=\"search-bar\">\r\n                          <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search...\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => setSearchQuery(e.target.value)}\r\n                          />\r\n                          <span class=\"search-icon\">\r\n                            <svg\r\n                              xmlns=\"http://www.w3.org/2000/svg\"\r\n                              fill=\"none\"\r\n                              viewBox=\"0 0 24 24\"\r\n                              stroke=\"currentColor\"\r\n                            >\r\n                              <path\r\n                                stroke-linecap=\"round\"\r\n                                stroke-linejoin=\"round\"\r\n                                stroke-width=\"2\"\r\n                                d=\"M21 21l-4.35-4.35M17 11a6 6 0 11-12 0 6 6 0 0112 0z\"\r\n                              />\r\n                            </svg>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                      <DataTable\r\n                        columns={columns}\r\n                        data={filteredRecords}\r\n                        pagination\r\n                        highlightOnHover\r\n                        striped\r\n                        responsive\r\n                        noDataComponent={\r\n                          <div className=\"text-center\">\r\n                            <span>No results found</span>\r\n                          </div>\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Confirm Deletion</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>Are you sure you want to delete this record?</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"danger\" onClick={handleConfirmDelete}>\r\n            Confirm Delete\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      {SharedDiscount && (\r\n        <CompanyShareReferal\r\n          onClose={() => setSharedDiscount(false)}\r\n          codeid={CodeId}\r\n          returnrefresh={returnrefresh}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminDiscountCode;\r\n"],"names":["useNavigate","records","setRecords","useState","getDataroompay","setgetDataroompay","useEffect","document","title","apiUrl","searchQuery","setSearchQuery","DiscountCode","setDiscountCode","CodeId","setCodeId","filteredRecords","filter","record","Object","values","join","toLowerCase","includes","getDataroompayment","async","formData","user_id","respo","axios","post","headers","Accept","data","row","err","response","request","console","error","message","successMessage","setsuccessMessage","show","setShow","Deleteid","setDeleteid","SharedDiscount","setSharedDiscount","columns","name","selector","code","sortable","className","percentage","status","shared","usage_limit","used_count","cell","_jsx","_Fragment","children","_jsxs","Link","to","FaGift","FaUserCheck","onClick","handleShareCode","FaShareAlt","id","FaEdit","type","handleDelete","FaTrashAlt","ignoreRowClick","allowOverflow","button","getdiscountCode","results","cod","handleClose","Sidebar","TopBar","SuccessAlert","onClose","FaPlus","class","placeholder","value","onChange","e","target","xmlns","fill","viewBox","stroke","d","DataTable","pagination","highlightOnHover","striped","responsive","noDataComponent","Modal","onHide","Header","closeButton","Title","Body","Footer","Button","variant","setTimeout","CompanyShareReferal","codeid","returnrefresh"],"sourceRoot":""}