{"version":3,"file":"static/js/1929.495705e3.chunk.js","mappings":"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","sources":["pages/User/Investor/RecordRoundCaptable.jsx","../node_modules/react-chartjs-2/src/utils.ts","../node_modules/react-chartjs-2/src/chart.tsx","../node_modules/react-chartjs-2/src/typedCharts.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n} from 'chart.js';\r\n\r\n// âœ… Register all required components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n);\r\n\r\nexport default function RecordRoundCaptable() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  // Move API URL outside to prevent recreation on every render\r\n  const API_URL_CAPTABLE = `${API_BASE_URL}api/user/capitalround/`;\r\n\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [capTableData, setCapTableData] = useState({\r\n    pre_money: { items: [], totals: {} },\r\n    post_money: { items: [], totals: {} }\r\n  });\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [pendingConversions, setPendingConversions] = useState([]);\r\n  const [calculations, setCalculations] = useState({});\r\n\r\n  // Chart states\r\n  const [preMoneyChartData, setPreMoneyChartData] = useState(null);\r\n  const [postMoneyChartData, setPostMoneyChartData] = useState(null);\r\n  const [ownershipChartData, setOwnershipChartData] = useState(null);\r\n\r\n  const [activeTab, setActiveTab] = useState(\"pre-money\");\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  // Simple formatCurrency function (no useCallback needed as it doesn't cause re-renders)\r\n  const formatCurrency = (amount, currency = 'USD') => {\r\n    if (!amount && amount !== 0) return '$0.00';\r\n\r\n    try {\r\n      // Clean up the currency code\r\n      let cleanCurrency = 'USD';\r\n      if (currency) {\r\n        // Extract just the currency code (first 3 letters)\r\n        const match = currency.toString().match(/[A-Z]{3}/);\r\n        cleanCurrency = match ? match[0] : 'USD';\r\n      }\r\n\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: cleanCurrency,\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      }).format(parseFloat(amount));\r\n    } catch (error) {\r\n      // Fallback formatting\r\n      const cleanCurrency = currency ? currency.toString().replace(/[^A-Z]/gi, '').substring(0, 3) : 'USD';\r\n      return `${cleanCurrency} ${parseFloat(amount || 0).toFixed(2)}`;\r\n    }\r\n  };\r\n  const formatCurrencyNotRound = (amount, currency = 'USD') => {\r\n    if (amount === null || amount === undefined) return '$0.00';\r\n\r\n    try {\r\n      // Clean up the currency code\r\n      let cleanCurrency = 'USD';\r\n      if (currency) {\r\n        const match = currency.toString().match(/[A-Z]{3}/);\r\n        cleanCurrency = match ? match[0] : 'USD';\r\n      }\r\n\r\n      // Determine number of decimal places dynamically\r\n      const decimals = Math.max(\r\n        2,\r\n        (amount.toString().split('.')[1] || '').length\r\n      );\r\n\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: cleanCurrency,\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: decimals > 6 ? 6 : decimals // limit max to 6 for sanity\r\n      }).format(parseFloat(amount));\r\n    } catch (error) {\r\n      const cleanCurrency = currency\r\n        ? currency.toString().replace(/[^A-Z]/gi, '').substring(0, 3)\r\n        : 'USD';\r\n      return `${cleanCurrency} ${parseFloat(amount || 0).toFixed(6)}`;\r\n    }\r\n  };\r\n\r\n\r\n  // Simple format functions\r\n  const formatPercentage = (value) => {\r\n    if (!value && value !== 0) return '0.00%';\r\n    return `${parseFloat(value).toFixed(2)}%`;\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    if (!num && num !== 0) return '0';\r\n    return new Intl.NumberFormat('en-US').format(num);\r\n  };\r\n\r\n  // Data fetching function\r\n  const getCapTableData = useCallback(async () => {\r\n    if (!id || !userLogin) {\r\n      setError(\"Missing required parameters\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        const capTable = res.data.cap_table || {\r\n          pre_money: { items: [], totals: {} },\r\n          post_money: { items: [], totals: {} }\r\n        };\r\n        console.log(capTable)\r\n        setCapTableData(capTable);\r\n        setRoundData(res.data.round || null);\r\n        setPendingConversions(res.data.pending_conversions || []);\r\n        setCalculations(res.data.calculations || {});\r\n\r\n        // Prepare chart data\r\n        if (capTable?.pre_money?.items?.length > 0) {\r\n          const preMoneyData = {\r\n            labels: capTable.pre_money.items.map(item => item.name),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.pre_money.items.map(item => item.shares),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPreMoneyChartData(preMoneyData);\r\n        }\r\n\r\n        if (capTable?.post_money?.items?.length > 0) {\r\n          const postMoneyData = {\r\n            labels: capTable.post_money.items.map(item => item.name),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.post_money.items.map(item => item.shares),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPostMoneyChartData(postMoneyData);\r\n        }\r\n\r\n        if (capTable?.pre_money && capTable?.post_money) {\r\n          const allHolders = [...new Set([\r\n            ...(capTable.pre_money.items || []).map(item => item.name),\r\n            ...(capTable.post_money.items || []).map(item => item.name)\r\n          ])];\r\n\r\n          const ownershipData = {\r\n            labels: allHolders,\r\n            datasets: [\r\n              {\r\n                label: 'Pre-Money Ownership %',\r\n                data: allHolders.map(holder => {\r\n                  const item = (capTable.pre_money.items || []).find(i => i.name === holder);\r\n                  return item ? parseFloat(item.percentage) : 0;\r\n                }),\r\n                backgroundColor: 'rgba(54, 162, 235, 0.6)',\r\n                borderColor: 'rgba(54, 162, 235, 1)',\r\n                borderWidth: 1\r\n              },\r\n              {\r\n                label: 'Post-Money Ownership %',\r\n                data: allHolders.map(holder => {\r\n                  const item = (capTable.post_money.items || []).find(i => i.name === holder);\r\n                  return item ? parseFloat(item.percentage) : 0;\r\n                }),\r\n                backgroundColor: 'rgba(255, 99, 132, 0.6)',\r\n                borderColor: 'rgba(255, 99, 132, 1)',\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setOwnershipChartData(ownershipData);\r\n        }\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"API Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, userLogin, API_URL_CAPTABLE]); // Fixed dependencies\r\n\r\n  useEffect(() => {\r\n\r\n    getCapTableData();\r\n\r\n  }, []);\r\n\r\n  // Render loading state\r\n  if (loading) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav\r\n              isCollapsed={isCollapsed}\r\n              setIsCollapsed={setIsCollapsed}\r\n            />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"text-center py-5\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <p className=\"mt-3\">Loading Cap Table Data...</p>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  // Render error state\r\n  if (error && !roundData) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav\r\n              isCollapsed={isCollapsed}\r\n              setIsCollapsed={setIsCollapsed}\r\n            />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"alert alert-danger\">\r\n                  <h5>Error Loading Cap Table</h5>\r\n                  <p>{error}</p>\r\n                  <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>\r\n                    Go Back\r\n                  </button>\r\n                  <button className=\"btn btn-secondary ms-2\" onClick={getCapTableData}>\r\n                    Try Again\r\n                  </button>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n\r\n              {/* Error Message */}\r\n              {error && (\r\n                <div className=\"alert alert-danger mb-4\">\r\n                  <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Round Header */}\r\n              {roundData && (\r\n                <div className=\"card mb-4\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h4 className=\"mb-0\">Round: {roundData.name}</h4>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Type:</strong> {roundData.instrument}</p>\r\n                        <p><strong>Status:</strong>\r\n                          <span className={`badge ${roundData.status === 'CLOSED' ? 'bg-success' : 'bg-warning'} ms-2`}>\r\n                            {roundData.status || 'ACTIVE'}\r\n                          </span>\r\n                        </p>\r\n                        <p><strong>Date:</strong> {roundData.date || 'Not specified'}</p>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Pre-Money:</strong> {formatCurrency(roundData.pre_money, roundData.currency)}</p>\r\n                        <p><strong>Investment:</strong> {formatCurrency(roundData.investment, roundData.currency)}</p>\r\n                        <p><strong>Post-Money:</strong> {formatCurrency(roundData.post_money, roundData.currency)}</p>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Share Price:</strong> {formatCurrencyNotRound(roundData.share_price, roundData.currency)}</p>\r\n                        <p><strong>Issued Shares:</strong> {formatNumber(roundData.issued_shares)}</p>\r\n                        <p><strong>Option Pool: </strong>{(() => {\r\n                          // Calculate actual option pool percentage from cap table\r\n                          const actualOptionPoolPercent = capTableData.post_money.totals.total_option_pool > 0\r\n                            ? ((capTableData.post_money.totals.total_option_pool / capTableData.post_money.totals.total_shares) * 100)\r\n                            : 0;\r\n\r\n                          // Display based on instrument type\r\n                          if (roundData?.instrument === 'Preferred Equity' || roundData?.instrument === 'Common Stock') {\r\n                            // For Preferred/Common: Show POST-MONEY option pool target\r\n                            const targetPercent = parseFloat(roundData.optionPoolPercent_post) || 0;\r\n                            return formatPercentage(targetPercent > 0 ? targetPercent : actualOptionPoolPercent);\r\n                          } else {\r\n                            // For SAFE/Convertible Note/Round 0: Show PRE-MONEY option pool\r\n                            const targetPercent = parseFloat(roundData.optionPoolPercent) || 0;\r\n                            return formatPercentage(targetPercent > 0 ? targetPercent : actualOptionPoolPercent);\r\n                          }\r\n                        })()}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Tab Navigation */}\r\n              <div className=\"mb-4\">\r\n                <ul className=\"nav nav-tabs gap-1\">\r\n                  <li className=\"nav-item bg-primary\">\r\n                    <button\r\n                      className={`nav-link text-white backcolor ${activeTab === 'pre-money' ? 'active' : ''}`}\r\n                      onClick={() => setActiveTab('pre-money')}\r\n                    >\r\n                      Pre-Money Cap Table\r\n                    </button>\r\n                  </li>\r\n                  {capTableData.post_money && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'post-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('post-money')}\r\n                      >\r\n                        Post-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  <li className=\"nav-item bg-primary\">\r\n                    <button\r\n                      className={`nav-link text-white backcolor ${activeTab === 'charts' ? 'active' : ''}`}\r\n                      onClick={() => setActiveTab('charts')}\r\n                    >\r\n                      Charts & Analysis\r\n                    </button>\r\n                  </li>\r\n                  {pendingConversions.length > 0 && (\r\n                    <li className=\"nav-item bg-primary \">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'pending' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pending')}\r\n                      >\r\n                        Pending Conversions\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Pre-Money Cap Table */}\r\n              {activeTab === 'pre-money' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">Pre-Money Capitalization Table</h5>\r\n                    <small className=\"text-muted\">Share ownership before this round's investment</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    {capTableData.pre_money.items.length === 0 ? (\r\n                      <div className=\"text-center py-4\">\r\n                        <p className=\"text-muted\">No pre-money cap table data available</p>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-striped table-hover\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>Shareholder</th>\r\n                                <th className=\"text-end\">Shares</th>\r\n                                <th className=\"text-end\">Ownership %</th>\r\n                                <th className=\"text-end\">Investment</th>\r\n                                <th className=\"text-end\">Share Price</th>\r\n                                <th>Round</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              {capTableData.pre_money.items.map((item, index) => (\r\n                                <tr key={index}>\r\n                                  <td>\r\n                                    <span className={`badge ${item.type === 'founder' ? 'bg-info' :\r\n                                      item.type === 'investor' ? 'bg-success' :\r\n                                        'bg-warning'\r\n                                      } me-2`}>\r\n                                      {item.type === 'founder' ? 'F' :\r\n                                        item.type === 'investor' ? 'I' : 'O'}\r\n                                    </span>\r\n                                    {item.name}\r\n                                  </td>\r\n                                  <td className=\"text-end\">{formatNumber(item.shares)}</td>\r\n                                  <td className=\"text-end\">{formatPercentage(item.percentage)}</td>\r\n                                  <td className=\"text-end\">{formatCurrency(item.investment, roundData?.currency)}</td>\r\n                                  <td className=\"text-end\">{formatCurrency(item.share_price, roundData?.currency)}</td>\r\n                                  <td>{item.round_name}</td>\r\n                                </tr>\r\n                              ))}\r\n                            </tbody>\r\n                            <tfoot className=\"table-light\">\r\n                              <tr>\r\n                                <th>TOTAL</th>\r\n                                <th className=\"text-end\">{formatNumber(capTableData.pre_money.totals.total_shares)}</th>\r\n                                <th className=\"text-end\">100%</th>\r\n                                <th className=\"text-end\">\r\n                                  {formatCurrency(\r\n                                    capTableData.pre_money.items.reduce((sum, item) => sum + (item.investment || 0), 0),\r\n                                    roundData?.currency\r\n                                  )}\r\n                                </th>\r\n                                <th></th>\r\n                                <th></th>\r\n                              </tr>\r\n                            </tfoot>\r\n                          </table>\r\n                        </div>\r\n\r\n                        {/* Pre-Money Summary */}\r\n                        <div className=\"row mt-4\">\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"card bg-light\">\r\n                              <div className=\"card-body\">\r\n                                <h6 className=\"card-subtitle mb-2 text-muted\">Founders</h6>\r\n                                <h4 className=\"card-title\">{formatNumber(capTableData.pre_money.totals.total_founders)}</h4>\r\n                                <p className=\"card-text\">\r\n                                  {formatPercentage(\r\n                                    (capTableData.pre_money.totals.total_founders /\r\n                                      capTableData.pre_money.totals.total_shares) * 100\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"card bg-light\">\r\n                              <div className=\"card-body\">\r\n                                <h6 className=\"card-subtitle mb-2 text-muted\">Investors</h6>\r\n                                <h4 className=\"card-title\">{formatNumber(capTableData.pre_money.totals.total_investors)}</h4>\r\n                                <p className=\"card-text\">\r\n                                  {formatPercentage(\r\n                                    (capTableData.pre_money.totals.total_investors /\r\n                                      capTableData.pre_money.totals.total_shares) * 100\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"card bg-light\">\r\n                              <div className=\"card-body\">\r\n                                <h6 className=\"card-subtitle mb-2 text-muted\">Option Pool</h6>\r\n                                <h4 className=\"card-title\">{formatNumber(capTableData.pre_money.totals.total_option_pool)}</h4>\r\n                                <p className=\"card-text\">\r\n                                  {formatPercentage(\r\n                                    (capTableData.pre_money.totals.total_option_pool /\r\n                                      capTableData.pre_money.totals.total_shares) * 100\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Post-Money Cap Table */}\r\n              {activeTab === 'post-money' && capTableData.post_money && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">Post-Money Capitalization Table</h5>\r\n                    <small className=\"text-muted\">Share ownership after this round's investment</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-end\">Shares</th>\r\n                            <th className=\"text-end\">New Shares</th> {/* New column added */}\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Investment</th>\r\n                            <th className=\"text-end\">Share Price</th>\r\n                            <th>Round</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.post_money.items.map((item, index) => (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <span className={`badge ${item.type === 'founder' ? 'bg-info' :\r\n                                  item.type === 'investor' ? 'bg-success' :\r\n                                    'bg-warning'\r\n                                  } me-2`}>\r\n                                  {item.type === 'founder' ? 'F' :\r\n                                    item.type === 'investor' ? 'I' : 'O'}\r\n                                </span>\r\n                                {item.name}\r\n                              </td>\r\n                              <td className=\"text-end\">{formatNumber(item.shares)}</td>\r\n                              <td className=\"text-end\">\r\n                                {/* Display new shares, highlight if > 0 */}\r\n                                {item.new_shares > 0 ? (\r\n                                  <span className=\"badge bg-success\">\r\n                                    +{formatNumber(item.new_shares)}\r\n                                  </span>\r\n                                ) : (\r\n                                  <span className=\"text-muted\">{formatNumber(item.new_shares || 0)}</span>\r\n                                )}\r\n                              </td>\r\n                              <td className=\"text-end\">{formatPercentage(item.percentage)}</td>\r\n                              <td className=\"text-end\">{formatCurrency(item.investment, roundData?.currency)}</td>\r\n                              <td className=\"text-end\">{formatCurrencyNotRound(item.share_price, roundData?.currency)}</td>\r\n                              <td>{item.round_name}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th>TOTAL</th>\r\n                            <th className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_shares)}</th>\r\n                            <th className=\"text-end\">\r\n                              {/* Display total new shares */}\r\n                              <span className=\"badge bg-success\">\r\n                                +{formatNumber(capTableData.post_money.totals.total_new_shares || 0)}\r\n                              </span>\r\n                            </th>\r\n                            <th className=\"text-end\">100%</th>\r\n                            <th className=\"text-end\">\r\n                              {formatCurrency(\r\n                                capTableData.post_money.items.reduce((sum, item) => sum + (item.investment || 0), 0),\r\n                                roundData?.currency\r\n                              )}\r\n                            </th>\r\n                            <th></th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Post-Money Summary - Updated to include New Shares */}\r\n                    <div className=\"row mt-4\">\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"card bg-success text-white\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2\">Total Shares</h6>\r\n                            <h4 className=\"card-title\">{formatNumber(capTableData.post_money.totals.total_shares)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-3\">\r\n                        <div className=\"card bg-primary text-white\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2\">New Shares</h6>\r\n                            <h4 className=\"card-title\">\r\n                              +{formatNumber(capTableData.post_money.totals.total_new_shares || 0)}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-info text-white\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2\">Founders</h6>\r\n                            <h4 className=\"card-title\">\r\n                              {formatPercentage(\r\n                                (capTableData.post_money.totals.total_founders /\r\n                                  capTableData.post_money.totals.total_shares) * 100\r\n                              )}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-warning text-white\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2\">Investors</h6>\r\n                            <h4 className=\"card-title\">\r\n                              {formatPercentage(\r\n                                (capTableData.post_money.totals.total_investors /\r\n                                  capTableData.post_money.totals.total_shares) * 100\r\n                              )}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-secondary text-white\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2\">Option Pool</h6>\r\n                            <h4 className=\"card-title\">\r\n                              {formatPercentage(\r\n                                (capTableData.post_money.totals.total_option_pool /\r\n                                  capTableData.post_money.totals.total_shares) * 100\r\n                              )}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Charts Tab */}\r\n              {activeTab === 'charts' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">Charts & Analysis</h5>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      {/* Pre-Money Pie Chart */}\r\n                      {preMoneyChartData && (\r\n                        <div className=\"col-md-6 mb-4\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-header\">\r\n                              <h6 className=\"mb-0\">Pre-Money Ownership Distribution</h6>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                              <Pie data={preMoneyChartData} options={{\r\n                                responsive: true,\r\n                                plugins: {\r\n                                  legend: {\r\n                                    position: 'bottom'\r\n                                  }\r\n                                }\r\n                              }} />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Post-Money Pie Chart */}\r\n                      {postMoneyChartData && (\r\n                        <div className=\"col-md-6 mb-4\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-header\">\r\n                              <h6 className=\"mb-0\">Post-Money Ownership Distribution</h6>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                              <Pie data={postMoneyChartData} options={{\r\n                                responsive: true,\r\n                                plugins: {\r\n                                  legend: {\r\n                                    position: 'bottom'\r\n                                  }\r\n                                }\r\n                              }} />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Ownership Comparison Chart */}\r\n                      {ownershipChartData && (\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-header\">\r\n                              <h6 className=\"mb-0\">Ownership Comparison (Pre vs Post)</h6>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                              <Bar data={ownershipChartData} options={{\r\n                                responsive: true,\r\n                                plugins: {\r\n                                  legend: {\r\n                                    position: 'top'\r\n                                  }\r\n                                },\r\n                                scales: {\r\n                                  y: {\r\n                                    beginAtZero: true,\r\n                                    ticks: {\r\n                                      callback: function (value) {\r\n                                        return value + '%';\r\n                                      }\r\n                                    }\r\n                                  }\r\n                                }\r\n                              }} />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Pending Conversions Tab */}\r\n              {activeTab === 'pending' && pendingConversions.length > 0 && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-warning\">\r\n                    <h5 className=\"mb-0\">Pending Conversions</h5>\r\n                    <small className=\"text-white\">SAFE/Convertible Notes waiting to convert</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Instrument</th>\r\n                            <th>Round</th>\r\n                            <th className=\"text-end\">Investment</th>\r\n                            <th className=\"text-end\">Conversion Price</th>\r\n                            <th className=\"text-end\">Potential Shares</th>\r\n                            <th>Discount</th>\r\n                            <th>Valuation Cap</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {pendingConversions.map((conv, index) => {\r\n                            // Map backend data to frontend expected structure\r\n                            const mappedConv = {\r\n                              instrument: conv.instrument_type || conv.instrument,\r\n                              round_name: conv.round_name,\r\n                              investment: conv.investment_amount || conv.investment,\r\n                              conversion_price: conv.share_price || conv.conversion_price,\r\n                              potential_shares: conv.estimated_shares || conv.potential_shares,\r\n                              discount_rate: conv.instrument_data?.discountRate_note || conv.discount_rate,\r\n                              valuation_cap: conv.instrument_data?.valuationCap_note || conv.valuation_cap\r\n                            };\r\n\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td>\r\n                                  <span className={`badge ${mappedConv.instrument === 'Safe' ? 'bg-primary' : 'bg-info'}`}>\r\n                                    {mappedConv.instrument}\r\n                                  </span>\r\n                                </td>\r\n                                <td>{mappedConv.round_name}</td>\r\n                                <td className=\"text-end\">{formatCurrency(mappedConv.investment, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrency(mappedConv.conversion_price, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatNumber(mappedConv.potential_shares)}</td>\r\n                                <td>{mappedConv.discount_rate}%</td>\r\n                                <td>{formatCurrency(mappedConv.valuation_cap, roundData?.currency)}</td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th colSpan=\"3\">TOTAL POTENTIAL SHARES</th>\r\n                            <th></th>\r\n                            <th className=\"text-end\">\r\n                              {formatNumber(pendingConversions.reduce((sum, conv) =>\r\n                                sum + ((conv.estimated_shares || conv.potential_shares) || 0), 0))}\r\n                            </th>\r\n                            <th></th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                    {/* ... same footer ... */}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Calculations Summary */}\r\n              {/* Round Header - ADD INSTRUMENT DETAILS */}\r\n              {roundData && (\r\n                <div className=\"card mb-4\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h4 className=\"mb-0\">Round: {roundData.name}</h4>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Type:</strong> {roundData.instrument}</p>\r\n                        <p><strong>Status:</strong>\r\n                          <span className={`badge ${roundData.status === 'CLOSED' ? 'bg-success' : 'bg-warning'} ms-2`}>\r\n                            {roundData.status || 'ACTIVE'}\r\n                          </span>\r\n                        </p>\r\n                        <p><strong>Date:</strong> {roundData.date || 'Not specified'}</p>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Pre-Money:</strong> {formatCurrency(roundData.pre_money, roundData.currency)}</p>\r\n                        <p><strong>Investment:</strong> {formatCurrency(roundData.investment, roundData.currency)}</p>\r\n                        <p><strong>Post-Money:</strong> {formatCurrency(roundData.post_money, roundData.currency)}</p>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Share Price:</strong> {formatCurrencyNotRound(roundData.share_price, roundData.currency)}</p>\r\n                        <p><strong>Issued Shares:</strong> {formatNumber(roundData.issued_shares)}</p>\r\n                        <p><strong>Option Pool: </strong>{(() => {\r\n                          // Calculate actual option pool percentage from cap table\r\n                          const actualOptionPoolPercent = capTableData.post_money.totals.total_option_pool > 0\r\n                            ? ((capTableData.post_money.totals.total_option_pool / capTableData.post_money.totals.total_shares) * 100)\r\n                            : 0;\r\n\r\n                          // Display based on instrument type\r\n                          if (roundData?.instrument === 'Preferred Equity' || roundData?.instrument === 'Common Stock') {\r\n                            // For Preferred/Common: Show POST-MONEY option pool target\r\n                            const targetPercent = parseFloat(roundData.optionPoolPercent_post) || 0;\r\n                            return formatPercentage(targetPercent > 0 ? targetPercent : actualOptionPoolPercent);\r\n                          } else {\r\n                            // For SAFE/Convertible Note/Round 0: Show PRE-MONEY option pool\r\n                            const targetPercent = parseFloat(roundData.optionPoolPercent) || 0;\r\n                            return formatPercentage(targetPercent > 0 ? targetPercent : actualOptionPoolPercent);\r\n                          }\r\n                        })()}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* âœ… NEW: Instrument-Specific Details */}\r\n                    {roundData.instrument_details && (\r\n                      <div className=\"mt-4\">\r\n                        <h6 className=\"border-bottom pb-2\">Instrument Details</h6>\r\n                        <div className=\"row mt-3\">\r\n\r\n                          {/* Preferred Equity Details */}\r\n                          {roundData.instrument === 'Preferred Equity' && (\r\n                            <>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Liquidation Preference</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.liquidation_preference_multiple}</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Participation</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.participation}</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Anti-Dilution</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.anti_dilution}</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Dividend Rate</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.dividend_rate}%</strong></p>\r\n                              </div>\r\n                            </>\r\n                          )}\r\n\r\n\r\n                          {/* SAFE Details */}\r\n                          {roundData.instrument === 'Safe' && (\r\n                            <>\r\n                              <div className=\"col-md-4\">\r\n                                <p className=\"mb-1 text-muted\"><small>Valuation Cap</small></p>\r\n                                <p className=\"mb-0\"><strong>{formatCurrency(roundData.instrument_details.valuation_cap, roundData.currency)}</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-4\">\r\n                                <p className=\"mb-1 text-muted\"><small>Discount Rate</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.discount_rate}%</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-4\">\r\n                                <p className=\"mb-1 text-muted\"><small>Pro-Rata Rights</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.pro_rata_rights ? 'Yes' : 'No'}</strong></p>\r\n                              </div>\r\n                            </>\r\n                          )}\r\n\r\n                          {/* Convertible Note Details */}\r\n                          {roundData.instrument === 'Convertible Note' && (\r\n                            <>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Principal</small></p>\r\n                                <p className=\"mb-0\"><strong>{formatCurrency(roundData.instrument_details.principal, roundData.currency)}</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Interest Rate</small></p>\r\n                                <p className=\"mb-0\"><strong>{roundData.instrument_details.interest_rate}% / year</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Accrued Interest</small></p>\r\n                                <p className=\"mb-0\"><strong>{formatCurrency(roundData.instrument_details.accrued_interest, roundData.currency)}</strong></p>\r\n                              </div>\r\n                              <div className=\"col-md-3\">\r\n                                <p className=\"mb-1 text-muted\"><small>Total with Interest</small></p>\r\n                                <p className=\"mb-0\"><strong>{formatCurrency(roundData.instrument_details.total_with_interest, roundData.currency)}</strong></p>\r\n                              </div>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* âœ… UPDATED: Calculations Summary */}\r\n              {/* Calculations Summary - ALWAYS SHOW */}\r\n              {/* Calculations Summary */}\r\n              <div className=\"card mt-4\">\r\n                <div className=\"card-header bg-light\">\r\n                  <h6 className=\"mb-0\">Valuation Summary</h6>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-3\">\r\n                      <p className=\"mb-1\"><strong>Pre-Money Valuation</strong></p>\r\n                      <h4>{formatCurrency(calculations.pre_money_valuation, roundData?.currency)}</h4>\r\n                    </div>\r\n                    {roundData?.instrument !== 'Safe' && roundData?.instrument !== 'Convertible Note' && (\r\n                      <>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1\"><strong>Post-Money Valuation</strong></p>\r\n                          <h4 className=\"text-success\">{formatCurrency(calculations.post_money_valuation, roundData?.currency)}</h4>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1\"><strong>Total Shares Outstanding</strong></p>\r\n                          <h4>{formatNumber(calculations.total_shares_outstanding)}</h4>\r\n                        </div>\r\n                        {/* <div className=\"col-md-3\">\r\n                          <p className=\"mb-1\"><strong>Fully Diluted Shares</strong></p>\r\n                          <h4>{formatNumber(calculations.fully_diluted_shares)}</h4>\r\n                        </div> */}\r\n                      </>\r\n                    )}\r\n                    {(roundData?.instrument === 'Safe' || roundData?.instrument === 'Convertible Note') && (\r\n                      <div className=\"col-md-3\">\r\n                        <p className=\"mb-1\"><strong>Investment Amount</strong></p>\r\n                        <h4 className=\"text-primary\">{formatCurrency(roundData.investment, roundData?.currency)}</h4>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {roundData?.instrument !== 'Safe' && roundData?.instrument !== 'Convertible Note' && (\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <p className=\"mb-1\"><strong>Price per Share</strong></p>\r\n                        <h5>{formatCurrencyNotRound(calculations.share_price, roundData?.currency)}</h5>\r\n                      </div>\r\n                      {/* <div className=\"col-md-6\">\r\n                        <p className=\"mb-1\"><strong>Price per Share (Fully Diluted)</strong></p>\r\n                        <h5>{formatCurrencyNotRound(calculations.price_per_share_fully_diluted, roundData?.currency)}</h5>\r\n                      </div> */}\r\n                    </div>\r\n                  )}\r\n\r\n                  {/* âœ… PREFERRED EQUITY - ONLY SHOW FOR PREFERRED ROUNDS */}\r\n                  {roundData?.instrument === 'Preferred Equity' && roundData?.instrument_details && (\r\n                    <>\r\n                      <hr className=\"my-4\" />\r\n                      <h6 className=\"mb-3\">\r\n                        <i className=\"bi bi-star-fill text-primary me-2\"></i>\r\n                        Preferred Equity Terms\r\n                      </h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Liquidation Preference</small></p>\r\n                          <h5 className=\"mb-0\">\r\n                            <span className=\"badge bg-primary\">\r\n                              {roundData.instrument_details.liquidation_preference}x\r\n                            </span>\r\n                          </h5>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Participation</small></p>\r\n                          <h6 className=\"mb-0\">{roundData.instrument_details.participation || 'Non-Participating'}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Anti-Dilution Protection</small></p>\r\n                          <h6 className=\"mb-0\">{roundData.instrument_details.anti_dilution || 'None'}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Dividend Rate</small></p>\r\n                          <h6 className=\"mb-0\">{roundData.instrument_details.dividend_rate || 0}% per year</h6>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Voting Rights</small></p>\r\n                          <h6 className=\"mb-0\">{roundData.instrument_details.voting_rights || 'Standard'}</h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Conversion Ratio</small></p>\r\n                          <h6 className=\"mb-0\">{roundData.instrument_details.conversion_ratio || 1}:1</h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Redemption Rights</small></p>\r\n                          <h6 className=\"mb-0\">{roundData.instrument_details.redemption_rights || 'None'}</h6>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  {/* âœ… COMMON STOCK - ONLY SHOW FOR COMMON STOCK */}\r\n\r\n\r\n                  {/* âœ… SAFE - ONLY SHOW FOR SAFE */}\r\n                  {roundData?.instrument === 'Safe' && roundData?.instrument_details && (\r\n                    <>\r\n                      <hr className=\"my-4\" />\r\n                      <h6 className=\"mb-3\">\r\n                        <i className=\"bi bi-shield-check text-info me-2\"></i>\r\n                        SAFE Terms\r\n                      </h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Valuation Cap</small></p>\r\n                          <h5 className=\"mb-0\">\r\n                            {formatCurrency(roundData.instrument_details.valuation_cap, roundData.currency)}\r\n                          </h5>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Discount Rate</small></p>\r\n                          <h5 className=\"mb-0\">\r\n                            <span className=\"badge bg-success\">\r\n                              {roundData.instrument_details.discount_rate}%\r\n                            </span>\r\n                          </h5>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Pro-Rata Rights</small></p>\r\n                          <h6 className=\"mb-0\">\r\n                            {roundData.instrument_details.pro_rata_rights ? (\r\n                              <span className=\"badge bg-success\">Yes</span>\r\n                            ) : (\r\n                              <span className=\"badge bg-secondary\">No</span>\r\n                            )}\r\n                          </h6>\r\n                        </div>\r\n                      </div>\r\n                      {roundData.instrument_details.mfn && (\r\n                        <div className=\"row mt-3\">\r\n                          <div className=\"col-md-12\">\r\n                            <div className=\"alert alert-success mb-0\">\r\n                              <i className=\"bi bi-check-circle me-2\"></i>\r\n                              <strong>Most Favored Nation (MFN):</strong> Enabled\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"alert alert-info mb-0\">\r\n                            <i className=\"bi bi-info-circle me-2\"></i>\r\n                            <strong>Note:</strong> This SAFE will convert to equity in the next priced round based on the lower of the valuation cap or discounted price.\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n\r\n                  {/* âœ… CONVERTIBLE NOTE - ONLY SHOW FOR CONVERTIBLE NOTE */}\r\n                  {roundData?.instrument === 'Convertible Note' && roundData?.instrument_details && (\r\n                    <>\r\n                      <hr className=\"my-4\" />\r\n                      <h6 className=\"mb-3\">\r\n                        <i className=\"bi bi-file-earmark-text text-warning me-2\"></i>\r\n                        Convertible Note Terms\r\n                      </h6>\r\n                      <div className=\"row\">\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Principal Amount</small></p>\r\n                          <h5 className=\"mb-0\">\r\n                            {formatCurrency(roundData.instrument_details.principal, roundData.currency)}\r\n                          </h5>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Interest Rate</small></p>\r\n                          <h5 className=\"mb-0\">\r\n                            <span className=\"badge bg-warning text-dark\">\r\n                              {roundData.instrument_details.interest_rate}% / year\r\n                            </span>\r\n                          </h5>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Accrued Interest</small></p>\r\n                          <h5 className=\"mb-0 text-success\">\r\n                            +{formatCurrency(roundData.instrument_details.accrued_interest, roundData.currency)}\r\n                          </h5>\r\n                        </div>\r\n                        <div className=\"col-md-3\">\r\n                          <p className=\"mb-1 text-muted\"><small>Total with Interest</small></p>\r\n                          <h5 className=\"mb-0\">\r\n                            {formatCurrency(roundData.instrument_details.total_with_interest, roundData.currency)}\r\n                          </h5>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Valuation Cap</small></p>\r\n                          <h6 className=\"mb-0\">\r\n                            {roundData.instrument_details.valuation_cap > 0\r\n                              ? formatCurrency(roundData.instrument_details.valuation_cap, roundData.currency)\r\n                              : <span className=\"badge bg-secondary\">No Cap</span>}\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Discount Rate</small></p>\r\n                          <h6 className=\"mb-0\">\r\n                            <span className=\"badge bg-info\">\r\n                              {roundData.instrument_details.discount_rate}%\r\n                            </span>\r\n                          </h6>\r\n                        </div>\r\n                        <div className=\"col-md-4\">\r\n                          <p className=\"mb-1 text-muted\"><small>Maturity</small></p>\r\n                          <h6 className=\"mb-0\">\r\n                            {roundData.instrument_details.years_to_maturity} years\r\n                            {/* {roundData.instrument_details.maturity_date && (\r\n                              <small className=\"text-muted d-block\">\r\n                                ({new Date(roundData.instrument_details.maturity_date).toLocaleDateString()})\r\n                              </small>\r\n                            )} */}\r\n                          </h6>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"row mt-3\">\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"alert alert-warning mb-0\">\r\n                            <i className=\"bi bi-clock me-2\"></i>\r\n                            <strong>Conversion Trigger:</strong> {roundData.instrument_details.conversion_trigger || 'Qualified Financing'}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Back Button */}\r\n              <div className=\"mt-4\">\r\n                <button\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => navigate(-1)}\r\n                >\r\n                  <i className=\"bi bi-arrow-left me-2\"></i>\r\n                  Back to Rounds List\r\n                </button>\r\n\r\n                <button\r\n                  className=\"btn btn-primary ms-2\"\r\n                  onClick={getCapTableData}\r\n                >\r\n                  <i className=\"bi bi-arrow-clockwise me-2\"></i>\r\n                  Refresh Data\r\n                </button>\r\n              </div>\r\n\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}","import type { MouseEvent } from 'react';\nimport type {\n  ChartType,\n  ChartData,\n  DefaultDataPoint,\n  ChartDataset,\n  ChartOptions,\n  Chart,\n} from 'chart.js';\n\nimport type { ForwardedRef } from './types.js';\n\nconst defaultDatasetIdKey = 'label';\n\nexport function reforwardRef<T>(ref: ForwardedRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref) {\n    ref.current = value;\n  }\n}\n\nexport function setOptions<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(chart: Chart<TType, TData, TLabel>, nextOptions: ChartOptions<TType>) {\n  const options = chart.options;\n\n  if (options && nextOptions) {\n    Object.assign(options, nextOptions);\n  }\n}\n\nexport function setLabels<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextLabels: TLabel[] | undefined\n) {\n  currentData.labels = nextLabels;\n}\n\nexport function setDatasets<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  currentData: ChartData<TType, TData, TLabel>,\n  nextDatasets: ChartDataset<TType, TData>[],\n  datasetIdKey = defaultDatasetIdKey\n) {\n  const addedDatasets: ChartDataset<TType, TData>[] = [];\n\n  currentData.datasets = nextDatasets.map(\n    (nextDataset: Record<string, unknown>) => {\n      // given the new set, find it's current match\n      const currentDataset = currentData.datasets.find(\n        (dataset: Record<string, unknown>) =>\n          dataset[datasetIdKey] === nextDataset[datasetIdKey]\n      );\n\n      // There is no original to update, so simply add new one\n      if (\n        !currentDataset ||\n        !nextDataset.data ||\n        addedDatasets.includes(currentDataset)\n      ) {\n        return { ...nextDataset } as ChartDataset<TType, TData>;\n      }\n\n      addedDatasets.push(currentDataset);\n\n      Object.assign(currentDataset, nextDataset);\n\n      return currentDataset;\n    }\n  );\n}\n\nexport function cloneData<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(data: ChartData<TType, TData, TLabel>, datasetIdKey = defaultDatasetIdKey) {\n  const nextData: ChartData<TType, TData, TLabel> = {\n    labels: [],\n    datasets: [],\n  };\n\n  setLabels(nextData, data.labels);\n  setDatasets(nextData, data.datasets, datasetIdKey);\n\n  return nextData;\n}\n\n/**\n * Get dataset from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getDatasetAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'dataset',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get single dataset element from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'nearest',\n    { intersect: true },\n    false\n  );\n}\n\n/**\n * Get all dataset elements from mouse click event\n * @param chart - Chart.js instance\n * @param event - Mouse click event\n * @returns Dataset\n */\nexport function getElementsAtEvent(\n  chart: Chart,\n  event: MouseEvent<HTMLCanvasElement>\n) {\n  return chart.getElementsAtEventForMode(\n    event.nativeEvent,\n    'index',\n    { intersect: true },\n    false\n  );\n}\n","import React, { useEffect, useRef, forwardRef } from 'react';\nimport { Chart as ChartJS } from 'chart.js';\nimport type { ChartType, DefaultDataPoint } from 'chart.js';\n\nimport type { ForwardedRef, ChartProps, BaseChartComponent } from './types.js';\nimport {\n  reforwardRef,\n  cloneData,\n  setOptions,\n  setLabels,\n  setDatasets,\n} from './utils.js';\n\nfunction ChartComponent<\n  TType extends ChartType = ChartType,\n  TData = DefaultDataPoint<TType>,\n  TLabel = unknown,\n>(\n  props: ChartProps<TType, TData, TLabel>,\n  ref: ForwardedRef<ChartJS<TType, TData, TLabel>>\n) {\n  const {\n    height = 150,\n    width = 300,\n    redraw = false,\n    datasetIdKey,\n    type,\n    data,\n    options,\n    plugins = [],\n    fallbackContent,\n    updateMode,\n    ...canvasProps\n  } = props;\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const chartRef = useRef<ChartJS<TType, TData, TLabel> | null>(null);\n\n  const renderChart = () => {\n    if (!canvasRef.current) return;\n\n    chartRef.current = new ChartJS(canvasRef.current, {\n      type,\n      data: cloneData(data, datasetIdKey),\n      options: options && { ...options },\n      plugins,\n    });\n\n    reforwardRef(ref, chartRef.current);\n  };\n\n  const destroyChart = () => {\n    reforwardRef(ref, null);\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n      chartRef.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && options) {\n      setOptions(chartRef.current, options);\n    }\n  }, [redraw, options]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current) {\n      setLabels(chartRef.current.config.data, data.labels);\n    }\n  }, [redraw, data.labels]);\n\n  useEffect(() => {\n    if (!redraw && chartRef.current && data.datasets) {\n      setDatasets(chartRef.current.config.data, data.datasets, datasetIdKey);\n    }\n  }, [redraw, data.datasets]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    if (redraw) {\n      destroyChart();\n      setTimeout(renderChart);\n    } else {\n      chartRef.current.update(updateMode);\n    }\n  }, [redraw, options, data.labels, data.datasets, updateMode]);\n\n  useEffect(() => {\n    if (!chartRef.current) return;\n\n    destroyChart();\n    setTimeout(renderChart);\n  }, [type]);\n\n  useEffect(() => {\n    renderChart();\n\n    return () => destroyChart();\n  }, []);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      role='img'\n      height={height}\n      width={width}\n      {...canvasProps}\n    >\n      {fallbackContent}\n    </canvas>\n  );\n}\n\nexport const Chart = forwardRef(ChartComponent) as BaseChartComponent;\n","import React, { forwardRef } from 'react';\nimport {\n  Chart as ChartJS,\n  LineController,\n  BarController,\n  RadarController,\n  DoughnutController,\n  PolarAreaController,\n  BubbleController,\n  PieController,\n  ScatterController,\n} from 'chart.js';\nimport type { ChartType, ChartComponentLike } from 'chart.js';\n\nimport type {\n  ChartProps,\n  ChartJSOrUndefined,\n  TypedChartComponent,\n} from './types.js';\nimport { Chart } from './chart.js';\n\nfunction createTypedChart<T extends ChartType>(\n  type: T,\n  registerables: ChartComponentLike\n) {\n  ChartJS.register(registerables);\n\n  return forwardRef<ChartJSOrUndefined<T>, Omit<ChartProps<T>, 'type'>>(\n    (props, ref) => <Chart {...props} ref={ref} type={type} />\n  ) as TypedChartComponent<T>;\n}\n\nexport const Line = /* #__PURE__ */ createTypedChart('line', LineController);\n\nexport const Bar = /* #__PURE__ */ createTypedChart('bar', BarController);\n\nexport const Radar = /* #__PURE__ */ createTypedChart('radar', RadarController);\n\nexport const Doughnut = /* #__PURE__ */ createTypedChart(\n  'doughnut',\n  DoughnutController\n);\n\nexport const PolarArea = /* #__PURE__ */ createTypedChart(\n  'polarArea',\n  PolarAreaController\n);\n\nexport const Bubble = /* #__PURE__ */ createTypedChart(\n  'bubble',\n  BubbleController\n);\n\nexport const Pie = /* #__PURE__ */ createTypedChart('pie', PieController);\n\nexport const Scatter = /* #__PURE__ */ createTypedChart(\n  'scatter',\n  ScatterController\n);\n"],"names":["RecordRoundCaptable","id","useParams","navigate","useNavigate","API_URL_CAPTABLE","API_BASE_URL","storedUsername","localStorage","getItem","userLogin","JSON","parse","loading","setLoading","useState","error","setError","capTableData","setCapTableData","pre_money","items","totals","post_money","roundData","setRoundData","pendingConversions","setPendingConversions","calculations","setCalculations","preMoneyChartData","setPreMoneyChartData","postMoneyChartData","setPostMoneyChartData","ownershipChartData","setOwnershipChartData","activeTab","setActiveTab","isCollapsed","setIsCollapsed","formatCurrency","amount","currency","arguments","length","undefined","cleanCurrency","match","toString","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","parseFloat","replace","substring","toFixed","formatCurrencyNotRound","decimals","Math","max","split","formatPercentage","value","formatNumber","num","getCapTableData","useCallback","async","formData","company_id","companies","round_id","res","axios","post","headers","Accept","data","success","_capTable$pre_money","_capTable$pre_money$i","_capTable$post_money","_capTable$post_money$","capTable","cap_table","console","log","round","pending_conversions","preMoneyData","labels","map","item","name","datasets","label","shares","backgroundColor","borderWidth","postMoneyData","allHolders","Set","ownershipData","holder","find","i","percentage","borderColor","message","err","_err$response","_err$response$data","response","useEffect","_jsx","Wrapper","children","className","_jsxs","ModuleSideNav","TopBar","SectionWrapper","role","onClick","instrument","status","date","investment","share_price","issued_shares","actualOptionPoolPercent","total_option_pool","total_shares","targetPercent","optionPoolPercent_post","optionPoolPercent","_Fragment","index","type","round_name","reduce","sum","total_founders","total_investors","new_shares","total_new_shares","Pie","options","responsive","plugins","legend","position","Bar","scales","y","beginAtZero","ticks","callback","conv","_conv$instrument_data","_conv$instrument_data2","mappedConv","instrument_type","investment_amount","conversion_price","potential_shares","estimated_shares","discount_rate","instrument_data","discountRate_note","valuation_cap","valuationCap_note","colSpan","instrument_details","liquidation_preference_multiple","participation","anti_dilution","dividend_rate","pro_rata_rights","principal","interest_rate","accrued_interest","total_with_interest","pre_money_valuation","post_money_valuation","total_shares_outstanding","liquidation_preference","voting_rights","conversion_ratio","redemption_rights","mfn","years_to_maturity","conversion_trigger","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","defaultDatasetIdKey","reforwardRef","ref","current","setLabels","currentData","nextLabels","setDatasets","nextDatasets","datasetIdKey","addedDatasets","nextDataset","currentDataset","dataset","includes","push","Object","assign","cloneData","nextData","ChartComponent","props","height","width","redraw","fallbackContent","updateMode","canvasProps","canvasRef","useRef","chartRef","renderChart","Chart$1","destroyChart","destroy","chart","nextOptions","setOptions","config","setTimeout","update","React","Chart","forwardRef","createTypedChart","registerables","BarController","PieController"],"sourceRoot":""}