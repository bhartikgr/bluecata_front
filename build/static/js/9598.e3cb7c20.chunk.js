"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[9598],{8908:(e,s,a)=>{a.d(s,{A:()=>n});a(5043);var l=a(579);function n(e){let{message:s}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"popup-overlay sucess_alert",children:(0,l.jsx)("div",{className:"popup-content col-md-4",children:(0,l.jsx)("div",{className:"danger_meess d-flex flex-column gap-4",children:(0,l.jsx)("div",{className:"d-block danger_notification",children:(0,l.jsx)("p",{children:s})})})})})})}},793:(e,s,a)=>{a.d(s,{A:()=>n});a(5043);var l=a(579);function n(e){let{message:s}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"popup-overlay sucess_alert",children:(0,l.jsx)("div",{className:"popup-content col-md-4",children:(0,l.jsx)("div",{className:"sucess_meess d-flex flex-column gap-4",children:(0,l.jsx)("div",{className:"d-block sucess_notification",children:(0,l.jsx)("p",{children:s})})})})})})}},9598:(e,s,a)=>{a.r(s),a.d(s,{default:()=>t});var l=a(5043),n=a(5475),c=a(6213),d=a(3216),i=a(793),o=a(8908),r=a(579);function t(){const[e,s]=(0,l.useState)(!1),[a,t]=(0,l.useState)(!1),[m,p]=(0,l.useState)(""),[x,u]=(0,l.useState)(""),h=(0,d.Zp)();(0,l.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),s=JSON.parse(e);console.log(s),null!=s&&h("/admin/users")}),[]);return(0,r.jsxs)("div",{children:[e&&(0,r.jsx)(i.A,{message:m}),a&&(0,r.jsx)(o.A,{message:x}),(0,r.jsx)("section",{className:"regblock d-block",children:(0,r.jsx)("div",{className:"container-lg",children:(0,r.jsx)("div",{className:"row justify-content-end",children:(0,r.jsx)("div",{className:"col-md-6 p-md-0",children:(0,r.jsx)("div",{className:"regform d-flex flex-column gap-4",children:(0,r.jsx)("form",{onSubmit:async e=>{e.preventDefault();var a=e.target;const l=new FormData;l.append("email",a.email.value),l.append("password",a.password.value);try{const e=await c.A.post("https://backend.amourette.no/api/admin/login",l,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(e.data),s(!0),p(e.data.message);var n=e.data.user;let a={id:n.id,email:n.email};localStorage.setItem("adminLogin",JSON.stringify(a)),t(!1),s(!1),h("/admin/dashboard")}catch(d){console.log("dd"),console.error(d),d.response&&d.response.data&&d.response.data.message?(s(!1),t(!0),u(d.response.data.message)):(s(!1),t(!0),u("An unknown error occurred.")),setTimeout((()=>{t(!1),s(!1)}),3500)}},method:"post",children:(0,r.jsxs)("div",{className:"stepbox",children:[(0,r.jsx)("div",{className:"d-flex flex-column gap-3 regtitle mb-5",children:(0,r.jsx)("div",{className:"d-flex justify-content-between",children:(0,r.jsx)("h2",{children:"Admin Login"})})}),(0,r.jsxs)("div",{className:"row gy-4",children:[(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)("label",{htmlFor:"",children:"E-mail"}),(0,r.jsx)("input",{type:"email",placeholder:"You e-mail",name:"email"})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)("label",{htmlFor:"",children:"Password"}),(0,r.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"You password"})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"d-flex flex-column gap-2",children:(0,r.jsx)("div",{className:"listbox",children:(0,r.jsx)("label",{className:"cbox p-0",children:(0,r.jsx)(n.N_,{to:"/admin/forgot-pasword",children:"Forget Password"})})})})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("button",{type:"submit",className:"regbtnsubmit",children:"LOG IN"})})]})]})})})})})})})]})}}}]);
//# sourceMappingURL=9598.e3cb7c20.chunk.js.map