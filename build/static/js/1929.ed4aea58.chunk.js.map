{"version":3,"file":"static/js/1929.ed4aea58.chunk.js","mappings":"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","sources":["pages/User/Investor/RecordRoundCaptable.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n} from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  ChartDataLabels\r\n);\r\n\r\nexport default function RecordRoundCaptable() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const API_URL_CAPTABLE = `${API_BASE_URL}api/user/capitalround/`;\r\n\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [capTableData, setCapTableData] = useState({\r\n    pre_money: { items: [], totals: {} },\r\n    post_money: { items: [], totals: {} }\r\n  });\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [pendingConversions, setPendingConversions] = useState([]);\r\n  const [calculations, setCalculations] = useState({});\r\n  const [summaryDetails, setSummaryDetails] = useState(null);\r\n\r\n  // Chart states\r\n  const [preMoneyChartData, setPreMoneyChartData] = useState(null);\r\n  const [postMoneyChartData, setPostMoneyChartData] = useState(null);\r\n\r\n  const [activeTab, setActiveTab] = useState(\"pre-money\");\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  // Format currency function\r\n  const formatCurrency = (amount, currency = 'USD') => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n      }).format(amount || 0);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${parseFloat(amount || 0).toFixed(2)}`;\r\n    }\r\n  };\r\n\r\n  const formatCurrencyNotRound = (amount, currency = 'USD') => {\r\n    // Clean currency code - remove spaces and symbols\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n\r\n    // Valid currency codes\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      // Parse amount to ensure it's a number\r\n      const numAmount = parseFloat(amount) || 0;\r\n\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 3, // Always show 3 decimal places\r\n        maximumFractionDigits: 3, // Exactly 3 decimal places, not more\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      // Fallback if currency is still invalid\r\n      return `${currencyCode} ${(parseFloat(amount) || 0).toFixed(3)}`;\r\n    }\r\n  };\r\n\r\n  const formatPercentage = (value) => {\r\n    if (!value && value !== 0) return '0.00%';\r\n    return `${parseFloat(value).toFixed(2)}%`;\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    if (!num && num !== 0) return '0';\r\n    return new Intl.NumberFormat('en-US').format(num);\r\n  };\r\n\r\n  // Data fetching function\r\n  const getCapTableData = useCallback(async () => {\r\n    if (!id || !userLogin) {\r\n      setError(\"Missing required parameters\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        const capTable = res.data.cap_table || {\r\n          pre_money: { items: [], totals: {} },\r\n          post_money: { items: [], totals: {} }\r\n        };\r\n\r\n        setCapTableData(capTable);\r\n        setRoundData(res.data.round || null);\r\n        setPendingConversions(res.data.pending_conversions || []);\r\n        setCalculations(res.data.calculations || {});\r\n        console.log(res.data)\r\n        // Calculate summary details based on CPAVATE formulas\r\n        calculateSummaryDetails(res.data);\r\n\r\n        // Prepare chart data\r\n        if (capTable?.pre_money?.items?.length > 0) {\r\n          const preMoneyData = {\r\n            labels: capTable.pre_money.items.map(item => item.name),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.pre_money.items.map(item => item.shares),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPreMoneyChartData(preMoneyData);\r\n        }\r\n\r\n        if (capTable?.post_money?.items?.length > 0) {\r\n          const postMoneyData = {\r\n            labels: capTable.post_money.items.map(item => item.name),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.post_money.items.map(item => item.shares),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPostMoneyChartData(postMoneyData);\r\n        }\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"API Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, userLogin, API_URL_CAPTABLE]);\r\n\r\n  // Calculate summary details based on CPAVATE formulas\r\n  const calculateSummaryDetails = (data) => {\r\n    if (!data.cap_table || !data.round) return;\r\n\r\n    const preMoneyTable = data.cap_table.pre_money;\r\n    const postMoneyTable = data.cap_table.post_money;\r\n    const round = data.round;\r\n\r\n    const preMoneyVal = parseFloat(round.pre_money) || 0;\r\n    const investment = parseFloat(round.investment) || 0;\r\n    const postMoneyVal = preMoneyVal + investment;\r\n\r\n    const totalSharesPre = preMoneyTable.totals.total_shares || 0;\r\n    const totalSharesPost = postMoneyTable.totals.total_shares || 0;\r\n\r\n    const sharePricePre = totalSharesPre > 0 ? preMoneyVal / totalSharesPre : 0;\r\n    const sharePricePost = totalSharesPost > 0 ? postMoneyVal / totalSharesPost : 0;\r\n\r\n    // Calculate founder values (like $540,000)\r\n    const founderShares = preMoneyTable.items.filter(item => item.type === 'founder').reduce((sum, item) => sum + item.shares, 0);\r\n    const founderValuePre = founderShares * sharePricePre;\r\n    const founderValuePost = founderShares * sharePricePost;\r\n\r\n    // Calculate investor values\r\n    const investorShares = postMoneyTable.items.filter(item => item.type === 'investor').reduce((sum, item) => sum + item.shares, 0);\r\n    const investorValue = investorShares * sharePricePost;\r\n\r\n    // Calculate option pool values\r\n    const optionPoolShares = postMoneyTable.totals.total_option_pool || 0;\r\n    const optionPoolValue = optionPoolShares * sharePricePost;\r\n\r\n    setSummaryDetails({\r\n      founderValuePre: founderValuePre,\r\n      founderValuePost: founderValuePost,\r\n      investorValue: investorValue,\r\n      optionPoolValue: optionPoolValue,\r\n      sharePricePre: sharePricePre,\r\n      sharePricePost: sharePricePost,\r\n      totalSharesPre: totalSharesPre,\r\n      totalSharesPost: totalSharesPost,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCapTableData();\r\n  }, []);\r\n  function formatCurrentDate(input) {\r\n    const date = new Date(input);\r\n\r\n    if (isNaN(date)) return \"\";\r\n\r\n    const months = [\r\n      \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\r\n      \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n    ];\r\n\r\n\r\n    const day = date.getDate();\r\n    const month = months[date.getMonth()];\r\n    const year = date.getFullYear();\r\n\r\n    const getOrdinal = (n) => {\r\n      if (n >= 11 && n <= 13) return \"th\";\r\n      switch (n % 10) {\r\n        case 1:\r\n          return \"st\";\r\n        case 2:\r\n          return \"nd\";\r\n        case 3:\r\n          return \"rd\";\r\n        default:\r\n          return \"th\";\r\n      }\r\n    };\r\n\r\n    let hours = date.getHours();\r\n    const minutes = date.getMinutes().toString().padStart(2, \"0\");\r\n    const seconds = date.getSeconds().toString().padStart(2, \"0\");\r\n    const ampm = hours >= 12 ? \"PM\" : \"AM\";\r\n\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12; // 0 => 12\r\n\r\n    return `${month} ${day}${getOrdinal(\r\n      day\r\n    )}, ${year} ${hours}:${minutes} ${ampm}`;\r\n  }\r\n  // Render loading state\r\n  if (loading) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav\r\n              isCollapsed={isCollapsed}\r\n              setIsCollapsed={setIsCollapsed}\r\n            />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"text-center py-5\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <p className=\"mt-3\">Loading Cap Table Data...</p>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  // Render error state\r\n  if (error && !roundData) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav\r\n              isCollapsed={isCollapsed}\r\n              setIsCollapsed={setIsCollapsed}\r\n            />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"alert alert-danger\">\r\n                  <h5>Error Loading Cap Table</h5>\r\n                  <p>{error}</p>\r\n                  <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>\r\n                    Go Back\r\n                  </button>\r\n                  <button className=\"btn btn-secondary ms-2\" onClick={getCapTableData}>\r\n                    Try Again\r\n                  </button>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n\r\n              {error && (\r\n                <div className=\"alert alert-danger mb-4\">\r\n                  <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Round Header */}\r\n              {roundData && (\r\n                <div className=\"card mb-4\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h4 className=\"mb-0\">Round: {roundData.name}</h4>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Type:</strong> {roundData.instrument}</p>\r\n                        <p><strong>Status:</strong>\r\n                          <span className={`badge ${roundData.status === 'CLOSED' ? 'bg-success' : 'bg-warning'} ms-2`}>\r\n                            {roundData.status || 'ACTIVE'}\r\n                          </span>\r\n                        </p>\r\n                        <p><strong>Date:</strong> {formatCurrentDate(roundData.date) || 'Not specified'}</p>\r\n                      </div>\r\n                      {roundData?.type !== 'Round 0' && (\r\n                        <div className=\"col-md-4\">\r\n                          <p><strong>Pre-Money:</strong> {formatCurrency(roundData.pre_money, roundData.currency)}</p>\r\n                          <p><strong>Investment:</strong> {formatCurrency(roundData.investment, roundData.currency)}</p>\r\n                          <p><strong>Post-Money:</strong> {formatCurrency(roundData.post_money, roundData.currency)}</p>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Share Price:</strong> {formatCurrencyNotRound(roundData.share_price, roundData.currency)}</p>\r\n                        <p><strong>Issued Shares:</strong> {formatNumber(roundData.issued_shares)}</p>\r\n                        {roundData?.type !== 'Round 0' && (\r\n                          <p><strong>Option Pool:</strong> {formatPercentage(roundData.option_pool_percent || 0)}</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* ===== CONVERTIBLE INSTRUMENTS SECTION ===== */}\r\n\r\n              {/* Tab Navigation */}\r\n              <div className=\"mb-4\">\r\n                <ul className=\"nav nav-tabs gap-1\">\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'pre-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pre-money')}\r\n                      >\r\n                        Pre-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'post-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('post-money')}\r\n                      >\r\n                        Post-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'summary' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('summary')}\r\n                      >\r\n                        Chat & Analysis\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {pendingConversions.length > 0 && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link  text-white backcolor ${activeTab === 'pending' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pending')}\r\n                      >\r\n                        Pending Conversions\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n\r\n              {/* Pre-Money Cap Table */}\r\n              {activeTab === 'pre-money' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">Pre-Money Capitalization Table</h5>\r\n                    <small className=\"text-muted\">Share ownership before this round's investment</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    {capTableData.pre_money.items.length === 0 ? (\r\n                      <div className=\"text-center py-4\">\r\n                        <p className=\"text-muted\">No pre-money cap table data available</p>\r\n                      </div>\r\n                    ) : (\r\n                      <>\r\n                        {/* Round 0   Pie Chart - Top  */}\r\n\r\n\r\n\r\n                        {/* Main Table */}\r\n                        <div className=\"table-responsive mt-4\">\r\n                          <table className=\"table table-striped table-hover\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>#</th>\r\n                                <th>Founder</th>\r\n                                <th className=\"text-end\">Shares</th>\r\n                                <th className=\"text-end\">Ownership %</th>\r\n                                <th className=\"text-end\">Currency Value</th>\r\n                                <th className=\"text-end\">Share Price</th>\r\n                                <th>Details</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              {capTableData.pre_money.items\r\n                                .filter(item => item.type === 'founder')\r\n                                .map((item, index) => (\r\n                                  <tr key={index}>\r\n                                    <td>\r\n                                      <span className=\"badge bg-info me-2\">\r\n                                        {item.founder_code || `F${index + 1}`}\r\n                                      </span>\r\n                                    </td>\r\n                                    <td>\r\n                                      <div>\r\n                                        <strong>{item.name}</strong>\r\n                                        {item.email && (\r\n                                          <div className=\"small text-muted\">{item.email}</div>\r\n                                        )}\r\n                                      </div>\r\n                                    </td>\r\n                                    <td className=\"text-end\">{formatNumber(item.shares)}</td>\r\n                                    <td className=\"text-end\">{formatPercentage(item.percentage)}</td>\r\n                                    <td className=\"text-end\">{formatCurrency(item.value, roundData?.currency)}</td>\r\n                                    <td className=\"text-end\">{formatCurrencyNotRound(item.share_price, roundData?.currency)}</td>\r\n                                    <td>\r\n                                      <div className=\"small\">\r\n                                        <div>Type: {item.share_type || 'common'}</div>\r\n                                        <div>Voting: {item.voting || 'voting'}</div>\r\n                                      </div>\r\n                                    </td>\r\n                                  </tr>\r\n                                ))}\r\n\r\n                              {/* Display other types for non-Round 0 */}\r\n                              {roundData?.type !== 'Round 0' && capTableData.pre_money.items\r\n                                .filter(item => item.type !== 'founder')\r\n                                .map((item, index) => (\r\n                                  <tr key={`other-${index}`}>\r\n                                    <td>\r\n                                      <span className={`badge ${item.type === 'investor' ? 'bg-success' : 'bg-warning'} me-2`}>\r\n                                        {item.type === 'investor' ? 'I' : 'O'}\r\n                                      </span>\r\n                                    </td>\r\n                                    <td>{item.name}</td>\r\n                                    <td className=\"text-end\">{formatNumber(item.shares)}</td>\r\n                                    <td className=\"text-end\">{formatPercentage(item.percentage)}</td>\r\n                                    <td className=\"text-end\">{formatCurrency(item.value, roundData?.currency)}</td>\r\n                                    <td className=\"text-end\">{formatCurrencyNotRound(item.share_price, roundData?.currency)}</td>\r\n                                    <td>{item.round_name}</td>\r\n                                  </tr>\r\n                                ))}\r\n                            </tbody>\r\n                            <tfoot className=\"table-light\">\r\n                              <tr>\r\n                                <th colSpan=\"2\">TOTAL</th>\r\n                                <th className=\"text-end\">{formatNumber(capTableData.pre_money.totals.total_shares)}</th>\r\n                                <th className=\"text-end\">100%</th>\r\n                                <th className=\"text-end\">{formatCurrency(capTableData.pre_money.totals.total_value, roundData?.currency)}</th>\r\n                                <th></th>\r\n                                <th></th>\r\n                              </tr>\r\n                            </tfoot>\r\n                          </table>\r\n                        </div>\r\n                        {roundData?.type === 'Round 0' && (\r\n                          <div className=\"row mb-4\">\r\n                            <div className=\"col-md-12\">\r\n                              <div className=\"card border-0 shadow-sm\">\r\n                                <div className=\"card-header bg-white border-0 d-flex justify-content-between align-items-center py-3\">\r\n                                  <div>\r\n                                    <h6 className=\"mb-0 fw-bold text-dark\">\r\n                                      <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                                      Founder Ownership Distribution - Round 0\r\n                                    </h6>\r\n                                    <p className=\"text-muted mb-0 small\">Initial share allocation</p>\r\n                                  </div>\r\n                                  <span className=\"badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill\">\r\n                                    <i className=\"bi bi-shield me-1\"></i>\r\n                                    {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)} shares\r\n                                  </span>\r\n                                </div>\r\n                                <div className=\"card-body p-4\">\r\n                                  {capTableData?.pre_money?.items?.length > 0 ? (\r\n                                    <div className=\"row\">\r\n                                      <div className=\"col-md-7\">\r\n                                        <div style={{ height: '350px', position: 'relative' }}>\r\n                                          <Pie\r\n                                            data={{\r\n                                              labels: capTableData.pre_money.items.map(item =>\r\n                                                item.name || item.founder_code || `Item ${capTableData.pre_money.items.indexOf(item) + 1}`\r\n                                              ),\r\n                                              datasets: [{\r\n                                                data: capTableData.pre_money.items.map(item => item.shares),\r\n                                                backgroundColor: [\r\n                                                  '#4e73df', '#1cc88a', '#36b9cc', '#f6c23e',\r\n                                                  '#e74a3b', '#6f42c1', '#fd7e14', '#20c9a6',\r\n                                                  '#858796', '#5a5c69', '#2c9faf', '#b58df1'\r\n                                                ],\r\n                                                borderWidth: 1,\r\n                                                borderColor: '#fff'\r\n                                              }]\r\n                                            }}\r\n                                            options={{\r\n                                              responsive: true,\r\n                                              maintainAspectRatio: false,\r\n                                              cutout: '60%',\r\n                                              plugins: {\r\n                                                datalabels: {\r\n                                                  display: function (context) {\r\n                                                    const dataset = context.dataset;\r\n                                                    const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                                    const currentValue = dataset.data[context.dataIndex];\r\n                                                    const percentage = (currentValue / total) * 100;\r\n                                                    return percentage >= 5; // Only show for slices >= 5%\r\n                                                  },\r\n                                                  formatter: function (value, context) {\r\n                                                    const dataset = context.dataset;\r\n                                                    const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                                    const percentage = ((value / total) * 100).toFixed(1);\r\n                                                    return percentage + '%';\r\n                                                  },\r\n                                                  color: '#fff',\r\n                                                  font: {\r\n                                                    weight: 'bold',\r\n                                                    size: 12\r\n                                                  },\r\n                                                  textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                                  padding: 8,\r\n                                                  backgroundColor: 'rgba(0,0,0,0.3)',\r\n                                                  borderRadius: 6\r\n                                                },\r\n                                                legend: {\r\n                                                  position: 'right',\r\n                                                  labels: {\r\n                                                    padding: 20,\r\n                                                    usePointStyle: true,\r\n                                                    pointStyle: 'circle',\r\n                                                    font: {\r\n                                                      size: 12\r\n                                                    },\r\n                                                    generateLabels: function (chart) {\r\n                                                      const data = chart.data;\r\n                                                      if (data.labels.length && data.datasets.length) {\r\n                                                        return data.labels.map((label, i) => {\r\n                                                          const value = data.datasets[0].data[i];\r\n                                                          const total = data.datasets[0].data.reduce((a, b) => a + b, 0);\r\n                                                          const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : 0;\r\n                                                          const item = capTableData?.pre_money?.items?.[i];\r\n\r\n                                                          let displayLabel = label;\r\n                                                          let emoji = ' ';\r\n\r\n                                                          if (item?.founder_code) {\r\n                                                            displayLabel = `${item.founder_code} - ${item.name}`;\r\n                                                          }\r\n\r\n                                                          return {\r\n                                                            text: `${emoji} ${displayLabel}: ${percentage}%`,\r\n                                                            fillStyle: data.datasets[0].backgroundColor[i],\r\n                                                            strokeStyle: data.datasets[0].backgroundColor[i],\r\n                                                            lineWidth: 1,\r\n                                                            hidden: chart.getDatasetMeta(0).data[i].hidden,\r\n                                                            index: i,\r\n                                                            fontColor: '#333'\r\n                                                          };\r\n                                                        });\r\n                                                      }\r\n                                                      return [];\r\n                                                    }\r\n                                                  }\r\n                                                },\r\n                                                tooltip: {\r\n                                                  backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n                                                  titleColor: '#fff',\r\n                                                  bodyColor: '#fff',\r\n                                                  borderColor: 'rgba(255,255,255,0.1)',\r\n                                                  borderWidth: 1,\r\n                                                  cornerRadius: 8,\r\n                                                  padding: 12,\r\n                                                  displayColors: true,\r\n                                                  callbacks: {\r\n                                                    label: function (context) {\r\n                                                      const label = context.label || '';\r\n                                                      const value = context.parsed || 0;\r\n                                                      const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                      const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n                                                      const itemIndex = context.dataIndex;\r\n                                                      const item = capTableData?.pre_money?.items?.[itemIndex];\r\n                                                      const sharePrice = item?.share_price || roundData?.share_price || 0;\r\n                                                      const valueAmount = value * sharePrice;\r\n\r\n                                                      return [\r\n                                                        ` ${label}`,\r\n                                                        `Shares: ${formatNumber(value)}`,\r\n                                                        `Ownership: ${percentage}%`,\r\n                                                        `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                        `Price/Share: ${formatCurrencyNotRound(sharePrice, roundData?.currency)}`\r\n                                                      ];\r\n                                                    },\r\n                                                    title: function (tooltipItems) {\r\n                                                      const index = tooltipItems[0].dataIndex;\r\n                                                      const item = capTableData?.pre_money?.items?.[index];\r\n                                                      if (item?.type === 'founder') {\r\n                                                        return ` Founder: ${item.founder_code || ''} ${item.name}`;\r\n                                                      }\r\n                                                      return item?.name || tooltipItems[0].label;\r\n                                                    }\r\n                                                  }\r\n                                                }\r\n                                              }\r\n                                            }}\r\n                                          />\r\n                                        </div>\r\n                                      </div>\r\n                                      <div className=\"col-md-5\">\r\n                                        <div className=\"bg-light bg-opacity-50 rounded-3 p-4 h-100\">\r\n                                          <h6 className=\"fw-bold mb-3 d-flex align-items-center\">\r\n                                            <i className=\"bi bi-people-fill me-2 text-primary\"></i>\r\n                                            Founder Details\r\n                                          </h6>\r\n\r\n                                          <div className=\"legend-list\" style={{ maxHeight: '280px', overflowY: 'auto' }}>\r\n                                            {capTableData?.pre_money?.items\r\n                                              ?.filter(item => item.type === 'founder')\r\n                                              .map((item, index) => {\r\n                                                const total = capTableData.pre_money.totals.total_shares || 1;\r\n                                                const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                                const colors = [\r\n                                                  '#4e73df', '#1cc88a', '#36b9cc', '#f6c23e',\r\n                                                  '#e74a3b', '#6f42c1', '#fd7e14', '#20c9a6'\r\n                                                ];\r\n                                                const color = colors[index % colors.length];\r\n\r\n                                                return (\r\n                                                  <div key={index} className=\"d-flex align-items-center mb-3 p-2 bg-white rounded-3 shadow-sm\">\r\n                                                    <div\r\n                                                      className=\"me-3 flex-shrink-0 d-flex align-items-center justify-content-center rounded-circle\"\r\n                                                      style={{\r\n                                                        width: '40px',\r\n                                                        height: '40px',\r\n                                                        backgroundColor: `${color}20`,\r\n                                                        color: color\r\n                                                      }}\r\n                                                    >\r\n                                                      <span className=\"fw-bold\">{item.founder_code || `F${index + 1}`}</span>\r\n                                                    </div>\r\n                                                    <div className=\"flex-grow-1\">\r\n                                                      <div className=\"d-flex justify-content-between align-items-center mb-1\">\r\n                                                        <span className=\"fw-semibold\">{item.name}</span>\r\n                                                        <span className=\"badge bg-primary rounded-pill\">{percentage}%</span>\r\n                                                      </div>\r\n                                                      <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                        <small className=\"text-muted\">\r\n                                                          {formatNumber(item.shares || 0)} shares\r\n                                                        </small>\r\n                                                        {item.email && (\r\n                                                          <small className=\"text-muted\">\r\n                                                            {item.email}\r\n                                                          </small>\r\n                                                        )}\r\n                                                      </div>\r\n                                                      <div className=\"progress mt-2\" style={{ height: '4px' }}>\r\n                                                        <div\r\n                                                          className=\"progress-bar\"\r\n                                                          role=\"progressbar\"\r\n                                                          style={{\r\n                                                            width: `${percentage}%`,\r\n                                                            backgroundColor: color\r\n                                                          }}\r\n                                                          aria-valuenow={percentage}\r\n                                                          aria-valuemin=\"0\"\r\n                                                          aria-valuemax=\"100\"\r\n                                                        ></div>\r\n                                                      </div>\r\n                                                    </div>\r\n                                                  </div>\r\n                                                );\r\n                                              })}\r\n                                          </div>\r\n\r\n                                          {/* Total Summary */}\r\n                                          <div className=\"mt-3 pt-3 border-top\">\r\n                                            <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                                              <span className=\"text-muted\">Total Founders:</span>\r\n                                              <span className=\"fw-bold\">\r\n                                                {capTableData?.pre_money?.items?.filter(item => item.type === 'founder').length || 0}\r\n                                              </span>\r\n                                            </div>\r\n                                            <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                                              <span className=\"text-muted\">Total Shares:</span>\r\n                                              <span className=\"fw-bold\">\r\n                                                {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}\r\n                                              </span>\r\n                                            </div>\r\n                                            <div className=\"d-flex justify-content-between align-items-center\">\r\n                                              <span className=\"text-muted\">Share Price:</span>\r\n                                              <span className=\"fw-bold text-primary\">\r\n                                                {formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}\r\n                                              </span>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <div className=\"text-center py-5\">\r\n                                      <i className=\"bi bi-pie-chart text-muted\" style={{ fontSize: '3rem' }}></i>\r\n                                      <p className=\"mt-3 text-muted\">No founder data available</p>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        {/* Pre-Money Summary */}\r\n                        <div className=\"row mt-4\">\r\n                          <div className={roundData?.type === 'Round 0' ? \"col-md-3\" : \"col-md-3\"}>\r\n                            <div className=\"card bg-primary text-white\">\r\n                              <div className=\"card-body text-center\">\r\n                                <h6 className=\"card-subtitle mb-2\">Total Value</h6>\r\n                                <h4 className=\"card-title\">{formatCurrency(capTableData.pre_money.totals.total_value, roundData?.currency)}</h4>\r\n                                <p className=\"card-text\">Pre-Money Valuation</p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"col-md-3\">\r\n                            <div className=\"card bg-info text-white\">\r\n                              <div className=\"card-body text-center\">\r\n                                <h6 className=\"card-subtitle mb-2\">Founders</h6>\r\n                                <h4 className=\"card-title\">{formatNumber(capTableData.pre_money.totals.total_founders)}</h4>\r\n                                <p className=\"card-text\">\r\n                                  {formatPercentage(\r\n                                    (capTableData.pre_money.totals.total_founders /\r\n                                      capTableData.pre_money.totals.total_shares) * 100\r\n                                  )}\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                          {roundData?.type !== 'Round 0' && (\r\n                            <>\r\n\r\n\r\n                              {capTableData.pre_money.totals.total_investors > 0 && (\r\n                                <div className=\"col-md-3\">\r\n                                  <div className=\"card bg-success text-white\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"card-subtitle mb-2\">Investors</h6>\r\n                                      <h4 className=\"card-title\">{formatNumber(capTableData.pre_money.totals.total_investors)}</h4>\r\n                                      <p className=\"card-text\">\r\n                                        {formatPercentage(\r\n                                          (capTableData.pre_money.totals.total_investors /\r\n                                            capTableData.pre_money.totals.total_shares) * 100\r\n                                        )}\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n\r\n                              {capTableData.pre_money.totals.total_option_pool > 0 && (\r\n                                <div className=\"col-md-3\">\r\n                                  <div className=\"card bg-warning text-white\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"card-subtitle mb-2\">Option Pool</h6>\r\n                                      <h4 className=\"card-title\">{formatNumber(capTableData.pre_money.totals.total_option_pool)}</h4>\r\n                                      <p className=\"card-text\">\r\n                                        {formatPercentage(\r\n                                          (capTableData.pre_money.totals.total_option_pool /\r\n                                            capTableData.pre_money.totals.total_shares) * 100\r\n                                        )}\r\n                                      </p>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Post-Money Cap Table */}\r\n              {activeTab === 'post-money' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">Post-Money Capitalization Table</h5>\r\n                    <small className=\"text-muted\">Share ownership after this round's investment</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-end\">Shares</th>\r\n                            <th className=\"text-end\">New Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                            <th className=\"text-end\">Share Price</th>\r\n                            <th>Round</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {capTableData.post_money.items.map((item, index) => (\r\n                            <tr key={index}>\r\n                              <td>\r\n                                <span className={`badge ${item.type === 'founder' ? 'bg-info' :\r\n                                  item.type === 'investor' ? 'bg-success' :\r\n                                    item.type === 'option_pool' ? 'bg-warning' :\r\n                                      'bg-secondary'} me-2`}>\r\n                                  {item.type === 'founder' ? 'F' :\r\n                                    item.type === 'investor' ? 'I' :\r\n                                      item.type === 'option_pool' ? 'O' : 'P'}\r\n                                </span>\r\n                                {item.name}\r\n                              </td>\r\n                              <td className=\"text-end\">{formatNumber(item.shares)}</td>\r\n                              <td className=\"text-end\">\r\n                                {item.new_shares > 0 ? (\r\n                                  <span className=\"badge bg-success\">+{formatNumber(item.new_shares)}</span>\r\n                                ) : '0'}\r\n                              </td>\r\n                              <td className=\"text-end\">{formatPercentage(item.percentage)}</td>\r\n                              <td className=\"text-end\">{formatCurrency(item.value, roundData?.currency)}</td>\r\n                              <td className=\"text-end\">{formatCurrencyNotRound(item.share_price, roundData?.currency)}</td>\r\n                              <td>{item.round_name}</td>\r\n                            </tr>\r\n                          ))}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th>TOTAL</th>\r\n                            <th className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_shares)}</th>\r\n                            <th className=\"text-end\">\r\n                              <span className=\"badge bg-success\">\r\n                                +{formatNumber(capTableData.post_money.totals.total_new_shares || 0)}\r\n                              </span>\r\n                            </th>\r\n                            <th className=\"text-end\">100%</th>\r\n                            <th className=\"text-end\">{formatCurrency(capTableData.post_money.totals.total_value, roundData?.currency)}</th>\r\n                            <th></th>\r\n                            <th></th>\r\n                          </tr>\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n\r\n                    {/* Post-Money Summary */}\r\n                    <div className=\"row mt-4\">\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-primary text-white\">\r\n                          <div className=\"card-body text-center\">\r\n                            <h6 className=\"card-subtitle mb-2\">Total Shares</h6>\r\n                            <h4 className=\"card-title\">{formatNumber(capTableData.post_money.totals.total_shares)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-success text-white\">\r\n                          <div className=\"card-body text-center\">\r\n                            <h6 className=\"card-subtitle mb-2\">New Shares</h6>\r\n                            <h4 className=\"card-title\">+{formatNumber(capTableData.post_money.totals.total_new_shares || 0)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-info text-white\">\r\n                          <div className=\"card-body text-center\">\r\n                            <h6 className=\"card-subtitle mb-2\">Founders</h6>\r\n                            <h4 className=\"card-title\">\r\n                              {formatPercentage(\r\n                                (capTableData.post_money.totals.total_founders /\r\n                                  capTableData.post_money.totals.total_shares) * 100\r\n                              )}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-warning text-white\">\r\n                          <div className=\"card-body text-center\">\r\n                            <h6 className=\"card-subtitle mb-2\">Investors</h6>\r\n                            <h4 className=\"card-title\">\r\n                              {formatPercentage(\r\n                                (capTableData.post_money.totals.total_investors /\r\n                                  capTableData.post_money.totals.total_shares) * 100\r\n                              )}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-secondary text-white\">\r\n                          <div className=\"card-body text-center\">\r\n                            <h6 className=\"card-subtitle mb-2\">Option Pool</h6>\r\n                            <h4 className=\"card-title\">\r\n                              {formatPercentage(\r\n                                (capTableData.post_money.totals.total_option_pool /\r\n                                  capTableData.post_money.totals.total_shares) * 100\r\n                              )}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-2\">\r\n                        <div className=\"card bg-dark text-white\">\r\n                          <div className=\"card-body text-center\">\r\n                            <h6 className=\"card-subtitle mb-2\">Total Value</h6>\r\n                            <h4 className=\"card-title\">{formatCurrency(capTableData.post_money.totals.total_value, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* CPAVATE Summary Tab */}\r\n              {activeTab === 'summary' && summaryDetails && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">CPAVATE Calculation Summary</h5>\r\n                    <small className=\"text-muted\">Detailed breakdown based on CPAVATE formulas</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    {/* Key Metrics */}\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Pre-Money Valuation</h6>\r\n                            <h4 className=\"card-title text-primary\">{formatCurrency(calculations.pre_money_valuation, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Investment</h6>\r\n                            <h4 className=\"card-title text-success\">{formatCurrency(roundData?.investment, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Post-Money Valuation</h6>\r\n                            <h4 className=\"card-title text-info\">{formatCurrency(calculations.post_money_valuation, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Share Details */}\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"card\">\r\n                          <div className=\"card-header\">\r\n                            <h6 className=\"mb-0\">Share Price Calculation</h6>\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Pre-Money Share Price:</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatCurrency(calculations.pre_money_valuation, roundData?.currency)}  {formatNumber(summaryDetails.totalSharesPre)} shares =\r\n                                <strong className=\"ms-2\">{formatCurrencyNotRound(summaryDetails.sharePricePre, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Post-Money Share Price:</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatCurrency(calculations.post_money_valuation, roundData?.currency)}  {formatNumber(summaryDetails.totalSharesPost)} shares =\r\n                                <strong className=\"ms-2\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"card\">\r\n                          <div className=\"card-header\">\r\n                            <h6 className=\"mb-0\">Shareholder Values</h6>\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Founder Value (Pre-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.pre_money.totals.total_founders)} shares  {formatCurrencyNotRound(summaryDetails.sharePricePre, roundData?.currency)} =\r\n                                <strong className=\"ms-2 text-primary\">{formatCurrency(summaryDetails.founderValuePre, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Founder Value (Post-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.post_money.totals.total_founders)} shares  {formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)} =\r\n                                <strong className=\"ms-2 text-success\">{formatCurrency(summaryDetails.founderValuePost, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Investor Value (Post-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.post_money.totals.total_investors)} shares  {formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)} =\r\n                                <strong className=\"ms-2 text-warning\">{formatCurrency(summaryDetails.investorValue, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Detailed Breakdown */}\r\n                    <div className=\"card mb-4\">\r\n                      <div className=\"card-header\">\r\n                        <h6 className=\"mb-0\">Detailed Ownership Breakdown</h6>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-sm\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>Shareholder Type</th>\r\n                                <th className=\"text-end\">Shares</th>\r\n                                <th className=\"text-end\">% Ownership</th>\r\n                                <th className=\"text-end\">Value (Post-Money)</th>\r\n                                <th className=\"text-end\">Value per Share</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td><strong>Founders</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_founders)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_founders / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-primary\">{formatCurrency(summaryDetails.founderValuePost, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td><strong>Investors</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_investors)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_investors / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-success\">{formatCurrency(summaryDetails.investorValue, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td><strong>Option Pool</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_option_pool)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_option_pool / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-warning\">{formatCurrency(summaryDetails.optionPoolValue, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</td>\r\n                              </tr>\r\n                              <tr className=\"table-active\">\r\n                                <td><strong>TOTAL</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatNumber(summaryDetails.totalSharesPost)}</strong></td>\r\n                                <td className=\"text-end\"><strong>100%</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatCurrency(summaryDetails.totalSharesPost * summaryDetails.sharePricePost, roundData?.currency)}</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</strong></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Charts */}\r\n                    {(preMoneyChartData || postMoneyChartData) && (\r\n                      <div className=\"row\">\r\n                        {/* Pre-Money Chart */}\r\n                        {preMoneyChartData && (\r\n                          <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                              <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                <h6 className=\"mb-0\">Pre-Money Distribution</h6>\r\n                                <span className=\"badge bg-primary\">\r\n                                  Total: {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)} shares\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                  {/* Chart - Left Side */}\r\n                                  <div className=\"col-md-12\" style={{ height: '300px' }}>\r\n                                    <Pie\r\n                                      data={preMoneyChartData}\r\n                                      options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        cutout: '50%',\r\n                                        plugins: {\r\n                                          datalabels: {\r\n                                            display: function (context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const currentValue = dataset.data[context.dataIndex];\r\n                                              const percentage = (currentValue / total) * 100;\r\n                                              return percentage >= 3; // Only show for slices >= 3%\r\n                                            },\r\n                                            formatter: function (value, context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = ((value / total) * 100).toFixed(1);\r\n                                              return percentage + '%';\r\n                                            },\r\n                                            color: '#fff',\r\n                                            font: {\r\n                                              weight: 'bold',\r\n                                              size: 11\r\n                                            },\r\n                                            textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                            padding: 6\r\n                                          },\r\n                                          legend: {\r\n                                            display: false\r\n                                          },\r\n                                          tooltip: {\r\n                                            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                            titleColor: '#fff',\r\n                                            bodyColor: '#fff',\r\n                                            borderColor: '#333',\r\n                                            borderWidth: 1,\r\n                                            cornerRadius: 6,\r\n                                            padding: 12,\r\n                                            displayColors: true,\r\n                                            callbacks: {\r\n                                              label: function (context) {\r\n                                                const label = context.label || '';\r\n                                                const value = context.parsed || 0;\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n\r\n                                                const sharePrice = roundData?.share_price || 0;\r\n                                                const valueAmount = value * sharePrice;\r\n\r\n                                                return [\r\n                                                  `${label}`,\r\n                                                  `Shares: ${formatNumber(value)}`,\r\n                                                  `Ownership: ${percentage}%`,\r\n                                                  `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                  `Price/Share: ${formatCurrencyNotRound(sharePrice, roundData?.currency)}`\r\n                                                ];\r\n                                              },\r\n                                              title: function (tooltipItems) {\r\n                                                const index = tooltipItems[0].dataIndex;\r\n                                                const item = capTableData?.pre_money?.items?.[index];\r\n                                                if (item?.type === 'founder') {\r\n                                                  return ` Founder: ${item.name}`;\r\n                                                } else if (item?.type === 'investor') {\r\n                                                  return ` Investor: ${item.name}`;\r\n                                                } else if (item?.type === 'option_pool') {\r\n                                                  return ` Option Pool: ${item.name}`;\r\n                                                }\r\n                                                return tooltipItems[0].label;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  {/* Custom Legend with Permanent Percentage - Right Side */}\r\n                                  <div className=\"col-md-12\">\r\n                                    <div className=\"chart-legend-permanent h-100\">\r\n                                      <h6 className=\"mb-3 text-center fw-semibold\">Ownership Distribution</h6>\r\n                                      <div className=\"legend-list\" style={{ maxHeight: '240px', overflowY: 'auto' }}>\r\n                                        {capTableData?.pre_money?.items?.map((item, index) => {\r\n                                          const total = capTableData.pre_money.totals.total_shares || 1;\r\n                                          const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                          const colors = [\r\n                                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                                            '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                                            '#6A0572', '#118AB2', '#06D6A0', '#FFD166'\r\n                                          ];\r\n                                          const color = colors[index % colors.length];\r\n\r\n                                          // Get display name\r\n                                          let displayName = item.name;\r\n                                          if (item.type === 'founder' && item.founder_code) {\r\n                                            displayName = `${item.founder_code} - ${item.name}`;\r\n                                          } else if (item.type === 'investor') {\r\n                                            displayName = ` ${item.name}`;\r\n                                          } else if (item.type === 'option_pool') {\r\n                                            displayName = ` ${item.name}`;\r\n                                          }\r\n\r\n                                          return (\r\n                                            <div key={index} className=\"legend-item d-flex align-items-center mb-2 p-2 border rounded\">\r\n                                              <div\r\n                                                className=\"legend-color me-2 flex-shrink-0\"\r\n                                                style={{\r\n                                                  width: '14px',\r\n                                                  height: '14px',\r\n                                                  borderRadius: '50%',\r\n                                                  backgroundColor: color,\r\n                                                  border: '2px solid #fff',\r\n                                                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                                }}\r\n                                              ></div>\r\n                                              <div className=\"legend-text flex-grow-1\">\r\n                                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                  <small className=\"fw-semibold text-truncate\" style={{ maxWidth: '100px' }}>\r\n                                                    {displayName}\r\n                                                  </small>\r\n                                                  <span className=\"badge bg-primary ms-2\">\r\n                                                    {percentage}%\r\n                                                  </span>\r\n                                                </div>\r\n                                                <small className=\"text-muted d-block\">\r\n                                                  {formatNumber(item.shares || 0)} shares\r\n                                                </small>\r\n                                                {item.type === 'founder' && item.email && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    {item.email}\r\n                                                  </small>\r\n                                                )}\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        })}\r\n                                      </div>\r\n\r\n                                      {/* Total Summary */}\r\n                                      <div className=\"legend-total mt-3 pt-3 border-top\">\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Total Shares:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Share Price:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                          <small className=\"text-muted\">Total Value:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrency(capTableData?.pre_money?.totals?.total_value || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Chart Statistics */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Shares</small></p>\r\n                                        <h6 className=\"mb-0\">{formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Share Price</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Value</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrency(capTableData?.pre_money?.totals?.total_value || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Post-Money Chart */}\r\n                        {postMoneyChartData && (\r\n                          <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                              <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                <h6 className=\"mb-0\">Post-Money Distribution</h6>\r\n                                <span className=\"badge bg-success\">\r\n                                  Total: {formatNumber(capTableData?.post_money?.totals?.total_shares || 0)} shares\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                  {/* Chart - Left Side */}\r\n                                  <div className=\"col-md-12\" style={{ height: '300px' }}>\r\n                                    <Pie\r\n                                      data={postMoneyChartData}\r\n                                      options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        cutout: '50%',\r\n                                        plugins: {\r\n                                          datalabels: {\r\n                                            display: function (context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const currentValue = dataset.data[context.dataIndex];\r\n                                              const percentage = (currentValue / total) * 100;\r\n                                              return percentage >= 3; // Only show for slices >= 3%\r\n                                            },\r\n                                            formatter: function (value, context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = ((value / total) * 100).toFixed(1);\r\n                                              return percentage + '%';\r\n                                            },\r\n                                            color: '#fff',\r\n                                            font: {\r\n                                              weight: 'bold',\r\n                                              size: 11\r\n                                            },\r\n                                            textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                            padding: 6\r\n                                          },\r\n                                          legend: {\r\n                                            display: false\r\n                                          },\r\n                                          tooltip: {\r\n                                            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                            titleColor: '#fff',\r\n                                            bodyColor: '#fff',\r\n                                            borderColor: '#333',\r\n                                            borderWidth: 1,\r\n                                            cornerRadius: 6,\r\n                                            padding: 12,\r\n                                            displayColors: true,\r\n                                            callbacks: {\r\n                                              label: function (context) {\r\n                                                const label = context.label || '';\r\n                                                const value = context.parsed || 0;\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n\r\n                                                const sharePrice = roundData?.share_price || 0;\r\n                                                const valueAmount = value * sharePrice;\r\n\r\n                                                return [\r\n                                                  `${label}`,\r\n                                                  `Shares: ${formatNumber(value)}`,\r\n                                                  `Ownership: ${percentage}%`,\r\n                                                  `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                  `Price/Share: ${formatCurrencyNotRound(sharePrice, roundData?.currency)}`\r\n                                                ];\r\n                                              },\r\n                                              title: function (tooltipItems) {\r\n                                                const index = tooltipItems[0].dataIndex;\r\n                                                const item = capTableData?.post_money?.items?.[index];\r\n\r\n                                                if (item) {\r\n                                                  if (item.type === 'founder') {\r\n                                                    return ` Founder: ${item.name}`;\r\n                                                  } else if (item.type === 'investor') {\r\n                                                    return ` Investor: ${item.name}`;\r\n                                                  } else if (item.type === 'option_pool') {\r\n                                                    return ` Option Pool: ${item.name}`;\r\n                                                  }\r\n                                                }\r\n                                                return tooltipItems[0].label;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  {/* Custom Legend with Permanent Percentage - Right Side */}\r\n                                  <div className=\"col-md-12\">\r\n                                    <div className=\"chart-legend-permanent h-100\">\r\n                                      <h6 className=\"mb-3 text-center fw-semibold\">Ownership Distribution</h6>\r\n                                      <div className=\"legend-list\" style={{ maxHeight: '240px', overflowY: 'auto' }}>\r\n                                        {capTableData?.post_money?.items?.map((item, index) => {\r\n                                          const total = capTableData.post_money.totals.total_shares || 1;\r\n                                          const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                          const colors = [\r\n                                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                                            '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                                            '#6A0572', '#118AB2', '#06D6A0', '#FFD166'\r\n                                          ];\r\n                                          const color = colors[index % colors.length];\r\n\r\n                                          // Get display name with emojis\r\n                                          let displayName = item.name;\r\n                                          let emoji = '';\r\n                                          if (item.type === 'founder') {\r\n                                            emoji = ' ';\r\n                                            if (item.founder_code) {\r\n                                              displayName = `${item.founder_code} - ${item.name}`;\r\n                                            }\r\n                                          } else if (item.type === 'investor') {\r\n                                            emoji = ' ';\r\n                                            if (item.is_converted) {\r\n                                              displayName = ` ${item.name} (Converted)`;\r\n                                            } else if (item.is_new_investment) {\r\n                                              displayName = ` ${item.name}`;\r\n                                            }\r\n                                          } else if (item.type === 'option_pool') {\r\n                                            emoji = ' ';\r\n                                          } else if (item.type === 'pending') {\r\n                                            emoji = ' ';\r\n                                          }\r\n\r\n                                          return (\r\n                                            <div key={index} className=\"legend-item d-flex align-items-center mb-2 p-2 border rounded\">\r\n                                              <div\r\n                                                className=\"legend-color me-2 flex-shrink-0\"\r\n                                                style={{\r\n                                                  width: '14px',\r\n                                                  height: '14px',\r\n                                                  borderRadius: '50%',\r\n                                                  backgroundColor: color,\r\n                                                  border: '2px solid #fff',\r\n                                                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                                }}\r\n                                              ></div>\r\n                                              <div className=\"legend-text flex-grow-1\">\r\n                                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                  <small className=\"fw-semibold text-truncate\" style={{ maxWidth: '100px' }}>\r\n                                                    {emoji}{displayName}\r\n                                                  </small>\r\n                                                  <span className=\"badge bg-success ms-2\">\r\n                                                    {percentage}%\r\n                                                  </span>\r\n                                                </div>\r\n                                                <small className=\"text-muted d-block\">\r\n                                                  {formatNumber(item.shares || 0)} shares\r\n                                                  {item.new_shares > 0 && (\r\n                                                    <span className=\"text-success ms-2\">\r\n                                                      (+{formatNumber(item.new_shares)})\r\n                                                    </span>\r\n                                                  )}\r\n                                                </small>\r\n                                                {item.round_name && item.round_name !== 'Founding Share Allocation' && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    {item.round_name}\r\n                                                  </small>\r\n                                                )}\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        })}\r\n                                      </div>\r\n\r\n                                      {/* Total Summary */}\r\n                                      <div className=\"legend-total mt-3 pt-3 border-top\">\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Total Shares:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatNumber(capTableData?.post_money?.totals?.total_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">New Shares:</small>\r\n                                          <small className=\"fw-semibold text-success\">\r\n                                            +{formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Share Price:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                          <small className=\"text-muted\">Total Value:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrency(capTableData?.post_money?.totals?.total_value || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Post-Money Statistics */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Shares</small></p>\r\n                                        <h6 className=\"mb-0\">{formatNumber(capTableData?.post_money?.totals?.total_shares || 0)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>New Shares</small></p>\r\n                                        <h6 className=\"mb-0 text-success\">\r\n                                          +{formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}\r\n                                        </h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Share Price</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Value</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrency(capTableData?.post_money?.totals?.total_value || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  {/* Ownership Breakdown */}\r\n                                  <div className=\"row mt-3\">\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Founders</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-info me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_founders /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Investors</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-success me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_investors /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Option Pool</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-warning me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_option_pool /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                              <h6 className=\"mb-0\">Ownership Percentage Comparison</h6>\r\n                              <div>\r\n                                <span className=\"badge bg-primary me-2\">Pre-Money</span>\r\n                                <span className=\"badge bg-danger\">Post-Money</span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                              <div style={{ height: '400px' }}>\r\n                                <Bar\r\n                                  data={{\r\n                                    labels: capTableData?.pre_money?.items?.map(item => {\r\n                                      // Shorten long names\r\n                                      const name = item.name || '';\r\n                                      return name.length > 20 ? name.substring(0, 20) + '...' : name;\r\n                                    }) || [],\r\n                                    datasets: [\r\n                                      {\r\n                                        label: 'Pre-Money %',\r\n                                        data: capTableData?.pre_money?.items?.map(item => {\r\n                                          const total = capTableData.pre_money.totals.total_shares || 1;\r\n                                          return parseFloat(((item.shares || 0) / total * 100).toFixed(1));\r\n                                        }) || [],\r\n                                        backgroundColor: '#4e73df',\r\n                                        borderColor: '#4e73df',\r\n                                        borderWidth: 2,\r\n                                        borderRadius: 5,\r\n                                        barPercentage: 0.4\r\n                                      },\r\n                                      {\r\n                                        label: 'Post-Money %',\r\n                                        data: capTableData?.post_money?.items?.map(item => {\r\n                                          const total = capTableData.post_money.totals.total_shares || 1;\r\n                                          return parseFloat(((item.shares || 0) / total * 100).toFixed(1));\r\n                                        }) || [],\r\n                                        backgroundColor: '#e74a3b',\r\n                                        borderColor: '#e74a3b',\r\n                                        borderWidth: 2,\r\n                                        borderRadius: 5,\r\n                                        barPercentage: 0.4\r\n                                      }\r\n                                    ]\r\n                                  }}\r\n                                  options={{\r\n                                    responsive: true,\r\n                                    maintainAspectRatio: false,\r\n                                    plugins: {\r\n                                      legend: {\r\n                                        position: 'top',\r\n                                        labels: {\r\n                                          boxWidth: 12,\r\n                                          padding: 15,\r\n                                          font: {\r\n                                            size: 12\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      tooltip: {\r\n                                        backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                        titleColor: '#fff',\r\n                                        bodyColor: '#fff',\r\n                                        borderColor: '#333',\r\n                                        borderWidth: 1,\r\n                                        cornerRadius: 6,\r\n                                        padding: 12,\r\n                                        displayColors: true,\r\n                                        callbacks: {\r\n                                          label: function (context) {\r\n                                            const label = context.dataset.label || '';\r\n                                            const value = context.parsed.y || 0;\r\n\r\n                                            // Find the item\r\n                                            const itemIndex = context.dataIndex;\r\n                                            const preItem = capTableData?.pre_money?.items?.[itemIndex];\r\n                                            const postItem = capTableData?.post_money?.items?.[itemIndex];\r\n\r\n                                            let tooltipText = `${label}: ${value}%`;\r\n\r\n                                            if (preItem && postItem) {\r\n                                              const preShares = preItem.shares || 0;\r\n                                              const postShares = postItem.shares || 0;\r\n                                              const shareDiff = postShares - preShares;\r\n\r\n                                              if (shareDiff !== 0) {\r\n                                                tooltipText += `\\nShares Change: ${shareDiff > 0 ? '+' : ''}${formatNumber(shareDiff)}`;\r\n                                              }\r\n                                            }\r\n\r\n                                            return tooltipText;\r\n                                          },\r\n                                          afterLabel: function (context) {\r\n                                            const itemIndex = context.dataIndex;\r\n                                            const item = capTableData?.post_money?.items?.[itemIndex];\r\n\r\n                                            if (item?.type) {\r\n                                              return `Type: ${item.type.charAt(0).toUpperCase() + item.type.slice(1)}`;\r\n                                            }\r\n                                            return '';\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      datalabels: {\r\n                                        display: true,\r\n                                        formatter: function (value) {\r\n                                          return value + '%';\r\n                                        },\r\n                                        color: '#fff',\r\n                                        font: {\r\n                                          weight: 'bold',\r\n                                          size: 10\r\n                                        },\r\n                                        anchor: 'center',\r\n                                        align: 'center'\r\n                                      }\r\n                                    },\r\n                                    scales: {\r\n                                      x: {\r\n                                        grid: {\r\n                                          display: false\r\n                                        },\r\n                                        title: {\r\n                                          display: true,\r\n                                          text: 'Stakeholders',\r\n                                          font: {\r\n                                            size: 12,\r\n                                            weight: 'bold'\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      y: {\r\n                                        beginAtZero: true,\r\n                                        max: 100,\r\n                                        ticks: {\r\n                                          callback: function (value) {\r\n                                            return value + '%';\r\n                                          },\r\n                                          stepSize: 10\r\n                                        },\r\n                                        title: {\r\n                                          display: true,\r\n                                          text: 'Ownership Percentage',\r\n                                          font: {\r\n                                            size: 12,\r\n                                            weight: 'bold'\r\n                                          }\r\n                                        },\r\n                                        grid: {\r\n                                          color: 'rgba(0, 0, 0, 0.05)'\r\n                                        }\r\n                                      }\r\n                                    }\r\n                                  }}\r\n                                />\r\n                              </div>\r\n\r\n                              {/* Summary Statistics */}\r\n                              <div className=\"row mt-4\">\r\n                                <div className=\"col-md-4\">\r\n                                  <div className=\"card bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"text-muted mb-2\">Total Stakeholders</h6>\r\n                                      <h3 className=\"mb-0\">\r\n                                        {capTableData?.pre_money?.items?.length || 0}\r\n                                      </h3>\r\n                                      <small className=\"text-muted\">Same in Pre & Post</small>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"col-md-4\">\r\n                                  <div className=\"card bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"text-muted mb-2\">Avg Dilution</h6>\r\n                                      <h3 className=\"mb-0\">\r\n                                        {(() => {\r\n                                          const preTotal = capTableData?.pre_money?.totals?.total_shares || 1;\r\n                                          const postTotal = capTableData?.post_money?.totals?.total_shares || 1;\r\n                                          const dilution = ((postTotal - preTotal) / postTotal * 100).toFixed(1);\r\n                                          return `${dilution}%`;\r\n                                        })()}\r\n                                      </h3>\r\n                                      <small className=\"text-muted\">For existing shareholders</small>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"col-md-4\">\r\n                                  <div className=\"card bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"text-muted mb-2\">Largest Change</h6>\r\n                                      <h3 className=\"mb-0\">\r\n                                        {(() => {\r\n                                          let maxChange = 0;\r\n                                          if (capTableData?.pre_money?.items && capTableData?.post_money?.items) {\r\n                                            capTableData.pre_money.items.forEach((preItem, index) => {\r\n                                              const postItem = capTableData.post_money.items[index];\r\n                                              if (preItem && postItem) {\r\n                                                const preTotal = capTableData.pre_money.totals.total_shares || 1;\r\n                                                const postTotal = capTableData.post_money.totals.total_shares || 1;\r\n                                                const prePercent = (preItem.shares / preTotal * 100);\r\n                                                const postPercent = (postItem.shares / postTotal * 100);\r\n                                                const change = Math.abs(postPercent - prePercent);\r\n                                                if (change > maxChange) maxChange = change;\r\n                                              }\r\n                                            });\r\n                                          }\r\n                                          return `${maxChange.toFixed(1)}%`;\r\n                                        })()}\r\n                                      </h3>\r\n                                      <small className=\"text-muted\">Maximum percentage change</small>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Pending Conversions Tab */}\r\n              {activeTab === 'pending' && pendingConversions.length > 0 && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-warning\">\r\n                    <h5 className=\"mb-0\">Pending Conversions</h5>\r\n                    <small className=\"text-white\">SAFE/Convertible Notes waiting to convert</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Instrument</th>\r\n                            <th>Round</th>\r\n                            <th className=\"text-end\">Investment</th>\r\n                            <th className=\"text-end\">Conversion Price</th>\r\n                            <th className=\"text-end\">Potential Shares</th>\r\n                            <th>Discount</th>\r\n                            <th>Valuation Cap</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {pendingConversions.map((conv, index) => {\r\n                            const mappedConv = {\r\n                              instrument: conv.instrument_type || conv.instrument,\r\n                              round_name: conv.round_name,\r\n                              investment: conv.investment_amount || conv.investment,\r\n                              conversion_price: conv.share_price || conv.conversion_price,\r\n                              potential_shares: conv.estimated_shares || conv.potential_shares,\r\n                              discount_rate: conv.instrument_data?.discountRate_note || conv.discount_rate,\r\n                              valuation_cap: conv.instrument_data?.valuationCap_note || conv.valuation_cap\r\n                            };\r\n\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td>\r\n                                  <span className={`badge ${mappedConv.instrument === 'Safe' ? 'bg-primary' : 'bg-info'}`}>\r\n                                    {mappedConv.instrument}\r\n                                  </span>\r\n                                </td>\r\n                                <td>{mappedConv.round_name}</td>\r\n                                <td className=\"text-end\">{formatCurrency(mappedConv.investment, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrency(mappedConv.conversion_price, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatNumber(mappedConv.potential_shares)}</td>\r\n                                <td>{mappedConv.discount_rate}%</td>\r\n                                <td>{formatCurrency(mappedConv.valuation_cap, roundData?.currency)}</td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Calculations Summary */}\r\n              {roundData?.type !== 'Round 0' && (\r\n                <div className=\"card mt-4\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h6 className=\"mb-0\">Valuation Summary</h6>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p className=\"mb-1\"><strong>Pre-Money Valuation</strong></p>\r\n                        <h4>{formatCurrency(calculations.pre_money_valuation, roundData?.currency)}</h4>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p className=\"mb-1\"><strong>Investment</strong></p>\r\n                        <h4 className=\"text-success\">{formatCurrency(roundData?.investment, roundData?.currency)}</h4>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p className=\"mb-1\"><strong>Post-Money Valuation</strong></p>\r\n                        <h4 className=\"text-info\">{formatCurrency(calculations.post_money_valuation, roundData?.currency)}</h4>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <p className=\"mb-1\"><strong>Total Shares Outstanding</strong></p>\r\n                        <h5>{formatNumber(calculations.total_shares_outstanding)}</h5>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <p className=\"mb-1\"><strong>Share Price</strong></p>\r\n                        <h5>{formatCurrencyNotRound(calculations.share_price, roundData?.currency)}</h5>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Back Button */}\r\n              <div className=\"mt-4\">\r\n                <button className=\"btn btn-secondary\" onClick={() => navigate(-1)}>\r\n                  <i className=\"bi bi-arrow-left me-2\"></i>\r\n                  Back to Rounds List\r\n                </button>\r\n                <button className=\"btn btn-primary ms-2\" onClick={getCapTableData}>\r\n                  <i className=\"bi bi-arrow-clockwise me-2\"></i>\r\n                  Refresh Data\r\n                </button>\r\n              </div>\r\n\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}"],"names":["RecordRoundCaptable","_capTableData$pre_mon","_capTableData$pre_mon2","_capTableData$pre_mon3","_capTableData$pre_mon4","_capTableData$pre_mon11","_capTableData$pre_mon12","_capTableData$pre_mon13","_capTableData$pre_mon14","_capTableData$pre_mon15","_capTableData$pre_mon16","_capTableData$pre_mon17","_capTableData$pre_mon18","_capTableData$pre_mon21","_capTableData$pre_mon22","_capTableData$pre_mon23","_capTableData$pre_mon24","_capTableData$pre_mon25","_capTableData$pre_mon26","_capTableData$pre_mon27","_capTableData$pre_mon28","_capTableData$pre_mon29","_capTableData$pre_mon30","_capTableData$post_mo","_capTableData$post_mo2","_capTableData$post_mo5","_capTableData$post_mo6","_capTableData$post_mo7","_capTableData$post_mo8","_capTableData$post_mo9","_capTableData$post_mo10","_capTableData$post_mo11","_capTableData$post_mo12","_capTableData$post_mo13","_capTableData$post_mo14","_capTableData$post_mo15","_capTableData$post_mo16","_capTableData$post_mo17","_capTableData$post_mo18","_capTableData$post_mo19","_capTableData$post_mo20","_capTableData$post_mo21","_capTableData$post_mo22","_capTableData$post_mo23","_capTableData$post_mo24","_capTableData$post_mo25","_capTableData$post_mo26","_capTableData$post_mo27","_capTableData$post_mo28","_capTableData$post_mo29","_capTableData$post_mo30","_capTableData$pre_mon31","_capTableData$pre_mon32","_capTableData$pre_mon33","_capTableData$pre_mon34","_capTableData$post_mo31","_capTableData$post_mo32","_capTableData$pre_mon37","_capTableData$pre_mon38","id","useParams","navigate","useNavigate","API_URL_CAPTABLE","API_BASE_URL","storedUsername","localStorage","getItem","userLogin","JSON","parse","loading","setLoading","useState","error","setError","capTableData","setCapTableData","pre_money","items","totals","post_money","roundData","setRoundData","pendingConversions","setPendingConversions","calculations","setCalculations","summaryDetails","setSummaryDetails","preMoneyChartData","setPreMoneyChartData","postMoneyChartData","setPostMoneyChartData","activeTab","setActiveTab","isCollapsed","setIsCollapsed","formatCurrency","amount","currency","arguments","length","undefined","cleanCurrency","trim","split","currencyCode","includes","toUpperCase","Intl","NumberFormat","style","minimumFractionDigits","format","parseFloat","toFixed","formatCurrencyNotRound","numAmount","maximumFractionDigits","formatPercentage","value","formatNumber","num","getCapTableData","useCallback","async","formData","company_id","companies","round_id","res","axios","post","headers","Accept","data","success","_capTable$pre_money","_capTable$pre_money$i","_capTable$post_money","_capTable$post_money$","capTable","cap_table","round","pending_conversions","console","log","calculateSummaryDetails","preMoneyData","labels","map","item","name","datasets","label","shares","backgroundColor","borderWidth","postMoneyData","message","err","_err$response","_err$response$data","response","preMoneyTable","postMoneyTable","preMoneyVal","postMoneyVal","investment","totalSharesPre","total_shares","totalSharesPost","sharePricePre","sharePricePost","founderShares","filter","type","reduce","sum","founderValuePre","founderValuePost","investorValue","optionPoolShares","total_option_pool","optionPoolValue","useEffect","_jsx","Wrapper","children","className","_jsxs","ModuleSideNav","TopBar","SectionWrapper","role","onClick","instrument","status","input","date","Date","isNaN","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","toString","padStart","ampm","getSeconds","n","getOrdinal","formatCurrentDate","share_price","issued_shares","option_pool_percent","_Fragment","index","founder_code","email","percentage","share_type","voting","round_name","colSpan","total_value","height","position","Pie","indexOf","borderColor","options","responsive","maintainAspectRatio","cutout","plugins","datalabels","display","context","dataset","total","a","b","dataIndex","formatter","color","font","weight","size","textShadow","padding","borderRadius","legend","usePointStyle","pointStyle","generateLabels","chart","i","_capTableData$pre_mon5","_capTableData$pre_mon6","displayLabel","text","fillStyle","strokeStyle","lineWidth","hidden","getDatasetMeta","fontColor","tooltip","titleColor","bodyColor","cornerRadius","displayColors","callbacks","_capTableData$pre_mon7","_capTableData$pre_mon8","parsed","itemIndex","sharePrice","valueAmount","title","tooltipItems","_capTableData$pre_mon9","_capTableData$pre_mon10","maxHeight","overflowY","colors","width","fontSize","total_founders","total_investors","new_shares","total_new_shares","pre_money_valuation","post_money_valuation","_capTableData$pre_mon19","_capTableData$pre_mon20","displayName","border","boxShadow","maxWidth","_capTableData$post_mo3","_capTableData$post_mo4","emoji","is_converted","is_new_investment","Bar","substring","barPercentage","boxWidth","_capTableData$pre_mon35","_capTableData$pre_mon36","_capTableData$post_mo33","_capTableData$post_mo34","y","preItem","postItem","tooltipText","preShares","shareDiff","afterLabel","_capTableData$post_mo35","_capTableData$post_mo36","charAt","slice","anchor","align","scales","x","grid","beginAtZero","max","ticks","callback","stepSize","_capTableData$pre_mon39","_capTableData$pre_mon40","_capTableData$post_mo37","_capTableData$post_mo38","preTotal","postTotal","_capTableData$pre_mon41","_capTableData$post_mo39","maxChange","forEach","prePercent","postPercent","change","Math","abs","conv","_conv$instrument_data","_conv$instrument_data2","mappedConv","instrument_type","investment_amount","conversion_price","potential_shares","estimated_shares","discount_rate","instrument_data","discountRate_note","valuation_cap","valuationCap_note","total_shares_outstanding","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","ChartDataLabels"],"sourceRoot":""}