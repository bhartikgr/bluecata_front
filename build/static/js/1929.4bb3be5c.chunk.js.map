{"version":3,"file":"static/js/1929.4bb3be5c.chunk.js","mappings":"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","sources":["pages/User/Investor/RecordRoundCaptable.jsx","components/CurrencyFormatter.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n} from 'chart.js';\r\nimport CurrencyFormatter from \"../../../components/CurrencyFormatter.jsx\";\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  ChartDataLabels\r\n);\r\n\r\nexport default function RecordRoundCaptable() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const API_URL_CAPTABLE = `${API_BASE_URL}api/user/capitalround/`;\r\n  const apiUrlRound = API_BASE_URL + \"api/user/capitalround/\";\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [capTableData, setCapTableData] = useState({\r\n    pre_money: { items: [], totals: {} },\r\n    post_money: { items: [], totals: {} }\r\n  });\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [pendingConversions, setPendingConversions] = useState([]);\r\n  const [calculations, setCalculations] = useState({});\r\n  const [summaryDetails, setSummaryDetails] = useState(null);\r\n\r\n  // Chart states\r\n  const [preMoneyChartData, setPreMoneyChartData] = useState(null);\r\n  const [postMoneyChartData, setPostMoneyChartData] = useState(null);\r\n\r\n  const [activeTab, setActiveTab] = useState(\"pre-money\");\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  const [conversionStatus, setConversionStatus] = useState(null);\r\n  const [conversionData, setConversionData] = useState([]); //  ADD THIS LINE\r\n  // Format currency function\r\n\r\n  const [currencyMap, setCurrencyMap] = useState({});\r\n\r\n\r\n  // Fetch currency symbols from API\r\n  useEffect(() => {\r\n    const getCountrySymbolList = async () => {\r\n      let formData = { id: \"\" };\r\n      try {\r\n        const res = await axios.post(\r\n          apiUrlRound + \"getallcountrySymbolList\",\r\n          formData,\r\n          {\r\n            headers: {\r\n              Accept: \"application/json\",\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n          }\r\n        );\r\n\r\n        const respo = res.data.results;\r\n\r\n        // Create a map of currency_code -> currency_symbol for quick lookup\r\n        const currencySymbolMap = {};\r\n        respo.forEach(country => {\r\n          if (country.currency_code && !currencySymbolMap[country.currency_code]) {\r\n            currencySymbolMap[country.currency_code] = {\r\n              symbol: country.currency_symbol,\r\n              name: country.currency_name\r\n            };\r\n          }\r\n        });\r\n\r\n        setCurrencyMap(currencySymbolMap);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Error fetching currency symbols:', err);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    getCountrySymbolList();\r\n  }, [apiUrlRound]);\r\n  const formatCurrency = (amount, currency = 'USD') => {\r\n    const numAmount = parseFloat(amount) || 0;\r\n    const cleanCurrency = currency?.trim()?.toUpperCase() || 'USD';\r\n\r\n    try {\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: cleanCurrency,\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      const symbol = currencyMap?.[cleanCurrency]?.symbol || cleanCurrency;\r\n      return `${symbol} ${numAmount.toFixed(2)}`;\r\n    }\r\n  };\r\n  const formatCurrencyNotRound = (amount, currency = 'USD') => {\r\n    const numAmount = parseFloat(amount) || 0;\r\n    const cleanCurrency = currency?.trim()?.toUpperCase() || 'USD';\r\n\r\n    try {\r\n      return new Intl.NumberFormat('en-US', {\r\n        style: 'currency',\r\n        currency: cleanCurrency,\r\n        minimumFractionDigits: 3,\r\n        maximumFractionDigits: 3,\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n\r\n      const symbol = currencyMap?.[cleanCurrency]?.symbol || cleanCurrency;\r\n      return `${symbol} ${numAmount.toFixed(2)}`;\r\n    }\r\n  };\r\n\r\n  const formatPercentage = (value) => {\r\n    if (!value && value !== 0) return '0.00%';\r\n    return `${parseFloat(value).toFixed(2)}%`;\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    if (!num && num !== 0) return '0';\r\n    return new Intl.NumberFormat('en-US').format(num);\r\n  };\r\n\r\n  // Data fetching function\r\n  const getCapTableData = useCallback(async () => {\r\n    if (!id || !userLogin) {\r\n      setError(\"Missing required parameters\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        const capTable = res.data.cap_table || {\r\n          pre_money: { items: [], totals: {} },\r\n          post_money: { items: [], totals: {} }\r\n        };\r\n        console.log(res.data)\r\n        setCapTableData(capTable);\r\n        setConversionStatus(res.data.conversion_status);\r\n        setRoundData(res.data.round || null);\r\n        setPendingConversions(res.data.pending_conversions || []);\r\n        setCalculations(res.data.calculations || {});\r\n        setConversionData(res.data.conversions || []);\r\n        // Calculate summary details based on CPAVATE formulas\r\n        calculateSummaryDetails(res.data);\r\n\r\n        // Prepare chart data\r\n        if (capTable?.pre_money?.items?.length > 0) {\r\n          const preMoneyData = {\r\n            labels: capTable.pre_money.items.map(item => {\r\n              // Generate label based on item type and share_class_type\r\n              if (item.type === 'founder') {\r\n                return `${item.founder_code || 'F'} - ${item.name}`;\r\n              }\r\n              else if (item.type === 'investor') {\r\n                // Use share_class_type if available\r\n                const shareType = item.share_class_type || 'Investor';\r\n\r\n                if (item.is_previous) {\r\n                  return `${shareType}) Investors `;\r\n                } else if (item.is_seed) {\r\n                  return `(${shareType}) Investors`;\r\n                } else {\r\n                  // Individual investor\r\n                  const investorName = item.name || 'Investor';\r\n                  return `${investorName} (${shareType})`;\r\n                }\r\n              }\r\n              else if (item.type === 'option_pool') {\r\n                return 'Employee Option Pool';\r\n              }\r\n              else if (item.type === 'pending') {\r\n                return ` ${item.name}`;\r\n              }\r\n              return item.name || 'Unknown';\r\n            }),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.pre_money.items.map(item => item.shares || 0),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                  '#6A0572', '#118AB2', '#06D6A0', '#FFD166',\r\n                  '#E5989B', '#B5838D', '#6D6875', '#FFB4A2'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPreMoneyChartData(preMoneyData);\r\n        }\r\n\r\n        // Prepare Post-Money Chart Data\r\n        // Prepare Post-Money Chart Data - UPDATED with proper labels\r\n        if (capTable?.post_money?.items?.length > 0) {\r\n          const postMoneyData = {\r\n            labels: capTable.post_money.items.map(item => {\r\n              // Generate label exactly like post-money table\r\n              if (item.type === 'founder') {\r\n                return `${item.founder_code || 'F'} - ${item.name}`;\r\n              }\r\n              else if (item.type === 'investor') {\r\n                const shareType = item.share_class_type || item.shareClassType || '';\r\n\r\n                if (item.is_previous) {\r\n                  return `Previous Investors${shareType ? ` (${shareType})` : ''}`;\r\n                } else if (item.is_seed) {\r\n                  return `Seed Investors${shareType ? ` (${shareType})` : ''}`;\r\n                } else if (item.is_new_investment) {\r\n                  // Individual investor - show name with share class\r\n                  const investorName = item.name || 'Investor';\r\n                  return `${investorName}${shareType ? ` (${shareType})` : ''}`;\r\n                } else if (item.is_converted) {\r\n                  return `Converted${shareType ? ` (${shareType})` : ''}`;\r\n                }\r\n                return item.name || 'Investor';\r\n              }\r\n              else if (item.type === 'option_pool') {\r\n                return 'Employee Option Pool';\r\n              }\r\n              else if (item.type === 'pending') {\r\n                return ` ${item.name}`;\r\n              }\r\n              return item.name || 'Unknown';\r\n            }),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.post_money.items.map(item => item.shares || 0),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                  '#6A0572', '#118AB2', '#06D6A0', '#FFD166'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPostMoneyChartData(postMoneyData);\r\n        }\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"API Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, userLogin, API_URL_CAPTABLE]);\r\n\r\n  const isUnpricedRound = roundData?.instrument === 'Safe' || roundData?.instrument === 'Convertible Note';\r\n  const isConverted = conversionStatus?.is_converted === true;\r\n  const isSeedRound = roundData?.instrument === 'Safe' && roundData?.issued_shares === 0 && roundData?.type !== 'Round 0';\r\n  const isSeriesA = roundData?.instrument === 'Preferred Equity';\r\n  const isRound0 = roundData?.type === 'Round 0';\r\n\r\n  //  DISPLAY VALUES\r\n  let displaySharePrice = '';\r\n  let displayIssuedShares = '';\r\n\r\n  if (isUnpricedRound) {\r\n    if (isConverted) {\r\n      displaySharePrice = roundData?.share_price;\r\n      displayIssuedShares = conversionStatus.converted_shares;\r\n    } else {\r\n      displaySharePrice = 'N/A';\r\n      displayIssuedShares = 'N/A';\r\n    }\r\n  } else {\r\n    displaySharePrice = roundData?.share_price;\r\n    displayIssuedShares = roundData?.issued_shares;\r\n  }\r\n\r\n  // Calculate summary details based on CPAVATE formulas\r\n  const calculateSummaryDetails = (data) => {\r\n    if (!data.cap_table || !data.round) return;\r\n\r\n    const preMoneyTable = data.cap_table.pre_money;\r\n    const postMoneyTable = data.cap_table.post_money;\r\n    const round = data.round;\r\n\r\n    const preMoneyVal = parseFloat(round.pre_money) || 0;\r\n    const investment = parseFloat(round.investment) || 0;\r\n    const postMoneyVal = preMoneyVal + investment;\r\n\r\n    const totalSharesPre = preMoneyTable.totals.total_shares || 0;\r\n    const totalSharesPost = postMoneyTable.totals.total_shares || 0;\r\n\r\n    const sharePricePre = totalSharesPre > 0 ? preMoneyVal / totalSharesPre : 0;\r\n    const sharePricePost = totalSharesPost > 0 ? postMoneyVal / totalSharesPost : 0;\r\n\r\n    const founderShares = preMoneyTable.items.filter(item => item.type === 'founder').reduce((sum, item) => sum + item.shares, 0);\r\n    const founderValuePre = founderShares * sharePricePre;\r\n    const founderValuePost = founderShares * sharePricePost;\r\n\r\n    const investorShares = postMoneyTable.items.filter(item => item.type === 'investor').reduce((sum, item) => sum + item.shares, 0);\r\n    const investorValue = investorShares * sharePricePost;\r\n\r\n    const optionPoolShares = postMoneyTable.totals.total_option_pool || 0;\r\n    const optionPoolValue = optionPoolShares * sharePricePost;\r\n\r\n    setSummaryDetails({\r\n      founderValuePre: founderValuePre,\r\n      founderValuePost: founderValuePost,\r\n      investorValue: investorValue,\r\n      optionPoolValue: optionPoolValue,\r\n      sharePricePre: sharePricePre,\r\n      sharePricePost: sharePricePost,\r\n      totalSharesPre: totalSharesPre,\r\n      totalSharesPost: totalSharesPost,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCapTableData();\r\n  }, []);\r\n\r\n  function formatCurrentDate(input) {\r\n    const date = new Date(input);\r\n    if (isNaN(date)) return \"\";\r\n\r\n    const months = [\r\n      \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\r\n      \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n    ];\r\n\r\n    const day = date.getDate();\r\n    const month = months[date.getMonth()];\r\n    const year = date.getFullYear();\r\n\r\n    const getOrdinal = (n) => {\r\n      if (n >= 11 && n <= 13) return \"th\";\r\n      switch (n % 10) {\r\n        case 1: return \"st\";\r\n        case 2: return \"nd\";\r\n        case 3: return \"rd\";\r\n        default: return \"th\";\r\n      }\r\n    };\r\n\r\n    let hours = date.getHours();\r\n    const minutes = date.getMinutes().toString().padStart(2, \"0\");\r\n    const seconds = date.getSeconds().toString().padStart(2, \"0\");\r\n    const ampm = hours >= 12 ? \"PM\" : \"AM\";\r\n\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12;\r\n\r\n    return `${month} ${day}${getOrdinal(day)}, ${year}`;\r\n  }\r\n  const formatIncorporationDate = (value) => {\r\n    if (!value) return \"Not provided\";\r\n\r\n    // Only year\r\n    if (/^\\d{4}$/.test(value)) {\r\n      return value;\r\n    }\r\n\r\n    // Full date\r\n    return formatCurrentDate(value);\r\n  };\r\n\r\n  // ============================================\r\n  // Add this function in your component before return\r\n  // ============================================\r\n\r\n  const getOwnershipStats = (items) => {\r\n    const founders = items.filter(item => item.type === 'founder');\r\n\r\n    if (founders.length === 0) {\r\n      return { largest: 0, smallest: 0, votingCount: 0, totalFounders: 0 };\r\n    }\r\n\r\n    const percentages = founders.map(f => parseFloat(f.percentage || 0));\r\n    const largest = Math.max(...percentages);\r\n    const smallest = Math.min(...percentages);\r\n\r\n    const votingCount = founders.filter(f =>\r\n      f.voting === 'voting' || f.voting === true || f.voting === 'yes'\r\n    ).length;\r\n\r\n    return {\r\n      largest: largest.toFixed(1),\r\n      smallest: smallest.toFixed(1),\r\n      votingCount: founders.length,\r\n      totalFounders: founders.length\r\n    };\r\n  };\r\n\r\n  // Use it\r\n  const stats = getOwnershipStats(capTableData?.pre_money?.items || []);\r\n\r\n\r\n  const getPostMoneyOwnershipStats = (items = []) => {\r\n    if (!items.length) {\r\n      return {\r\n        largest: 0,\r\n        smallest: 0,\r\n        votingCount: 0,\r\n        totalCount: 0\r\n      };\r\n    }\r\n\r\n    // Get all ownership percentages as numbers\r\n    const percentages = items.map(item => parseFloat(item.percentage || 0));\r\n\r\n    // Find largest and smallest\r\n    const largest = Math.max(...percentages);\r\n    const smallest = Math.min(...percentages);\r\n\r\n    // Count items with voting rights\r\n    const votingCount = items.filter(item =>\r\n      item.voting === 'voting' ||\r\n      item.voting === 'non-voting' ||\r\n      item.voting === true ||\r\n      item.voting === 'yes'\r\n    ).length;\r\n\r\n    return {\r\n      largest: largest.toFixed(1),\r\n      smallest: smallest.toFixed(1),\r\n      votingCount,\r\n      totalCount: items.length\r\n    };\r\n  };\r\n\r\n  // Use it in your component\r\n  const postStats = getPostMoneyOwnershipStats(capTableData?.post_money?.items || []);\r\n  const calculateMOIC = (value, investment) => {\r\n    if (!investment || investment === 0 || !value) return null;\r\n    return value / investment;\r\n  };\r\n  const postMoneyItems = capTableData?.post_money?.items || [];\r\n\r\n  const totalCommonShares = postMoneyItems.reduce((sum, item) => {\r\n    // founders + previous investors + option existing shares\r\n    if (item.type === 'founder') return sum + Number(item.shares || 0);\r\n    if (item.type === 'investor' && item.is_previous) return sum + Number(item.shares || 0);\r\n    if (item.type === 'option_pool') return sum + Number(item.existing_shares || 0);\r\n    return sum;\r\n  }, 0);\r\n\r\n  const totalNewShares = postMoneyItems.reduce((sum, item) => {\r\n    // new investors + option pool new shares\r\n    if (item.type === 'investor' && item.is_new_investment) return sum + Number(item.shares || 0);\r\n    if (item.type === 'option_pool') return sum + Number(item.new_shares || 0);\r\n    return sum;\r\n  }, 0);\r\n  // Render loading state\r\n  if (loading) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav isCollapsed={isCollapsed} setIsCollapsed={setIsCollapsed} />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"text-center py-5\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <p className=\"mt-3\">Loading Cap Table Data...</p>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  // Render error state\r\n  if (error && !roundData) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav isCollapsed={isCollapsed} setIsCollapsed={setIsCollapsed} />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"alert alert-danger\">\r\n                  <h5>Error Loading Cap Table</h5>\r\n                  <p>{error}</p>\r\n                  <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>Go Back</button>\r\n                  <button className=\"btn btn-secondary ms-2\" onClick={getCapTableData}>Try Again</button>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav isCollapsed={isCollapsed} setIsCollapsed={setIsCollapsed} />\r\n          <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n\r\n              {error && (\r\n                <div className=\"alert alert-danger mb-4\">\r\n                  <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Round Header */}\r\n              {roundData && (\r\n                <div className=\"card mb-4\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h4 className=\"mb-0\">Round: {roundData.name}</h4>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p>\r\n                          <strong>Type:</strong>{' '}\r\n                          {roundData?.type === 'Round 0' ? (\r\n                            <span>Incorporation Round 0</span>\r\n                          ) : (\r\n                            <span>{roundData?.instrument}</span>\r\n                          )}\r\n                        </p>\r\n                        <p><strong>Status:</strong>\r\n                          <span className={`badge ${roundData.status === 'CLOSED' ? 'bg-success' : 'bg-warning'} ms-2`}>\r\n                            {roundData.status || 'ACTIVE'}\r\n                          </span>\r\n                        </p>\r\n                        <p><strong>Date of Incorporation/Registration:</strong> {formatIncorporationDate(roundData.incorporation_date) || 'Not specified'}</p>\r\n                      </div>\r\n                      {roundData?.type !== 'Round 0' && (\r\n                        <div className=\"col-md-4\">\r\n                          <p><strong>Pre-Money:</strong> {<CurrencyFormatter\r\n                            amount={roundData.pre_money}\r\n                            currency={roundData.currency}\r\n                          />} </p>\r\n                          <p><strong>Investment:</strong> {<CurrencyFormatter\r\n                            amount={roundData.investment}\r\n                            currency={roundData.currency}\r\n                          />} </p>\r\n                          <p><strong>Post-Money:</strong> {<CurrencyFormatter\r\n                            amount={roundData.post_money}\r\n                            currency={roundData.currency}\r\n                          />}</p>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Share Price:</strong> {\r\n                          isUnpricedRound && !isConverted\r\n                            ? 'N/A'\r\n                            : <CurrencyFormatter\r\n                              amount={displaySharePrice}\r\n                              currency={roundData?.currency}\r\n                              digit={3}\r\n                            />\r\n\r\n                        }</p>\r\n                        <p><strong>Issued Shares:</strong> {\r\n                          isUnpricedRound && !isConverted\r\n                            ? 'N/A'\r\n                            : formatNumber(displayIssuedShares)\r\n                        }</p>\r\n                        {isUnpricedRound && (\r\n                          <p>\r\n                            <strong>Status:</strong>{' '}\r\n                            <span className={isConverted ? 'text-success' : 'text-warning'}>\r\n                              {conversionStatus?.message || (isConverted ? ' Converted' : ' Not Converted')}\r\n                            </span>\r\n                          </p>\r\n                        )}\r\n                        {isUnpricedRound && isConverted && (\r\n                          <div className=\"mt-2 p-2 bg-light rounded\">\r\n                            <small>\r\n                              <strong>Converted in:</strong> Round {conversionStatus.converted_in_round} ({conversionStatus.converted_round_name})<br />\r\n                              <strong>Conversion Price:</strong> <CurrencyFormatter\r\n                                amount={conversionStatus.conversion_price}\r\n                                currency={roundData?.currency}\r\n                                digit={3}\r\n                              />\r\n                              <br />\r\n                              <strong>Converted Shares:</strong> {formatNumber(conversionStatus.converted_shares)}\r\n                            </small>\r\n                          </div>\r\n                        )}\r\n                        {/*  OPTION POOL HEADING - DYNAMIC BASED ON ROUND TYPE */}\r\n                        {roundData?.type !== 'Round 0' && (\r\n                          <p>\r\n                            {(() => {\r\n                              const isPricedRound =\r\n                                roundData?.instrument === 'Common Stock' ||\r\n                                roundData?.instrument === 'Preferred Equity';\r\n\r\n                              const existingPool = parseFloat(roundData?.option_pool_percent || 0);\r\n                              const targetPool = parseFloat(roundData?.option_pool_percent_post || 0);\r\n\r\n                              //  UNPRICED ROUND\r\n                              if (!isPricedRound) {\r\n                                return (\r\n                                  <>\r\n                                    <strong>Option Pool:</strong>{' '}\r\n                                    <span className=\"fw-bold text-success\">\r\n                                      {formatPercentage(targetPool)}\r\n                                    </span>\r\n                                  </>\r\n                                );\r\n                              }\r\n\r\n                              //  PRICED ROUND\r\n                              return (\r\n                                <>\r\n                                  {existingPool > 0 && (\r\n                                    <>\r\n                                      <strong>Option Pool:</strong>{' '}\r\n                                      <span className=\"fw-bold text-success\">\r\n                                        {formatPercentage(existingPool)}\r\n                                      </span>\r\n                                      <br />\r\n                                    </>\r\n                                  )}\r\n\r\n                                  <strong>Target Post-Money Option Pool:</strong>{' '}\r\n                                  <span className=\"fw-bold text-primary\">\r\n                                    {formatPercentage(targetPool)}\r\n                                  </span>\r\n                                </>\r\n                              );\r\n                            })()}\r\n                          </p>\r\n                        )}\r\n\r\n                      </div>\r\n                    </div>\r\n                    {roundData?.type !== 'Round 0' && (\r\n                      <div className=\"row\">\r\n                        {roundData?.round_target_money > 0 && (\r\n                          <div className=\"col-12 mt-2\">\r\n                            <div className=\"custome_card\">\r\n                              <div className=\"custome_card_body py-3\">\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-md-3\">\r\n                                    <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                                      <p className=\"mb-0 bg-success custome_cardp\">\r\n                                        <i className=\"bi bi-bullseye me-1\"></i>\r\n                                        Target Investment\r\n                                      </p>\r\n                                      <h5 className=\"mb-0 text-success\">\r\n                                        <CurrencyFormatter\r\n                                          amount={roundData.round_target_money}\r\n                                          currency={roundData?.currency}\r\n                                        />\r\n                                      </h5>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-md-3\">\r\n                                    <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                                      <p className=\"mb-0 bg-primary  custome_cardp\">Current Investment</p>\r\n                                      <h5 className=\"mb-0 text-primary \">\r\n                                        <CurrencyFormatter\r\n                                          amount={roundData?.investment}\r\n                                          currency={roundData?.currency}\r\n                                        />\r\n                                      </h5>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-md-3\">\r\n                                    <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                                      <p className=\"mb-0 bg-danger custome_cardp\">Remaining to Target</p>\r\n                                      <h5 className=\"mb-0\" style={{\r\n                                        color: (roundData.round_target_money - parseFloat(roundData.investment)) > 0\r\n                                          ? '#CC0000'\r\n                                          : '#28a745'\r\n                                      }}>\r\n                                        <CurrencyFormatter\r\n                                          amount={Math.max(0, roundData.round_target_money - parseFloat(roundData.investment))}\r\n                                          currency={roundData?.currency}\r\n                                        />\r\n                                      </h5>\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-md-3\">\r\n                                    <div className=\"d-flex custome_card_box flex-column gap-3 h-100\">\r\n                                      <div className=\"d-flex align-items-center justify-content-between\">\r\n                                        <p className=\"mb-0 custome_cardp bg-info\">Achieved</p>\r\n                                        <h5 className=\"mb-0\">\r\n                                          {((parseFloat(roundData.investment) / roundData.round_target_money) * 100).toFixed(2)}%\r\n                                        </h5>\r\n                                      </div>\r\n                                      <div className=\"progress mt-1\" style={{ height: '6px' }}>\r\n                                        <div\r\n                                          className=\"progress-bar bg-warning\"\r\n                                          style={{\r\n                                            width: `${(parseFloat(roundData.investment) / roundData.round_target_money) * 100}%`\r\n                                          }}\r\n                                        ></div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Tab Navigation */}\r\n              <div className=\"mb-4\">\r\n                <ul className=\"nav nav-tabs gap-1\">\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'pre-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pre-money')}\r\n                      >\r\n                        Pre-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'post-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('post-money')}\r\n                      >\r\n                        Post-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'summary' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('summary')}\r\n                      >\r\n                        Chat & Analysis\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {pendingConversions.length > 0 && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'pending' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pending')}\r\n                      >\r\n                        Pending Conversions\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n              {/* ========== PRE-MONEY CAP TABLE - FIXED ========== */}\r\n              {activeTab === 'pre-money' && roundData?.type === 'Round 0' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    {roundData?.type === 'Round 0' ? (\r\n                      <h5 className=\"mb-0\">Incorporation Capitalization Table</h5>\r\n                    ) : (\r\n                      <h5 className=\"mb-0\">Pre-Money Capitalization Table</h5>\r\n                    )}\r\n\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive mt-4\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-end\">Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                            <th>Details</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {/* Founders - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'founder')\r\n                            .map((item, index) => (\r\n                              <tr key={`founder-${index}`}>\r\n                                <td><span className=\"badge bg-info me-2\">{item.founder_code || `F${index + 1}`}</span></td>\r\n                                <td>\r\n                                  <strong>{item.name}</strong>\r\n                                  {item.email && <div className=\"small text-muted\">{item.email}</div>}\r\n                                </td>\r\n                                <td className=\"text-end\">\r\n                                  {Number(item.shares) > 0\r\n                                    ? Number(item.shares).toLocaleString()\r\n                                    : item.shares}\r\n                                </td>\r\n\r\n                                <td className=\"text-end fw-bold text-primary\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-primary\">\r\n                                  {/*  FIX: Use pre_money_display_value instead of value */}\r\n                                  {<CurrencyFormatter\r\n                                    amount={item.pre_money_display_value || item.value}\r\n                                    currency={roundData.currency}\r\n                                  />}\r\n                                </td>\r\n                                <td>\r\n                                  <small>Type: {item.share_type || 'common'}<br />Voting: {item.voting || 'voting'}</small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Option Pool - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {/* Option Pool - SINGLE ENTRY (all option pools combined) */}\r\n                          {(() => {\r\n                            // Get all option pool items\r\n                            const optionItems = capTableData?.pre_money?.items\r\n                              ?.filter(item => item.type === 'option_pool') || [];\r\n\r\n                            if (optionItems.length === 0) return null;\r\n\r\n                            // Calculate total option shares\r\n                            const totalOptionShares = optionItems.reduce((sum, item) => sum + (item.shares || 0), 0);\r\n\r\n                            // Calculate weighted average percentage\r\n                            const totalShares = capTableData?.pre_money?.totals?.total_shares || 0;\r\n                            const optionPercentage = totalShares > 0\r\n                              ? ((totalOptionShares / totalShares) * 100).toFixed(2)\r\n                              : '0.00';\r\n\r\n                            // Calculate total value\r\n                            const preMoneyVal = parseFloat(roundData?.pre_money) || 0;\r\n                            const optionValue = totalShares > 0\r\n                              ? (totalOptionShares / totalShares) * preMoneyVal\r\n                              : 0;\r\n\r\n                            // Get creation details\r\n                            const createdInRounds = optionItems\r\n                              .map(item => item.round_name || `Round ${item.round_id}`)\r\n                              .join(', ');\r\n\r\n                            return (\r\n                              <tr key=\"option-pool-combined\" className=\"table-info\">\r\n                                <td><span className=\"badge bg-warning me-2\">O</span></td>\r\n                                <td>\r\n                                  <strong>Employee Option Pool</strong>\r\n                                  {optionItems.length > 1 && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Combined from: {createdInRounds}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(totalOptionShares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-warning\">{optionPercentage}%</td>\r\n                                <td className=\"text-end fw-bold text-warning\">\r\n                                  {<CurrencyFormatter\r\n                                    amount={optionValue}\r\n                                    currency={roundData.currency}\r\n                                  />}\r\n                                </td>\r\n                                <td>\r\n                                  <small>\r\n                                    {optionItems.length === 1 ? (\r\n                                      <>From {optionItems[0].round_name || `Round ${optionItems[0].round_id}`}</>\r\n                                    ) : (\r\n                                      <>\r\n                                        <div>Total pools: {optionItems.length}</div>\r\n                                        <div className=\"text-muted\">\r\n                                          {optionItems.map((item, i) => (\r\n                                            <span key={i}>\r\n                                              {i > 0 && ' + '}\r\n                                              {item.shares?.toLocaleString()} shares\r\n                                            </span>\r\n                                          ))}\r\n                                        </div>\r\n                                      </>\r\n                                    )}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })()}\r\n\r\n                          {/* Investors in Pre-Money (if any) */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'investor')\r\n                            .map((item, index) => (\r\n                              <tr key={`investor-${index}`} className=\"table-success\">\r\n                                <td><span className=\"badge bg-success me-2\">I</span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-success\">\r\n                                  {<CurrencyFormatter\r\n                                    amount={item.pre_money_display_value || item.value}\r\n                                    currency={roundData.currency}\r\n                                  />}\r\n                                </td>\r\n                                <td><small>{item.round_name}</small></td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Pending Instruments */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'pending')\r\n                            .map((item, index) => (\r\n                              <tr key={`pending-${index}`} className=\"table-warning\">\r\n                                <td><span className=\"badge bg-warning me-2\"></span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td className=\"text-end text-muted\">0.00%</td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td>\r\n                                  <small>\r\n                                    Investment: <CurrencyFormatter\r\n                                      amount={item.investment}\r\n                                      currency={roundData?.currency}\r\n                                    />\r\n\r\n                                    {item.discount_rate > 0 && <div>Discount: {item.discount_rate}%</div>}\r\n                                    {item.valuation_cap > 0 && <div>Cap: <CurrencyFormatter\r\n                                      amount={item.valuation_cap}\r\n                                      currency={roundData?.currency}\r\n                                    />\r\n                                    </div>}\r\n                                    {item.interest_rate > 0 && <div>Interest: {item.interest_rate}%</div>}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th colSpan=\"2\">TOTAL</th>\r\n                            <th className=\"text-end\"><CurrencyFormatter\r\n                              amount={capTableData?.pre_money?.totals?.total_shares}\r\n                              currency={\" \"}\r\n                              digit={0}\r\n                            /></th>\r\n                            <th className=\"text-end\">100%</th>\r\n                            <th className=\"text-end fw-bold text-primary\">\r\n                              <CurrencyFormatter\r\n                                amount={capTableData?.pre_money?.totals?.total_value}\r\n                                currency={roundData?.currency}\r\n                              />\r\n\r\n                            </th>\r\n                            <th></th>\r\n                          </tr>\r\n                          {/* Optional: Show original Round 0 value for reference */}\r\n\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {activeTab === 'pre-money' && roundData?.type !== 'Round 0' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    {roundData?.type === 'Round 0' ? (\r\n                      <h5 className=\"mb-0\">Incorporation Capitalization Table</h5>\r\n                    ) : (\r\n                      <h5 className=\"mb-0\">Pre-Money Capitalization Table</h5>\r\n                    )}\r\n\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive mt-4\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-end\">Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                            <th>Details</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {/* Founders - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'founder')\r\n                            .map((item, index) => (\r\n                              <tr key={`founder-${index}`}>\r\n                                <td><span className=\"badge bg-info me-2\">{item.founder_code || `F${index + 1}`}</span></td>\r\n                                <td>\r\n                                  <strong>{item.name}</strong>\r\n                                  {item.email && <div className=\"small text-muted\">{item.email}</div>}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-primary\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-primary\">\r\n                                  {/*  FIX: Use pre_money_display_value instead of value */}\r\n                                  <CurrencyFormatter\r\n                                    amount={item.pre_money_display_value || item.value}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n\r\n                                </td>\r\n                                <td>\r\n                                  <small>Type: {item.share_type || 'common'}<br />Voting: {item.voting || 'voting'}</small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Option Pool - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {/* Option Pool - SINGLE ENTRY (all option pools combined) */}\r\n                          {(() => {\r\n                            // Get all option pool items\r\n                            const optionItems = capTableData?.pre_money?.items\r\n                              ?.filter(item => item.type === 'option_pool') || [];\r\n\r\n                            if (optionItems.length === 0) return null;\r\n\r\n                            // Calculate total option shares\r\n                            const totalOptionShares = optionItems.reduce((sum, item) => sum + (item.shares || 0), 0);\r\n\r\n                            // Calculate weighted average percentage\r\n                            const totalShares = capTableData?.pre_money?.totals?.total_shares || 0;\r\n                            const optionPercentage = totalShares > 0\r\n                              ? ((totalOptionShares / totalShares) * 100).toFixed(2)\r\n                              : '0.00';\r\n\r\n                            // Calculate total value\r\n                            const preMoneyVal = parseFloat(roundData?.pre_money) || 0;\r\n                            const optionValue = totalShares > 0\r\n                              ? (totalOptionShares / totalShares) * preMoneyVal\r\n                              : 0;\r\n\r\n                            // Get creation details\r\n                            const createdInRounds = optionItems\r\n                              .map(item => item.round_name || `Round ${item.round_id}`)\r\n                              .join(', ');\r\n\r\n                            return (\r\n                              <tr key=\"option-pool-combined\" className=\"table-info\">\r\n                                <td><span className=\"badge bg-warning me-2\">O</span></td>\r\n                                <td>\r\n                                  <strong>Employee Option Pool</strong>\r\n                                  {optionItems.length > 1 && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Combined from: {createdInRounds}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(totalOptionShares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-warning\">{optionPercentage}%</td>\r\n                                <td className=\"text-end fw-bold text-warning\">\r\n                                  <CurrencyFormatter\r\n                                    amount={optionValue}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n\r\n                                </td>\r\n                                <td>\r\n                                  {/* <small>\r\n                                    {optionItems.length === 1 ? (\r\n                                      <>From {optionItems[0].round_name || `Round ${optionItems[0].round_id}`}</>\r\n                                    ) : (\r\n                                      <>\r\n                                        <div>Total pools: {optionItems.length}</div>\r\n                                        <div className=\"text-muted\">\r\n                                          {optionItems.map((item, i) => (\r\n                                            <span key={i}>\r\n                                              {i > 0 && ' + '}\r\n                                              {item.shares?.toLocaleString()} shares\r\n                                            </span>\r\n                                          ))}\r\n                                        </div>\r\n                                      </>\r\n                                    )}\r\n                                  </small> */}\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })()}\r\n\r\n                          {/* Investors in Pre-Money (if any) */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'investor')\r\n                            .map((item, index) => (\r\n                              <tr key={`investor-${index}`} className=\"table-success\">\r\n                                <td><span className=\"badge bg-success me-2\">I</span></td>\r\n                                <td>\r\n                                  <div><strong>{item.share_class_type} {item.name}</strong></div>\r\n                                  {item.investor_details && (\r\n                                    <div className=\"small\">\r\n                                      {item.investor_details.email && (\r\n                                        <div className=\"text-muted\">\r\n                                          <i className=\"bi bi-envelope me-1\"></i>\r\n                                          {item.investor_details.email}\r\n                                        </div>\r\n                                      )}\r\n                                      {item.investor_details.phone && (\r\n                                        <div className=\"text-muted\">\r\n                                          <i className=\"bi bi-telephone me-1\"></i>\r\n                                          {item.investor_details.phone}\r\n                                        </div>\r\n                                      )}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-success\">\r\n                                  <CurrencyFormatter\r\n                                    amount={item.pre_money_display_value || item.value}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n\r\n                                </td>\r\n                                <td><small>{item.round_name}</small></td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Pending Instruments */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'pending')\r\n                            .map((item, index) => (\r\n                              <tr key={`pending-${index}`} className=\"table-warning\">\r\n                                <td><span className=\"badge bg-warning me-2\"></span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end text-muted\">0</td>\r\n                                <td className=\"text-end text-muted\">0.00%</td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td>\r\n                                  <small>\r\n                                    Investment: <CurrencyFormatter\r\n                                      amount={item.investment}\r\n                                      currency={roundData?.currency}\r\n                                    />\r\n\r\n                                    {item.discount_rate > 0 && <div>Discount: {item.discount_rate}%</div>}\r\n                                    {item.valuation_cap > 0 && <div>Cap: <CurrencyFormatter\r\n                                      amount={item.valuation_cap}\r\n                                      currency={roundData?.currency}\r\n                                    />\r\n                                    </div>}\r\n                                    {item.interest_rate > 0 && <div>Interest: {item.interest_rate}%</div>}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th colSpan=\"2\">TOTAL</th>\r\n                            <th className=\"text-end\"><CurrencyFormatter\r\n                              amount={capTableData?.pre_money?.totals?.total_shares}\r\n                              currency={\"\"}\r\n                              digit={0}\r\n                            /></th>\r\n                            <th className=\"text-end\">100%</th>\r\n                            <th className=\"text-end fw-bold text-primary\">\r\n                              <CurrencyFormatter\r\n                                amount={capTableData?.pre_money?.totals?.pre_money_valuation}\r\n                                currency={roundData?.currency}\r\n                              />\r\n\r\n                            </th>\r\n                            <th></th>\r\n                          </tr>\r\n                          {/* Optional: Show original Round 0 value for reference */}\r\n\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* ========== POST-MONEY CAP TABLE - FIXED ========== */}\r\n              {activeTab === 'post-money' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">{roundData?.instrument || 'Common Stock'} at Post-{roundData?.shareClassType || 'Investment'} Investor</h5>\r\n                    <small className=\"text-muted\">\r\n                      After <CurrencyFormatter\r\n                        amount={roundData?.investment}\r\n                        currency={roundData?.currency}\r\n                      />\r\n                      investment\r\n                      {conversionData?.length > 0 ? ` with ${conversionData.length} convertible instruments conversion` : ''}\r\n                    </small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead className=\"table-light\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th>Type</th>\r\n                            <th className=\"text-end\">Existing Shares</th>\r\n                            <th className=\"text-end\">New Shares</th>\r\n                            <th className=\"text-end\">Total Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {/* Founders */}\r\n                          {capTableData?.post_money?.items\r\n                            ?.filter(item => item.type === 'founder')\r\n                            .map((item, index) => (\r\n                              <tr key={`founder-${index}`}>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td>Founder</td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end text-muted\">0</td>\r\n                                <td className=\"text-end fw-bold\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-primary\">{item.percentage}%</td>\r\n                                <td className=\"text-end\">\r\n                                  <CurrencyFormatter amount={item.value} currency={roundData?.currency} />\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Option Pool */}\r\n                          {(() => {\r\n                            const optionItem = capTableData?.post_money?.items?.find(item => item.type === 'option_pool');\r\n                            if (!optionItem) return null;\r\n\r\n                            return (\r\n                              <tr key=\"option-pool\" className=\"table-info\">\r\n                                <td><strong>Employee Option Pool</strong></td>\r\n                                <td>Options Pool</td>\r\n                                <td className=\"text-end\">{Number(optionItem.existing_shares || 0).toLocaleString()}</td>\r\n                                <td className=\"text-end text-success fw-bold\">{Number(optionItem.new_shares || 0).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold\">{Number(optionItem.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-warning\">{optionItem.percentage}%</td>\r\n                                <td className=\"text-end\">\r\n                                  <CurrencyFormatter amount={optionItem.value} currency={roundData?.currency} />\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })()}\r\n\r\n                          {/* Previous Investors (Grouped) */}\r\n                          {capTableData?.post_money?.items\r\n                            ?.filter(item => item.type === 'investor' && item.is_previous === true && item.is_grouped === true)\r\n                            .map((item, index) => (\r\n                              <tr key={`previous-${index}`} className=\"table-secondary\">\r\n                                <td>\r\n                                  <strong>{item.share_class_type + \" Investors\" || 'Previous Investors'}</strong>\r\n                                </td>\r\n                                <td>{item.share_class_type + \" Investors\" || 'Investor'}</td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end text-muted\">0</td>\r\n                                <td className=\"text-end fw-bold\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end\">{item.percentage}%</td>\r\n                                <td className=\"text-end\">\r\n                                  <CurrencyFormatter amount={item.value} currency={roundData?.currency} />\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* New Investors - WITH CORRECT PERCENTAGE */}\r\n                          {capTableData?.post_money?.items\r\n                            ?.filter(item => item.type === 'investor' && item.is_new_investment === true)\r\n                            .map((item, index) => {\r\n                              // Calculate percentage if not provided\r\n                              const percentage = item.percentage ||\r\n                                ((item.shares / capTableData?.post_money?.totals?.total_shares) * 100).toFixed(2);\r\n\r\n                              // Calculate value if not provided\r\n                              const value = item.value ||\r\n                                (item.shares / capTableData?.post_money?.totals?.total_shares) *\r\n                                capTableData?.post_money?.totals?.post_money_valuation;\r\n\r\n                              return (\r\n                                <tr key={`new-${index}`} className=\"table-success\">\r\n                                  <td>\r\n                                    <div><strong>{item.name}</strong></div>\r\n                                    {(item.investor_details || item.email) && (\r\n                                      <div className=\"small\">\r\n                                        {item.investor_details?.email && (\r\n                                          <div className=\"text-muted\">\r\n                                            <i className=\"bi bi-envelope me-1\"></i>\r\n                                            {item.investor_details.email}\r\n                                          </div>\r\n                                        )}\r\n                                        {item.investor_details?.phone && (\r\n                                          <div className=\"text-muted\">\r\n                                            <i className=\"bi bi-telephone me-1\"></i>\r\n                                            {item.investor_details.phone}\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n                                    )}\r\n                                  </td>\r\n                                  <td>{item.share_class_type || 'Investor'}</td>\r\n                                  <td className=\"text-end text-muted\">0</td>\r\n                                  <td className=\"text-end text-success fw-bold\">\r\n                                    {Number(item.shares).toLocaleString()}\r\n                                  </td>\r\n                                  <td className=\"text-end fw-bold\">{Number(item.shares).toLocaleString()}</td>\r\n                                  <td className=\"text-end fw-bold\">{percentage}%</td>\r\n                                  <td className=\"text-end\">\r\n                                    <CurrencyFormatter amount={value} currency={roundData?.currency} />\r\n                                  </td>\r\n                                </tr>\r\n                              );\r\n                            })}\r\n                        </tbody>\r\n\r\n                        {/* Totals Footer */}\r\n                        <tfoot className=\"table-light fw-bold\">\r\n                          <tr>\r\n                            <td colSpan=\"2\">TOTAL</td>\r\n                            <td className=\"text-end fs-5\"><CurrencyFormatter\r\n                              amount={totalCommonShares}\r\n                              currency={\"\"}\r\n                              digit={0}\r\n                            /></td>\r\n                            <td className=\"text-end fs-5\"><CurrencyFormatter\r\n                              amount={totalNewShares}\r\n                              currency={\"\"}\r\n                              digit={0}\r\n                            /></td>\r\n                            <td className=\"text-end fs-5\"><CurrencyFormatter\r\n                              amount={capTableData?.post_money?.totals?.total_shares}\r\n                              currency={\"\"}\r\n                              digit={0}\r\n                            /></td>\r\n                            <td className=\"text-end fs-5\">100%</td>\r\n\r\n                            <td className=\"text-end fs-5 text-primary\">\r\n                              <CurrencyFormatter\r\n                                amount={capTableData?.post_money?.totals?.total_value}\r\n                                currency={roundData?.currency}\r\n                              />\r\n                            </td>\r\n\r\n                          </tr>\r\n                          <tr className=\"small text-muted\">\r\n                            <td colSpan=\"7\" className=\"text-end pt-2\">\r\n                              <span className=\"me-3\">\r\n                                Pre-Money:{\" \"}\r\n                                <CurrencyFormatter\r\n                                  amount={roundData?.pre_money}\r\n                                  currency={roundData?.currency}\r\n                                />\r\n                              </span>\r\n                              <span className=\"me-3\">\r\n                                Investment:{\" \"}\r\n                                <CurrencyFormatter\r\n                                  amount={roundData?.investment}\r\n                                  currency={roundData?.currency}\r\n                                />\r\n                              </span>\r\n                              <span className=\"me-3\">\r\n                                Post-Money:{\" \"}\r\n                                <CurrencyFormatter\r\n                                  amount={roundData?.post_money}\r\n                                  currency={roundData?.currency}\r\n                                />\r\n                              </span>\r\n                              <span>\r\n                                Share Price:{\" \"}\r\n                                {isUnpricedRound && !isConverted ? 'N/A' :\r\n                                  <CurrencyFormatter\r\n                                    amount={displaySharePrice}\r\n                                    currency={roundData?.currency}\r\n                                    digit={3}\r\n                                  />\r\n                                }\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* ========== ROUND 0 PIE CHART - EXACTLY AS YOUR CODE ========== */}\r\n              {isRound0 && (\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"card border-0 shadow-sm\">\r\n                      <div className=\"card-header bg-white border-0 d-flex justify-content-between align-items-center py-3\">\r\n                        <div>\r\n                          <h5 className=\"mb-0 fw-bold text-dark\">\r\n                            <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                            Founder Ownership Distribution - Round 0\r\n                          </h5>\r\n                          <p className=\"text-muted mb-0 small\">Initial share allocation at incorporation</p>\r\n                        </div>\r\n                        <span className=\"badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill\">\r\n                          <i className=\"bi bi-shield me-1\"></i>\r\n                          {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)} Total Shares\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"card-body p-4\">\r\n                        <div className=\"row\">\r\n                          {/* Left Column - Pie Chart */}\r\n                          <div className=\"col-md-7\">\r\n                            <div style={{ height: '400px', position: 'relative' }}>\r\n                              <Pie\r\n                                data={{\r\n                                  labels: capTableData.pre_money.items\r\n                                    .filter(item => item.type === 'founder')\r\n                                    .map(item => {\r\n                                      if (item.founder_code) {\r\n                                        return `${item.founder_code} - ${item.name}`;\r\n                                      }\r\n                                      return item.name || `Founder ${capTableData.pre_money.items.indexOf(item) + 1}`;\r\n                                    }),\r\n                                  datasets: [\r\n                                    {\r\n                                      data: capTableData.pre_money.items\r\n                                        .filter(item => item.type === 'founder')\r\n                                        .map(item => item.shares),\r\n                                      backgroundColor: [\r\n                                        '#4e73df', '#1cc88a', '#36b9cc', '#f6c23e',\r\n                                        '#e74a3b', '#6f42c1', '#fd7e14', '#20c9a6',\r\n                                        '#858796', '#5a5c69', '#2c9faf', '#b58df1'\r\n                                      ],\r\n                                      borderWidth: 2,\r\n                                      borderColor: '#ffffff',\r\n                                    }\r\n                                  ]\r\n                                }}\r\n                                options={{\r\n                                  responsive: true,\r\n                                  maintainAspectRatio: false,\r\n                                  cutout: '60%',\r\n                                  plugins: {\r\n                                    datalabels: {\r\n                                      display: function (context) {\r\n                                        const dataset = context.dataset;\r\n                                        const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                        const currentValue = dataset.data[context.dataIndex];\r\n                                        const percentage = (currentValue / total) * 100;\r\n                                        return percentage >= 5;\r\n                                      },\r\n                                      formatter: function (value, context) {\r\n                                        const dataset = context.dataset;\r\n                                        const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                        const percentage = ((value / total) * 100).toFixed(1);\r\n                                        return `${percentage}%`;\r\n                                      },\r\n                                      color: '#ffffff',\r\n                                      font: { weight: 'bold', size: 13 },\r\n                                      textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                      padding: 8,\r\n                                      backgroundColor: 'rgba(0,0,0,0.4)',\r\n                                      borderRadius: 6,\r\n                                    },\r\n                                    legend: {\r\n                                      position: 'bottom',\r\n                                      labels: {\r\n                                        padding: 20,\r\n                                        usePointStyle: true,\r\n                                        pointStyle: 'circle',\r\n                                        font: { size: 12, weight: '500' },\r\n                                        generateLabels: function (chart) {\r\n                                          const data = chart.data;\r\n                                          if (data.labels.length && data.datasets.length) {\r\n                                            return data.labels.map((label, i) => {\r\n                                              const value = data.datasets[0].data[i];\r\n                                              const total = data.datasets[0].data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : 0;\r\n                                              const item = capTableData?.pre_money?.items?.[i];\r\n                                              let displayLabel = label;\r\n                                              let sharesInfo = '';\r\n                                              if (item) {\r\n                                                sharesInfo = ` (${formatNumber(item.shares)} shares)`;\r\n                                              }\r\n                                              return {\r\n                                                text: `${displayLabel}${sharesInfo} - ${percentage}%`,\r\n                                                fillStyle: data.datasets[0].backgroundColor[i],\r\n                                                strokeStyle: data.datasets[0].backgroundColor[i],\r\n                                                lineWidth: 1,\r\n                                                hidden: chart.getDatasetMeta(0).data[i].hidden,\r\n                                                index: i,\r\n                                                fontColor: '#2c3e50'\r\n                                              };\r\n                                            });\r\n                                          }\r\n                                          return [];\r\n                                        }\r\n                                      }\r\n                                    },\r\n                                    tooltip: {\r\n                                      backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n                                      titleColor: '#ffffff',\r\n                                      bodyColor: '#ffffff',\r\n                                      borderColor: 'rgba(255,255,255,0.2)',\r\n                                      borderWidth: 1,\r\n                                      cornerRadius: 8,\r\n                                      padding: 12,\r\n                                      displayColors: true,\r\n                                      callbacks: {\r\n                                        label: function (context) {\r\n                                          const label = context.label || '';\r\n                                          const value = context.parsed || 0;\r\n                                          const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                          const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n                                          const itemIndex = context.dataIndex;\r\n                                          const item = capTableData?.pre_money?.items?.[itemIndex];\r\n                                          return [\r\n                                            ` ${label}`,\r\n                                            `Shares: ${formatNumber(value)}`,\r\n                                            `Ownership: ${percentage}%`,\r\n                                            `Value: ${formatCurrency(item?.value || 0, roundData?.currency)}`,\r\n                                            `Price/Share: ${formatCurrencyNotRound(item?.share_price || 0.01, roundData?.currency)}`\r\n                                          ];\r\n                                        },\r\n                                        title: function (tooltipItems) {\r\n                                          const index = tooltipItems[0].dataIndex;\r\n                                          const item = capTableData?.pre_money?.items?.[index];\r\n                                          if (item?.type === 'founder') {\r\n                                            return ` Founder: ${item.founder_code || ''} ${item.name}`.trim();\r\n                                          }\r\n                                          return tooltipItems[0].label;\r\n                                        }\r\n                                      }\r\n                                    }\r\n                                  }\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          {/* Right Column - Founder Details */}\r\n                          <div className=\"col-md-5\">\r\n                            <div className=\"bg-light bg-opacity-50 rounded-3 p-4 h-100\">\r\n                              <h6 className=\"fw-bold mb-3 d-flex align-items-center\">\r\n                                <i className=\"bi bi-people-fill me-2 text-primary\"></i>\r\n                                Founder Details & Ownership\r\n                              </h6>\r\n                              <div className=\"founder-list\" style={{ maxHeight: '320px', overflowY: 'auto' }}>\r\n                                {capTableData?.pre_money?.items\r\n                                  ?.filter(item => item.type === 'founder')\r\n                                  .map((item, index) => {\r\n                                    const totalShares = capTableData.pre_money.totals.total_shares || 1;\r\n                                    const percentage = ((item.shares || 0) / totalShares * 100).toFixed(1);\r\n                                    const colors = ['#4e73df', '#1cc88a', '#36b9cc', '#f6c23e', '#e74a3b'];\r\n                                    const color = colors[index % colors.length];\r\n                                    return (\r\n                                      <div key={index} className=\"d-flex align-items-center mb-3 p-3 bg-white rounded-3 shadow-sm\">\r\n                                        <div\r\n                                          className=\"me-3 flex-shrink-0 d-flex align-items-center justify-content-center rounded-circle\"\r\n                                          style={{\r\n                                            width: '48px',\r\n                                            height: '48px',\r\n                                            backgroundColor: `${color}20`,\r\n                                            color: color,\r\n                                            fontSize: '18px',\r\n                                            fontWeight: 'bold'\r\n                                          }}\r\n                                        >\r\n                                          {item.founder_code || `F${index + 1}`}\r\n                                        </div>\r\n                                        <div className=\"flex-grow-1\">\r\n                                          <div className=\"d-flex justify-content-between align-items-center mb-1\">\r\n                                            <span className=\"fw-semibold\">{item.name}</span>\r\n                                            <span className=\"badge\" style={{ backgroundColor: color, color: 'white' }}>\r\n                                              {percentage}%\r\n                                            </span>\r\n                                          </div>\r\n                                          <div className=\"d-flex justify-content-between align-items-center small\">\r\n                                            <span className=\"text-muted\">\r\n                                              {formatNumber(item.shares || 0)} shares\r\n                                            </span>\r\n                                            {item.email && (\r\n                                              <span className=\"text-muted text-truncate\" style={{ maxWidth: '150px' }}>\r\n                                                {item.email}\r\n                                              </span>\r\n                                            )}\r\n                                          </div>\r\n                                          <div className=\"progress mt-2\" style={{ height: '6px', backgroundColor: '#e9ecef' }}>\r\n                                            <div\r\n                                              className=\"progress-bar\"\r\n                                              role=\"progressbar\"\r\n                                              style={{\r\n                                                width: `${percentage}%`,\r\n                                                backgroundColor: color,\r\n                                                transition: 'width 0.3s ease'\r\n                                              }}\r\n                                              aria-valuenow={percentage}\r\n                                              aria-valuemin=\"0\"\r\n                                              aria-valuemax=\"100\"\r\n                                            />\r\n                                          </div>\r\n                                          <div className=\"d-flex mt-2 small text-muted\">\r\n                                            <span className=\"me-3\">\r\n                                              <i className=\"bi bi-tag me-1\"></i>\r\n                                              {item.share_type || 'common'}\r\n                                            </span>\r\n                                            <span>\r\n                                              <i className=\"bi bi-check-circle me-1\"></i>\r\n                                              {item.voting || 'voting'}\r\n                                            </span>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    );\r\n                                  })}\r\n                              </div>\r\n                              <div className=\"mt-3 pt-3 border-top\">\r\n                                <div className=\"bg-white rounded-3 p-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-6\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Total Founders</small>\r\n                                        <span className=\"fw-bold h5 mb-0\">\r\n                                          {capTableData?.pre_money?.items?.filter(item => item.type === 'founder').length || 0}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Total Shares</small>\r\n                                        <span className=\"fw-bold h5 mb-0\">\r\n                                          {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6 mt-2\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Share Price</small>\r\n                                        <span className=\"fw-bold text-primary\">\r\n                                          <CurrencyFormatter\r\n                                            amount={roundData?.share_price || 0.01}\r\n                                            currency={roundData?.currency}\r\n                                            digit={3}\r\n                                          />\r\n\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6 mt-2\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Total Value</small>\r\n                                        <span className=\"fw-bold text-success\">\r\n                                          <CurrencyFormatter\r\n                                            amount={capTableData?.pre_money?.totals?.total_value || 0}\r\n                                            currency={roundData?.currency}\r\n                                          />\r\n\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* CPAVATE Summary Tab - Keep as is */}\r\n              {activeTab === 'summary' && summaryDetails && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">CPAVATE Calculation Summary</h5>\r\n                    <small className=\"text-muted\">Detailed breakdown based on CPAVATE formulas</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    {/* Key Metrics */}\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Pre-Money Valuation</h6>\r\n                            <h4 className=\"card-title text-primary\">\r\n                              <CurrencyFormatter\r\n                                amount={calculations.pre_money_valuation}\r\n                                currency={roundData?.currency}\r\n                              />\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Investment</h6>\r\n                            <h4 className=\"card-title text-success\">\r\n                              <CurrencyFormatter\r\n                                amount={roundData?.investment}\r\n                                currency={roundData?.currency}\r\n                              />\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Post-Money Valuation</h6>\r\n                            <h4 className=\"card-title text-info\">\r\n                              <CurrencyFormatter\r\n                                amount={calculations.post_money_valuation}\r\n                                currency={roundData?.currency}\r\n                              />\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                    {/* Share Details */}\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"card\">\r\n                          <div className=\"card-header\">\r\n                            <h6 className=\"mb-0\">Share Price Calculation</h6>\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Pre-Money Share Price:</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                <CurrencyFormatter\r\n                                  amount={calculations.pre_money_valuation}\r\n                                  currency={roundData?.currency}\r\n                                />{\" \"}\r\n                                 {formatNumber(summaryDetails.totalSharesPre)} shares =\r\n                                <strong className=\"ms-2\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.sharePricePre}\r\n                                    currency={roundData?.currency}\r\n                                    digit={3}\r\n                                  />\r\n\r\n                                </strong>\r\n                              </p>\r\n\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Post-Money Share Price:</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                <CurrencyFormatter\r\n                                  amount={calculations.post_money_valuation}\r\n                                  currency={roundData?.currency}\r\n                                />{\" \"}\r\n                                 {formatNumber(summaryDetails.totalSharesPost)} shares =\r\n                                <strong className=\"ms-2\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.sharePricePost}\r\n                                    currency={roundData?.currency}\r\n                                    digit={3}\r\n                                  />\r\n\r\n                                </strong>\r\n                              </p>\r\n\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"card\">\r\n                          <div className=\"card-header\">\r\n                            <h6 className=\"mb-0\">Shareholder Values</h6>\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Founder Value (Pre-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.pre_money.totals.total_founders)} shares \r\n                                <CurrencyFormatter\r\n                                  amount={summaryDetails.sharePricePre}\r\n                                  currency={roundData?.currency}\r\n                                  digit={3}\r\n                                />\r\n                                =\r\n                                <strong className=\"ms-2 text-primary\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.founderValuePre}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </strong>\r\n                              </p>\r\n\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Founder Value (Post-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.post_money.totals.total_founders)} shares \r\n                                <CurrencyFormatter\r\n                                  amount={summaryDetails.sharePricePost}\r\n                                  currency={roundData?.currency}\r\n                                  digit={3}\r\n                                />\r\n                                =\r\n                                <strong className=\"ms-2 text-success\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.founderValuePost}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </strong>\r\n                              </p>\r\n                            </div>\r\n\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Investor Value (Post-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.post_money.totals.total_investors)} shares \r\n                                <CurrencyFormatter\r\n                                  amount={summaryDetails.sharePricePost}\r\n                                  currency={roundData?.currency}\r\n                                  digit={3}\r\n                                />\r\n                                =\r\n                                <strong className=\"ms-2 text-warning\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.investorValue}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </strong>\r\n                              </p>\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Detailed Breakdown */}\r\n                    <div className=\"card mb-4\">\r\n                      <div className=\"card-header\">\r\n                        <h6 className=\"mb-0\">Ownership Breakdown</h6>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-sm\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>Shareholder Type</th>\r\n                                <th className=\"text-end\">Shares</th>\r\n                                <th className=\"text-end\">% Ownership</th>\r\n                                <th className=\"text-end\">Value (Post-Money)</th>\r\n                                <th className=\"text-end\">Value per Share</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td><strong>Founders</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_founders)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_founders / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-primary\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.founderValuePost}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </td>\r\n\r\n                                <td className=\"text-end\"><CurrencyFormatter\r\n                                  amount={summaryDetails.sharePricePost}\r\n                                  currency={roundData?.currency}\r\n                                  digit={3}\r\n                                />\r\n                                </td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td><strong>Option Pool</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_option_pool)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_option_pool / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-warning\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.optionPoolValue}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </td>\r\n\r\n                                <td className=\"text-end\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.sharePricePost}\r\n                                    currency={roundData?.currency}\r\n                                    digit={3}\r\n                                  />\r\n                                </td>\r\n\r\n                              </tr>\r\n                              <tr>\r\n                                <td><strong>Investors</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_investors)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_investors / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-success\">\r\n                                  <CurrencyFormatter\r\n                                    amount={summaryDetails.investorValue}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </td>\r\n\r\n                                <td className=\"text-end\"><CurrencyFormatter\r\n                                  amount={summaryDetails.sharePricePost}\r\n                                  currency={roundData?.currency}\r\n                                  digit={3}\r\n                                />\r\n                                </td>\r\n                              </tr>\r\n\r\n                              <tr className=\"table-active\">\r\n                                <td><strong>TOTAL</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatNumber(summaryDetails.totalSharesPost)}</strong></td>\r\n                                <td className=\"text-end\"><strong>100%</strong></td>\r\n                                <td className=\"text-end\"><strong><CurrencyFormatter\r\n                                  amount={summaryDetails.totalSharesPost * summaryDetails.sharePricePost}\r\n                                  currency={roundData?.currency}\r\n                                />\r\n                                </strong></td>\r\n                                <td className=\"text-end\"><strong><CurrencyFormatter\r\n                                  amount={summaryDetails.sharePricePost}\r\n                                  currency={roundData?.currency}\r\n                                  digit={3}\r\n                                />\r\n                                </strong></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Charts */}\r\n                    {(preMoneyChartData || postMoneyChartData) && (\r\n                      <div className=\"row\">\r\n                        {/* Pre-Money Chart */}\r\n                        {preMoneyChartData && (\r\n                          <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                              <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                <h6 className=\"mb-0\">Pre-Money Distribution</h6>\r\n                                <span className=\"badge bg-primary\">\r\n                                  Total: {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)} shares\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                  {/* Chart - Left Side */}\r\n                                  <div className=\"col-md-12\" style={{ height: '300px' }}>\r\n                                    <Pie\r\n                                      data={preMoneyChartData}\r\n                                      options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        cutout: '50%',\r\n                                        plugins: {\r\n                                          datalabels: {\r\n                                            display: function (context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const currentValue = dataset.data[context.dataIndex];\r\n                                              const percentage = (currentValue / total) * 100;\r\n                                              return percentage >= 3; // Only show for slices >= 3%\r\n                                            },\r\n                                            formatter: function (value, context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = ((value / total) * 100).toFixed(1);\r\n                                              return percentage + '%';\r\n                                            },\r\n                                            color: '#000',\r\n                                            font: {\r\n                                              weight: 'bold',\r\n                                              size: 16\r\n                                            },\r\n                                            textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                            padding: 6\r\n                                          },\r\n                                          legend: {\r\n                                            display: false\r\n                                          },\r\n                                          tooltip: {\r\n                                            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                            titleColor: '#fff',\r\n                                            bodyColor: '#fff',\r\n                                            borderColor: '#333',\r\n                                            borderWidth: 1,\r\n                                            cornerRadius: 6,\r\n                                            padding: 12,\r\n                                            displayColors: true,\r\n                                            callbacks: {\r\n                                              label: function (context) {\r\n                                                const label = context.label || '';\r\n                                                const value = context.parsed || 0; // This is shares value\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n\r\n                                                // Calculate percentage (itemper)\r\n                                                const percentages = total > 0 ? ((value / total) * 100) : 0;\r\n                                                const percentage = percentages.toFixed(2);\r\n                                                const percentageFormatted = percentages.toFixed(2);\r\n\r\n                                                //  Calculate value using same formula: (percentage * preMoneyValuation) / 100\r\n                                                const preMoneyVal = parseFloat(roundData?.pre_money) || 0;\r\n                                                const valueAmount = (percentages * preMoneyVal) / 100;\r\n\r\n                                                return [\r\n                                                  `${label}`,\r\n                                                  `Shares: ${formatNumber(value)}`,\r\n                                                  `Ownership: ${percentage}%`,\r\n                                                  `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                  `Price/Share: ${formatCurrencyNotRound(preMoneyVal / total, roundData?.currency)}`\r\n                                                ];\r\n                                              },\r\n                                              title: function (tooltipItems) {\r\n                                                const index = tooltipItems[0].dataIndex;\r\n                                                const item = capTableData?.pre_money?.items?.[index];\r\n                                                if (item?.type === 'founder') {\r\n                                                  return ` Founder: ${item.founder_code || ''} ${item.name}`.trim();\r\n                                                } else if (item?.type === 'investor') {\r\n                                                  if (item.is_previous) {\r\n                                                    return ` Previous Investors`;\r\n                                                  } else if (item.is_seed) {\r\n                                                    return ` Seed Investors`;\r\n                                                  } else {\r\n                                                    return ` Investor: ${item.name}`;\r\n                                                  }\r\n                                                } else if (item?.type === 'option_pool') {\r\n                                                  return ` Employee Option Pool`;\r\n                                                }\r\n                                                return tooltipItems[0].label;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  {/* Custom Legend with Permanent Percentage - Right Side */}\r\n                                  <div className=\"col-md-12\">\r\n                                    <div className=\"chart-legend-permanent h-100\">\r\n                                      <h6 className=\"mb-3 text-center fw-semibold\">Ownership Distribution</h6>\r\n                                      <div className=\"legend-list\" style={{ maxHeight: '240px', overflowY: 'auto' }}>\r\n\r\n                                        {capTableData?.pre_money?.items?.map((item, index) => {\r\n                                          const total = capTableData.pre_money.totals.total_shares || 1;\r\n                                          const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                          const colors = [\r\n                                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                                            '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                                            '#6A0572', '#118AB2', '#06D6A0', '#FFD166'\r\n                                          ];\r\n                                          const color = colors[index % colors.length];\r\n\r\n                                          //  DYNAMIC DISPLAY NAME BASED ON ITEM TYPE\r\n                                          let displayName = '';\r\n                                          let icon = '';\r\n                                          let subtitle = '';\r\n                                          let email = '';\r\n                                          let phone = '';\r\n\r\n                                          // Get share class type and instrument type if available\r\n                                          const shareType = item.share_class_type || item.shareClassType || '';\r\n                                          const instrumentType = item.instrument_type || item.instrumentType || '';\r\n\r\n                                          if (item.type === 'founder') {\r\n                                            icon = '';\r\n                                            // Founder: Show code and name\r\n                                            if (item.founder_code) {\r\n                                              displayName = `${item.founder_code} - ${item.name}`;\r\n                                            } else {\r\n                                              displayName = `Founder - ${item.name}`;\r\n                                            }\r\n                                            // Add share type if available\r\n                                            if (shareType) {\r\n                                              displayName += ` (${shareType})`;\r\n                                            }\r\n                                            email = item.email;\r\n                                          }\r\n                                          else if (item.type === 'investor') {\r\n                                            // Check investor type\r\n                                            if (item.is_previous) {\r\n                                              icon = '';\r\n                                              //  FIXED: Show \"Post-Seed Previous Investors\" or similar\r\n                                              displayName = item.name || 'Previous Investors';\r\n                                              if (shareType) {\r\n                                                displayName = `${shareType} Investors`;\r\n                                              }\r\n                                            } else if (item.is_seed) {\r\n                                              icon = '';\r\n                                              displayName = `Seed Investors`;\r\n                                              if (shareType) {\r\n                                                displayName += ` (${shareType})`;\r\n                                              }\r\n                                            } else {\r\n                                              icon = '';\r\n                                              // Individual investor - use name from investor_details if available\r\n                                              if (item.investor_details) {\r\n                                                const firstName = item.investor_details.firstName || '';\r\n                                                const lastName = item.investor_details.lastName || '';\r\n                                                if (firstName || lastName) {\r\n                                                  displayName = `${firstName} ${lastName}`.trim();\r\n                                                } else {\r\n                                                  displayName = item.name || 'Investor';\r\n                                                }\r\n                                                email = item.investor_details.email;\r\n                                                phone = item.investor_details.phone;\r\n                                              } else {\r\n                                                displayName = item.name || 'Investor';\r\n                                                email = item.email;\r\n                                                phone = item.phone;\r\n                                              }\r\n\r\n                                              // Add share class type and instrument type\r\n                                              if (shareType && instrumentType && shareType !== instrumentType) {\r\n                                                displayName += ` (${shareType} - ${instrumentType})`;\r\n                                              } else if (shareType) {\r\n                                                displayName += ` (${shareType})`;\r\n                                              } else if (instrumentType) {\r\n                                                displayName += ` (${instrumentType})`;\r\n                                              }\r\n                                            }\r\n\r\n                                            // Add round name if available\r\n                                            if (item.round_name) {\r\n                                              subtitle = item.round_name;\r\n                                            }\r\n                                          }\r\n                                          else if (item.type === 'option_pool') {\r\n                                            icon = '';\r\n                                            displayName = `Employee Option Pool`;\r\n                                            if (shareType) {\r\n                                              displayName += ` (${shareType})`;\r\n                                            }\r\n                                          }\r\n                                          else if (item.type === 'pending') {\r\n                                            icon = '';\r\n                                            displayName = item.name || 'Pending Instrument';\r\n                                            if (shareType) {\r\n                                              displayName += ` (${shareType})`;\r\n                                            }\r\n                                          } else {\r\n                                            icon = '';\r\n                                            displayName = item.name || 'Unknown';\r\n                                          }\r\n\r\n                                          return (\r\n                                            <div key={index} className=\"legend-item d-flex align-items-center mb-2 p-2 border rounded\">\r\n                                              <div\r\n                                                className=\"legend-color me-2 flex-shrink-0\"\r\n                                                style={{\r\n                                                  width: '14px',\r\n                                                  height: '14px',\r\n                                                  borderRadius: '50%',\r\n                                                  backgroundColor: color,\r\n                                                  border: '2px solid #fff',\r\n                                                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                                }}\r\n                                              ></div>\r\n                                              <div className=\"legend-text flex-grow-1\">\r\n                                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                  <small className=\"fw-semibold\" style={{ maxWidth: '150px', whiteSpace: 'normal', wordBreak: 'break-word' }}>\r\n                                                    {icon} {displayName}\r\n                                                  </small>\r\n                                                  <span className=\"badge bg-primary ms-2 flex-shrink-0\">\r\n                                                    {percentage}%\r\n                                                  </span>\r\n                                                </div>\r\n\r\n                                                {/* Shares count */}\r\n                                                <small className=\"text-muted d-block\">\r\n                                                  {formatNumber(item.shares || 0)} shares\r\n                                                </small>\r\n\r\n                                                {/* Email - for all types */}\r\n                                                {email && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    <i className=\"bi bi-envelope me-1\"></i>\r\n                                                    {email}\r\n                                                  </small>\r\n                                                )}\r\n\r\n                                                {/* Phone - for all types */}\r\n                                                {phone && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    <i className=\"bi bi-telephone me-1\"></i>\r\n                                                    {phone}\r\n                                                  </small>\r\n                                                )}\r\n\r\n                                                {/* Subtitle (round name, etc.) */}\r\n                                                {subtitle && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    {subtitle}\r\n                                                  </small>\r\n                                                )}\r\n\r\n                                                {/* Investment amount for new investors */}\r\n                                                {item.type === 'investor' && item.is_new_investment && item.investment > 0 && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    <i className=\"bi bi-cash me-1\"></i>\r\n                                                    <CurrencyFormatter amount={item.investment} currency={roundData?.currency} />\r\n                                                  </small>\r\n                                                )}\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        })}\r\n\r\n                                      </div>\r\n\r\n                                      {/* Total Summary */}\r\n                                      <div className=\"legend-total mt-3 pt-3 border-top\">\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Total Shares:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                          <small className=\"text-muted\">Total Value:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            <CurrencyFormatter\r\n                                              amount={capTableData?.pre_money?.totals?.total_value || 0}\r\n                                              currency={roundData?.currency}\r\n                                            />\r\n\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Chart Statistics */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-md-6\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Shares</small></p>\r\n                                        <h6 className=\"mb-0\">{formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-6\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Value</small></p>\r\n                                        <h6 className=\"mb-0\"><CurrencyFormatter\r\n                                          amount={capTableData?.pre_money?.totals?.total_value || 0}\r\n                                          currency={roundData?.currency}\r\n                                        />\r\n                                        </h6>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Post-Money Chart */}\r\n                        {postMoneyChartData && (\r\n                          <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                              <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                <h6 className=\"mb-0\">Post-Money Distribution</h6>\r\n                                <span className=\"badge bg-success\">\r\n                                  Total: {formatNumber(capTableData?.post_money?.totals?.total_shares || 0)} shares\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                  {/* Chart - Left Side */}\r\n                                  <div className=\"col-md-12\" style={{ height: '300px' }}>\r\n                                    <Pie\r\n                                      data={postMoneyChartData}\r\n                                      options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        cutout: '50%',\r\n                                        plugins: {\r\n                                          datalabels: {\r\n                                            display: function (context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const currentValue = dataset.data[context.dataIndex];\r\n                                              const percentage = (currentValue / total) * 100;\r\n                                              return percentage >= 3; // Only show for slices >= 3%\r\n                                            },\r\n                                            formatter: function (value, context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = ((value / total) * 100).toFixed(1);\r\n                                              return percentage + '%';\r\n                                            },\r\n                                            color: '#000',\r\n                                            font: {\r\n                                              weight: 'bold',\r\n                                              size: 16\r\n                                            },\r\n                                            textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                            padding: 6\r\n                                          },\r\n                                          legend: {\r\n                                            display: false\r\n                                          },\r\n                                          tooltip: {\r\n                                            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                            titleColor: '#fff',\r\n                                            bodyColor: '#fff',\r\n                                            borderColor: '#333',\r\n                                            borderWidth: 1,\r\n                                            cornerRadius: 6,\r\n                                            padding: 12,\r\n                                            displayColors: true,\r\n                                            callbacks: {\r\n                                              label: function (context) {\r\n                                                const label = context.label || '';\r\n                                                const value = context.parsed || 0; // This is shares value\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n\r\n                                                //  FIXED: Calculate value using (percentage * postMoneyValuation) / 100\r\n                                                const postMoneyVal = parseFloat(roundData?.post_money) || 0;\r\n                                                const valueAmount = (percentage * postMoneyVal) / 100;\r\n\r\n                                                // Alternative calculation using shares directly (same result)\r\n                                                // const valueAmount = (value / total) * postMoneyVal;\r\n\r\n                                                return [\r\n                                                  `${label}`,\r\n                                                  `Shares: ${formatNumber(value)}`,\r\n                                                  `Ownership: ${percentage}%`,\r\n                                                  `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                  `Price/Share: ${formatCurrencyNotRound(postMoneyVal / total, roundData?.currency)}`\r\n                                                ];\r\n                                              },\r\n                                              title: function (tooltipItems) {\r\n                                                const index = tooltipItems[0].dataIndex;\r\n                                                const item = capTableData?.post_money?.items?.[index];\r\n\r\n                                                if (item) {\r\n                                                  if (item.type === 'founder') {\r\n                                                    return ` Founder: ${item.founder_code ? `${item.founder_code} - ` : ''}${item.name}`;\r\n                                                  } else if (item.type === 'investor') {\r\n                                                    // Get share class type for better display\r\n                                                    const shareType = item.share_class_type || item.shareClassType || '';\r\n                                                    const typeDisplay = shareType ? ` (${shareType})` : '';\r\n\r\n                                                    if (item.is_previous) {\r\n                                                      return ` Previous Investors${typeDisplay}`;\r\n                                                    } else if (item.is_seed) {\r\n                                                      return ` Seed Investors${typeDisplay}`;\r\n                                                    } else if (item.is_new_investment) {\r\n                                                      return ` New Investor: ${item.name}${typeDisplay}`;\r\n                                                    } else if (item.is_converted) {\r\n                                                      return ` Converted: ${item.name}${typeDisplay}`;\r\n                                                    } else {\r\n                                                      return ` Investor: ${item.name}${typeDisplay}`;\r\n                                                    }\r\n                                                  } else if (item.type === 'option_pool') {\r\n                                                    return ` Employee Option Pool`;\r\n                                                  } else if (item.type === 'pending') {\r\n                                                    return ` Pending: ${item.name}`;\r\n                                                  }\r\n                                                }\r\n                                                return tooltipItems[0].label;\r\n                                              },\r\n                                              // Optional: Add afterLabel to show additional details\r\n                                              afterLabel: function (context) {\r\n                                                const index = context.dataIndex;\r\n                                                const item = capTableData?.post_money?.items?.[index];\r\n\r\n                                                if (item) {\r\n                                                  const details = [];\r\n\r\n                                                  // Show email if available\r\n                                                  if (item.investor_details?.email) {\r\n                                                    details.push(` ${item.investor_details.email}`);\r\n                                                  } else if (item.email) {\r\n                                                    details.push(` ${item.email}`);\r\n                                                  }\r\n\r\n                                                  // Show phone if available\r\n                                                  if (item.investor_details?.phone) {\r\n                                                    details.push(` ${item.investor_details.phone}`);\r\n                                                  } else if (item.phone) {\r\n                                                    details.push(` ${item.phone}`);\r\n                                                  }\r\n\r\n                                                  // Show investment amount for investors\r\n                                                  if (item.type === 'investor' && item.investment) {\r\n                                                    details.push(` Investment: ${formatCurrency(item.investment, roundData?.currency)}`);\r\n                                                  }\r\n\r\n                                                  // Show new shares for option pool\r\n                                                  if (item.type === 'option_pool' && item.new_shares > 0) {\r\n                                                    details.push(` New Shares: ${formatNumber(item.new_shares)}`);\r\n                                                  }\r\n\r\n                                                  return details.length > 0 ? details : null;\r\n                                                }\r\n                                                return null;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  {/* Custom Legend with Same Names as Table */}\r\n                                  <div className=\"col-md-12\">\r\n                                    <div className=\"chart-legend-permanent h-100\">\r\n                                      <h6 className=\"mb-3 text-center fw-semibold\">Ownership Distribution</h6>\r\n                                      <div className=\"legend-list\" style={{ maxHeight: '240px', overflowY: 'auto' }}>\r\n                                        {capTableData?.post_money?.items?.map((item, index) => {\r\n                                          const total = capTableData.post_money.totals.total_shares || 1;\r\n                                          const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                          const colors = [\r\n                                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                                            '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                                          ];\r\n                                          const color = colors[index % colors.length];\r\n\r\n                                          // Get display name exactly like post-money table\r\n                                          let displayName = '';\r\n                                          let icon = '';\r\n\r\n                                          if (item.type === 'founder') {\r\n                                            icon = '';\r\n                                            displayName = item.name;\r\n                                          }\r\n                                          else if (item.type === 'investor') {\r\n                                            const shareType = item.share_class_type || item.shareClassType || '';\r\n\r\n                                            if (item.is_previous) {\r\n                                              icon = '';\r\n                                              displayName = `Previous Investors${shareType ? ` (${shareType})` : ''}`;\r\n                                            } else if (item.is_seed) {\r\n                                              icon = '';\r\n                                              displayName = `Seed Investors${shareType ? ` (${shareType})` : ''}`;\r\n                                            } else if (item.is_new_investment) {\r\n                                              icon = '';\r\n                                              displayName = item.name || 'Investor';\r\n                                              if (shareType) {\r\n                                                displayName += ` (${shareType})`;\r\n                                              }\r\n                                            } else {\r\n                                              icon = '';\r\n                                              displayName = item.name || 'Investor';\r\n                                            }\r\n                                          }\r\n                                          else if (item.type === 'option_pool') {\r\n                                            icon = '';\r\n                                            displayName = 'Employee Option Pool';\r\n                                          }\r\n                                          else if (item.type === 'pending') {\r\n                                            icon = '';\r\n                                            displayName = item.name;\r\n                                          }\r\n\r\n                                          return (\r\n                                            <div key={index} className=\"legend-item d-flex align-items-center mb-2 p-2 border rounded\">\r\n                                              <div\r\n                                                className=\"legend-color me-2 flex-shrink-0\"\r\n                                                style={{\r\n                                                  width: '14px',\r\n                                                  height: '14px',\r\n                                                  borderRadius: '50%',\r\n                                                  backgroundColor: color,\r\n                                                  border: '2px solid #fff',\r\n                                                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                                }}\r\n                                              ></div>\r\n                                              <div className=\"legend-text flex-grow-1\">\r\n                                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                  <small className=\"fw-semibold\" style={{ maxWidth: '150px', whiteSpace: 'normal', wordBreak: 'break-word' }}>\r\n                                                    {icon} {displayName}\r\n                                                  </small>\r\n                                                  <span className=\"badge bg-success ms-2 flex-shrink-0\">\r\n                                                    {percentage}%\r\n                                                  </span>\r\n                                                </div>\r\n                                                <small className=\"text-muted d-block\">\r\n                                                  {formatNumber(item.shares || 0)} shares\r\n                                                  {item.new_shares > 0 && (\r\n                                                    <span className=\"text-success ms-2\">\r\n                                                      (+{formatNumber(item.new_shares)} new)\r\n                                                    </span>\r\n                                                  )}\r\n                                                </small>\r\n                                                {item.type === 'investor' && item.investor_details?.email && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    <i className=\"bi bi-envelope me-1\"></i>\r\n                                                    {item.investor_details.email}\r\n                                                  </small>\r\n                                                )}\r\n                                                {item.type === 'investor' && item.investor_details?.phone && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    <i className=\"bi bi-telephone me-1\"></i>\r\n                                                    {item.investor_details.phone}\r\n                                                  </small>\r\n                                                )}\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        })}\r\n                                      </div>\r\n\r\n                                      {/* Total Summary */}\r\n                                      <div className=\"legend-total mt-3 pt-3 border-top\">\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Total Shares:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatNumber(capTableData?.post_money?.totals?.total_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">New Shares:</small>\r\n                                          <small className=\"fw-semibold text-success\">\r\n                                            {formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                          <small className=\"text-muted\">Total Value:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            <CurrencyFormatter\r\n                                              amount={capTableData?.post_money?.totals?.total_value || 0}\r\n                                              currency={roundData?.currency}\r\n                                            />\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Post-Money Statistics */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Shares</small></p>\r\n                                        <h6 className=\"mb-0\">{formatNumber(capTableData?.post_money?.totals?.total_shares || 0)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>New Shares</small></p>\r\n                                        <h6 className=\"mb-0 text-success\">\r\n                                          {formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}\r\n                                        </h6>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Value</small></p>\r\n                                        <h6 className=\"mb-0\">\r\n                                          <CurrencyFormatter\r\n                                            amount={capTableData?.post_money?.totals?.total_value || 0}\r\n                                            currency={roundData?.currency}\r\n                                          />\r\n                                        </h6>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  {/* Ownership Breakdown */}\r\n                                  <div className=\"row mt-3\">\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Founders</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-info me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_founders /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Investors</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-success me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_investors /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Option Pool</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-warning me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_option_pool /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                              <h6 className=\"mb-0\">Ownership Percentage Comparison</h6>\r\n                              <div>\r\n                                <span className=\"badge bg-primary me-2\">Pre-Money %</span>\r\n                                <span className=\"badge bg-danger\">Post-Money %</span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                              <div style={{ height: '400px' }}>\r\n                                <Bar\r\n                                  data={{\r\n                                    // Use ALL unique shareholders from both pre and post money\r\n                                    labels: (() => {\r\n                                      // Create a map of unique shareholders\r\n                                      const shareholderMap = new Map();\r\n\r\n                                      // Add all post-money items first\r\n                                      capTableData?.post_money?.items?.forEach(item => {\r\n                                        let key = '';\r\n                                        if (item.type === 'founder') {\r\n                                          key = `founder-${item.name}`;\r\n                                        } else if (item.type === 'investor') {\r\n                                          const shareType = item.share_class_type || item.shareClassType || '';\r\n                                          if (item.is_previous || item.is_seed) {\r\n                                            key = `group-${shareType}`;\r\n                                          } else {\r\n                                            key = `investor-${item.name}`;\r\n                                          }\r\n                                        } else if (item.type === 'option_pool') {\r\n                                          key = 'option-pool';\r\n                                        }\r\n\r\n                                        if (!shareholderMap.has(key)) {\r\n                                          shareholderMap.set(key, {\r\n                                            ...item,\r\n                                            uniqueKey: key\r\n                                          });\r\n                                        }\r\n                                      });\r\n\r\n                                      // Add any pre-money items that might not be in post-money\r\n                                      capTableData?.pre_money?.items?.forEach(item => {\r\n                                        let key = '';\r\n                                        if (item.type === 'founder') {\r\n                                          key = `founder-${item.name}`;\r\n                                        } else if (item.type === 'investor') {\r\n                                          const shareType = item.share_class_type || item.shareClassType || '';\r\n                                          if (item.is_previous || item.is_seed) {\r\n                                            key = `group-${shareType}`;\r\n                                          } else {\r\n                                            key = `investor-${item.name}`;\r\n                                          }\r\n                                        } else if (item.type === 'option_pool') {\r\n                                          key = 'option-pool';\r\n                                        }\r\n\r\n                                        if (!shareholderMap.has(key)) {\r\n                                          shareholderMap.set(key, {\r\n                                            ...item,\r\n                                            uniqueKey: key\r\n                                          });\r\n                                        }\r\n                                      });\r\n\r\n                                      // Convert map to array and generate labels\r\n                                      return Array.from(shareholderMap.values()).map(item => {\r\n                                        if (item.type === 'founder') {\r\n                                          return `${item.founder_code || 'F'} ${item.name}`;\r\n                                        } else if (item.type === 'investor') {\r\n                                          const shareType = item.share_class_type || item.shareClassType || '';\r\n                                          if (item.is_previous || item.is_seed) {\r\n                                            return shareType ? `${shareType} Investors` : 'Investors';\r\n                                          } else {\r\n                                            const investorName = item.name || 'Investor';\r\n                                            return shareType ? `${investorName} (${shareType})` : investorName;\r\n                                          }\r\n                                        } else if (item.type === 'option_pool') {\r\n                                          return 'Employee Option Pool';\r\n                                        }\r\n                                        return item.name || '';\r\n                                      });\r\n                                    })(),\r\n\r\n                                    datasets: [\r\n                                      {\r\n                                        label: 'Pre-Money %',\r\n                                        data: (() => {\r\n                                          // Create array of pre-money percentages for all unique shareholders\r\n                                          const shareholderMap = new Map();\r\n\r\n                                          // First, create map of all unique shareholders\r\n                                          capTableData?.post_money?.items?.forEach(item => {\r\n                                            let key = '';\r\n                                            if (item.type === 'founder') {\r\n                                              key = `founder-${item.name}`;\r\n                                            } else if (item.type === 'investor') {\r\n                                              const shareType = item.share_class_type || item.shareClassType || '';\r\n                                              if (item.is_previous || item.is_seed) {\r\n                                                key = `group-${shareType}`;\r\n                                              } else {\r\n                                                key = `investor-${item.name}`;\r\n                                              }\r\n                                            } else if (item.type === 'option_pool') {\r\n                                              key = 'option-pool';\r\n                                            }\r\n                                            shareholderMap.set(key, 0); // Initialize with 0\r\n                                          });\r\n\r\n                                          capTableData?.pre_money?.items?.forEach(item => {\r\n                                            let key = '';\r\n                                            if (item.type === 'founder') {\r\n                                              key = `founder-${item.name}`;\r\n                                            } else if (item.type === 'investor') {\r\n                                              const shareType = item.share_class_type || item.shareClassType || '';\r\n                                              if (item.is_previous || item.is_seed) {\r\n                                                key = `group-${shareType}`;\r\n                                              } else {\r\n                                                key = `investor-${item.name}`;\r\n                                              }\r\n                                            } else if (item.type === 'option_pool') {\r\n                                              key = 'option-pool';\r\n                                            }\r\n\r\n                                            const total = capTableData.pre_money.totals.total_shares || 1;\r\n                                            const percentage = parseFloat(((item.shares || 0) / total * 100).toFixed(1));\r\n                                            shareholderMap.set(key, percentage);\r\n                                          });\r\n\r\n                                          return Array.from(shareholderMap.values());\r\n                                        })(),\r\n                                        backgroundColor: '#4e73df',\r\n                                        borderColor: '#4e73df',\r\n                                        borderWidth: 2,\r\n                                        borderRadius: 5,\r\n                                        barThickness: 30\r\n                                      },\r\n                                      {\r\n                                        label: 'Post-Money %',\r\n                                        data: (() => {\r\n                                          // Create array of post-money percentages for all unique shareholders\r\n                                          const shareholderMap = new Map();\r\n\r\n                                          // First, create map of all unique shareholders\r\n                                          capTableData?.post_money?.items?.forEach(item => {\r\n                                            let key = '';\r\n                                            if (item.type === 'founder') {\r\n                                              key = `founder-${item.name}`;\r\n                                            } else if (item.type === 'investor') {\r\n                                              const shareType = item.share_class_type || item.shareClassType || '';\r\n                                              if (item.is_previous || item.is_seed) {\r\n                                                key = `group-${shareType}`;\r\n                                              } else {\r\n                                                key = `investor-${item.name}`;\r\n                                              }\r\n                                            } else if (item.type === 'option_pool') {\r\n                                              key = 'option-pool';\r\n                                            }\r\n\r\n                                            const total = capTableData.post_money.totals.total_shares || 1;\r\n                                            const percentage = parseFloat(((item.shares || 0) / total * 100).toFixed(1));\r\n                                            shareholderMap.set(key, percentage);\r\n                                          });\r\n\r\n                                          // Add any pre-money items that might not be in post-money (with 0%)\r\n                                          capTableData?.pre_money?.items?.forEach(item => {\r\n                                            let key = '';\r\n                                            if (item.type === 'founder') {\r\n                                              key = `founder-${item.name}`;\r\n                                            } else if (item.type === 'investor') {\r\n                                              const shareType = item.share_class_type || item.shareClassType || '';\r\n                                              if (item.is_previous || item.is_seed) {\r\n                                                key = `group-${shareType}`;\r\n                                              } else {\r\n                                                key = `investor-${item.name}`;\r\n                                              }\r\n                                            } else if (item.type === 'option_pool') {\r\n                                              key = 'option-pool';\r\n                                            }\r\n\r\n                                            if (!shareholderMap.has(key)) {\r\n                                              shareholderMap.set(key, 0);\r\n                                            }\r\n                                          });\r\n\r\n                                          return Array.from(shareholderMap.values());\r\n                                        })(),\r\n                                        backgroundColor: '#e74a3b',\r\n                                        borderColor: '#e74a3b',\r\n                                        borderWidth: 2,\r\n                                        borderRadius: 5,\r\n                                        barThickness: 30\r\n                                      }\r\n                                    ]\r\n                                  }}\r\n                                  options={{\r\n                                    responsive: true,\r\n                                    maintainAspectRatio: false,\r\n                                    plugins: {\r\n                                      legend: {\r\n                                        position: 'top',\r\n                                        labels: {\r\n                                          boxWidth: 12,\r\n                                          padding: 15,\r\n                                          font: { size: 12 }\r\n                                        }\r\n                                      },\r\n                                      tooltip: {\r\n                                        backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                        titleColor: '#fff',\r\n                                        bodyColor: '#fff',\r\n                                        borderColor: '#333',\r\n                                        borderWidth: 1,\r\n                                        cornerRadius: 6,\r\n                                        padding: 12,\r\n                                        displayColors: true,\r\n                                        callbacks: {\r\n                                          label: function (context) {\r\n                                            const label = context.dataset.label || '';\r\n                                            const value = context.parsed.y || 0;\r\n                                            return `${label}: ${value}%`;\r\n                                          },\r\n                                          afterLabel: function (context) {\r\n                                            const itemIndex = context.dataIndex;\r\n                                            const allItems = [];\r\n\r\n                                            // Get all unique shareholders in order\r\n                                            const shareholderMap = new Map();\r\n                                            capTableData?.post_money?.items?.forEach(item => {\r\n                                              let key = '';\r\n                                              if (item.type === 'founder') {\r\n                                                key = `founder-${item.name}`;\r\n                                              } else if (item.type === 'investor') {\r\n                                                const shareType = item.share_class_type || item.shareClassType || '';\r\n                                                if (item.is_previous || item.is_seed) {\r\n                                                  key = `group-${shareType}`;\r\n                                                } else {\r\n                                                  key = `investor-${item.name}`;\r\n                                                }\r\n                                              } else if (item.type === 'option_pool') {\r\n                                                key = 'option-pool';\r\n                                              }\r\n                                              shareholderMap.set(key, item);\r\n                                            });\r\n\r\n                                            capTableData?.pre_money?.items?.forEach(item => {\r\n                                              let key = '';\r\n                                              if (item.type === 'founder') {\r\n                                                key = `founder-${item.name}`;\r\n                                              } else if (item.type === 'investor') {\r\n                                                const shareType = item.share_class_type || item.shareClassType || '';\r\n                                                if (item.is_previous || item.is_seed) {\r\n                                                  key = `group-${shareType}`;\r\n                                                } else {\r\n                                                  key = `investor-${item.name}`;\r\n                                                }\r\n                                              } else if (item.type === 'option_pool') {\r\n                                                key = 'option-pool';\r\n                                              }\r\n                                              if (!shareholderMap.has(key)) {\r\n                                                shareholderMap.set(key, item);\r\n                                              }\r\n                                            });\r\n\r\n                                            const items = Array.from(shareholderMap.values());\r\n                                            const currentItem = items[itemIndex];\r\n\r\n                                            if (currentItem) {\r\n                                              let details = [];\r\n                                              if (currentItem.type === 'investor') {\r\n                                                if (currentItem.investor_details?.email) {\r\n                                                  details.push(` ${currentItem.investor_details.email}`);\r\n                                                }\r\n                                                if (currentItem.investor_details?.phone) {\r\n                                                  details.push(` ${currentItem.investor_details.phone}`);\r\n                                                }\r\n                                                if (currentItem.investment) {\r\n                                                  details.push(` Investment: ${formatCurrency(currentItem.investment, roundData?.currency)}`);\r\n                                                }\r\n                                              } else if (currentItem.type === 'founder' && currentItem.email) {\r\n                                                details.push(` ${currentItem.email}`);\r\n                                              }\r\n                                              return details.length > 0 ? details : null;\r\n                                            }\r\n                                            return null;\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      datalabels: {\r\n                                        display: true,\r\n                                        formatter: (value) => value + '%',\r\n                                        color: '#fff',\r\n                                        font: { weight: 'bold', size: 10 },\r\n                                        anchor: 'center',\r\n                                        align: 'center'\r\n                                      }\r\n                                    },\r\n                                    scales: {\r\n                                      x: {\r\n                                        grid: { display: false },\r\n                                        title: {\r\n                                          display: true,\r\n                                          text: 'Shareholders',\r\n                                          font: { size: 12, weight: 'bold' }\r\n                                        },\r\n                                        ticks: {\r\n                                          maxRotation: 45,\r\n                                          minRotation: 45\r\n                                        }\r\n                                      },\r\n                                      y: {\r\n                                        beginAtZero: true,\r\n                                        max: 100,\r\n                                        ticks: {\r\n                                          callback: (value) => value + '%',\r\n                                          stepSize: 10\r\n                                        },\r\n                                        title: {\r\n                                          display: true,\r\n                                          text: 'Ownership Percentage',\r\n                                          font: { size: 12, weight: 'bold' }\r\n                                        }\r\n                                      }\r\n                                    }\r\n                                  }}\r\n                                />\r\n                              </div>\r\n\r\n                              {/* Summary Table - Shows ALL shareholders with correct percentages */}\r\n                              {/* <div className=\"mt-4\">\r\n                                <div className=\"card\">\r\n                                  <div className=\"card-header bg-light\">\r\n                                    <h6 className=\"mb-0\">Complete Ownership Comparison</h6>\r\n                                  </div>\r\n                                  <div className=\"card-body\">\r\n                                    <div className=\"table-responsive\">\r\n                                      <table className=\"table table-sm table-bordered\">\r\n                                        <thead className=\"table-light\">\r\n                                          <tr>\r\n                                            <th>Shareholder</th>\r\n                                            <th>Type</th>\r\n                                            <th className=\"text-end\">Pre-Money Shares</th>\r\n                                            <th className=\"text-end\">Pre-Money %</th>\r\n                                            <th className=\"text-end\">Post-Money Shares</th>\r\n                                            <th className=\"text-end\">Post-Money %</th>\r\n                                            <th>Details</th>\r\n                                          </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                          {(() => {\r\n                                            // Create a map of all unique shareholders\r\n                                            const shareholderMap = new Map();\r\n\r\n                                            // Add all post-money items\r\n                                            capTableData?.post_money?.items?.forEach(item => {\r\n                                              let key = '';\r\n                                              if (item.type === 'founder') {\r\n                                                key = `founder-${item.name}`;\r\n                                              } else if (item.type === 'investor') {\r\n                                                const shareType = item.share_class_type || item.shareClassType || '';\r\n                                                if (item.is_previous || item.is_seed) {\r\n                                                  key = `group-${shareType}`;\r\n                                                } else {\r\n                                                  key = `investor-${item.name}`;\r\n                                                }\r\n                                              } else if (item.type === 'option_pool') {\r\n                                                key = 'option-pool';\r\n                                              }\r\n\r\n                                              shareholderMap.set(key, {\r\n                                                ...item,\r\n                                                postItem: item,\r\n                                                preItem: null\r\n                                              });\r\n                                            });\r\n\r\n                                            // Add pre-money items, merging with existing if found\r\n                                            capTableData?.pre_money?.items?.forEach(item => {\r\n                                              let key = '';\r\n                                              if (item.type === 'founder') {\r\n                                                key = `founder-${item.name}`;\r\n                                              } else if (item.type === 'investor') {\r\n                                                const shareType = item.share_class_type || item.shareClassType || '';\r\n                                                if (item.is_previous || item.is_seed) {\r\n                                                  key = `group-${shareType}`;\r\n                                                } else {\r\n                                                  key = `investor-${item.name}`;\r\n                                                }\r\n                                              } else if (item.type === 'option_pool') {\r\n                                                key = 'option-pool';\r\n                                              }\r\n\r\n                                              if (shareholderMap.has(key)) {\r\n                                                const existing = shareholderMap.get(key);\r\n                                                shareholderMap.set(key, {\r\n                                                  ...existing,\r\n                                                  preItem: item\r\n                                                });\r\n                                              } else {\r\n                                                shareholderMap.set(key, {\r\n                                                  ...item,\r\n                                                  preItem: item,\r\n                                                  postItem: null\r\n                                                });\r\n                                              }\r\n                                            });\r\n\r\n                                            const preTotal = capTableData?.pre_money?.totals?.total_shares || 1;\r\n                                            const postTotal = capTableData?.post_money?.totals?.total_shares || 1;\r\n\r\n                                            return Array.from(shareholderMap.values()).map((item, index) => {\r\n                                              const preShares = item.preItem?.shares || 0;\r\n                                              const postShares = item.postItem?.shares || 0;\r\n                                              const prePercentage = ((preShares / preTotal) * 100).toFixed(1);\r\n                                              const postPercentage = ((postShares / postTotal) * 100).toFixed(1);\r\n\r\n                                              // Generate display name\r\n                                              let displayName = '';\r\n                                              let type = '';\r\n                                              let details = [];\r\n\r\n                                              if (item.type === 'founder') {\r\n                                                displayName = `${item.founder_code || 'F'} ${item.name}`;\r\n                                                type = 'Founder';\r\n                                                if (item.email) details.push(` ${item.email}`);\r\n                                              } else if (item.type === 'investor') {\r\n                                                const shareType = item.share_class_type || item.shareClassType || '';\r\n                                                if (item.is_previous || item.is_seed) {\r\n                                                  displayName = shareType ? `${shareType} Investors` : 'Investors';\r\n                                                  type = `${shareType} Group`;\r\n                                                } else {\r\n                                                  displayName = item.name || 'Investor';\r\n                                                  if (shareType) displayName += ` (${shareType})`;\r\n                                                  type = shareType || 'Investor';\r\n                                                }\r\n                                                if (item.investor_details?.email) details.push(` ${item.investor_details.email}`);\r\n                                                if (item.investor_details?.phone) details.push(` ${item.investor_details.phone}`);\r\n                                                if (item.investment) details.push(` ${formatCurrency(item.investment, roundData?.currency)}`);\r\n                                              } else if (item.type === 'option_pool') {\r\n                                                displayName = 'Employee Option Pool';\r\n                                                type = 'Option Pool';\r\n                                              }\r\n\r\n                                              return (\r\n                                                <tr key={index}>\r\n                                                  <td>{displayName}</td>\r\n                                                  <td>{type}</td>\r\n                                                  <td className=\"text-end\">{formatNumber(preShares)}</td>\r\n                                                  <td className=\"text-end\">{prePercentage}%</td>\r\n                                                  <td className=\"text-end\">{formatNumber(postShares)}</td>\r\n                                                  <td className=\"text-end\">{postPercentage}%</td>\r\n                                                  <td>\r\n                                                    {details.map((detail, i) => (\r\n                                                      <div key={i} className=\"small text-muted\">{detail}</div>\r\n                                                    ))}\r\n                                                  </td>\r\n                                                </tr>\r\n                                              );\r\n                                            });\r\n                                          })()}\r\n                                        </tbody>\r\n                                      </table>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div> */}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Pending Conversions Tab */}\r\n              {activeTab === 'pending' && pendingConversions.length > 0 && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-warning\">\r\n                    <h5 className=\"mb-0\">Pending Conversions</h5>\r\n                    <small className=\"text-white\">SAFE/Convertible Notes waiting to convert</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Instrument</th>\r\n                            <th>Round</th>\r\n                            <th className=\"text-end\">Investment</th>\r\n                            <th className=\"text-end\">Conversion Price</th>\r\n                            <th className=\"text-end\">Potential Shares</th>\r\n                            <th>Discount</th>\r\n                            <th>Valuation Cap</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {pendingConversions.map((conv, index) => {\r\n                            const mappedConv = {\r\n                              instrument: conv.instrument_type || conv.instrument,\r\n                              round_name: conv.round_name,\r\n                              investment: conv.investment_amount || conv.investment,\r\n                              conversion_price: conv.share_price || conv.conversion_price,\r\n                              potential_shares: conv.estimated_shares || conv.potential_shares,\r\n                              discount_rate: conv.instrument_data?.discountRate_note || conv.discount_rate,\r\n                              valuation_cap: conv.instrument_data?.valuationCap_note || conv.valuation_cap\r\n                            };\r\n\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td>\r\n                                  <span className={`badge ${mappedConv.instrument === 'Safe' ? 'bg-primary' : 'bg-info'}`}>\r\n                                    {mappedConv.instrument}\r\n                                  </span>\r\n                                </td>\r\n                                <td>{mappedConv.round_name}</td>\r\n                                <td className=\"text-end\">\r\n                                  <CurrencyFormatter\r\n                                    amount={mappedConv.investment}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </td>\r\n\r\n                                <td className=\"text-end\">\r\n                                  <CurrencyFormatter\r\n                                    amount={mappedConv.conversion_price}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </td>\r\n\r\n                                <td className=\"text-end\">{formatNumber(mappedConv.potential_shares)}</td>\r\n                                <td>{mappedConv.discount_rate}%</td>\r\n                                <td>\r\n                                  <CurrencyFormatter\r\n                                    amount={mappedConv.valuation_cap}\r\n                                    currency={roundData?.currency}\r\n                                  />\r\n                                </td>\r\n\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* ===== OWNERSHIP STATISTICS SECTION ===== */}\r\n              {roundData?.type === 'Round 0' && (\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"card border-0 shadow-sm\">\r\n                      <div className=\"card-header bg-white border-0 py-3\">\r\n                        <h6 className=\"mb-0 fw-bold text-dark\">\r\n                          <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                          Ownership Distribution Statistics\r\n                        </h6>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"row text-center\">\r\n                          {/* Largest Ownership */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-primary bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-arrow-up-short text-primary fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Largest Ownership</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-primary\">{stats.largest}%</h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Smallest Ownership */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-info bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-arrow-down-short text-info fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Smallest Ownership</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-info\">{stats.smallest}%</h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Founders Count */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-success bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-people-fill text-success fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Founders</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-success\">\r\n                                    {stats.totalFounders}\r\n                                  </h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {activeTab === 'post-money' && (\r\n                <div className=\"row my-4 gy-2 gx-4\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card-header bg-white border-0 py-3\">\r\n                      <h6 className=\"mb-0 fw-bold text-dark\">\r\n                        <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                        Ownership Statistics\r\n                      </h6>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"card h-100 border-1 shadow-sm text-center\">\r\n                      <div className=\"card-body py-4\">\r\n                        <div className=\"d-inline-flex align-items-center justify-content-center \r\n                          rounded-circle bg-primary bg-opacity-10 p-3 mb-3\">\r\n                          <i className=\"bi bi-arrow-up-short text-primary fs-3\"></i>\r\n                        </div>\r\n                        <small className=\"text-muted d-block mb-1\">\r\n                          Largest Ownership\r\n                        </small>\r\n                        <h2 className=\"fw-bold text-primary mb-0\">\r\n                          {postStats.largest}%\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"card h-100 border-1 shadow-sm text-center\">\r\n                      <div className=\"card-body py-4\">\r\n                        <div className=\"d-inline-flex align-items-center justify-content-center \r\n                          rounded-circle bg-info bg-opacity-10 p-3 mb-3\">\r\n                          <i className=\"bi bi-arrow-down-short text-info fs-3\"></i>\r\n                        </div>\r\n                        <small className=\"text-muted d-block mb-1\">\r\n                          Smallest Ownership\r\n                        </small>\r\n                        <h2 className=\"fw-bold text-info mb-0\">\r\n                          {postStats.smallest}%\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n                  <div className=\"col-md-4\">\r\n                    <div className=\"card h-100 border-1 shadow-sm text-center\">\r\n                      <div className=\"card-body py-4\">\r\n                        <div className=\"d-inline-flex align-items-center justify-content-center \r\n                          rounded-circle bg-success bg-opacity-10 p-3 mb-3\">\r\n                          <i className=\"bi bi-people-fill text-success fs-3\"></i>\r\n                        </div>\r\n                        <small className=\"text-muted d-block mb-1\">\r\n                          Shareholders\r\n                        </small>\r\n                        <h2 className=\"fw-bold text-success mb-0\">\r\n                          {capTableData?.post_money?.items?.length || 0}\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </div>\r\n              )}\r\n              {/* Calculations Summary */}\r\n              {roundData?.type !== 'Round 0' && (\r\n                <div className=\"card mt-4\">\r\n                  <div className=\"card-header bg-light \">\r\n                    <h6 className=\"py-2\">Valuation Summary</h6>\r\n                  </div>\r\n                  <div className=\"custome_card p-3\">\r\n                    <div className=\"row gy-3\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                          <p className=\"bg-danger custome_cardp\"><strong>Pre-Money Valuation</strong></p>\r\n                          <h4 className=\"text-danger\">\r\n                            <CurrencyFormatter\r\n                              amount={calculations.pre_money_valuation}\r\n                              currency={roundData?.currency}\r\n                            />\r\n                          </h4>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                          <p className=\"bg-success custome_cardp\"><strong>Investment</strong></p>\r\n                          <h4 className=\"text-success\">\r\n                            <CurrencyFormatter\r\n                              amount={roundData?.investment}\r\n                              currency={roundData?.currency}\r\n                            />\r\n                          </h4>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                          <p className=\"bg-info custome_cardp\"><strong>Post-Money Valuation</strong></p>\r\n                          <h4 className=\"text-info\">\r\n                            <CurrencyFormatter\r\n                              amount={calculations.post_money_valuation}\r\n                              currency={roundData?.currency}\r\n                            />\r\n                          </h4>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                          <p className=\"bg-primary custome_cardp\"><strong>Total Shares Outstanding</strong></p>\r\n                          <h4 className=\"text-primary\">{formatNumber(calculations.total_shares_outstanding)}</h4>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                          <p className=\"bg-warning custome_cardp\"><strong>Share Price</strong></p>\r\n                          <h4 className=\"text-warning\">{\r\n                            isUnpricedRound && !isConverted\r\n                              ? 'N/A'\r\n                              : <CurrencyFormatter\r\n                                amount={displaySharePrice}\r\n                                currency={roundData?.currency}\r\n                                digit={3}\r\n                              />\r\n\r\n                          }</h4>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"d-flex custome_card_box flex-column gap-3\">\r\n                          <p className=\"bg-success custome_cardp\"><strong>New Shares</strong></p>\r\n                          <h4 className=\"text-success\">\r\n                            {formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}</h4>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n\r\n                </div>\r\n\r\n              )}\r\n\r\n\r\n\r\n\r\n              {/* Back Button */}\r\n              <div className=\"mt-4\">\r\n                <button className=\"btn btn-secondary\" onClick={() => navigate(-1)}>\r\n                  <i className=\"bi bi-arrow-left me-2\"></i>\r\n                  Back to Rounds List\r\n                </button>\r\n                <button className=\"btn btn-primary ms-2\" onClick={getCapTableData}>\r\n                  <i className=\"bi bi-arrow-clockwise me-2\"></i>\r\n                  Refresh Data\r\n                </button>\r\n              </div>\r\n              <div className=\"mt-4 pt-3 border-top\">\r\n                <h6 className=\"fw-bold mb-2\" style={{ color: '#CC0000' }}>\r\n                  <i className=\"bi bi-exclamation-triangle-fill me-2\" style={{ color: '#CC0000' }}></i>\r\n                  Disclaimer\r\n                </h6>\r\n                <p className=\"text-muted small mb-0 redcolor\" >\r\n                  IMPORTANT : The calculations are for informational purpose only !<br />\r\n                  Please consult with your legal and financial advisors before making any investment decisions\r\n                </p>\r\n              </div>\r\n\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { API_BASE_URL } from '../config/config';\r\nconst CurrencyFormatter = ({ amount, currency, digit = 2 }) => {\r\n    const apiUrlRound = API_BASE_URL + \"api/user/capitalround/\";\r\n    const [currencyMap, setCurrencyMap] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // Fetch currency symbols from API\r\n    useEffect(() => {\r\n        const getCountrySymbolList = async () => {\r\n            let formData = { id: \"\" };\r\n            try {\r\n                const res = await axios.post(\r\n                    apiUrlRound + \"getallcountrySymbolList\",\r\n                    formData,\r\n                    {\r\n                        headers: {\r\n                            Accept: \"application/json\",\r\n                            \"Content-Type\": \"application/json\",\r\n                        },\r\n                    }\r\n                );\r\n\r\n                const respo = res.data.results;\r\n\r\n                // Create a map of currency_code -> currency_symbol for quick lookup\r\n                const currencySymbolMap = {};\r\n                respo.forEach(country => {\r\n                    if (country.currency_code && !currencySymbolMap[country.currency_code]) {\r\n                        currencySymbolMap[country.currency_code] = {\r\n                            symbol: country.currency_symbol,\r\n                            name: country.currency_name\r\n                        };\r\n                    }\r\n                });\r\n\r\n                setCurrencyMap(currencySymbolMap);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                console.error('Error fetching currency symbols:', err);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        getCountrySymbolList();\r\n    }, [apiUrlRound]);\r\n\r\n    // Format currency function\r\n    const formatCurrencyNotRound = (amount, currency) => {\r\n        const numAmount = parseFloat(amount) || 0;\r\n        const cleanCurrency = currency?.trim() || ' ';\r\n\r\n        // Get symbol from map or fallback\r\n        const currencyInfo = currencyMap[cleanCurrency.toUpperCase()];\r\n        const symbol = currencyInfo?.symbol || '';\r\n\r\n        try {\r\n            // Use Intl.NumberFormat if currency is valid\r\n            return new Intl.NumberFormat(\"en-US\", {\r\n                style: \"currency\",\r\n                currency: cleanCurrency.toUpperCase(),\r\n                minimumFractionDigits: digit,\r\n                maximumFractionDigits: digit,\r\n            }).format(numAmount);\r\n        } catch (error) {\r\n            // Fallback: Use symbol from database with commas\r\n            const formattedNumber = numAmount.toLocaleString(\"en-US\", {\r\n                minimumFractionDigits: digit,\r\n                maximumFractionDigits: digit,\r\n            });\r\n            if (symbol) {\r\n                return `${symbol} ${formattedNumber}`;\r\n            }\r\n            return `${cleanCurrency} ${formattedNumber}`;\r\n        }\r\n    };\r\n\r\n\r\n    if (loading) {\r\n        return <span>Loading...</span>;\r\n    }\r\n\r\n    const formattedAmount = formatCurrencyNotRound(amount, currency);\r\n\r\n    return <span>{formattedAmount}</span>;\r\n};\r\n\r\nexport default CurrencyFormatter;"],"names":["RecordRoundCaptable","_capTableData$pre_mon","_capTableData$post_mo","_capTableData$post_mo2","_capTableData$pre_mon2","_capTableData$pre_mon3","_capTableData$pre_mon8","_capTableData$pre_mon9","_capTableData$pre_mon10","_capTableData$pre_mon11","_capTableData$pre_mon12","_capTableData$pre_mon13","_capTableData$pre_mon14","_capTableData$pre_mon15","_capTableData$pre_mon16","_capTableData$pre_mon17","_capTableData$pre_mon22","_capTableData$pre_mon23","_capTableData$pre_mon24","_capTableData$pre_mon25","_capTableData$pre_mon26","_capTableData$pre_mon27","_capTableData$pre_mon28","_capTableData$pre_mon29","_capTableData$post_mo3","_capTableData$post_mo4","_capTableData$post_mo7","_capTableData$post_mo8","_capTableData$post_mo9","_capTableData$post_mo10","_capTableData$post_mo17","_capTableData$post_mo18","_capTableData$post_mo19","_capTableData$post_mo20","_capTableData$pre_mon30","_capTableData$pre_mon31","_capTableData$pre_mon38","_capTableData$pre_mon39","_capTableData$pre_mon40","_capTableData$pre_mon41","_capTableData$pre_mon42","_capTableData$pre_mon43","_capTableData$pre_mon44","_capTableData$pre_mon45","_capTableData$pre_mon46","_capTableData$pre_mon47","_capTableData$pre_mon50","_capTableData$pre_mon51","_capTableData$pre_mon52","_capTableData$pre_mon53","_capTableData$pre_mon54","_capTableData$pre_mon55","_capTableData$pre_mon56","_capTableData$pre_mon57","_capTableData$pre_mon58","_capTableData$pre_mon59","_capTableData$post_mo21","_capTableData$post_mo22","_capTableData$post_mo27","_capTableData$post_mo28","_capTableData$post_mo29","_capTableData$post_mo30","_capTableData$post_mo31","_capTableData$post_mo32","_capTableData$post_mo33","_capTableData$post_mo34","_capTableData$post_mo35","_capTableData$post_mo36","_capTableData$post_mo37","_capTableData$post_mo38","_capTableData$post_mo39","_capTableData$post_mo40","_capTableData$post_mo41","_capTableData$post_mo42","_capTableData$post_mo43","_capTableData$post_mo44","_capTableData$post_mo45","_capTableData$post_mo46","_capTableData$post_mo47","_capTableData$post_mo48","_capTableData$post_mo49","_capTableData$post_mo50","_capTableData$post_mo51","_capTableData$post_mo52","_capTableData$post_mo61","_capTableData$post_mo62","_capTableData$post_mo63","_capTableData$post_mo64","id","useParams","navigate","useNavigate","API_URL_CAPTABLE","API_BASE_URL","apiUrlRound","storedUsername","localStorage","getItem","userLogin","JSON","parse","loading","setLoading","useState","error","setError","capTableData","setCapTableData","pre_money","items","totals","post_money","roundData","setRoundData","pendingConversions","setPendingConversions","calculations","setCalculations","summaryDetails","setSummaryDetails","preMoneyChartData","setPreMoneyChartData","postMoneyChartData","setPostMoneyChartData","activeTab","setActiveTab","isCollapsed","setIsCollapsed","conversionStatus","setConversionStatus","conversionData","setConversionData","currencyMap","setCurrencyMap","useEffect","async","formData","respo","axios","post","headers","Accept","data","results","currencySymbolMap","forEach","country","currency_code","symbol","currency_symbol","name","currency_name","err","console","getCountrySymbolList","formatCurrency","amount","_currency$trim","currency","arguments","length","undefined","numAmount","parseFloat","cleanCurrency","trim","toUpperCase","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","_currencyMap$cleanCur","toFixed","formatCurrencyNotRound","_currency$trim2","_currencyMap$cleanCur2","formatPercentage","value","formatNumber","num","getCapTableData","useCallback","company_id","companies","round_id","res","success","_capTable$pre_money","_capTable$pre_money$i","_capTable$post_money","_capTable$post_money$","capTable","cap_table","log","conversion_status","round","pending_conversions","conversions","calculateSummaryDetails","preMoneyData","labels","map","item","type","founder_code","shareType","share_class_type","is_previous","is_seed","datasets","label","shares","backgroundColor","borderWidth","postMoneyData","shareClassType","is_new_investment","is_converted","message","_err$response","_err$response$data","response","isUnpricedRound","instrument","isConverted","isRound0","issued_shares","displaySharePrice","displayIssuedShares","share_price","converted_shares","preMoneyTable","postMoneyTable","preMoneyVal","postMoneyVal","investment","totalSharesPre","total_shares","totalSharesPost","sharePricePre","sharePricePost","founderShares","filter","reduce","sum","founderValuePre","founderValuePost","investorValue","optionPoolShares","total_option_pool","optionPoolValue","stats","founders","largest","smallest","votingCount","totalFounders","percentages","f","percentage","Math","max","min","voting","getOwnershipStats","postStats","totalCount","getPostMoneyOwnershipStats","postMoneyItems","totalCommonShares","Number","existing_shares","totalNewShares","new_shares","_jsx","Wrapper","children","className","_jsxs","ModuleSideNav","TopBar","SectionWrapper","role","onClick","status","incorporation_date","test","input","date","Date","isNaN","day","getDate","month","getMonth","year","getFullYear","hours","getHours","getMinutes","toString","padStart","getSeconds","n","getOrdinal","formatCurrentDate","CurrencyFormatter","digit","converted_in_round","converted_round_name","conversion_price","isPricedRound","existingPool","option_pool_percent","targetPool","option_pool_percent_post","_Fragment","round_target_money","color","height","width","index","email","toLocaleString","pre_money_display_value","share_type","_capTableData$pre_mon4","_capTableData$pre_mon5","_capTableData$pre_mon6","_capTableData$pre_mon7","optionItems","totalOptionShares","totalShares","optionPercentage","optionValue","createdInRounds","round_name","join","i","_item$shares","discount_rate","valuation_cap","interest_rate","colSpan","total_value","_capTableData$pre_mon18","_capTableData$pre_mon19","_capTableData$pre_mon20","_capTableData$pre_mon21","investor_details","phone","pre_money_valuation","_capTableData$post_mo5","_capTableData$post_mo6","optionItem","find","is_grouped","_capTableData$post_mo11","_capTableData$post_mo12","_capTableData$post_mo13","_capTableData$post_mo14","_capTableData$post_mo15","_capTableData$post_mo16","_item$investor_detail","_item$investor_detail2","post_money_valuation","position","Pie","indexOf","borderColor","options","responsive","maintainAspectRatio","cutout","plugins","datalabels","display","context","dataset","total","a","b","dataIndex","formatter","font","weight","size","textShadow","padding","borderRadius","legend","usePointStyle","pointStyle","generateLabels","chart","_capTableData$pre_mon32","_capTableData$pre_mon33","displayLabel","sharesInfo","text","fillStyle","strokeStyle","lineWidth","hidden","getDatasetMeta","fontColor","tooltip","titleColor","bodyColor","cornerRadius","displayColors","callbacks","_capTableData$pre_mon34","_capTableData$pre_mon35","parsed","itemIndex","title","tooltipItems","_capTableData$pre_mon36","_capTableData$pre_mon37","maxHeight","overflowY","colors","fontSize","fontWeight","maxWidth","transition","total_founders","total_investors","valueAmount","_capTableData$pre_mon48","_capTableData$pre_mon49","displayName","icon","subtitle","instrumentType","instrument_type","firstName","lastName","border","boxShadow","whiteSpace","wordBreak","_capTableData$post_mo23","_capTableData$post_mo24","typeDisplay","afterLabel","_capTableData$post_mo25","_capTableData$post_mo26","_item$investor_detail3","_item$investor_detail4","details","push","_item$investor_detail5","_item$investor_detail6","total_new_shares","Bar","_capTableData$post_mo53","_capTableData$post_mo54","_capTableData$pre_mon60","_capTableData$pre_mon61","shareholderMap","Map","key","has","set","uniqueKey","Array","from","values","investorName","_capTableData$post_mo55","_capTableData$post_mo56","_capTableData$pre_mon62","_capTableData$pre_mon63","barThickness","_capTableData$post_mo57","_capTableData$post_mo58","_capTableData$pre_mon64","_capTableData$pre_mon65","boxWidth","y","_capTableData$post_mo59","_capTableData$post_mo60","_capTableData$pre_mon66","_capTableData$pre_mon67","currentItem","_currentItem$investor","_currentItem$investor2","anchor","align","scales","x","grid","ticks","maxRotation","minRotation","beginAtZero","callback","stepSize","conv","_conv$instrument_data","_conv$instrument_data2","mappedConv","investment_amount","potential_shares","estimated_shares","instrument_data","discountRate_note","valuationCap_note","total_shares_outstanding","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","ChartDataLabels","_ref","formattedAmount","currencyInfo","formattedNumber"],"sourceRoot":""}