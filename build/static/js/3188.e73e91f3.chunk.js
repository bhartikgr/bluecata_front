"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[3188],{37022:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(65043),o=r(70579);const s=function(e){let{message:t,onConfirm:r,onCancel:s}=e;const a=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&s(),"Enter"===e.key&&r()};return document.addEventListener("keydown",e),i.current.focus(),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[r,s]),(0,o.jsxs)("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,opacity:0,animation:"fadeIn 0.3s ease-out forwards",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},onClick:s,children:[(0,o.jsxs)("div",{ref:a,className:"modal-content",style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15), 0 0 10px rgba(220, 53, 69, 0.2)",maxWidth:"450px",width:"90%",transform:"scale(0.9) translateY(-20px)",animation:"scaleIn 0.3s ease-out forwards",border:"1px solid rgba(220, 53, 69, 0.2)"},onClick:e=>e.stopPropagation(),children:[(0,o.jsx)("div",{className:"modal-icon",style:{textAlign:"center",marginBottom:"1.5rem"},children:(0,o.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"#dc3545"},children:(0,o.jsx)("path",{d:"M12 9V14M12 17V17.01M5.07183 19H18.9282C20.4678 19 21.4301 17.3333 20.6603 16L13.7321 4C12.9623 2.66667 11.0378 2.66667 10.268 4L3.33978 16C2.56998 17.3333 3.53223 19 5.07183 19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,o.jsx)("h3",{className:"modal-title",style:{textAlign:"center",margin:"0 0 1rem 0",color:"#dc3545",fontSize:"1.5rem",fontWeight:"600"},children:"Confirm Action"}),(0,o.jsx)("p",{className:"modal-message",style:{textAlign:"center",margin:"0 0 2rem 0",color:"#495057",fontSize:"1rem",lineHeight:"1.5"},children:t}),(0,o.jsxs)("div",{className:"modal-actions",style:{display:"flex",justifyContent:"center",gap:"1rem"},children:[(0,o.jsx)("button",{type:"button",className:"btn-cancel",onClick:s,style:{padding:"0.75rem 1.5rem",backgroundColor:"#f8f9fa",color:"#495057",border:"1px solid #dee2e6",borderRadius:"6px",fontWeight:"500",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px"},onMouseOver:e=>{e.target.style.backgroundColor="#e9ecef",e.target.style.transform="translateY(-2px)"},onMouseOut:e=>{e.target.style.backgroundColor="#f8f9fa",e.target.style.transform="translateY(0)"},children:"Cancel"}),(0,o.jsx)("button",{type:"button",className:"btn-confirm",ref:i,onClick:r,style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:"0 4px 6px rgba(220, 53, 69, 0.3)"},onMouseOver:e=>{e.target.style.backgroundColor="#bd2130",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 8px rgba(220, 53, 69, 0.4)"},onMouseOut:e=>{e.target.style.backgroundColor="#dc3545",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 6px rgba(220, 53, 69, 0.3)"},children:"Confirm"})]})]}),(0,o.jsx)("style",{children:"\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes scaleIn {\n            from { \n              transform: scale(0.9) translateY(-20px);\n              opacity: 0;\n            }\n            to { \n              transform: scale(1) translateY(0);\n              opacity: 1;\n            }\n          }\n          \n          .btn-cancel:focus, .btn-confirm:focus {\n            outline: 2px solid #3d8bfd;\n            outline-offset: 2px;\n          }\n        "})]})}},69677:(e,t,r)=>{r.d(t,{c:()=>x});var n,o="basil",s="https://js.stripe.com",a="".concat(s,"/").concat(o,"/stripe.js"),i=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,l=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,c="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(a).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r},p=null,u=null,m=null,f=function(e){return null!==p?p:(p=new Promise((function(t,r){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(c),window.Stripe)t(window.Stripe);else try{var n=function(){for(var e,t=document.querySelectorAll('script[src^="'.concat(s,'"]')),r=0;r<t.length;r++){var n=t[r];if(e=n.src,i.test(e)||l.test(e))return n}return null}();if(n&&e)console.warn(c);else if(n){if(n&&null!==m&&null!==u){var o;n.removeEventListener("load",m),n.removeEventListener("error",u),null===(o=n.parentNode)||void 0===o||o.removeChild(n),n=d(e)}}else n=d(e);m=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,r),u=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}}(r),n.addEventListener("load",m),n.addEventListener("error",u)}catch(a){return void r(a)}else t(null)}))).catch((function(e){return p=null,Promise.reject(e)}))},h=!1,g=function(){return n||(n=f(null).catch((function(e){return n=null,Promise.reject(e)})))};Promise.resolve().then((function(){return g()})).catch((function(e){h||console.warn(e)}));var x=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];h=!0;var n=Date.now();return g().then((function(e){return function(e,t,r){if(null===e)return null;var n=t[0].match(/^pk_test/),s=function(e){return 3===e?"v3":e}(e.version),a=o;n&&s!==a&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})}(i,r),i}(e,t,n)}))}},83188:(e,t,r)=>{r.r(t),r.d(t,{default:()=>g});var n=r(65043),o=r(58786),s=r(94060),a=r(44710),i=(r(38421),r(53579)),l=r(27836),c=r(86213),d=r(60184),p=r(37022),u=(r(26022),r(69677),r(73216)),m=r(35475),f=r(25581),h=r(70579);function g(){const e=(0,u.Zp)(),[t,r]=(0,n.useState)(""),g=localStorage.getItem("SignatoryLoginData"),x=JSON.parse(g),[v,y]=(0,n.useState)([]),[b,w]=(0,n.useState)(""),[j,C]=(0,n.useState)(""),[k,S]=(0,n.useState)(""),[N,_]=(0,n.useState)(!1),[A,E]=(0,n.useState)(null);var L=f.J+"api/user/investor/";const z=f.J+"api/user/";document.title="Add Investor";(0,n.useEffect)((()=>{W()}),[]);const W=async()=>{let e={company_id:x.companies[0].id,user_id:x.id};try{const t=(await c.A.post(z+"getAuthorizedSignature",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;t.length>0&&E(t[0])}catch(t){}};(0,n.useEffect)((()=>{I()}),[]);const I=async()=>{const e={company_id:x.companies[0].id};try{const t=await c.A.post(L+"getInvestorlist",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});y(t.data.results)}catch(t){console.error("Error generating summary",t)}},[R,P]=(0,n.useState)(""),T=[{name:"Email",selector:e=>e.email,sortable:!0},{name:"First Name",selector:e=>e.first_name,sortable:!0},{name:"Last Name",selector:e=>e.first_name,sortable:!0},{name:"Platform Register",selector:e=>e.is_register,sortable:!0,cell:e=>{var t;const r="yes"===(null===(t=e.is_register)||void 0===t?void 0:t.toLowerCase());return(0,h.jsxs)("span",{style:{padding:"4px 12px",borderRadius:"12px",fontWeight:600,color:r?"#065f46":"#b91c1c",backgroundColor:r?"#d1fae5":"#fee2e2",fontSize:"12px",display:"inline-block"},children:[r?"Yes":"No"," "]})}},{name:"Action",cell:e=>(0,h.jsxs)("div",{className:"d-flex gap-2",children:[(0,h.jsxs)(m.N_,{to:`/crm/investor/investor-info/${e.id}`,rel:"noopener noreferrer",className:"icon_btn green_clr",title:"Edit",children:[(0,h.jsx)(d.Ny1,{})," View Detail"]}),(0,h.jsxs)("button",{type:"button",onClick:()=>{return t=e.company_investor_id,r=e.id,w(r),P(t),void S("Are you sure you want to delete this investor? All shared reports will also be deleted");var t,r},rel:"noopener noreferrer",className:"icon_btn red_clr",title:"Delete",children:[(0,h.jsx)(d.qbC,{})," Delete"]})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"220px"}],Y=v.filter((e=>`${e.investorType||""} - ${e.investmentPreference||""} - ${e.version||""}`.toLowerCase().includes(t.toLowerCase())||(e.update_date||"").toLowerCase().includes(t.toLowerCase())||(e.download||"").toLowerCase().includes(t.toLowerCase()))),[F,O]=(0,n.useState)(!1);return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(i.mO,{children:(0,h.jsx)("div",{className:"fullpage d-block",children:(0,h.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,h.jsx)(a.A,{isCollapsed:F,setIsCollapsed:O}),(0,h.jsxs)("div",{className:"global_view "+(F?"global_view_col":""),children:[(0,h.jsx)(s.A,{}),(0,h.jsx)(i.$K,{className:"d-block p-md-4 p-3",children:(0,h.jsxs)("div",{className:"container-fluid",children:[k&&(0,h.jsx)(p.A,{message:k,onConfirm:async()=>{const e={company_id:x.companies[0].id,id:b,company_investor_id:R};try{await c.A.post(L+"deleteinvestor",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});S(""),C("Deleted succcessfully"),I(),setTimeout((()=>{C("")}),2500)}catch(t){console.error("Error generating summary",t)}},onCancel:()=>{S("")}}),j&&(0,h.jsx)("p",{className:N?" mt-3 error_pop":"success_pop mt-3",children:j}),(0,h.jsxs)(l.zP,{className:"d-flex flex-column gap-2",children:[(0,h.jsxs)("div",{className:"titleroom d-flex justify-content-between align-items-center border-bottom pb-3",children:[(0,h.jsx)("div",{className:"pb-3 bar_design",children:(0,h.jsx)("h4",{className:"h5 mb-0",children:"Investor Entry"})}),(0,h.jsx)(m.N_,{to:"javascript:void(0)",onClick:()=>{"owner"!==x.role?null!==A?"No"===A.approve?(_(!0),C("Please verify your signature"),setTimeout((()=>{_(!1),e("/authorized-signature")}),1500)):e("/crm/addnew-investor"):(_(!0),C("Please verify your signature"),setTimeout((()=>{_(!1),e("/authorized-signature")}),1500)):e("/crm/addnew-investor")},className:"btn btn-outline-dark active",style:{opacity:"owner"===x.role||"Yes"===(null===A||void 0===A?void 0:A.approve)?1:.6,pointerEvents:"owner"===x.role||"Yes"===(null===A||void 0===A?void 0:A.approve)?"auto":"none"},children:"Add New Investor"})]}),(0,h.jsx)("div",{className:"d-flex justify-content-end my-2 p-0",children:(0,h.jsx)("input",{type:"search",placeholder:"Search Here...",className:"form-control",value:t,onChange:e=>r(e.target.value),style:{padding:"10px 15px",width:"100%",maxWidth:"300px",fontSize:"14px",borderRadius:"10px"}})}),(0,h.jsx)("div",{className:"d-flex flex-column justify-content-between align-items-start tb-box",children:(0,h.jsx)(o.Ay,{customStyles:{table:{style:{border:"1px solid #dee2e6",borderRadius:"12px",overflow:"auto"}},headCells:{style:{backgroundColor:"#efefef",fontWeight:"600",fontSize:"0.8rem",color:"#000",textTransform:"uppercase",whiteSpace:"nowrap"}},cells:{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},rows:{style:{fontSize:"0.8rem",fontWeight:"500"},stripedStyle:{backgroundColor:"#fff"}},pagination:{style:{marginTop:"15px",backgroundColor:"#fafafa",padding:"12px 16px"}}},conditionalRowStyles:[{when:e=>!0,style:{"&:hover":{backgroundColor:"var(--lightRed)"}}}],columns:T,className:"datatb-report",data:Y,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0})})]})]})})]})]})})})})})}}}]);
//# sourceMappingURL=3188.e73e91f3.chunk.js.map