"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[8186],{28186:(e,s,n)=>{n.r(s),n.d(s,{default:()=>u});var t=n(65043),r=(n(58786),n(94060)),i=n(44710),d=(n(38421),n(53579)),c=n(27836),l=n(45394),a=n(86213),o=n(60184),x=n(74754),h=n(73216),j=n(25581),m=n(70579);function u(){const e=(0,h.Zp)(),s=localStorage.getItem("SignatoryLoginData"),[n,u]=(0,t.useState)(!1),p=JSON.parse(s),[g,y]=(0,t.useState)([]),[v,b]=(0,t.useState)(!1),[f,N]=(0,t.useState)(""),[_,S]=(0,t.useState)(""),[w,C]=(0,t.useState)(""),[k,A]=(0,t.useState)(null);var I=j.J+"api/user/investor/";document.title="Shared Investor Report";const{id:D}=(0,h.g)();(0,t.useEffect)((()=>{R(),$()}),[]);const R=async()=>{const s={company_id:p.companies[0].id,id:D};try{const n=await a.A.post(I+"checkInvestorRecordround",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});0===n.data.results.length?e("/crm/investorreport"):S(n.data.results[0])}catch(n){console.error("Error generating summary",n)}},$=async()=>{const e={company_id:p.companies[0].id,investor_id:D};try{const s=await a.A.post(I+"getInvestorReportCapitalRound",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});y(s.data.results)}catch(s){console.error("Error generating summary",s)}},L=e=>{u(!0),N(e)},[F,T]=(0,t.useState)("");g.filter((e=>{const s=F.toLowerCase();return`\n    ${e.nameOfRound||""}\n    ${e.shareClassType||""}\n     ${e.roundsize||""}\n    ${e.issuedshares||""}\n    ${e.description||""}\n    ${e.instrumentType||""}\n    ${e.customInstrument||""}\n    ${e.roundsize||""}\n    ${e.issuedshares||""}\n    ${e.liquidationpreferences||""}\n  `.toLowerCase().includes(s)}));function O(e){const s=new Date(e);if(isNaN(s))return"";const n=s.getDate(),t=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()],r=s.getFullYear();return`${t} ${n}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(n)}, ${r}`}const[E,M]=(0,t.useState)(!1),[J,V]=(0,t.useState)(!1);let z=[];if(_.kyc_document)if(Array.isArray(_.kyc_document))try{z=JSON.parse(_.kyc_document[0])}catch(U){z=_.kyc_document}else try{z=JSON.parse(_.kyc_document)}catch(U){z=[_.kyc_document]}(0,t.useEffect)((()=>{P()}),[]);const P=async()=>{const e={company_id:p.companies[0].id,investor_id:D};try{const s=await a.A.post(I+"getInvestorAllRoundRecord",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(s.data),A(s.data)}catch(s){console.error("Error generating summary",s)}},Y=j.J+"api/upload/investor/inv_"+_.investor_id;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d.mO,{children:(0,m.jsx)("div",{className:"fullpage d-block",children:(0,m.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,m.jsx)(i.A,{isCollapsed:E,setIsCollapsed:M}),(0,m.jsxs)("div",{className:"global_view "+(E?"global_view_col":""),children:[(0,m.jsx)(r.A,{}),(0,m.jsx)(d.$K,{className:"d-block p-md-4 p-3",children:(0,m.jsxs)("div",{className:"container-fluid",children:[w&&(0,m.jsx)("p",{className:v?"mt-3 error_pop":"success_pop mt-3",children:w}),(0,m.jsx)("div",{className:"titleroom d-flex justify-content-between align-items-center border-bottom pb-3",children:(0,m.jsx)("h3",{className:"text-lg font-bold mb-2",children:"Investor Report (Capital Round Documents)"})}),(0,m.jsx)("div",{className:"",children:(0,m.jsx)("div",{className:"row g-3",children:(0,m.jsx)("div",{className:"col-md-12 col-sm-12",children:(0,m.jsxs)("div",{className:"card shadow-sm border-0 py-4",style:{borderRadius:"10px"},children:[(0,m.jsxs)("p",{className:"mb-3",children:[(0,m.jsx)("strong",{className:"mainh2",children:"Investor Information :"})," ",(0,m.jsxs)("span",{className:"mainp",style:{color:"red"},children:[_.first_name," ",_.last_name]})," "]}),(0,m.jsx)("table",{className:"global_table mb-0",children:(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Register Company Name : "})," ",(0,m.jsx)("span",{children:_.company_name})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Type of Investor : "})," ",(0,m.jsx)("span",{children:_.type_of_investor})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Contact (EMAIL) : "})," ",(0,m.jsx)("span",{children:_.email})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Contact (MOBILE) : "})," ",(0,m.jsx)("span",{children:_.phone})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"City : "}),(0,m.jsx)("span",{children:_.city})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Country : "})," ",(0,m.jsx)("span",{children:_.country})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Ip Address : "})," ",(0,m.jsx)("span",{children:_.ip_address})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"LinkedIn or Professional Profile:"})," ",(0,m.jsx)("span",{children:_.linkedIn_profile})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsxs)("strong",{children:["Contact (Full Mailing Address) :"," "]})," ",(0,m.jsx)("span",{children:_.full_address})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Country of Tax Residency : "})," ",(0,m.jsx)("span",{children:_.country_tax})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Tax ID or National ID : "})," ",(0,m.jsx)("span",{children:_.tax_id})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{className:"d-flex align-items-center gap-2 w-100",children:[(0,m.jsx)("strong",{children:"KYC/AML Documentation : "})," ",(0,m.jsx)("span",{children:_.kyc_document&&_.kyc_document.length>0&&(0,m.jsx)("div",{className:"",children:(0,m.jsxs)("button",{type:"button",className:"btn btn-sm btn-outline-success fw-bold",onClick:()=>V(!0),children:[(0,m.jsx)(o.Ny1,{})," View Document"]})})})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Accredited Status : "})," ",(0,m.jsx)("span",{children:_.accredited_status})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsxs)("strong",{children:["LinkedIn or Professional Profile :"," "]})," ",(0,m.jsx)("span",{children:_.linkedIn_profile})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"Industry Expertise : "})," ",(0,m.jsx)("span",{children:_.industry_expertise})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:(0,m.jsx)("strong",{children:"Notes:"})}),(0,m.jsx)("td",{})]})]})}),(0,m.jsx)("hr",{}),(0,m.jsx)("table",{className:"global_table mb-0",children:(0,m.jsxs)("tbody",{children:[(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsxs)("strong",{children:["TOTAL capital invested in ALL rounds :"," "]})," ",(0,m.jsxs)("span",{children:[(null===k||void 0===k?void 0:k.currency)||"",(null===k||void 0===k?void 0:k.total_invested)||0]})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsx)("strong",{children:"% Ownership of Company (fully diluted) :"})," ",(0,m.jsxs)("span",{children:[null===k||void 0===k?void 0:k.ownership_percent,"%"]})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsxs)("strong",{children:["Rank in size of overall investment :"," "]})," ",(0,m.jsx)("span",{children:null===k||void 0===k?void 0:k.rank})]}),(0,m.jsx)("td",{})]}),(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[(0,m.jsxs)("strong",{children:["Min / Max investment amounts :"," "]})," ",(0,m.jsxs)("span",{children:[" ",null===k||void 0===k?void 0:k.min_investment,"/"," ",null===k||void 0===k?void 0:k.max_investment]})]}),(0,m.jsx)("td",{})]})]})})]})})})}),(0,m.jsx)("div",{className:"d-flex justify-content-between my-2 py-3",children:(0,m.jsx)("h4",{children:"Participating Investment Rounds"})}),(0,m.jsx)("div",{className:"d-flex flex-column justify-content-between align-items-start tb-box",children:(0,m.jsxs)("table",{className:"innertable-design",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Share class (Name of Round)"}),(0,m.jsx)("th",{children:"Target Raise Amount"}),(0,m.jsx)("th",{children:"Numbers Of Shares"}),(0,m.jsx)("th",{children:"Date of Report"}),(0,m.jsx)("th",{children:"Date Viewed"}),(0,m.jsx)("th",{children:"Status of Round"}),(0,m.jsx)("th",{children:"Action"})]})}),(0,m.jsx)("tbody",{children:g.length>0?g.map(((e,s)=>(0,m.jsxs)(t.Fragment,{children:[(0,m.jsxs)("tr",{children:[(0,m.jsxs)("td",{children:[e.shareClassType||"Founder share"," ",e.nameOfRound]}),(0,m.jsxs)("td",{children:[e.currency,Number(e.roundsize).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,m.jsx)("td",{children:Number(e.issuedshares).toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3})}),(0,m.jsx)("td",{children:O(e.created_at)}),(0,m.jsx)("td",{children:e.date_view?O(e.date_view):"N/A"}),(0,m.jsx)("td",{children:(()=>{const s="ACTIVE"===e.roundStatus,n=s?"ACTIVE":`CLOSED: ${O(e.dateroundclosed)}`;return(0,m.jsx)("span",{style:{padding:"4px 12px",borderRadius:"12px",fontWeight:600,color:s?"#065f46":"#b91c1c",backgroundColor:s?"#d1fae5":"#fee2e2",fontSize:"12px",display:"inline-block"},children:n})})()}),(0,m.jsx)("td",{children:(0,m.jsx)("button",{type:"button",onClick:()=>L(e),className:"btn",children:"\ud83d\udc41 View"})})]}),(0,m.jsx)("tr",{className:"detail-row",children:(0,m.jsx)("td",{colSpan:"7",children:(0,m.jsxs)("div",{className:"detail-content",children:[(0,m.jsxs)("div",{className:"detail-item",children:[(0,m.jsx)("strong",{children:"Amount invested in this round:"})," ",e.currency,"",Number(e.investor_investment).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,m.jsxs)("div",{className:"detail-item",children:[(0,m.jsx)("strong",{children:"Date Invested:"})," ",e.invested_date?O(e.invested_date):"N/A"]}),(0,m.jsxs)("div",{className:"detail-item",children:[(0,m.jsx)("strong",{children:"Fully Diluted Shares at the time of investment:"})," ",e.issuedshares?Number(e.issuedshares).toLocaleString("en-US"):"0"]})]})})})]},s))):(0,m.jsx)("tr",{children:(0,m.jsx)("td",{colSpan:"7",className:"text-center",children:"No records found"})})})]})})]})})]})]})})}),n&&(0,m.jsx)(x.A,{onClose:()=>u(!1),recordViewData:f}),J&&(0,m.jsx)("div",{className:"main_popup-overlay",children:(0,m.jsxs)(c.EL,{children:[(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3 mb-4 justify-content-between",children:[(0,m.jsx)(c.wt,{children:"View KYC/AML Documentation"}),(0,m.jsx)("button",{type:"button",className:"close_btn_global","aria-label":"Close",onClick:()=>V(!1),children:(0,m.jsx)(l.LwM,{size:24})})]}),(0,m.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"10px",maxHeight:"60vh",overflowY:"auto"},children:z.map(((e,s)=>{const n=`${Y}/${e}`;return(e=>/\.(jpg|jpeg|png|gif)$/i.test(e))(e)?(0,m.jsx)("img",{src:n,alt:`Document ${s+1}`,style:{maxWidth:"200px",maxHeight:"200px",objectFit:"contain",border:"1px solid #ddd",borderRadius:"4px",padding:"4px",background:"#f9f9f9"}},s):(0,m.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",style:{margin:"5px"},children:["Open Document ",s+1]},s)}))}),(0,m.jsx)(c.e2,{children:(0,m.jsx)(c.IY,{onClick:()=>V(!1),className:"close_btn w-fit",children:"Close"})})]})})]})})}}}]);
//# sourceMappingURL=8186.7fcb5940.chunk.js.map