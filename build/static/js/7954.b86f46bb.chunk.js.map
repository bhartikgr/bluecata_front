{"version":3,"file":"static/js/7954.b86f46bb.chunk.js","mappings":"4MAIA,MAiYA,EAjYmCA,IAAiF,IAAhF,KAAEC,EAAI,QAAEC,EAAO,UAAEC,EAAS,UAAEC,EAAS,kBAAEC,EAAiB,eAAEC,GAAgBN,EAC1G,IAAKC,EAAM,OAAO,KAGlB,MA4DMM,GAAqB,OAATJ,QAAS,IAATA,OAAS,EAATA,EAAWK,OAAQ,QAC/BC,EAAYC,YAAoB,OAATP,QAAS,IAATA,OAAS,EAATA,EAAWM,YAAa,GAC/CE,EAAeD,YAAoB,OAATP,QAAS,IAATA,OAAS,EAATA,EAAWQ,eAAgB,GACrDC,GAAoB,OAATT,QAAS,IAATA,OAAS,EAATA,EAAWS,WAAY,MAGlCC,EAAgBJ,EAAY,GAAKE,EAAe,EAAIF,EAAYE,EAAe,EAG/EG,GAA2B,OAATV,QAAS,IAATA,OAAS,EAATA,EAAWW,QAAO,CAACC,EAAKC,IACrCD,EAAMN,WAAWO,EAAIC,mBAAqB,IAClD,KAAM,EAeHC,GAboC,OAATf,QAAS,IAATA,GAAAA,EAAWW,QAAO,CAACC,EAAKC,KAErD,IAAIG,EAASV,WAAWO,EAAIG,QAAU,GACtC,GAAe,IAAXA,GAAgBP,EAAgB,EAAG,CACnC,MAAMQ,EAAmBX,WAAWO,EAAIC,mBAAqB,GACzDG,EAAmB,IACnBD,EAASC,EAAmBR,EAEpC,CACA,OAAOG,EAAMI,CAAM,GACpB,GAGqBE,IACpB,MAAMC,EAAe,CACjBC,IAAK,CAAEC,MAAO,mBAAoBC,KAAM,aACxCC,GAAI,CAAEF,MAAO,6BAA8BC,KAAM,WACjDE,SAAU,CAAEH,MAAO,kBAAmBC,KAAM,aAE1CG,EAASN,EAAaD,IAAWC,EAAiB,GACxD,OAAOO,EAAAA,EAAAA,KAAA,QAAMC,UAAWF,EAAOJ,MAAMO,SAAEH,EAAOH,MAAY,GAIxDO,EAAsBb,GACnBA,GAAWT,GAAiC,IAAjBA,GACvBD,WAAWU,GAAUV,WAAWC,GAAiB,KAAKuB,QAAQ,GADZ,OAKzDC,EAA2Bd,GACxBA,GAAqBR,GAAmC,IAAlBA,EACpCQ,EAAmBR,EAD6C,EAS3E,OACIiB,EAAAA,EAAAA,KAAA,OACIC,UAAU,kBACVK,MAAO,CAAEC,QAAS,QAASC,gBAAiB,mBAC5CC,SAAS,KACTC,KAAK,SAAQR,UAEbF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8CAA8CS,KAAK,WAAUR,UACxES,EAAAA,EAAAA,MAAA,OAAKV,UAAU,gBAAeC,SAAA,EAC1BS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,qCAAoCC,SAAA,EAC/CS,EAAAA,EAAAA,MAAA,MAAIV,UAAU,cAAaC,SAAA,EACvBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBACZxB,EAAU,mBAEfuB,EAAAA,EAAAA,KAAA,UACIY,KAAK,SACLX,UAAU,4BACVY,QAASzC,EACT,aAAW,cAInBuC,EAAAA,EAAAA,MAAA,OAAKV,UAAU,aAAYC,SAAA,EAEvBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,WAAUC,SAAA,EACrBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACrBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACnCS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,wBAAuBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAC,kBAC3BS,EAAAA,EAAAA,MAAA,MAAIV,UAAU,eAAcC,SAAA,CACvBpB,EAAU,IAAKE,EAAgBoB,QAAQ,OAE5CO,EAAAA,EAAAA,MAAA,SAAOV,UAAU,aAAYC,SAAA,CACxBvB,EAAY,EAAImC,KAAKC,MAAO/B,EAAkBL,EAAa,KAAO,EAAE,yBAKrFqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACrBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACnCS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,wBAAuBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAC,kBAC3BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,eAAcC,SACvBY,KAAKC,MAAMlC,GAAcmC,oBAE9BhB,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,SAAC,iCAM1CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACrBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACnCS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,wBAAuBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAC,qBAC3BS,EAAAA,EAAAA,MAAA,MAAIV,UAAU,YAAWC,SAAA,CACpBpB,EAAU,KA9D1BmC,EA8D+ClC,EA7D7DkC,EAAMD,oBAAeE,EAAW,CACnCC,sBAAuB,EACvBC,sBAAuB,gBAgEPpB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACrBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACnCS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,wBAAuBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAC,qBAC3BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,eAAcC,UAAW,OAAT5B,QAAS,IAATA,OAAS,EAATA,EAAW+C,SAAU,KACnDV,EAAAA,EAAAA,MAAA,SAAOV,UAAU,aAAYC,SAAA,EACf,OAAT5B,QAAS,IAATA,OAAS,EAATA,EAAWgD,QAAOnC,GAA+B,QAAxBA,EAAIoC,kBAA2BF,SAAU,EAAE,2BAQzFrB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,UAClCS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,MAAKC,SAAA,EAChBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,WAAUC,SAAA,EACrBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,kBAAsB,IAAEpB,EAAU,IAAKH,EAAUyB,QAAQ,OAErEO,EAAAA,EAAAA,MAAA,OAAKV,UAAU,WAAUC,SAAA,EACrBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,mBAAuB,IAAEY,KAAKC,MAAMlC,GAAcmC,qBAE9DL,EAAAA,EAAAA,MAAA,OAAKV,UAAU,WAAUC,SAAA,EACrBF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,IAAEvB,EAAY,EAAImC,KAAKC,MAAO/B,EAAkBL,EAAa,KAAO,EAAE,aAM9GqB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC7BS,EAAAA,EAAAA,MAAA,SAAOV,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,UACzBS,EAAAA,EAAAA,MAAA,MAAAT,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,YACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,YACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,WACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,WACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBAGZF,EAAAA,EAAAA,KAAA,SAAAE,SACM5B,GAAkC,IAArBA,EAAU+C,OAQrB/C,EAAUkD,KAAKC,IAEX,MAAMlC,EAAmBX,WAAW6C,EAASrC,mBAAqB,GAGlE,IAAIE,EAASV,WAAW6C,EAASnC,QAAU,GAC5B,IAAXA,GAAgBP,EAAgB,GAAKQ,EAAmB,IACxDD,EAASe,EAAwBd,IAIrC,MAAMmC,EAAsBvB,EAAmBb,GAE/C,OACIqB,EAAAA,EAAAA,MAAA,MAAAT,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAAE,UACIF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SACvBuB,EAAS/C,MAAQ+C,EAASE,eAAiB,wBAGpD3B,EAAAA,EAAAA,KAAA,MAAAE,UACIS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,cAAaC,SAAA,CACvBuB,EAAS3C,UAAYA,EAAU,IAC5BS,EAAiBa,QAAQ,SAIrCO,EAAAA,EAAAA,MAAA,MAAAT,SAAA,EACIF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SACvBZ,EAAOc,QAAQ,MAEpBO,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAC5BZ,EAAOc,QAAQ,GAAG,gBAG3BO,EAAAA,EAAAA,MAAA,MAAAT,SAAA,EACIS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,cAAaC,SAAA,CACvBwB,EAAoB,QAEzBf,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAAC,MAC1BY,KAAKC,MAAMlC,GAAcmC,iBAAiB,8BAGtDhB,EAAAA,EAAAA,KAAA,MAAAE,SACKb,EAAeoC,EAASF,oBAE7BvB,EAAAA,EAAAA,KAAA,MAAAE,UACIF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,SAC5BuB,EAASG,OAASH,EAASI,gBAAkB,WAGtD7B,EAAAA,EAAAA,KAAA,MAAAE,UACIF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,SAC5BuB,EAASK,OAASL,EAASM,gBAAkB,WAGtD/B,EAAAA,EAAAA,KAAA,MAAAE,UACIF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAYS,KAAK,QAAOR,SACL,OAA7BuB,EAASF,kBACNZ,EAAAA,EAAAA,MAAAqB,EAAAA,SAAA,CAAA9B,SAAA,EACIF,EAAAA,EAAAA,KAAA,UACIC,UAAU,yBACVY,QAASA,IAAMrC,EAAeiD,EAASQ,GAAI,OAC3CC,MAAM,UAAShC,UAEfF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAEjBD,EAAAA,EAAAA,KAAA,UACIC,UAAU,wBACVY,QAASA,IAAMrC,EAAeiD,EAASQ,GAAI,YAC3CC,MAAM,SAAQhC,UAEdF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BA1D5BwB,EAASQ,IAAMR,EAASU,YAgE5B,KArFbnC,EAAAA,EAAAA,KAAA,MAAAE,UACIS,EAAAA,EAAAA,MAAA,MAAIyB,QAAQ,IAAInC,UAAU,mBAAkBC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6CACbD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,aAAYC,SAAC,sDA2FtDS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,eAAcC,SAAA,EACzBS,EAAAA,EAAAA,MAAA,UACIC,KAAK,SACLX,UAAU,oBACVY,QAASzC,EAAQ8B,SAAA,EAEjBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAwB,aAEzCU,EAAAA,EAAAA,MAAA,UACIC,KAAK,SACLX,UAAU,kBACVY,QAASA,KAEL,IAAKvC,GAAkC,IAArBA,EAAU+C,OAExB,YADAgB,MAAM,qBAIV,MAAMC,EAAU,GAGhBA,EAAQC,KAAK,CAAC,gBAAiB,QAAS,QAAS,oBAAqB,SAAU,cAAe,WAG/FjE,EAAUkE,SAAQf,IACd,MAAMlC,EAAmBX,WAAW6C,EAASrC,mBAAqB,GAClE,IAAIE,EAASV,WAAW6C,EAASnC,QAAU,GAC5B,IAAXA,GAAgBP,EAAgB,GAAKQ,EAAmB,IACxDD,EAASe,EAAwBd,IAErC,MAAMmC,EAAsBvB,EAAmBb,GAEzCmD,EAAM,CACRhB,EAAS/C,MAAQ+C,EAASE,eAAiB,GAC3CF,EAASG,OAASH,EAASI,gBAAkB,GAC7CJ,EAASK,OAASL,EAASM,gBAAkB,GAC7CxC,EACAD,EAAOc,QAAQ,GACfsB,EACAD,EAASF,iBAAmB,IAEhCe,EAAQC,KAAKE,EAAI,IAGrB,MAAMC,EAAaJ,EAAQd,KAAIiB,GAC3BA,EAAIjB,KAAImB,GAAQ,IAAIA,OAASC,KAAK,OACpCA,KAAK,MAEDC,EAAO,IAAIC,KAAK,CAACJ,GAAa,CAAE9B,KAAM,aACtCmC,EAAMC,OAAOC,IAAIC,gBAAgBL,GACjCM,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAOP,EACTI,EAAEI,SAAW,GAAG9E,EAAU+E,QAAQ,OAAQ,qBAC1CJ,SAASK,KAAKC,YAAYP,GAC1BA,EAAEQ,QACFP,SAASK,KAAKG,YAAYT,GAC1BH,OAAOC,IAAIY,gBAAgBd,EAAI,EACjC7C,SAAA,EAEFF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBAA2B,8BAzQvCgB,KA8Qf,E,gDCpXC,SAAS6C,IAAwB,IAADC,EAAAC,EAAAC,GAC5BC,EAAAA,EAAAA,MAAjB,MACMC,EAAiBC,aAAaC,QAAQ,sBACtCC,EAAYC,KAAKC,MAAML,GAE7Bf,SAASlB,MAAQ,kBACjB,MAAO3D,EAAmBkG,IAAwBC,EAAAA,EAAAA,UAAS,KACpDC,EAAaC,IAAkBF,EAAAA,EAAAA,WAAS,IACxCG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAChCK,EAAOC,IAAYN,EAAAA,EAAAA,UAAS,OAC5BO,EAAcC,IAAmBR,EAAAA,EAAAA,UAAS,CAC/CS,YAAa,GACbC,MAAO,CACLpG,gBAAiB,EACjBqG,kBAAmB,EACnBC,YAAa,EACbC,gBAAiB,EACjBC,qBAAsB,EACtBC,oBAAqB,MAGlBC,EAAeC,IAAoBjB,EAAAA,EAAAA,UAAS,CAAC,IAC7CkB,EAAmBC,IAAwBnB,EAAAA,EAAAA,WAAS,IACpDoB,EAAeC,IAAoBrB,EAAAA,EAAAA,UAAS,OAC5CsB,EAAwBC,IAA6BvB,EAAAA,EAAAA,UAAS,IAE/DwB,EAAiBC,EAAAA,EAAe,qBAChCC,EAAcD,EAAAA,EAAe,0BAEnCE,EAAAA,EAAAA,YAAU,KACRC,GAAyB,GACxB,KAEHD,EAAAA,EAAAA,YAAU,KACRE,GAAmB,GAClB,IAEH,MAAMD,EAA0BE,UAC9B,IAAIC,EAAW,CAAExE,GAAI,IACrB,IACE,MAAMyE,QAAYC,EAAAA,EAAMC,KACtBR,EAAc,0BACdK,EACA,CACEI,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAItBrC,EAAqBiC,EAAIK,KAAKC,SAAW,GAC3C,CAAE,MAAOC,GACPC,QAAQnC,MAAM,gCAAiCkC,EACjD,GAkFIV,EAAoBC,UACxB1B,GAAW,GACXE,EAAS,MAET,MAAMyB,EAAW,CACfU,WAAY7C,EAAU8C,UAAU,GAAGnF,IAGrC,IACE,MAAMoF,QAAoBV,EAAAA,EAAMC,KAC9BV,EAAiB,oBACjBO,EACA,CACEI,QAAS,CACPC,OAAQ,mBACR,eAAgB,sBAKtB,GAAIO,EAAYN,MAAQM,EAAYN,KAAKC,QAAS,CAChD,MAAMM,EApGqBnC,KAC/B,MAAMmC,EAAU,CAAC,EA2EjB,OAzEAnC,EAAY3C,SAAS+E,IACnB,MAAMC,EAAWD,EAAWE,gBAAkBF,EAAWG,YACnDjJ,EAAY8I,EAAWG,aAAe,gBAE5C,IAAKJ,EAAQE,GAAW,CAEtB,MAAM7I,EAAYC,WAAW2I,EAAWI,WAAa,GAC/C9I,EAAeD,WAAW2I,EAAWK,cAAgB,GAG3D,IAAI7I,EAAgB,EAChBJ,EAAY,GAAKE,EAAe,IAClCE,EAAgBJ,EAAYE,GAG9ByI,EAAQE,GAAY,CAClBvF,GAAIuF,EACJ9I,KAAMD,EACNoJ,aAAcN,EAAWM,aACzBC,eAAgBP,EAAWO,eAC3BC,eAAgBR,EAAWQ,eAC3BjJ,SAAUyI,EAAWzI,UAAY,MACjCH,UAAWA,EACXE,aAAcA,EACdE,cAAeA,EACfT,UAAW,GACXU,gBAAiB,EACjBgJ,oBAAqB,EACrBC,eAAgB,EAChBC,mBAAoB,EACpBC,iBAAkB,EAClBC,yBAA0B,EAE9B,CAGA,IAAI9I,EAASV,WAAW2I,EAAWjI,QAAU,GAC7C,MAAMC,EAAmBX,WAAW2I,EAAWnI,mBAAqB,GAGrD,IAAXE,GAAgBC,EAAmB,GAAK+H,EAAQE,GAAUzI,cAAgB,IAC5EO,EAASC,EAAmB+H,EAAQE,GAAUzI,eAIhD,MAAM0C,EAAW,CACfQ,GAAIsF,EAAWtF,GACfE,YAAaoF,EAAWpF,YACxBzD,KAAM6I,EAAW5F,cACjBC,MAAO2F,EAAW1F,eAClBC,MAAOyF,EAAWxF,eAClB3C,kBAAmBG,EACnBD,OAAQA,EACRiC,gBAAiBgG,EAAWhG,gBAC5BwG,eAAgBR,EAAWQ,eAC3BjJ,SAAUyI,EAAWzI,UAAY,OAGnCwI,EAAQE,GAAUlJ,UAAUiE,KAAKd,GAGjC6F,EAAQE,GAAUxI,iBAAmBO,EACrC+H,EAAQE,GAAUS,iBAClBX,EAAQE,GAAUY,0BAA4B9I,EAEb,QAA7BmC,EAASF,iBACX+F,EAAQE,GAAUQ,qBAAuBzI,EACzC+H,EAAQE,GAAUU,sBACoB,OAA7BzG,EAASF,iBAClB+F,EAAQE,GAAUW,kBACpB,IAGKb,CAAO,EAwBMe,CAAwBhB,EAAYN,KAAKC,SACzDrB,EAAiB2B,GAEjBpC,EAAgB,CACdC,YAAakC,EAAYN,KAAKC,QAC9B5B,MAAOiC,EAAYN,KAAK3B,OAAS,CAC/BpG,gBAAiB,EACjBqG,kBAAmB,EACnBC,YAAa,EACbC,gBAAiB,EACjBC,qBAAsB,EACtBC,oBAAqB,IAG3B,MACET,EAAS,4BACTW,EAAiB,CAAC,GAClBT,EAAgB,CACdC,YAAa,GACbC,MAAO,CACLpG,gBAAiB,EACjBqG,kBAAmB,EACnBC,YAAa,EACbC,gBAAiB,EACjBC,qBAAsB,EACtBC,oBAAqB,IAI7B,CAAE,MAAOwB,GACPC,QAAQnC,MAAM,gCAAiCkC,GAC/CjC,EAAS,iCACTW,EAAiB,CAAC,GAClBT,EAAgB,CACdC,YAAa,GACbC,MAAO,CACLpG,gBAAiB,EACjBqG,kBAAmB,EACnBC,YAAa,EACbC,gBAAiB,EACjBC,qBAAsB,EACtBC,oBAAqB,IAG3B,CAAC,QACCX,GAAW,EACb,GAgDIwD,EAA0Bd,IAC9B,MAAMzG,EAAQ2E,EAAc8B,GAC5BN,QAAQqB,IAAI,wBAAyBxH,GACrCmG,QAAQqB,IAAI,iBAAuB,OAALxH,QAAK,IAALA,OAAK,EAALA,EAAOlC,cACrCqI,QAAQqB,IAAI,aAAmB,OAALxH,QAAK,IAALA,OAAK,EAALA,EAAOzC,WAE7ByC,IACFgF,EAAiB,CACf9D,GAAIlB,EAAMkB,GACVvD,KAAMqC,EAAMrC,KACZmJ,aAAc9G,EAAM8G,aACpBC,eAAgB/G,EAAM+G,eACtBC,eAAgBhH,EAAMgH,eACtBjJ,SAAUiC,EAAMjC,SAChBH,UAAWoC,EAAMpC,UACjBI,cAAegC,EAAMhC,cACrBF,aAAckC,EAAMlC,cAAgBkC,EAAMuE,YAC1CtG,gBAAiB+B,EAAM/B,kBAEzBiH,EAA0BlF,EAAMzC,WAChCuH,GAAqB,GACvB,EA4BI2C,EAAiB,SAACC,GAA8B,IAAtB3J,EAAQ4J,UAAArH,OAAA,QAAAH,IAAAwH,UAAA,GAAAA,UAAA,GAAG,MACzC,IAAKD,GAAUE,MAAM/J,WAAW6J,IAAU,MAAO,QAEjD,MAAMG,EAAYhK,WAAW6J,GAC7B,IAAII,EAAgB/J,EAChBA,IACF+J,EAAgB/J,EACb0E,QAAQ,kCAAmB,IAC3BA,QAAQ,OAAQ,IAChBsF,OACAC,eAGL,MAAMC,EAAezK,EAAkB0K,MACpCC,GACCA,EAAQC,gBAAkBN,GAC1BK,EAAQC,gBAAkBrK,GAC1BoK,EAAQE,kBAAoBtK,IAGhC,GAAIkK,EACF,IACE,OAAO,IAAIK,KAAKC,aAAa,QAAS,CACpChJ,MAAO,WACPxB,SAAUkK,EAAaG,cACvBhI,sBAAuB,EACvBC,sBAAuB,IACtBmI,OAAOX,EACZ,CAAE,MAAO7D,GACP,MAAO,GAAGiE,EAAaI,kBAAkBR,EAAU5H,eACjD,QACA,CACEG,sBAAuB,EACvBC,sBAAuB,KAG7B,CAGF,GAAI,aAAaoI,KAAKX,GACpB,IACE,OAAO,IAAIQ,KAAKC,aAAa,QAAS,CACpChJ,MAAO,WACPxB,SAAU+J,EACV1H,sBAAuB,EACvBC,sBAAuB,IACtBmI,OAAOX,EACZ,CAAE,MAAO7D,GACPmC,QAAQuC,KAAK,iCAAiC3K,KAAaiG,EAC7D,CAGF,MAAO,IAAI6D,EAAU5H,eAAe,QAAS,CAC3CG,sBAAuB,EACvBC,sBAAuB,KAE3B,EAyKA,OADA8F,QAAQqB,IAAItD,IAEVtE,EAAAA,EAAAA,MAAC+I,EAAAA,GAAO,CAAAxJ,SAAA,EACNF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,iCAAgCC,SAAA,EAC7CF,EAAAA,EAAAA,KAAC2J,EAAAA,EAAa,CACZhF,YAAaA,EACbC,eAAgBA,KAElBjE,EAAAA,EAAAA,MAAA,OAAKV,UAAW,gBAAe0E,EAAc,kBAAoB,IAAKzE,SAAA,EACpEF,EAAAA,EAAAA,KAAC4J,EAAAA,EAAM,KACP5J,EAAAA,EAAAA,KAAC6J,EAAAA,GAAc,CAAC5J,UAAU,qBAAoBC,UAC5CS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,kBAAiBC,SAAA,EAE9BS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,sFAAqFC,SAAA,EAClGS,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yBAAwBC,SAAC,qBACvCS,EAAAA,EAAAA,MAAA,KAAGV,UAAU,kBAAiBC,SAAA,CAAC,WACpB,IACRoE,EAAU8C,WAAa9C,EAAU8C,UAAU,GACxC9C,EAAU8C,UAAU,GAAG1I,KACvB,aAGRiC,EAAAA,EAAAA,MAAA,OAAKV,UAAU,WAAUC,SAAA,EACvBF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,SAAC,kBAC9BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oBAAmBC,SAC9B4J,OAAOC,KAAKrE,GAAerE,gBAIlCV,EAAAA,EAAAA,MAAA,OAAKV,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oCAEfU,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,kBAG9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,UACJ,QAAxB6D,EAAAkB,EAAaE,mBAAW,IAAApB,OAAA,EAAxBA,EAA0B1C,QAAS,EAClCmH,EACEvD,EAAaE,YAAYlG,QAAO,CAACC,EAAKC,IACpCD,EAAMN,WAAWO,EAAIwI,WAAa,IAAI,IAI1Ca,EAAe,MAGnBxI,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,SAAC,yDASxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,WAAUC,UACvBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sCAEfU,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,qBAG9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,UACJ,QAAxB8D,EAAAiB,EAAaE,mBAAW,IAAAnB,OAAA,EAAxBA,EAA0B3C,QAAS,EAClC,MACE,MAAM2I,EAAc/E,EAAaE,YAAYlG,QAAO,CAACC,EAAKC,IACxDD,EAAMN,WAAWO,EAAIwI,WAAa,IAAI,GAElCsC,EAAchF,EAAaG,MAAMpG,gBACvC,OAAOgL,EAAc,EACnB,IAAKC,EAAcD,EAAe,KAAK5J,QAAQ,MAC/C,IACH,EARD,GAUA,QAGJJ,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,UACF,QAAxB+D,EAAAgB,EAAaE,mBAAW,IAAAlB,OAAA,EAAxBA,EAA0B5C,QAAS,IAClCV,EAAAA,EAAAA,MAAAqB,EAAAA,SAAA,CAAA9B,SAAA,CACGsI,EAAevD,EAAaG,MAAMpG,iBAAiB,cAClDwJ,EACEvD,EAAaE,YAAYlG,QAAO,CAACC,EAAKC,IACpCD,EAAMN,WAAWO,EAAIwI,WAAa,IAAI,IAG3C,+BAWnBhH,EAAAA,EAAAA,MAAA,OAAKV,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uCAEfU,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,kBAG9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAC5B4J,OAAOC,KAAKrE,GAAerE,sBAQxCrB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uCAEfU,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,kBAG9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAC5BsI,EAAevD,EAAaG,MAAMpG,gCAQ/CgB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gDAA+CC,UAC5DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,8BAEfU,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,qBAG9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAC5B+E,EAAaG,MAAMI,qBAAuBP,EAAaG,MAAMG,+BAQ1EvF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC7BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAA+BC,UAC5CF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mDAAkDC,UAC/DF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iCAEfU,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAAC,sBAG9CF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kBAAiBC,SAC5B+E,EAAaG,MAAMG,kCAUlC5E,EAAAA,EAAAA,MAAA,OAAKV,UAAU,iBAAgBC,SAAA,EAC7BS,EAAAA,EAAAA,MAAA,OAAKV,UAAU,yEAAwEC,SAAA,EACrFS,EAAAA,EAAAA,MAAA,MAAIV,UAAU,OAAMC,SAAA,EAClBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,0BAA4B,wBAE3CU,EAAAA,EAAAA,MAAA,UACEV,UAAU,iCACVY,QAAS0F,EACT2D,SAAUrF,EAAQ3E,SAAA,EAElBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,yBACZ4E,EAAU,aAAe,iBAI9B7E,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,SACvB2E,GACClE,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,8BAA8BS,KAAK,SAAQR,UACxDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,kBAAiBC,SAAC,kBAEpCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kBAAiBC,SAAC,kCAE/B6E,GACFpE,EAAAA,EAAAA,MAAA,OAAKV,UAAU,kCAAiCC,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4CACbD,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAI6E,KACJ/E,EAAAA,EAAAA,KAAA,UAAQC,UAAU,yBAAyBY,QAAS0F,EAAkBrG,SAAC,iBAlYnEiK,MACxB,MAAMC,EAASN,OAAOO,OAAO3E,GAE7B,GAAsB,IAAlB0E,EAAO/I,OACT,OACEV,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4CACbD,EAAAA,EAAAA,KAAA,MAAAE,SAAI,gCACJF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,aAAYC,SAAC,4DAahC,OACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BS,EAAAA,EAAAA,MAAA,SAAOV,UAAU,oBAAmBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,cAAaC,UAC5BS,EAAAA,EAAAA,MAAA,MAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,wBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,eACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,YACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBAGRF,EAAAA,EAAAA,KAAA,SAAAE,SACGkK,EAAO5I,KAAI,CAACT,EAAOuJ,KAClB,MAAM9C,EAAWsC,OAAOC,KAAKrE,GAAe4E,GAGtCC,EAAyBxJ,EAAMkH,eAAiB,EAClDnH,KAAKC,MAAOA,EAAMmH,mBAAqBnH,EAAMkH,eAAkB,KAC/D,EAGEuC,EAAwBzJ,EAAMpC,UAAY,EAC5CmC,KAAKC,MAAOA,EAAM/B,gBAAkB+B,EAAMpC,UAAa,KACvD,EAEJ,OACEgC,EAAAA,EAAAA,MAAA,MAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,UACES,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,SACzBa,EAAMrC,QAETsB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,SAC9Ba,EAAM8G,gBAETlH,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAC9Ba,EAAM+G,eAAe,WAAI/G,EAAMgH,wBAItC/H,EAAAA,EAAAA,KAAA,MAAAE,UACES,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EAEES,EAAAA,EAAAA,MAAA,OAAKV,UAAU,2BAA0BC,SAAA,CAAC,WAC/Ba,EAAMjC,SAAU,IAAKiC,EAAMpC,UAAUyB,QAAQ,OAIxDO,EAAAA,EAAAA,MAAA,OAAKV,UAAU,aAAYC,SAAA,CAAC,WACjBa,EAAMjC,SAAU,IAAKiC,EAAM/B,gBAAgBoB,QAAQ,GAC3DW,EAAMpC,UAAY,IACjBgC,EAAAA,EAAAA,MAAA,QAAMV,UAAU,OAAMC,SAAA,CAAC,IACnBsK,EAAsB,sBAM9B7J,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAAC,cACpBa,EAAMjC,SAAU,IAAKiC,EAAMiH,oBAAoB5H,QAAQ,OAIrEO,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAC9BY,KAAKC,MAAMA,EAAMlC,cAAcmC,iBAAiB,oBAIlDD,EAAMhC,cAAgB,IACrB4B,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAAC,gBAClBa,EAAMjC,SAAU,IAAKiC,EAAMhC,cAAciC,oBAAeE,EAAW,CAC/EC,sBAAuB,EACvBC,sBAAuB,aAMjCpB,EAAAA,EAAAA,KAAA,MAAAE,UACES,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EACES,EAAAA,EAAAA,MAAA,OAAKV,UAAU,cAAaC,SAAA,CACzBa,EAAMkH,eAAe,YAAmC,IAAzBlH,EAAMkH,eAAuB,IAAM,OAErEtH,EAAAA,EAAAA,MAAA,OAAKV,UAAU,mBAAkBC,SAAA,CAC9Ba,EAAMmH,mBAAmB,qBAAcnH,EAAMoH,iBAAiB,oBAIrEnI,EAAAA,EAAAA,KAAA,MAAAE,UACES,EAAAA,EAAAA,MAAA,OAAAT,SAAA,EAEEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,SACS,MAA3BqK,GACC5J,EAAAA,EAAAA,MAAA,QAAMV,UAAU,mBAAkBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA+B,wBAAsBsK,EAAuB,QAEzFA,EAAyB,GAC3B5J,EAAAA,EAAAA,MAAA,QAAMV,UAAU,6BAA4BC,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAwB,2BAAyBsK,EAAuB,SAGvF5J,EAAAA,EAAAA,MAAA,QAAMV,UAAU,qBAAoBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gCAAkC,sBAMrDD,EAAAA,EAAAA,KAAA,OAAAE,SAC6B,MAA1BsK,GACC7J,EAAAA,EAAAA,MAAA,QAAMV,UAAU,mBAAkBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAyB,mBAEtCuK,EAAwB,GAC1B7J,EAAAA,EAAAA,MAAA,QAAMV,UAAU,2BAA0BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA6B,IAAEuK,EAAsB,eAGpE7J,EAAAA,EAAAA,MAAA,QAAMV,UAAU,2BAA0BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,2BAA6B,yBAMpDD,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAYS,KAAK,QAAOR,UACrCS,EAAAA,EAAAA,MAAA,UACEV,UAAU,yBACVY,QAASA,IAAMyH,EAAuBd,GACtCtF,MAAM,iBAAgBhC,SAAA,EAEtBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,oBAAsB,2BA1GlCuH,EA8GJ,UAKT,EAoOU2C,sBAWhBnK,EAAAA,EAAAA,KAACyK,EAA0B,CACzBtM,KAAMyH,EACNxH,QAvemBsM,KACvB7E,GAAqB,GACrBE,EAAiB,MACjBE,EAA0B,GAAG,EAqezB5H,UAAWyH,EACXxH,UAAW0H,EACXxH,eA/iByBgI,MAAOmE,EAAWnL,KAC/C,IAgBE,UAfuBmH,EAAAA,EAAMC,KAC3BV,EAAiB,yBACjB,CACE0E,WAAYD,EACZnL,OAAQA,EACRqL,cAAevG,EAAUrC,IAE3B,CACE4E,QAAS,CACPC,OAAQ,mBACR,eAAgB,uBAKTC,KAAK+D,QAAS,CAIzB,GAFAvE,IAEIT,EAAe,CACjB,MAAM0B,EAAWsC,OAAOC,KAAKrE,GAAeuD,MAAK8B,GAC/CrF,EAAcqF,GAAKzM,UAAU0M,MAAK7L,GAAOA,EAAI8C,KAAO0I,MAElDnD,GAAY5B,GACd0C,EAAuBd,EAE3B,CACAnF,MACE,cAAyB,QAAX7C,EACV,WACW,aAAXA,EACE,WACA,mCAGV,CACF,CAAE,MAAOuF,GACPmC,QAAQnC,MAAM,oCAAqCA,GACnD1C,MAAM,qCACR,OA0gBJ,C","sources":["components/Users/popup/InvestorPortalDetailsModal.jsx","pages/User/Crm/InvestorReportPortal.jsx"],"sourcesContent":["// InvestorPortalDetailsModal.jsx\r\nimport React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst InvestorPortalDetailsModal = ({ show, onClose, roundData, investors, countrySymbolList, onUpdateStatus }) => {\r\n    if (!show) return null;\r\n\r\n    // Format currency function\r\n    const formatCurrency = (amount, currency = \"USD\") => {\r\n        if (!amount || isNaN(parseFloat(amount))) return \"$0.00\";\r\n\r\n        const numAmount = parseFloat(amount);\r\n        let cleanCurrency = currency;\r\n        if (currency) {\r\n            cleanCurrency = currency\r\n                .replace(/[\\$\\€\\£\\¥\\₹\\₽]/g, \"\")\r\n                .replace(/\\s+/g, \"\")\r\n                .trim()\r\n                .toUpperCase();\r\n        }\r\n\r\n        const currencyInfo = countrySymbolList?.find(\r\n            (country) =>\r\n                country.currency_code === cleanCurrency ||\r\n                country.currency_code === currency ||\r\n                country.currency_symbol === currency\r\n        );\r\n\r\n        if (currencyInfo) {\r\n            try {\r\n                return new Intl.NumberFormat(\"en-US\", {\r\n                    style: \"currency\",\r\n                    currency: currencyInfo.currency_code,\r\n                    minimumFractionDigits: 2,\r\n                    maximumFractionDigits: 2,\r\n                }).format(numAmount);\r\n            } catch (error) {\r\n                return `${currencyInfo.currency_symbol}${numAmount.toLocaleString(\r\n                    \"en-US\",\r\n                    {\r\n                        minimumFractionDigits: 2,\r\n                        maximumFractionDigits: 2,\r\n                    }\r\n                )}`;\r\n            }\r\n        }\r\n\r\n        if (/^[A-Z]{3}$/.test(cleanCurrency)) {\r\n            try {\r\n                return new Intl.NumberFormat(\"en-US\", {\r\n                    style: \"currency\",\r\n                    currency: cleanCurrency,\r\n                    minimumFractionDigits: 2,\r\n                    maximumFractionDigits: 2,\r\n                }).format(numAmount);\r\n            } catch (error) {\r\n                console.warn(`Currency formatting error for ${currency}:`, error);\r\n            }\r\n        }\r\n\r\n        return `$${numAmount.toLocaleString(\"en-US\", {\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2,\r\n        })}`;\r\n    };\r\n\r\n    // Extract round data\r\n\r\n    const roundName = roundData?.name || \"Round\";\r\n    const roundSize = parseFloat(roundData?.roundSize || 0); // Target amount\r\n    const issuedShares = parseFloat(roundData?.issuedShares || 0); // Total shares issued in this round\r\n    const currency = roundData?.currency || \"USD\";\r\n\r\n    // Calculate price per share based on round data (not from investors)\r\n    const pricePerShare = roundSize > 0 && issuedShares > 0 ? roundSize / issuedShares : 0;\r\n\r\n    // Calculate statistics from investors\r\n    const totalInvestment = investors?.reduce((sum, inv) => {\r\n        return sum + parseFloat(inv.investment_amount || 0);\r\n    }, 0) || 0;\r\n\r\n    const totalSharesFromInvestors = investors?.reduce((sum, inv) => {\r\n        // If shares field is empty, calculate it\r\n        let shares = parseFloat(inv.shares || 0);\r\n        if (shares === 0 && pricePerShare > 0) {\r\n            const investmentAmount = parseFloat(inv.investment_amount || 0);\r\n            if (investmentAmount > 0) {\r\n                shares = investmentAmount / pricePerShare;\r\n            }\r\n        }\r\n        return sum + shares;\r\n    }, 0) || 0;\r\n\r\n    // Get status badge\r\n    const getStatusBadge = (status) => {\r\n        const statusConfig = {\r\n            Yes: { class: \"badge bg-success\", text: \"Confirmed\" },\r\n            No: { class: \"badge bg-warning text-dark\", text: \"Pending\" },\r\n            Rejected: { class: \"badge bg-danger\", text: \"Rejected\" },\r\n        };\r\n        const config = statusConfig[status] || statusConfig[\"No\"];\r\n        return <span className={config.class}>{config.text}</span>;\r\n    };\r\n\r\n    // Calculate ownership percentage based on issued shares (not total investor shares)\r\n    const calculateOwnership = (shares) => {\r\n        if (!shares || !issuedShares || issuedShares === 0) return \"0.00\";\r\n        return ((parseFloat(shares) / parseFloat(issuedShares)) * 100).toFixed(2);\r\n    };\r\n\r\n    // Calculate shares for each investor\r\n    const calculateInvestorShares = (investmentAmount) => {\r\n        if (!investmentAmount || !pricePerShare || pricePerShare === 0) return 0;\r\n        return investmentAmount / pricePerShare;\r\n    };\r\n    const threeDigitPrice = (price) => {\r\n        return price.toLocaleString(undefined, {\r\n            minimumFractionDigits: 3,\r\n            maximumFractionDigits: 3\r\n        });\r\n    };\r\n    return (\r\n        <div\r\n            className=\"modal fade show\"\r\n            style={{ display: \"block\", backgroundColor: \"rgba(0,0,0,0.5)\" }}\r\n            tabIndex=\"-1\"\r\n            role=\"dialog\"\r\n        >\r\n            <div className=\"modal-dialog modal-xl modal-dialog-centered\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header bg-primary text-white\">\r\n                        <h5 className=\"modal-title\">\r\n                            <i className=\"fas fa-users me-2\"></i>\r\n                            {roundName} - Investors\r\n                        </h5>\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn-close btn-close-white\"\r\n                            onClick={onClose}\r\n                            aria-label=\"Close\"\r\n                        ></button>\r\n                    </div>\r\n\r\n                    <div className=\"modal-body\">\r\n                        {/* Round Summary */}\r\n                        <div className=\"row mb-4\">\r\n                            <div className=\"col-md-3\">\r\n                                <div className=\"card border-0 bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                        <h6 className=\"text-muted\">Total Raised</h6>\r\n                                        <h4 className=\"text-primary\">\r\n                                            {currency}{\" \"}{totalInvestment.toFixed(2)}\r\n                                        </h4>\r\n                                        <small className=\"text-muted\">\r\n                                            {roundSize > 0 ? Math.round((totalInvestment / roundSize) * 100) : 0}% of target\r\n                                        </small>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                                <div className=\"card border-0 bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                        <h6 className=\"text-muted\">Total Shares</h6>\r\n                                        <h4 className=\"text-success\">\r\n                                            {Math.round(issuedShares).toLocaleString()}\r\n                                        </h4>\r\n                                        <small className=\"text-muted\">\r\n                                            issued in this round\r\n                                        </small>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                                <div className=\"card border-0 bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                        <h6 className=\"text-muted\">Price per Share</h6>\r\n                                        <h4 className=\"text-info\">\r\n                                            {currency}{\" \"}{threeDigitPrice(pricePerShare)}\r\n                                        </h4>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-3\">\r\n                                <div className=\"card border-0 bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                        <h6 className=\"text-muted\">Total Investors</h6>\r\n                                        <h4 className=\"text-warning\">{investors?.length || 0}</h4>\r\n                                        <small className=\"text-muted\">\r\n                                            {investors?.filter(inv => inv.request_confirm === \"Yes\").length || 0} confirmed\r\n                                        </small>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Round Information */}\r\n                        <div className=\"alert alert-info mb-4\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-4\">\r\n                                    <strong>Round Target:</strong> {currency}{\" \"}{roundSize.toFixed(2)}\r\n                                </div>\r\n                                <div className=\"col-md-4\">\r\n                                    <strong>Issued Shares:</strong> {Math.round(issuedShares).toLocaleString()}\r\n                                </div>\r\n                                <div className=\"col-md-4\">\r\n                                    <strong>Completion:</strong> {roundSize > 0 ? Math.round((totalInvestment / roundSize) * 100) : 0}%\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Investors Table */}\r\n                        <div className=\"table-responsive\">\r\n                            <table className=\"table table-hover\">\r\n                                <thead className=\"table-dark\">\r\n                                    <tr>\r\n                                        <th>Investor Name</th>\r\n                                        <th>Investment Amount</th>\r\n                                        <th>Shares</th>\r\n                                        <th>Ownership %</th>\r\n                                        <th>Status</th>\r\n                                        <th>Email</th>\r\n                                        <th>Phone</th>\r\n                                        <th>Actions</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {!investors || investors.length === 0 ? (\r\n                                        <tr>\r\n                                            <td colSpan=\"8\" className=\"text-center py-4\">\r\n                                                <i className=\"fas fa-user-slash fa-2x text-muted mb-2\"></i>\r\n                                                <p className=\"text-muted\">No investors found for this round</p>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ) : (\r\n                                        investors.map((investor) => {\r\n                                            // Get investment amount\r\n                                            const investmentAmount = parseFloat(investor.investment_amount || 0);\r\n\r\n                                            // Calculate shares based on price per share\r\n                                            let shares = parseFloat(investor.shares || 0);\r\n                                            if (shares === 0 && pricePerShare > 0 && investmentAmount > 0) {\r\n                                                shares = calculateInvestorShares(investmentAmount);\r\n                                            }\r\n\r\n                                            // Calculate ownership percentage\r\n                                            const ownershipPercentage = calculateOwnership(shares);\r\n\r\n                                            return (\r\n                                                <tr key={investor.id || investor.investor_id}>\r\n                                                    <td>\r\n                                                        <div className=\"fw-semibold\">\r\n                                                            {investor.name || investor.investor_name || \"Unnamed Investor\"}\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"fw-semibold\">\r\n                                                            {investor.currency || currency}{\" \"}{\r\n                                                                investmentAmount.toFixed(2)\r\n                                                            }\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"fw-semibold\">\r\n                                                            {shares.toFixed(3)}\r\n                                                        </div>\r\n                                                        <div className=\"text-muted small\">\r\n                                                            {shares.toFixed(3)} exact\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"fw-semibold\">\r\n                                                            {ownershipPercentage}%\r\n                                                        </div>\r\n                                                        <div className=\"text-muted small\">\r\n                                                            of {Math.round(issuedShares).toLocaleString()} total issued shares\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        {getStatusBadge(investor.request_confirm)}\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"text-muted small\">\r\n                                                            {investor.email || investor.investor_email || 'N/A'}\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"text-muted small\">\r\n                                                            {investor.phone || investor.investor_phone || 'N/A'}\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div className=\"btn-group\" role=\"group\">\r\n                                                            {investor.request_confirm === \"No\" && (\r\n                                                                <>\r\n                                                                    <button\r\n                                                                        className=\"btn btn-sm btn-success\"\r\n                                                                        onClick={() => onUpdateStatus(investor.id, \"Yes\")}\r\n                                                                        title=\"Approve\"\r\n                                                                    >\r\n                                                                        <i className=\"fas fa-check\"></i>\r\n                                                                    </button>\r\n                                                                    <button\r\n                                                                        className=\"btn btn-sm btn-danger\"\r\n                                                                        onClick={() => onUpdateStatus(investor.id, \"Rejected\")}\r\n                                                                        title=\"Reject\"\r\n                                                                    >\r\n                                                                        <i className=\"fas fa-times\"></i>\r\n                                                                    </button>\r\n                                                                </>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            );\r\n                                        })\r\n                                    )}\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"modal-footer\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-secondary\"\r\n                            onClick={onClose}\r\n                        >\r\n                            <i className=\"fas fa-times me-1\"></i> Close\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-primary\"\r\n                            onClick={() => {\r\n                                // Export to CSV functionality\r\n                                if (!investors || investors.length === 0) {\r\n                                    alert('No data to export');\r\n                                    return;\r\n                                }\r\n\r\n                                const csvRows = [];\r\n\r\n                                // Headers\r\n                                csvRows.push(['Investor Name', 'Email', 'Phone', 'Investment Amount', 'Shares', 'Ownership %', 'Status']);\r\n\r\n                                // Data rows\r\n                                investors.forEach(investor => {\r\n                                    const investmentAmount = parseFloat(investor.investment_amount || 0);\r\n                                    let shares = parseFloat(investor.shares || 0);\r\n                                    if (shares === 0 && pricePerShare > 0 && investmentAmount > 0) {\r\n                                        shares = calculateInvestorShares(investmentAmount);\r\n                                    }\r\n                                    const ownershipPercentage = calculateOwnership(shares);\r\n\r\n                                    const row = [\r\n                                        investor.name || investor.investor_name || '',\r\n                                        investor.email || investor.investor_email || '',\r\n                                        investor.phone || investor.investor_phone || '',\r\n                                        investmentAmount,\r\n                                        shares.toFixed(3),\r\n                                        ownershipPercentage,\r\n                                        investor.request_confirm || ''\r\n                                    ];\r\n                                    csvRows.push(row);\r\n                                });\r\n\r\n                                const csvContent = csvRows.map(row =>\r\n                                    row.map(cell => `\"${cell}\"`).join(',')\r\n                                ).join('\\n');\r\n\r\n                                const blob = new Blob([csvContent], { type: 'text/csv' });\r\n                                const url = window.URL.createObjectURL(blob);\r\n                                const a = document.createElement('a');\r\n                                a.href = url;\r\n                                a.download = `${roundName.replace(/\\s+/g, '_')}_investors.csv`;\r\n                                document.body.appendChild(a);\r\n                                a.click();\r\n                                document.body.removeChild(a);\r\n                                window.URL.revokeObjectURL(url);\r\n                            }}\r\n                        >\r\n                            <i className=\"fas fa-download me-1\"></i> Export to CSV\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InvestorPortalDetailsModal;","// InvestorReportPortal.jsx\r\nimport React, { useState, useEffect } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport InvestorPortalDetailsModal from \"../../../components/Users/popup/InvestorPortalDetailsModal.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\nexport default function InvestorReportPortal() {\r\n  const navigate = useNavigate();\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = JSON.parse(storedUsername);\r\n\r\n  document.title = \"Investor Portal\";\r\n  const [countrySymbolList, setCountrysymbollist] = useState([]);\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [investorData, setInvestorData] = useState({\r\n    investments: [],\r\n    stats: {\r\n      totalInvestment: 0,\r\n      activeInvestments: 0,\r\n      totalShares: 0,\r\n      pendingRequests: 0,\r\n      confirmedInvestments: 0,\r\n      rejectedInvestments: 0,\r\n    },\r\n  });\r\n  const [groupedRounds, setGroupedRounds] = useState({});\r\n  const [showInvestorModal, setShowInvestorModal] = useState(false);\r\n  const [selectedRound, setSelectedRound] = useState(null);\r\n  const [selectedRoundInvestors, setSelectedRoundInvestors] = useState([]);\r\n\r\n  const apiURLInvestor = API_BASE_URL + \"api/user/investor/\";\r\n  const apiUrlRound = API_BASE_URL + \"api/user/capitalround/\";\r\n\r\n  useEffect(() => {\r\n    getallcountrySymbolList();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchInvestorData();\r\n  }, []);\r\n\r\n  const getallcountrySymbolList = async () => {\r\n    let formData = { id: \"\" };\r\n    try {\r\n      const res = await axios.post(\r\n        apiUrlRound + \"getallcountrySymbolList\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      setCountrysymbollist(res.data.results || []);\r\n    } catch (err) {\r\n      console.error(\"Error fetching currency list:\", err);\r\n    }\r\n  };\r\n\r\n  const groupInvestmentsByRound = (investments) => {\r\n    const grouped = {};\r\n\r\n    investments.forEach((investment) => {\r\n      const roundKey = investment.roundrecord_id || investment.nameOfRound;\r\n      const roundName = investment.nameOfRound || \"Unnamed Round\";\r\n\r\n      if (!grouped[roundKey]) {\r\n        // Get round data\r\n        const roundSize = parseFloat(investment.roundsize || 0);\r\n        const issuedShares = parseFloat(investment.issuedshares || 0);\r\n\r\n        // Calculate price per share: roundSize / issuedShares (from doc 1 formula)\r\n        let pricePerShare = 0;\r\n        if (roundSize > 0 && issuedShares > 0) {\r\n          pricePerShare = roundSize / issuedShares;\r\n        }\r\n\r\n        grouped[roundKey] = {\r\n          id: roundKey,\r\n          name: roundName,\r\n          company_name: investment.company_name,\r\n          shareClassType: investment.shareClassType,\r\n          instrumentType: investment.instrumentType,\r\n          currency: investment.currency || \"USD\",\r\n          roundSize: roundSize, // Target amount\r\n          issuedShares: issuedShares, // Total shares issued in this round\r\n          pricePerShare: pricePerShare,\r\n          investors: [],\r\n          totalInvestment: 0, // Actual raised from confirmed investors\r\n          confirmedInvestment: 0,\r\n          totalInvestors: 0,\r\n          confirmedInvestors: 0,\r\n          pendingInvestors: 0,\r\n          totalSharesFromInvestors: 0, // Sum of shares owned by investors in this round\r\n        };\r\n      }\r\n\r\n      // Get shares from investment data\r\n      let shares = parseFloat(investment.shares || 0);\r\n      const investmentAmount = parseFloat(investment.investment_amount || 0);\r\n\r\n      // If shares are 0 but we have investment amount and price per share, calculate\r\n      if (shares === 0 && investmentAmount > 0 && grouped[roundKey].pricePerShare > 0) {\r\n        shares = investmentAmount / grouped[roundKey].pricePerShare;\r\n      }\r\n\r\n      // Add investor to this round\r\n      const investor = {\r\n        id: investment.id,\r\n        investor_id: investment.investor_id,\r\n        name: investment.investor_name,\r\n        email: investment.investor_email,\r\n        phone: investment.investor_phone,\r\n        investment_amount: investmentAmount,\r\n        shares: shares,\r\n        request_confirm: investment.request_confirm,\r\n        instrumentType: investment.instrumentType,\r\n        currency: investment.currency || \"USD\"\r\n      };\r\n\r\n      grouped[roundKey].investors.push(investor);\r\n\r\n      // Update round statistics\r\n      grouped[roundKey].totalInvestment += investmentAmount;\r\n      grouped[roundKey].totalInvestors++;\r\n      grouped[roundKey].totalSharesFromInvestors += shares;\r\n\r\n      if (investor.request_confirm === \"Yes\") {\r\n        grouped[roundKey].confirmedInvestment += investmentAmount;\r\n        grouped[roundKey].confirmedInvestors++;\r\n      } else if (investor.request_confirm === \"No\") {\r\n        grouped[roundKey].pendingInvestors++;\r\n      }\r\n    });\r\n\r\n    return grouped;\r\n  };\r\n\r\n  const fetchInvestorData = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n    };\r\n\r\n    try {\r\n      const generateRes = await axios.post(\r\n        apiURLInvestor + \"fetchInvestorData\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (generateRes.data && generateRes.data.results) {\r\n        const grouped = groupInvestmentsByRound(generateRes.data.results);\r\n        setGroupedRounds(grouped);\r\n\r\n        setInvestorData({\r\n          investments: generateRes.data.results,\r\n          stats: generateRes.data.stats || {\r\n            totalInvestment: 0,\r\n            activeInvestments: 0,\r\n            totalShares: 0,\r\n            pendingRequests: 0,\r\n            confirmedInvestments: 0,\r\n            rejectedInvestments: 0,\r\n          },\r\n        });\r\n      } else {\r\n        setError(\"No investment data found\");\r\n        setGroupedRounds({});\r\n        setInvestorData({\r\n          investments: [],\r\n          stats: {\r\n            totalInvestment: 0,\r\n            activeInvestments: 0,\r\n            totalShares: 0,\r\n            pendingRequests: 0,\r\n            confirmedInvestments: 0,\r\n            rejectedInvestments: 0,\r\n          },\r\n        });\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching investor data:\", err);\r\n      setError(\"Failed to fetch investor data\");\r\n      setGroupedRounds({});\r\n      setInvestorData({\r\n        investments: [],\r\n        stats: {\r\n          totalInvestment: 0,\r\n          activeInvestments: 0,\r\n          totalShares: 0,\r\n          pendingRequests: 0,\r\n          confirmedInvestments: 0,\r\n          rejectedInvestments: 0,\r\n        },\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateInvestmentStatus = async (requestId, status) => {\r\n    try {\r\n      const response = await axios.post(\r\n        apiURLInvestor + \"updateInvestmentStatus\",\r\n        {\r\n          request_id: requestId,\r\n          status: status,\r\n          updated_by_id: userLogin.id,\r\n        },\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (response.data.message) {\r\n        // Refresh data after status update\r\n        fetchInvestorData();\r\n        // Also refresh the modal if it's open\r\n        if (selectedRound) {\r\n          const roundKey = Object.keys(groupedRounds).find(key =>\r\n            groupedRounds[key].investors.some(inv => inv.id === requestId)\r\n          );\r\n          if (roundKey && showInvestorModal) {\r\n            handleViewRoundDetails(roundKey);\r\n          }\r\n        }\r\n        alert(\r\n          `Investment ${status === \"Yes\"\r\n            ? \"approved\"\r\n            : status === \"Rejected\"\r\n              ? \"rejected\"\r\n              : \"marked as pending\"\r\n          } successfully`\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating investment status:\", error);\r\n      alert(\"Failed to update investment status\");\r\n    }\r\n  };\r\n\r\n  // In your main component's handleViewRoundDetails function:\r\n  const handleViewRoundDetails = (roundKey) => {\r\n    const round = groupedRounds[roundKey];\r\n    console.log(\"Round data for modal:\", round);\r\n    console.log(\"Issued shares:\", round?.issuedShares);\r\n    console.log(\"Investors:\", round?.investors);\r\n\r\n    if (round) {\r\n      setSelectedRound({\r\n        id: round.id,\r\n        name: round.name,\r\n        company_name: round.company_name,\r\n        shareClassType: round.shareClassType,\r\n        instrumentType: round.instrumentType,\r\n        currency: round.currency,\r\n        roundSize: round.roundSize,\r\n        pricePerShare: round.pricePerShare,\r\n        issuedShares: round.issuedShares || round.totalShares, // Use issuedShares if available, otherwise totalShares\r\n        totalInvestment: round.totalInvestment\r\n      });\r\n      setSelectedRoundInvestors(round.investors);\r\n      setShowInvestorModal(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowInvestorModal(false);\r\n    setSelectedRound(null);\r\n    setSelectedRoundInvestors([]);\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    const statusConfig = {\r\n      Yes: { class: \"badge bg-success\", text: \"Confirmed\", icon: \"✓\" },\r\n      No: { class: \"badge bg-warning text-dark\", text: \"Pending\", icon: \"⏳\" },\r\n      Rejected: { class: \"badge bg-danger\", text: \"Rejected\", icon: \"✗\" },\r\n    };\r\n    const config = statusConfig[status] || statusConfig[\"No\"];\r\n    return (\r\n      <span className={config.class}>\r\n        {config.icon} {config.text}\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const calculateOwnership = (shares, totalShares) => {\r\n    if (!shares || !totalShares) return \"0\";\r\n    return ((parseFloat(shares) / parseFloat(totalShares)) * 100).toFixed(2);\r\n  };\r\n\r\n  const formatCurrency = (amount, currency = \"USD\") => {\r\n    if (!amount || isNaN(parseFloat(amount))) return \"$0.00\";\r\n\r\n    const numAmount = parseFloat(amount);\r\n    let cleanCurrency = currency;\r\n    if (currency) {\r\n      cleanCurrency = currency\r\n        .replace(/[\\$\\€\\£\\¥\\₹\\₽]/g, \"\")\r\n        .replace(/\\s+/g, \"\")\r\n        .trim()\r\n        .toUpperCase();\r\n    }\r\n\r\n    const currencyInfo = countrySymbolList.find(\r\n      (country) =>\r\n        country.currency_code === cleanCurrency ||\r\n        country.currency_code === currency ||\r\n        country.currency_symbol === currency\r\n    );\r\n\r\n    if (currencyInfo) {\r\n      try {\r\n        return new Intl.NumberFormat(\"en-US\", {\r\n          style: \"currency\",\r\n          currency: currencyInfo.currency_code,\r\n          minimumFractionDigits: 2,\r\n          maximumFractionDigits: 2,\r\n        }).format(numAmount);\r\n      } catch (error) {\r\n        return `${currencyInfo.currency_symbol}${numAmount.toLocaleString(\r\n          \"en-US\",\r\n          {\r\n            minimumFractionDigits: 2,\r\n            maximumFractionDigits: 2,\r\n          }\r\n        )}`;\r\n      }\r\n    }\r\n\r\n    if (/^[A-Z]{3}$/.test(cleanCurrency)) {\r\n      try {\r\n        return new Intl.NumberFormat(\"en-US\", {\r\n          style: \"currency\",\r\n          currency: cleanCurrency,\r\n          minimumFractionDigits: 2,\r\n          maximumFractionDigits: 2,\r\n        }).format(numAmount);\r\n      } catch (error) {\r\n        console.warn(`Currency formatting error for ${currency}:`, error);\r\n      }\r\n    }\r\n\r\n    return `$${numAmount.toLocaleString(\"en-US\", {\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2,\r\n    })}`;\r\n  };\r\n\r\n  const renderRoundsTable = () => {\r\n    const rounds = Object.values(groupedRounds);\r\n\r\n    if (rounds.length === 0) {\r\n      return (\r\n        <div className=\"text-center py-5\">\r\n          <i className=\"fas fa-chart-pie fa-3x text-muted mb-3\"></i>\r\n          <h6>No Investment Rounds Found</h6>\r\n          <p className=\"text-muted\">\r\n            There are no investment rounds for this company yet.\r\n          </p>\r\n        </div>\r\n      );\r\n    }\r\n    const threeDigitPrice = (price) => {\r\n      return price.toLocaleString(undefined, {\r\n        minimumFractionDigits: 3,\r\n        maximumFractionDigits: 3\r\n      });\r\n    };\r\n\r\n    return (\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-hover\">\r\n          <thead className=\"table-light\">\r\n            <tr>\r\n              <th>Round Details</th>\r\n              <th>Investment Summary</th>\r\n              <th>Investors</th>\r\n              <th>Status</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {rounds.map((round, index) => {\r\n              const roundKey = Object.keys(groupedRounds)[index];\r\n\r\n              // Calculate completion percentages\r\n              const investorCompletionRate = round.totalInvestors > 0\r\n                ? Math.round((round.confirmedInvestors / round.totalInvestors) * 100)\r\n                : 0;\r\n\r\n              // Calculate funding completion: how much of target is raised\r\n              const fundingCompletionRate = round.roundSize > 0\r\n                ? Math.round((round.totalInvestment / round.roundSize) * 100)\r\n                : 0;\r\n\r\n              return (\r\n                <tr key={roundKey}>\r\n                  <td>\r\n                    <div>\r\n                      <div className=\"fw-semibold\">\r\n                        {round.name}\r\n                      </div>\r\n                      <div className=\"text-muted small\">\r\n                        {round.company_name}\r\n                      </div>\r\n                      <div className=\"text-muted small\">\r\n                        {round.shareClassType} • {round.instrumentType}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      {/* Target राउंड size */}\r\n                      <div className=\"fw-semibold text-primary\">\r\n                        Target: {round.currency}{\" \"}{round.roundSize.toFixed(2)}\r\n                      </div>\r\n\r\n                      {/* Raised amount */}\r\n                      <div className=\"text-muted\">\r\n                        Raised: {round.currency}{\" \"}{round.totalInvestment.toFixed(2)}\r\n                        {round.roundSize > 0 && (\r\n                          <span className=\"ms-2\">\r\n                            ({fundingCompletionRate}% of target)\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Confirmed investments */}\r\n                      <div className=\"text-muted small\">\r\n                        Confirmed: {round.currency}{\" \"}{round.confirmedInvestment.toFixed(2)}\r\n                      </div>\r\n\r\n                      {/* Shares information */}\r\n                      <div className=\"text-muted small\">\r\n                        {Math.round(round.issuedShares).toLocaleString()} shares issued\r\n                      </div>\r\n\r\n                      {/* Price per share */}\r\n                      {round.pricePerShare > 0 && (\r\n                        <div className=\"text-muted small\">\r\n                          Price/share: {round.currency}{\" \"}{round.pricePerShare.toLocaleString(undefined, {\r\n                            minimumFractionDigits: 3,\r\n                            maximumFractionDigits: 3\r\n                          })}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      <div className=\"fw-semibold\">\r\n                        {round.totalInvestors} investor{round.totalInvestors !== 1 ? 's' : ''}\r\n                      </div>\r\n                      <div className=\"text-muted small\">\r\n                        {round.confirmedInvestors} confirmed • {round.pendingInvestors} pending\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      {/* Show both investor completion and funding completion */}\r\n                      <div className=\"mb-1\">\r\n                        {investorCompletionRate === 100 ? (\r\n                          <span className=\"badge bg-success\">\r\n                            <i className=\"fas fa-check-circle me-1\"></i> Investors Complete ({investorCompletionRate}%)\r\n                          </span>\r\n                        ) : investorCompletionRate > 0 ? (\r\n                          <span className=\"badge bg-warning text-dark\">\r\n                            <i className=\"fas fa-clock me-1\"></i> Investors in Progress ({investorCompletionRate}%)\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"badge bg-secondary\">\r\n                            <i className=\"fas fa-hourglass-start me-1\"></i> No Investors\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n\r\n                      {/* Funding status */}\r\n                      <div>\r\n                        {fundingCompletionRate === 100 ? (\r\n                          <span className=\"badge bg-success\">\r\n                            <i className=\"fas fa-trophy me-1\"></i> Fully Funded\r\n                          </span>\r\n                        ) : fundingCompletionRate > 0 ? (\r\n                          <span className=\"badge bg-info text-white\">\r\n                            <i className=\"fas fa-chart-line me-1\"></i> {fundingCompletionRate}% Funded\r\n                          </span>\r\n                        ) : (\r\n                          <span className=\"badge bg-light text-dark\">\r\n                            <i className=\"fas fa-chart-line me-1\"></i> Not Funded\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"btn-group\" role=\"group\">\r\n                      <button\r\n                        className=\"btn btn-sm btn-primary\"\r\n                        onClick={() => handleViewRoundDetails(roundKey)}\r\n                        title=\"View Investors\"\r\n                      >\r\n                        <i className=\"fas fa-eye me-1\"></i> View Investors\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  };\r\n  console.log(investorData)\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n              <div className=\"container-fluid\">\r\n                {/* Header */}\r\n                <div className=\"titleroom d-flex justify-content-between align-items-center border-bottom pb-3 mb-4\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-bold mb-1\">Investor Portal</h3>\r\n                    <p className=\"text-muted mb-0\">\r\n                      Company:{\" \"}\r\n                      {userLogin.companies && userLogin.companies[0]\r\n                        ? userLogin.companies[0].name\r\n                        : \"N/A\"}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"text-end\">\r\n                    <small className=\"text-muted\">Total Rounds</small>\r\n                    <h4 className=\"text-success mb-0\">\r\n                      {Object.keys(groupedRounds).length}\r\n                    </h4>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row g-3 mb-4\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card border-0 shadow-sm h-100\">\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <div className=\"rounded-circle bg-primary bg-opacity-10 p-3 me-3\">\r\n                            <i className=\"fas fa-bullseye text-primary\"></i>\r\n                          </div>\r\n                          <div>\r\n                            <h6 className=\"card-subtitle mb-1 text-muted\">\r\n                              Total Target\r\n                            </h6>\r\n                            <h4 className=\"card-title mb-0\">\r\n                              {investorData.investments?.length > 0 ? (\r\n                                formatCurrency(\r\n                                  investorData.investments.reduce((sum, inv) =>\r\n                                    sum + parseFloat(inv.roundsize || 0), 0\r\n                                  )\r\n                                )\r\n                              ) : (\r\n                                formatCurrency(0)\r\n                              )}\r\n                            </h4>\r\n                            <small className=\"text-muted\">\r\n                              Total amount to raise across all rounds\r\n                            </small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"card border-0 shadow-sm h-100\">\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <div className=\"rounded-circle bg-success bg-opacity-10 p-3 me-3\">\r\n                            <i className=\"fas fa-chart-line text-success\"></i>\r\n                          </div>\r\n                          <div>\r\n                            <h6 className=\"card-subtitle mb-1 text-muted\">\r\n                              Completion Rate\r\n                            </h6>\r\n                            <h4 className=\"card-title mb-0\">\r\n                              {investorData.investments?.length > 0 ? (\r\n                                (() => {\r\n                                  const totalTarget = investorData.investments.reduce((sum, inv) =>\r\n                                    sum + parseFloat(inv.roundsize || 0), 0\r\n                                  );\r\n                                  const totalRaised = investorData.stats.totalInvestment;\r\n                                  return totalTarget > 0 ?\r\n                                    `${((totalRaised / totalTarget) * 100).toFixed(1)}%` :\r\n                                    \"0%\";\r\n                                })()\r\n                              ) : (\r\n                                \"0%\"\r\n                              )}\r\n                            </h4>\r\n                            <small className=\"text-muted\">\r\n                              {investorData.investments?.length > 0 && (\r\n                                <>\r\n                                  {formatCurrency(investorData.stats.totalInvestment)} raised of {\r\n                                    formatCurrency(\r\n                                      investorData.investments.reduce((sum, inv) =>\r\n                                        sum + parseFloat(inv.roundsize || 0), 0\r\n                                      )\r\n                                    )\r\n                                  } target\r\n                                </>\r\n                              )}\r\n                            </small>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* Stats Cards */}\r\n                <div className=\"row g-3 mb-4\">\r\n                  <div className=\"col-md-3 col-6\">\r\n                    <div className=\"card border-0 shadow-sm h-100\">\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <div className=\"rounded-circle bg-primary bg-opacity-10 p-3 me-3\">\r\n                            <i className=\"fas fa-layer-group text-primary\"></i>\r\n                          </div>\r\n                          <div>\r\n                            <h6 className=\"card-subtitle mb-1 text-muted\">\r\n                              Total Rounds\r\n                            </h6>\r\n                            <h4 className=\"card-title mb-0\">\r\n                              {Object.keys(groupedRounds).length}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-3 col-6\">\r\n                    <div className=\"card border-0 shadow-sm h-100\">\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <div className=\"rounded-circle bg-success bg-opacity-10 p-3 me-3\">\r\n                            <i className=\"fas fa-dollar-sign text-success\"></i>\r\n                          </div>\r\n                          <div>\r\n                            <h6 className=\"card-subtitle mb-1 text-muted\">\r\n                              Total Raised\r\n                            </h6>\r\n                            <h4 className=\"card-title mb-0\">\r\n                              {formatCurrency(investorData.stats.totalInvestment)}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-3 col-6\">\r\n                    <div className=\"card border-0 shadow-sm h-100\">\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <div className=\"rounded-circle bg-info bg-opacity-10 p-3 me-3\">\r\n                            <i className=\"fas fa-users text-info\"></i>\r\n                          </div>\r\n                          <div>\r\n                            <h6 className=\"card-subtitle mb-1 text-muted\">\r\n                              Total Investors\r\n                            </h6>\r\n                            <h4 className=\"card-title mb-0\">\r\n                              {investorData.stats.confirmedInvestments + investorData.stats.pendingRequests}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-md-3 col-6\">\r\n                    <div className=\"card border-0 shadow-sm h-100\">\r\n                      <div className=\"card-body\">\r\n                        <div className=\"d-flex align-items-center\">\r\n                          <div className=\"rounded-circle bg-warning bg-opacity-10 p-3 me-3\">\r\n                            <i className=\"fas fa-clock text-warning\"></i>\r\n                          </div>\r\n                          <div>\r\n                            <h6 className=\"card-subtitle mb-1 text-muted\">\r\n                              Pending Requests\r\n                            </h6>\r\n                            <h4 className=\"card-title mb-0\">\r\n                              {investorData.stats.pendingRequests}\r\n                            </h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Main Content */}\r\n                <div className=\"card shadow-sm\">\r\n                  <div className=\"card-header bg-white d-flex justify-content-between align-items-center\">\r\n                    <h5 className=\"mb-0\">\r\n                      <i className=\"fas fa-chart-pie me-2\"></i>Investment Rounds\r\n                    </h5>\r\n                    <button\r\n                      className=\"btn btn-sm btn-outline-primary\"\r\n                      onClick={fetchInvestorData}\r\n                      disabled={loading}\r\n                    >\r\n                      <i className=\"fas fa-sync-alt me-1\"></i>\r\n                      {loading ? \"Loading...\" : \"Refresh\"}\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"card-body\">\r\n                    {loading ? (\r\n                      <div className=\"text-center py-5\">\r\n                        <div className=\"spinner-border text-primary\" role=\"status\">\r\n                          <span className=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                        <p className=\"mt-3 text-muted\">Loading investment data...</p>\r\n                      </div>\r\n                    ) : error ? (\r\n                      <div className=\"alert alert-warning text-center\">\r\n                        <i className=\"fas fa-exclamation-triangle fa-2x mb-3\"></i>\r\n                        <h6>Error Loading Data</h6>\r\n                        <p>{error}</p>\r\n                        <button className=\"btn btn-sm btn-primary\" onClick={fetchInvestorData}>\r\n                          Try Again\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      renderRoundsTable()\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Investor Details Modal */}\r\n      <InvestorPortalDetailsModal\r\n        show={showInvestorModal}\r\n        onClose={handleCloseModal}\r\n        roundData={selectedRound}\r\n        investors={selectedRoundInvestors}\r\n        onUpdateStatus={updateInvestmentStatus}\r\n      />\r\n    </Wrapper>\r\n  );\r\n}"],"names":["_ref","show","onClose","roundData","investors","countrySymbolList","onUpdateStatus","roundName","name","roundSize","parseFloat","issuedShares","currency","pricePerShare","totalInvestment","reduce","sum","inv","investment_amount","getStatusBadge","shares","investmentAmount","status","statusConfig","Yes","class","text","No","Rejected","config","_jsx","className","children","calculateOwnership","toFixed","calculateInvestorShares","style","display","backgroundColor","tabIndex","role","_jsxs","type","onClick","Math","round","toLocaleString","price","undefined","minimumFractionDigits","maximumFractionDigits","length","filter","request_confirm","map","investor","ownershipPercentage","investor_name","email","investor_email","phone","investor_phone","_Fragment","id","title","investor_id","colSpan","alert","csvRows","push","forEach","row","csvContent","cell","join","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","href","download","replace","body","appendChild","click","removeChild","revokeObjectURL","InvestorReportPortal","_investorData$investm","_investorData$investm2","_investorData$investm3","useNavigate","storedUsername","localStorage","getItem","userLogin","JSON","parse","setCountrysymbollist","useState","isCollapsed","setIsCollapsed","loading","setLoading","error","setError","investorData","setInvestorData","investments","stats","activeInvestments","totalShares","pendingRequests","confirmedInvestments","rejectedInvestments","groupedRounds","setGroupedRounds","showInvestorModal","setShowInvestorModal","selectedRound","setSelectedRound","selectedRoundInvestors","setSelectedRoundInvestors","apiURLInvestor","API_BASE_URL","apiUrlRound","useEffect","getallcountrySymbolList","fetchInvestorData","async","formData","res","axios","post","headers","Accept","data","results","err","console","company_id","companies","generateRes","grouped","investment","roundKey","roundrecord_id","nameOfRound","roundsize","issuedshares","company_name","shareClassType","instrumentType","confirmedInvestment","totalInvestors","confirmedInvestors","pendingInvestors","totalSharesFromInvestors","groupInvestmentsByRound","handleViewRoundDetails","log","formatCurrency","amount","arguments","isNaN","numAmount","cleanCurrency","trim","toUpperCase","currencyInfo","find","country","currency_code","currency_symbol","Intl","NumberFormat","format","test","warn","Wrapper","ModuleSideNav","TopBar","SectionWrapper","Object","keys","totalTarget","totalRaised","disabled","renderRoundsTable","rounds","values","index","investorCompletionRate","fundingCompletionRate","InvestorPortalDetailsModal","handleCloseModal","requestId","request_id","updated_by_id","message","key","some"],"sourceRoot":""}