"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[3714],{4635:(e,s,a)=>{a.d(s,{A:()=>d});var t=a(5043),n=a(3216),i=a(5475),r=a(6213),o=(a(977),a(579));const d=function(e){var s,a,d,l,m,c,p,h,u,g,v;let{isOpen:f}=e;const x=(0,n.zy)(),j=(0,n.Zp)(),[N,y]=((0,t.useRef)(null),(0,t.useState)(!1)),[b,w]=(0,t.useState)(!1),[k,W]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[A,q]=(0,t.useState)([]);(0,t.useEffect)((()=>{const e=(e,s)=>{let a;if("link"===e?a=document.querySelector(`link[href="${s.href}"]`):"script"===e&&(a=document.querySelector(`script[src="${s.src}"]`)),!a){const a=document.createElement(e);Object.keys(s).forEach((e=>{a.setAttribute(e,s[e])})),document.head.appendChild(a)}};return e("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"}),e("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"}),e("link",{rel:"stylesheet",href:"/assets/admin/lib/owlcarousel/assets/owl.carousel.min.css"}),e("link",{rel:"stylesheet",href:"/assets/admin/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"}),e("link",{rel:"stylesheet",href:"/assets/admin/css/bootstrap.min.css"}),e("link",{rel:"stylesheet",href:`/assets/admin/css/style.css?version=${(new Date).getTime()}`}),e("link",{rel:"stylesheet",href:"https://fonts.gstatic.com"}),e("script",{src:"https://code.jquery.com/jquery-3.4.1.min.js",async:!0}),e("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js",async:!0}),e("script",{src:"/assets/admin/lib/chart/chart.min.js",async:!0}),e("script",{src:"/assets/admin/lib/easing/easing.min.js",async:!0}),e("script",{src:"/assets/admin/lib/waypoints/waypoints.min.js",async:!0}),e("script",{src:"/assets/admin/lib/owlcarousel/owl.carousel.min.js",async:!0}),()=>{["https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css","/assets/admin/lib/owlcarousel/assets/owl.carousel.min.css","/assets/admin/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css","/assets/admin/css/bootstrap.min.css",`/assets/admin/css/style.css?version=${(new Date).getTime()}`,"https://fonts.gstatic.com"].forEach((e=>{const s=document.querySelector(`link[href="${e}"]`);s&&s.parentNode&&s.parentNode.removeChild(s)}));["https://code.jquery.com/jquery-3.4.1.min.js","https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js","/assets/admin/lib/chart/chart.min.js","/assets/admin/lib/easing/easing.min.js","/assets/admin/lib/waypoints/waypoints.min.js","/assets/admin/lib/owlcarousel/owl.carousel.min.js"].forEach((e=>{const s=document.querySelector(`script[src="${e}"]`);s&&s.parentNode&&s.parentNode.removeChild(s)}))}}),[]),(0,t.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),s=JSON.parse(e);console.log(s),null===s&&j("/admin/login")}),[]),(0,t.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),s=JSON.parse(e);(async()=>{let e={id:s.id};try{const s=await r.A.post("https://backend.amourette.no/api/admin/getadminLogindetail",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});q(s.data.result)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}})()}),[A]),(0,t.useEffect)((()=>{("/admin/media"===x.pathname||"/admin/groups"===x.pathname||"/admin/forum"===x.pathname||x.pathname.startsWith("/admin/groups/viewgrouppost/"))&&y(!0),("/admin/users"===x.pathname||"/admin/reportviolation"===x.pathname||x.pathname.startsWith("/admin/usersprofile/")||x.pathname.startsWith("/admin/usersfriendlist/")||x.pathname.startsWith("/admin/userevents/")||x.pathname.startsWith("/admin/usergroups/")||x.pathname.startsWith("/admin/userfriendlist/")||x.pathname.startsWith("/admin/usersdetails/")||x.pathname.startsWith("/admin/usersentmessage/")||x.pathname.startsWith("/admin/usergallery/")||x.pathname.startsWith("/admin/userforum/")||x.pathname.startsWith("/admin/paymentrefund/")||x.pathname.startsWith("/admin/paymenthistory/")||x.pathname.startsWith("/admin/paymentdispute/"))&&w(!0),("/admin/securityprivacy"===x.pathname||"/admin/privacyupdate"===x.pathname||x.pathname.startsWith("/admin/usersentmessage/")||x.pathname.startsWith("/admin/usersgdpr")||x.pathname.startsWith("/admin/faqlist")||x.pathname.startsWith("/admin/faqadd")||x.pathname.startsWith("/admin/faqedit"))&&W(!0),"/admin/sendnotification"!==x.pathname&&"/admin/logsactivity"!==x.pathname||C(!0)}),[x]);const _="/admin/media"===x.pathname||"/admin/groups"===x.pathname||"/admin/forum"===x.pathname||x.pathname.startsWith("/admin/groups/viewgrouppost/"),E="/admin/users"===x.pathname||x.pathname.startsWith("/admin/usersprofile/")||x.pathname.startsWith("/admin/usersfriendlist/")||"/admin/reportviolation"===x.pathname||x.pathname.startsWith("/admin/userevents/")||x.pathname.startsWith("/admin/usergroups/")||x.pathname.startsWith("/admin/userfriendlist/")||x.pathname.startsWith("/admin/usersdetails/")||x.pathname.startsWith("/admin/usersentmessage/")||x.pathname.startsWith("/admin/usergallery/")||x.pathname.startsWith("/admin/userforum/")||x.pathname.startsWith("/admin/paymentrefund/")||x.pathname.startsWith("/admin/paymenthistory/")||x.pathname.startsWith("/admin/paymentdispute/"),L="/admin/securityprivacy"===x.pathname||"/admin/privacyupdate"===x.pathname||"/admin/usersgdpr"===x.pathname,D="/admin/sendnotification"===x.pathname||"/admin/logsactivity"===x.pathname;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"sidebar pe-4 pb-3 scroll_bar "+(f?"open":""),children:(0,o.jsxs)("nav",{className:"navbar bg-light navbar-light",children:[(0,o.jsxs)("div",{className:"d-flex flex-column gap-0 pt-3",children:[(0,o.jsx)("a",{href:"/admin/dashboard",className:"navbar-brand mx-4 mb-3",children:(0,o.jsx)("h3",{className:"text-primary",children:"ADMIN"})}),(0,o.jsxs)("div",{className:"d-flex align-items-center ms-4 mb-4",children:[(0,o.jsxs)("div",{className:"position-relative",children:[(0,o.jsx)("img",{className:"rounded-circle",src:"https://amouretteno.s3.us-east-1.amazonaws.com/chats/1736337388784_user.jpg",alt:"",style:{width:"40px",height:"40px"}}),(0,o.jsx)("div",{className:"bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"})]}),(0,o.jsx)("div",{className:"ms-3",children:(0,o.jsx)("h6",{className:"mb-0",children:A.name})})]})]}),(0,o.jsxs)("div",{className:"navbar-nav w-100",children:[(0,o.jsxs)(i.N_,{to:"/admin/dashboard",className:"nav-item nav-link "+("/admin/dashboard"===x.pathname?"active":""),children:[(0,o.jsx)("i",{className:"fa fa-tachometer-alt me-2"}),"Dashboard"]}),("SuperAdmin"===A.status||(null===(s=A.role)||void 0===s?void 0:s.includes("Users")))&&(0,o.jsxs)("div",{className:"nav-item dropdown",children:[(0,o.jsxs)(i.N_,{to:"/admin/users",className:"nav-link dropdown-toggle "+(E?"active":""),"data-bs-toggle":"dropdown",onClick:()=>{w(!b)},children:[(0,o.jsx)("i",{className:"fa fa-users me-2"}),"Users"]}),b&&(0,o.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[(0,o.jsx)(i.N_,{to:"/admin/users",className:"dropdown-item "+("/admin/users"===x.pathname||x.pathname.startsWith("/admin/usersprofile/")||x.pathname.startsWith("/admin/usersfriendlist/")||x.pathname.startsWith("/admin/userevents/")||x.pathname.startsWith("/admin/usergroups/")||x.pathname.startsWith("/admin/userfriendlist/")||x.pathname.startsWith("/admin/usersdetails/")||x.pathname.startsWith("/admin/usersentmessage/")||x.pathname.startsWith("/admin/usergallery/")||x.pathname.startsWith("/admin/userforum/")||x.pathname.startsWith("/admin/paymentrefund/")||x.pathname.startsWith("/admin/paymenthistory/")||x.pathname.startsWith("/admin/paymentdispute/")?"active":""),children:"All Users"}),(0,o.jsx)(i.N_,{to:"/admin/reportviolation",className:"dropdown-item "+("/admin/reportviolation"===x.pathname?"active":""),children:"Report & Violation"})]})]}),("SuperAdmin"===A.status||(null===(a=A.role)||void 0===a?void 0:a.includes("Media"))||(null===(d=A.role)||void 0===d?void 0:d.includes("Groups"))||(null===(l=A.role)||void 0===l?void 0:l.includes("Forum")))&&(0,o.jsxs)("div",{className:"nav-item dropdown",children:[(0,o.jsxs)(i.N_,{to:"/admin/media",onClick:()=>{y(!N)},className:"nav-link dropdown-toggle "+(_?"active":""),"data-bs-toggle":"dropdown",children:[(0,o.jsx)("i",{className:"fa fa-laptop me-2"}),"Content Management"]}),N&&(0,o.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[("SuperAdmin"===A.status||(null===(m=A.role)||void 0===m?void 0:m.includes("Media")))&&(0,o.jsx)(i.N_,{to:"/admin/media",className:"dropdown-item "+("/admin/media"===x.pathname?"active":""),children:"Media"}),("SuperAdmin"===A.status||(null===(c=A.role)||void 0===c?void 0:c.includes("Groups")))&&(0,o.jsx)(i.N_,{to:"/admin/groups",className:"dropdown-item "+("/admin/groups"===x.pathname||x.pathname.startsWith("/admin/groups/viewgrouppost/")?"active":""),children:"Groups"}),("SuperAdmin"===A.status||(null===(p=A.role)||void 0===p?void 0:p.includes("Forum")))&&(0,o.jsx)(i.N_,{to:"/admin/forum",className:"dropdown-item "+("/admin/forum"===x.pathname?"active":""),children:"Forum"})]})]}),("SuperAdmin"===A.status||(null===(h=A.role)||void 0===h?void 0:h.includes("Geographic or demographic")))&&(0,o.jsxs)(i.N_,{to:"/admin/locationbaseuser",className:"nav-item nav-link "+("/admin/locationbaseuser"===x.pathname?"active":""),children:[(0,o.jsx)("i",{className:"fa fa-credit-card me-2"})," Geographic or demographic"]}),("SuperAdmin"===A.status||(null===(u=A.role)||void 0===u?void 0:u.includes("Security Privacy")))&&(0,o.jsxs)("div",{className:"nav-item dropdown",children:[(0,o.jsxs)(i.N_,{to:"/admin/securityprivacy",className:"nav-link dropdown-toggle "+(L?"active":""),"data-bs-toggle":"dropdown",onClick:()=>{W(!k)},children:[(0,o.jsx)("i",{className:"fas fa-lock me-2"}),"Security & Privacy"]}),k&&(0,o.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[(0,o.jsx)(i.N_,{to:"/admin/securityprivacy",className:"dropdown-item "+("/admin/securityprivacy"===x.pathname?"active":""),children:"User Login"}),(0,o.jsx)(i.N_,{to:"/admin/privacyupdate",className:"dropdown-item "+("/admin/privacyupdate"===x.pathname?"active":""),children:"Privacy"}),(0,o.jsx)(i.N_,{to:"/admin/faqlist",className:"dropdown-item "+(x.pathname.startsWith("/admin/faqlist")||x.pathname.startsWith("/admin/faqadd")||x.pathname.startsWith("/admin/faqedit")?"active":""),children:"FAQ"}),(0,o.jsx)(i.N_,{to:"/admin/usersgdpr",className:"dropdown-item "+("/admin/usersgdpr"===x.pathname?"active":""),children:"GDPR/Cookies"})]})]}),("SuperAdmin"===A.status||(null===(g=A.role)||void 0===g?void 0:g.includes("Site Speed")))&&(0,o.jsxs)(i.N_,{to:"/admin/sitespeed",className:"nav-item nav-link "+("/admin/sitespeed"===x.pathname?"active":""),children:[(0,o.jsx)("i",{className:"fas fa-tachometer-alt me-2"})," Site Speed"]}),"SuperAdmin"===A.status&&(0,o.jsxs)(i.N_,{to:"/admin/adminlist",className:"nav-item nav-link "+("/admin/adminlist"===x.pathname?"active":""),children:[(0,o.jsx)("i",{className:"fa fa-chart-line me-2"})," Admin"]}),("SuperAdmin"===A.status||(null===(v=A.role)||void 0===v?void 0:v.includes("Setting")))&&(0,o.jsxs)("div",{className:"nav-item dropdown",children:[(0,o.jsxs)(i.N_,{to:"/admin/sendnotification",className:"nav-link dropdown-toggle "+(D?"active":""),"data-bs-toggle":"dropdown",onClick:()=>{C(!S)},children:[(0,o.jsx)("i",{className:"fas fa-cog  me-2"}),"Setting"]}),S&&(0,o.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[(0,o.jsx)(i.N_,{to:"/admin/sendnotification",className:"dropdown-item "+("/admin/sendnotification"===x.pathname?"active":""),children:"Send Notification"}),(0,o.jsx)(i.N_,{to:"/admin/logsactivity",className:"dropdown-item "+("/admin/logsactivity"===x.pathname?"active":""),children:"Logs"})]})]}),(0,o.jsxs)(i.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminLogin"),window.location.href="/admin/login"},className:"nav-item nav-link",children:[(0,o.jsx)("i",{className:"fa fa-sign-out-alt me-2"}),"Logout"]})]})]})})})}},1003:(e,s,a)=>{a.d(s,{A:()=>o});var t=a(5043),n=a(5475),i=a(3216),r=a(579);const o=function(e){let{onClick:s}=e;(0,i.Zp)(),(0,t.useRef)(null);const[a,o]=(0,t.useState)(!1);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("nav",{className:"navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0",children:[(0,r.jsx)("a",{href:"#",className:"sidebar-toggler flex-shrink-0",onClick:s,children:(0,r.jsx)("i",{className:"fa fa-bars"})}),(0,r.jsx)("div",{className:"navbar-nav align-items-center ms-auto",children:(0,r.jsxs)("div",{className:"nav-item dropdown",children:[(0,r.jsxs)("a",{href:"#",onClick:()=>{o((e=>!e))},className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",children:[(0,r.jsx)("img",{className:"rounded-circle me-lg-2",src:"https://amouretteno.s3.us-east-1.amazonaws.com/chats/1736337388784_user.jpg",alt:"",style:{width:"40px",height:"40px"}}),(0,r.jsx)("span",{className:"d-none d-lg-inline-flex",children:"Admin"})]}),(0,r.jsx)("div",{className:"dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0 "+(a?"show":""),children:(0,r.jsx)(n.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminLogin"),window.location.href="/admin/login"},className:"dropdown-item",children:"Log Out"})})]})})]})})}},3714:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var t=a(5043),n=a(4635),i=a(1003),r=a(6213),o=a(6178),d=a.n(o),l=a(3216),m=a(9867),c=a(579);function p(){const e=(0,l.Zp)(),s=(0,t.useRef)(null),[a,o]=(0,t.useState)([]),[p,h]=(0,t.useState)(""),[u,g]=(0,t.useState)([]),[v,f]=(0,t.useState)([]),x="https://backend.amourette.no/api/admin/";(0,t.useEffect)((()=>{const s=localStorage.getItem("adminLogin"),a=JSON.parse(s);console.log(a),null===a&&e("/admin/login")}),[]),(0,t.useEffect)((()=>{j()}),[]);const j=async()=>{let e={slug:""};try{var s=(await r.A.post(x+"gettotalCookies",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;o(s)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}};(0,t.useEffect)((()=>{N()}),[]);const N=async()=>{let e={slug:""};try{var s=(await r.A.post(x+"getlastdate",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;if(s.length>0){var a=s,t=d()(a[0].date).format("MMM DD, YYYY");h(t)}}catch(n){n.response||(n.request?console.error("Request data:",n.request):console.error("Error message:",n.message))}};(0,t.useEffect)((()=>{y()}),[]);const y=async()=>{let e={user_id:""};try{const s=await r.A.post(x+"getuserchartCookies",e,{headers:{Accept:"application/json","Content-Type":"application/json"}}),{labels:a,datasets:t}=s.data.result;console.log("Chart Data:",s.data),console.log("Labels:",a),console.log("Datasets:",t),f(a),g(t)}catch(s){s.response?console.error("Response Error:",s.response):s.request?console.error("Request Error:",s.request):console.error("Error Message:",s.message)}};(0,t.useEffect)((()=>{const e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/chart.js",e.async=!0,document.body.appendChild(e),e.onload=()=>{},()=>{document.body.removeChild(e),window.myChart3&&window.myChart3.destroy()}}),[v,u]),(0,t.useEffect)((()=>{if(u&&v){const e=s.current.getContext("2d");window.myChart3=new m.Ay(e,{type:"doughnut",data:{labels:v,datasets:u},options:{responsive:!0}})}}),[u,v]);const[b,w]=(0,t.useState)(!1);return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{class:"position-relative bg-white d-flex p-0",children:[(0,c.jsx)(n.A,{isOpen:b}),(0,c.jsxs)("div",{className:"content "+(b?"open":""),children:[(0,c.jsx)(i.A,{onClick:()=>{w(!b)}}),(0,c.jsx)("div",{className:"container-fluid pt-4 px-4",children:(0,c.jsxs)("div",{className:"row ",children:[(0,c.jsx)("div",{className:"col-sm-6 col-xl-6 bg-light rounded d-flex align-items-start justify-content-start pt-4",children:(0,c.jsxs)("div",{className:"row align-items-start cookies w-100",children:[(0,c.jsx)("h6",{children:"Cookies Summary"}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,c.jsx)("i",{className:"fa fa-cookie fa-3x text-primary"}),(0,c.jsxs)("div",{className:"d-flex flex-column gap-2 justify-content-center align-items-center text-center pt-3",children:[(0,c.jsx)("h6",{className:"m-0",children:a.length}),(0,c.jsx)("p",{className:"m-0",children:"Total Cookies"})]})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[(0,c.jsx)("i",{className:"fa fa-th-large fa-3x text-primary"}),(0,c.jsxs)("div",{className:"d-flex flex-column gap-2 justify-content-center align-items-center text-center pt-3",children:[(0,c.jsx)("h6",{className:"m-0",children:"0"}),(0,c.jsx)("p",{className:"m-0",children:"Category"})]})]})})]})}),(0,c.jsx)("div",{className:"col-md-6",children:(0,c.jsx)("div",{className:"d-flex flex-column gap-3",children:(0,c.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,c.jsx)("i",{className:"fas fa-calendar-check fa-3x text-primary"}),(0,c.jsxs)("div",{className:"d-flex flex-column gap-1 ",children:[(0,c.jsx)("p",{className:"m-0",children:"last Date Scan"}),(0,c.jsx)("h6",{className:"m-0",children:p})]})]})})})]})}),(0,c.jsx)("div",{className:"col-sm-12 col-xl-6",children:(0,c.jsxs)("div",{className:"bg-light text-center rounded p-4",children:[(0,c.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:(0,c.jsx)("h6",{className:"mb-0",children:"Consent Trends"})}),(0,c.jsx)("canvas",{ref:s,id:"doughnut-chart"})]})})]})})]})]})})}},977:(e,s,a)=>{e.exports=a.p+"static/media/user.0fb40325c8ec364cd98b.jpg"}}]);
//# sourceMappingURL=3714.543baaed.chunk.js.map