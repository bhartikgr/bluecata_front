"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[7954],{77954:(e,s,t)=>{t.r(s),t.d(s,{default:()=>h});var a=t(65043),n=t(94060),r=t(44710),i=(t(38421),t(70579));const l=e=>{let{show:s,onClose:t,roundData:a,investors:n,countrySymbolList:r,onUpdateStatus:l}=e;if(!s)return null;const c=(null===a||void 0===a?void 0:a.name)||"Round",d=parseFloat((null===a||void 0===a?void 0:a.roundSize)||0),o=parseFloat((null===a||void 0===a?void 0:a.issuedShares)||0),m=(null===a||void 0===a?void 0:a.currency)||"USD",h=d>0&&o>0?d/o:0,x=(null===n||void 0===n?void 0:n.reduce(((e,s)=>e+parseFloat(s.investment_amount||0)),0))||0,u=(null===n||void 0===n||n.reduce(((e,s)=>{let t=parseFloat(s.shares||0);if(0===t&&h>0){const e=parseFloat(s.investment_amount||0);e>0&&(t=e/h)}return e+t}),0),e=>{const s={Yes:{class:"badge bg-success",text:"Confirmed"},No:{class:"badge bg-warning text-dark",text:"Pending"},Rejected:{class:"badge bg-danger",text:"Rejected"}},t=s[e]||s.No;return(0,i.jsx)("span",{className:t.class,children:t.text})}),v=e=>e&&o&&0!==o?(parseFloat(e)/parseFloat(o)*100).toFixed(2):"0.00",j=e=>e&&h&&0!==h?e/h:0;return(0,i.jsx)("div",{className:"modal fade show",style:{display:"block",backgroundColor:"rgba(0,0,0,0.5)"},tabIndex:"-1",role:"dialog",children:(0,i.jsx)("div",{className:"modal-dialog modal-xl modal-dialog-centered",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header bg-primary text-white",children:[(0,i.jsxs)("h5",{className:"modal-title",children:[(0,i.jsx)("i",{className:"fas fa-users me-2"}),c," - Investors"]}),(0,i.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:t,"aria-label":"Close"})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsxs)("div",{className:"row mb-4",children:[(0,i.jsx)("div",{className:"col-md-3",children:(0,i.jsx)("div",{className:"card border-0 bg-light",children:(0,i.jsxs)("div",{className:"card-body text-center",children:[(0,i.jsx)("h6",{className:"text-muted",children:"Total Raised"}),(0,i.jsxs)("h4",{className:"text-primary",children:[m," ",x.toFixed(2)]}),(0,i.jsxs)("small",{className:"text-muted",children:[d>0?Math.round(x/d*100):0,"% of target"]})]})})}),(0,i.jsx)("div",{className:"col-md-3",children:(0,i.jsx)("div",{className:"card border-0 bg-light",children:(0,i.jsxs)("div",{className:"card-body text-center",children:[(0,i.jsx)("h6",{className:"text-muted",children:"Total Shares"}),(0,i.jsx)("h4",{className:"text-success",children:Math.round(o).toLocaleString()}),(0,i.jsx)("small",{className:"text-muted",children:"issued in this round"})]})})}),(0,i.jsx)("div",{className:"col-md-3",children:(0,i.jsx)("div",{className:"card border-0 bg-light",children:(0,i.jsxs)("div",{className:"card-body text-center",children:[(0,i.jsx)("h6",{className:"text-muted",children:"Price per Share"}),(0,i.jsxs)("h4",{className:"text-info",children:[m," ",(p=h,p.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}))]})]})})}),(0,i.jsx)("div",{className:"col-md-3",children:(0,i.jsx)("div",{className:"card border-0 bg-light",children:(0,i.jsxs)("div",{className:"card-body text-center",children:[(0,i.jsx)("h6",{className:"text-muted",children:"Total Investors"}),(0,i.jsx)("h4",{className:"text-warning",children:(null===n||void 0===n?void 0:n.length)||0}),(0,i.jsxs)("small",{className:"text-muted",children:[(null===n||void 0===n?void 0:n.filter((e=>"Yes"===e.request_confirm)).length)||0," confirmed"]})]})})})]}),(0,i.jsx)("div",{className:"alert alert-info mb-4",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{className:"col-md-4",children:[(0,i.jsx)("strong",{children:"Round Target:"})," ",m," ",d.toFixed(2)]}),(0,i.jsxs)("div",{className:"col-md-4",children:[(0,i.jsx)("strong",{children:"Issued Shares:"})," ",Math.round(o).toLocaleString()]}),(0,i.jsxs)("div",{className:"col-md-4",children:[(0,i.jsx)("strong",{children:"Completion:"})," ",d>0?Math.round(x/d*100):0,"%"]})]})}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsxs)("table",{className:"table table-hover",children:[(0,i.jsx)("thead",{className:"table-dark",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Investor Name"}),(0,i.jsx)("th",{children:"Investment Amount"}),(0,i.jsx)("th",{children:"Shares"}),(0,i.jsx)("th",{children:"Ownership %"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Email"}),(0,i.jsx)("th",{children:"Phone"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:n&&0!==n.length?n.map((e=>{const s=parseFloat(e.investment_amount||0);let t=parseFloat(e.shares||0);0===t&&h>0&&s>0&&(t=j(s));const a=v(t);return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"fw-semibold",children:e.name||e.investor_name||"Unnamed Investor"})}),(0,i.jsx)("td",{children:(0,i.jsxs)("div",{className:"fw-semibold",children:[e.currency||m," ",s.toFixed(2)]})}),(0,i.jsxs)("td",{children:[(0,i.jsx)("div",{className:"fw-semibold",children:t.toFixed(3)}),(0,i.jsxs)("div",{className:"text-muted small",children:[t.toFixed(3)," exact"]})]}),(0,i.jsxs)("td",{children:[(0,i.jsxs)("div",{className:"fw-semibold",children:[a,"%"]}),(0,i.jsxs)("div",{className:"text-muted small",children:["of ",Math.round(o).toLocaleString()," total issued shares"]})]}),(0,i.jsx)("td",{children:u(e.request_confirm)}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"text-muted small",children:e.email||e.investor_email||"N/A"})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"text-muted small",children:e.phone||e.investor_phone||"N/A"})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"btn-group",role:"group",children:"No"===e.request_confirm&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"btn btn-sm btn-success",onClick:()=>l(e.id,"Yes"),title:"Approve",children:(0,i.jsx)("i",{className:"fas fa-check"})}),(0,i.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>l(e.id,"Rejected"),title:"Reject",children:(0,i.jsx)("i",{className:"fas fa-times"})})]})})})]},e.id||e.investor_id)})):(0,i.jsx)("tr",{children:(0,i.jsxs)("td",{colSpan:"8",className:"text-center py-4",children:[(0,i.jsx)("i",{className:"fas fa-user-slash fa-2x text-muted mb-2"}),(0,i.jsx)("p",{className:"text-muted",children:"No investors found for this round"})]})})})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsxs)("button",{type:"button",className:"btn btn-secondary",onClick:t,children:[(0,i.jsx)("i",{className:"fas fa-times me-1"})," Close"]}),(0,i.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:()=>{if(!n||0===n.length)return void alert("No data to export");const e=[];e.push(["Investor Name","Email","Phone","Investment Amount","Shares","Ownership %","Status"]),n.forEach((s=>{const t=parseFloat(s.investment_amount||0);let a=parseFloat(s.shares||0);0===a&&h>0&&t>0&&(a=j(t));const n=v(a),r=[s.name||s.investor_name||"",s.email||s.investor_email||"",s.phone||s.investor_phone||"",t,a.toFixed(3),n,s.request_confirm||""];e.push(r)}));const s=e.map((e=>e.map((e=>`"${e}"`)).join(","))).join("\n"),t=new Blob([s],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`${c.replace(/\s+/g,"_")}_investors.csv`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)},children:[(0,i.jsx)("i",{className:"fas fa-download me-1"})," Export to CSV"]})]})]})})});var p};var c=t(53579),d=t(73216),o=t(86213),m=t(25581);function h(){var e,s,t;(0,d.Zp)();const h=localStorage.getItem("SignatoryLoginData"),x=JSON.parse(h);document.title="Investor Portal";const[u,v]=(0,a.useState)([]),[j,p]=(0,a.useState)(!1),[N,b]=(0,a.useState)(!1),[g,f]=(0,a.useState)(null),[y,I]=(0,a.useState)({investments:[],stats:{totalInvestment:0,activeInvestments:0,totalShares:0,pendingRequests:0,confirmedInvestments:0,rejectedInvestments:0}}),[S,F]=(0,a.useState)({}),[w,_]=(0,a.useState)(!1),[C,k]=(0,a.useState)(null),[R,T]=(0,a.useState)([]),D=m.J+"api/user/investor/",L=m.J+"api/user/capitalround/";(0,a.useEffect)((()=>{A()}),[]),(0,a.useEffect)((()=>{U()}),[]);const A=async()=>{let e={id:""};try{const s=await o.A.post(L+"getallcountrySymbolList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});v(s.data.results||[])}catch(s){console.error("Error fetching currency list:",s)}},U=async()=>{b(!0),f(null);const e={company_id:x.companies[0].id};try{const s=await o.A.post(D+"fetchInvestorData",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.data&&s.data.results){const e=(e=>{const s={};return e.forEach((e=>{const t=e.roundrecord_id||e.nameOfRound,a=e.nameOfRound||"Unnamed Round";if(!s[t]){const n=parseFloat(e.roundsize||0),r=parseFloat(e.issuedshares||0);let i=0;n>0&&r>0&&(i=n/r),s[t]={id:t,name:a,company_name:e.company_name,shareClassType:e.shareClassType,instrumentType:e.instrumentType,currency:e.currency||"USD",roundSize:n,issuedShares:r,pricePerShare:i,investors:[],totalInvestment:0,confirmedInvestment:0,totalInvestors:0,confirmedInvestors:0,pendingInvestors:0,totalSharesFromInvestors:0}}let n=parseFloat(e.shares||0);const r=parseFloat(e.investment_amount||0);0===n&&r>0&&s[t].pricePerShare>0&&(n=r/s[t].pricePerShare);const i={id:e.id,investor_id:e.investor_id,name:e.investor_name,email:e.investor_email,phone:e.investor_phone,investment_amount:r,shares:n,request_confirm:e.request_confirm,instrumentType:e.instrumentType,currency:e.currency||"USD"};s[t].investors.push(i),s[t].totalInvestment+=r,s[t].totalInvestors++,s[t].totalSharesFromInvestors+=n,"Yes"===i.request_confirm?(s[t].confirmedInvestment+=r,s[t].confirmedInvestors++):"No"===i.request_confirm&&s[t].pendingInvestors++})),s})(s.data.results);F(e),I({investments:s.data.results,stats:s.data.stats||{totalInvestment:0,activeInvestments:0,totalShares:0,pendingRequests:0,confirmedInvestments:0,rejectedInvestments:0}})}else f("No investment data found"),F({}),I({investments:[],stats:{totalInvestment:0,activeInvestments:0,totalShares:0,pendingRequests:0,confirmedInvestments:0,rejectedInvestments:0}})}catch(s){console.error("Error fetching investor data:",s),f("Failed to fetch investor data"),F({}),I({investments:[],stats:{totalInvestment:0,activeInvestments:0,totalShares:0,pendingRequests:0,confirmedInvestments:0,rejectedInvestments:0}})}finally{b(!1)}},q=e=>{const s=S[e];console.log("Round data for modal:",s),console.log("Issued shares:",null===s||void 0===s?void 0:s.issuedShares),console.log("Investors:",null===s||void 0===s?void 0:s.investors),s&&(k({id:s.id,name:s.name,company_name:s.company_name,shareClassType:s.shareClassType,instrumentType:s.instrumentType,currency:s.currency,roundSize:s.roundSize,pricePerShare:s.pricePerShare,issuedShares:s.issuedShares||s.totalShares,totalInvestment:s.totalInvestment}),T(s.investors),_(!0))},P=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(!e||isNaN(parseFloat(e)))return"$0.00";const t=parseFloat(e);let a=s;s&&(a=s.replace(/[\$\u20ac\xa3\xa5\u20b9\u20bd]/g,"").replace(/\s+/g,"").trim().toUpperCase());const n=u.find((e=>e.currency_code===a||e.currency_code===s||e.currency_symbol===s));if(n)try{return new Intl.NumberFormat("en-US",{style:"currency",currency:n.currency_code,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(g){return`${n.currency_symbol}${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}if(/^[A-Z]{3}$/.test(a))try{return new Intl.NumberFormat("en-US",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(g){console.warn(`Currency formatting error for ${s}:`,g)}return`$${t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`};return console.log(y),(0,i.jsxs)(c.mO,{children:[(0,i.jsx)("div",{className:"fullpage d-block",children:(0,i.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,i.jsx)(r.A,{isCollapsed:j,setIsCollapsed:p}),(0,i.jsxs)("div",{className:"global_view "+(j?"global_view_col":""),children:[(0,i.jsx)(n.A,{}),(0,i.jsx)(c.$K,{className:"d-block p-md-4 p-3",children:(0,i.jsxs)("div",{className:"container-fluid",children:[(0,i.jsxs)("div",{className:"titleroom d-flex justify-content-between align-items-center border-bottom pb-3 mb-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-bold mb-1",children:"Investor Portal"}),(0,i.jsxs)("p",{className:"text-muted mb-0",children:["Company:"," ",x.companies&&x.companies[0]?x.companies[0].name:"N/A"]})]}),(0,i.jsxs)("div",{className:"text-end",children:[(0,i.jsx)("small",{className:"text-muted",children:"Total Rounds"}),(0,i.jsx)("h4",{className:"text-success mb-0",children:Object.keys(S).length})]})]}),(0,i.jsxs)("div",{className:"row g-3 mb-4",children:[(0,i.jsx)("div",{className:"col-md-6",children:(0,i.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-3 me-3",children:(0,i.jsx)("i",{className:"fas fa-bullseye text-primary"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:"Total Target"}),(0,i.jsx)("h4",{className:"card-title mb-0",children:(null===(e=y.investments)||void 0===e?void 0:e.length)>0?P(y.investments.reduce(((e,s)=>e+parseFloat(s.roundsize||0)),0)):P(0)}),(0,i.jsx)("small",{className:"text-muted",children:"Total amount to raise across all rounds"})]})]})})})}),(0,i.jsx)("div",{className:"col-md-6",children:(0,i.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-3 me-3",children:(0,i.jsx)("i",{className:"fas fa-chart-line text-success"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:"Completion Rate"}),(0,i.jsx)("h4",{className:"card-title mb-0",children:(null===(s=y.investments)||void 0===s?void 0:s.length)>0?(()=>{const e=y.investments.reduce(((e,s)=>e+parseFloat(s.roundsize||0)),0),s=y.stats.totalInvestment;return e>0?`${(s/e*100).toFixed(1)}%`:"0%"})():"0%"}),(0,i.jsx)("small",{className:"text-muted",children:(null===(t=y.investments)||void 0===t?void 0:t.length)>0&&(0,i.jsxs)(i.Fragment,{children:[P(y.stats.totalInvestment)," raised of ",P(y.investments.reduce(((e,s)=>e+parseFloat(s.roundsize||0)),0))," target"]})})]})]})})})})]}),(0,i.jsxs)("div",{className:"row g-3 mb-4",children:[(0,i.jsx)("div",{className:"col-md-3 col-6",children:(0,i.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-3 me-3",children:(0,i.jsx)("i",{className:"fas fa-layer-group text-primary"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:"Total Rounds"}),(0,i.jsx)("h4",{className:"card-title mb-0",children:Object.keys(S).length})]})]})})})}),(0,i.jsx)("div",{className:"col-md-3 col-6",children:(0,i.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-3 me-3",children:(0,i.jsx)("i",{className:"fas fa-dollar-sign text-success"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:"Total Raised"}),(0,i.jsx)("h4",{className:"card-title mb-0",children:P(y.stats.totalInvestment)})]})]})})})}),(0,i.jsx)("div",{className:"col-md-3 col-6",children:(0,i.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"rounded-circle bg-info bg-opacity-10 p-3 me-3",children:(0,i.jsx)("i",{className:"fas fa-users text-info"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:"Total Investors"}),(0,i.jsx)("h4",{className:"card-title mb-0",children:y.stats.confirmedInvestments+y.stats.pendingRequests})]})]})})})}),(0,i.jsx)("div",{className:"col-md-3 col-6",children:(0,i.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,i.jsx)("div",{className:"card-body",children:(0,i.jsxs)("div",{className:"d-flex align-items-center",children:[(0,i.jsx)("div",{className:"rounded-circle bg-warning bg-opacity-10 p-3 me-3",children:(0,i.jsx)("i",{className:"fas fa-clock text-warning"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h6",{className:"card-subtitle mb-1 text-muted",children:"Pending Requests"}),(0,i.jsx)("h4",{className:"card-title mb-0",children:y.stats.pendingRequests})]})]})})})})]}),(0,i.jsxs)("div",{className:"card shadow-sm",children:[(0,i.jsxs)("div",{className:"card-header bg-white d-flex justify-content-between align-items-center",children:[(0,i.jsxs)("h5",{className:"mb-0",children:[(0,i.jsx)("i",{className:"fas fa-chart-pie me-2"}),"Investment Rounds"]}),(0,i.jsxs)("button",{className:"btn btn-sm btn-outline-primary",onClick:U,disabled:N,children:[(0,i.jsx)("i",{className:"fas fa-sync-alt me-1"}),N?"Loading...":"Refresh"]})]}),(0,i.jsx)("div",{className:"card-body",children:N?(0,i.jsxs)("div",{className:"text-center py-5",children:[(0,i.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,i.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,i.jsx)("p",{className:"mt-3 text-muted",children:"Loading investment data..."})]}):g?(0,i.jsxs)("div",{className:"alert alert-warning text-center",children:[(0,i.jsx)("i",{className:"fas fa-exclamation-triangle fa-2x mb-3"}),(0,i.jsx)("h6",{children:"Error Loading Data"}),(0,i.jsx)("p",{children:g}),(0,i.jsx)("button",{className:"btn btn-sm btn-primary",onClick:U,children:"Try Again"})]}):(()=>{const e=Object.values(S);if(0===e.length)return(0,i.jsxs)("div",{className:"text-center py-5",children:[(0,i.jsx)("i",{className:"fas fa-chart-pie fa-3x text-muted mb-3"}),(0,i.jsx)("h6",{children:"No Investment Rounds Found"}),(0,i.jsx)("p",{className:"text-muted",children:"There are no investment rounds for this company yet."})]});return(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsxs)("table",{className:"table table-hover",children:[(0,i.jsx)("thead",{className:"table-light",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Round Details"}),(0,i.jsx)("th",{children:"Investment Summary"}),(0,i.jsx)("th",{children:"Investors"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Actions"})]})}),(0,i.jsx)("tbody",{children:e.map(((e,s)=>{const t=Object.keys(S)[s],a=e.totalInvestors>0?Math.round(e.confirmedInvestors/e.totalInvestors*100):0,n=e.roundSize>0?Math.round(e.totalInvestment/e.roundSize*100):0;return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"fw-semibold",children:e.name}),(0,i.jsx)("div",{className:"text-muted small",children:e.company_name}),(0,i.jsxs)("div",{className:"text-muted small",children:[e.shareClassType," \u2022 ",e.instrumentType]})]})}),(0,i.jsx)("td",{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"fw-semibold text-primary",children:["Target: ",e.currency," ",e.roundSize.toFixed(2)]}),(0,i.jsxs)("div",{className:"text-muted",children:["Raised: ",e.currency," ",e.totalInvestment.toFixed(2),e.roundSize>0&&(0,i.jsxs)("span",{className:"ms-2",children:["(",n,"% of target)"]})]}),(0,i.jsxs)("div",{className:"text-muted small",children:["Confirmed: ",e.currency," ",e.confirmedInvestment.toFixed(2)]}),(0,i.jsxs)("div",{className:"text-muted small",children:[Math.round(e.issuedShares).toLocaleString()," shares issued"]}),e.pricePerShare>0&&(0,i.jsxs)("div",{className:"text-muted small",children:["Price/share: ",e.currency," ",e.pricePerShare.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3})]})]})}),(0,i.jsx)("td",{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"fw-semibold",children:[e.totalInvestors," investor",1!==e.totalInvestors?"s":""]}),(0,i.jsxs)("div",{className:"text-muted small",children:[e.confirmedInvestors," confirmed \u2022 ",e.pendingInvestors," pending"]})]})}),(0,i.jsx)("td",{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mb-1",children:100===a?(0,i.jsxs)("span",{className:"badge bg-success",children:[(0,i.jsx)("i",{className:"fas fa-check-circle me-1"})," Investors Complete (",a,"%)"]}):a>0?(0,i.jsxs)("span",{className:"badge bg-warning text-dark",children:[(0,i.jsx)("i",{className:"fas fa-clock me-1"})," Investors in Progress (",a,"%)"]}):(0,i.jsxs)("span",{className:"badge bg-secondary",children:[(0,i.jsx)("i",{className:"fas fa-hourglass-start me-1"})," No Investors"]})}),(0,i.jsx)("div",{children:100===n?(0,i.jsxs)("span",{className:"badge bg-success",children:[(0,i.jsx)("i",{className:"fas fa-trophy me-1"})," Fully Funded"]}):n>0?(0,i.jsxs)("span",{className:"badge bg-info text-white",children:[(0,i.jsx)("i",{className:"fas fa-chart-line me-1"})," ",n,"% Funded"]}):(0,i.jsxs)("span",{className:"badge bg-light text-dark",children:[(0,i.jsx)("i",{className:"fas fa-chart-line me-1"})," Not Funded"]})})]})}),(0,i.jsx)("td",{children:(0,i.jsx)("div",{className:"btn-group",role:"group",children:(0,i.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>q(t),title:"View Investors",children:[(0,i.jsx)("i",{className:"fas fa-eye me-1"})," View Investors"]})})})]},t)}))})]})})})()})]})]})})]})]})}),(0,i.jsx)(l,{show:w,onClose:()=>{_(!1),k(null),T([])},roundData:C,investors:R,onUpdateStatus:async(e,s)=>{try{if((await o.A.post(D+"updateInvestmentStatus",{request_id:e,status:s,updated_by_id:x.id},{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.message){if(U(),C){const s=Object.keys(S).find((s=>S[s].investors.some((s=>s.id===e))));s&&w&&q(s)}alert(`Investment ${"Yes"===s?"approved":"Rejected"===s?"rejected":"marked as pending"} successfully`)}}catch(g){console.error("Error updating investment status:",g),alert("Failed to update investment status")}}})]})}}}]);
//# sourceMappingURL=7954.b86f46bb.chunk.js.map