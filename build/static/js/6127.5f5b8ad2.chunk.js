"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[6127],{6999:(e,s,a)=>{a.d(s,{j:()=>u});var t=a(5043),l=a(1462),n=a(6213),i=a(793),o=a(8908),r=a(4117),c=a(2862),d=(a(7775),a(579));const u=e=>{let{isOpen:s,onClose:a,children:u,LoginData:m,notification:p,visibleAlbums:h}=e;console.log(h);var g="https://backend.amourette.no/api/members/";const[x,f]=(0,t.useState)(null),[j,v]=(0,t.useState)([]),[b,k]=(0,t.useState)(""),[y,N]=(0,t.useState)(!1),[w,_]=(0,t.useState)(!1),[S,C]=(0,t.useState)(""),[A,L]=(0,t.useState)(""),[E,M]=(0,t.useState)(""),[I,R]=(0,t.useState)(null),[D,T]=(0,t.useState)(""),[q,J]=(0,t.useState)(""),[F,O]=(0,t.useState)(!1),[P,z]=(0,t.useState)(!1),[$,U]=(0,t.useState)(""),[Y,G]=(0,t.useState)(""),[B,W]=(0,t.useState)(""),[H,K]=(0,t.useState)(""),V=(0,t.useRef)(null),X=()=>{R(null),G(""),T(""),J(""),M(""),V.current&&(V.current.value="")};(0,t.useEffect)((()=>{s||(R(null),G(""),T(""),J(""),M(""),V.current&&(V.current.value=""))}),[s]);(0,t.useEffect)((()=>{const e=localStorage.getItem("userLogin"),s=JSON.parse(e);(async()=>{let e={id:s.id,email:s.email};try{const s=await n.A.post("https://backend.amourette.no/api/getUserDetail",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});k(s.data.result)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}})()}),[]),(0,t.useEffect)((()=>{Z()}),[]);const Z=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};console.log(s);try{await n.A.post(g+"getGalleryallAlbum",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})}catch(a){a.response?console.error("Server Response Error:",a.response.data):a.request?console.error("No Response Received:",a.request):console.error("Request Error:",a.message)}},Q=e=>new Promise(((s,a)=>{const t=new FileReader;t.onload=function(t){const l=new Image;l.onload=function(){const t=document.createElement("canvas");t.width=l.width,t.height=l.height;t.getContext("2d").drawImage(l,0,0),t.toBlob((t=>{if(t){const a=new File([t],e.name.replace(/\.\w+$/,".png"),{type:"image/png",lastModified:(new Date).getTime()});s(a)}else a(new Error("Failed to convert image."))}),"image/png",1)},l.onerror=a,l.src=t.target.result},t.onerror=a,t.readAsDataURL(e)})),ee=["arse","arsehead","arsehole","ass","ass hole","asshole","bastard","bitch","bloody","bollocks","brotherfucker","bugger","bullshit","child-fucker","Christ on a bike","Christ on a cracker","cock","cocksucker","crap","cunt","dammit","damn","damned","damn it","dick","dick-head","dickhead","dumb ass","dumb-ass","dumbass","dyke","faggot","father-fucker","fatherfucker","fuck","fucker","fucking","god dammit","goddammit","God damn","god damn","goddamn","Goddamn","goddamned","goddamnit","godsdamn","holy shit","horseshit","in shit","jackarse","jack-ass","jackass","Jesus Christ","Jesus fuck","Jesus Harold Christ","Jesus H. Christ","Jesus, Mary and Joseph","Jesus wept","kike","mother fucker","mother-fucker","motherfucker","nigga","nigra","pigfucker","piss","prick","pussy","shit","shit ass","shite","sibling fucker","sisterfuck","sisterfucker","slut","son of a bitch","son of a whore","spastic","sweet Jesus","twat","wanker"],{t:se}=(0,r.Bd)();(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),c.A.language!==e&&c.A.changeLanguage(e)}),[c.A,se]);return s?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&(a(),X())},children:[y&&(0,d.jsx)(i.A,{message:S}),w&&(0,d.jsx)(o.A,{message:A}),(0,d.jsxs)("div",{className:"popup-content col-md-5",children:[(0,d.jsx)("button",{className:"close-button",onClick:a,children:"\xd7 "}),(0,d.jsxs)("div",{className:"gallery_pop  d-flex flex-column gap-4",children:[(0,d.jsx)("h3",{children:se("Upload_new_images")}),(0,d.jsx)("form",{onSubmit:async e=>{e.preventDefault(),z(!0);try{const e=new FormData;console.log(I),e.append("name",D),e.append("description",q),e.append("makeImageUse",F),e.append("user_id",m.id),e.append("fileType","gallery"),e.append("album_id",H),e.append("image",I);const s=await n.A.post(g+"gallerysave",e,{headers:{"Content-Type":"multipart/form-data"}});z(!1),N(!0),C(s.data.message),setTimeout((()=>{_(!1),N(!1),window.location.reload(),a()}),1e3),f(null),T(""),J(""),O(!1),R(null)}catch(s){z(!1),_(!0),setTimeout((()=>{_(!1),a()}),800),L("Error creating esssvent:",s)}},action:"javascript:void(0)",method:"post",children:(0,d.jsxs)("div",{className:"row gy-3 align-items-end",children:[(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsxs)("div",{className:"uploadfile rel bgload",children:[(0,d.jsx)("input",{ref:V,type:"file",required:!0,name:"file",onChange:async e=>{const s=e.target.files[0];if(!s)return;const a=s.type.startsWith("image/"),t=s.type.startsWith("video/");if(!a&&!t)return M("Please upload a valid image or video file."),void R(null);if(s.size>26214400)return M("File size must be less than 5 MB."),void R(null);if(M(""),a){if(!["image/jpeg","image/png","image/gif"].includes(s.type))try{const e=await Q(s);return R(e),void G("image")}catch(l){return console.error("Image conversion error:",l),M("Failed to convert image."),void R(null)}R(s),G("image")}t&&(R(s),G("video"))},className:"fileload",disabled:!1,accept:"image/*,video/mp4,video/webm,video/ogg"}),(0,d.jsxs)("div",{className:"upload_image",children:["image"===Y&&I&&(0,d.jsx)("img",{className:"w-100 h-100",src:URL.createObjectURL(I),alt:"Selected Image"}),"video"===Y&&I&&(0,d.jsxs)("video",{className:"w-100 h-100",controls:!0,children:[(0,d.jsx)("source",{src:$||URL.createObjectURL(I),type:"video/mp4"}),se("Your_browser_does")]})]}),(0,d.jsx)("div",{className:"inload",style:{height:"100px"},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(l.Kh2,{style:{fontSize:"24px"}}),(0,d.jsxs)("h3",{style:{fontSize:"14px"},children:[se("UPLOADIMAGE_Video")," *"]})]})}),E&&(0,d.jsx)("p",{className:"text-danger",children:E})]})}),"image"===Y&&I&&(0,d.jsx)("div",{className:"col-md-6",children:(0,d.jsx)("div",{className:"listbox",children:(0,d.jsxs)("label",{className:"cbox",children:[se("Use_profile_picture"),(0,d.jsx)("input",{type:"checkbox",checked:F,onChange:e=>(e=>{O(e)})(e.target.checked),name:"makeImagePrivate"}),(0,d.jsx)("span",{className:"checkmark"})]})})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("input",{type:"text",name:"name",required:!0,onChange:e=>{const s=e.target.value;T(s);const a=ee.some((e=>s.toLowerCase().includes(e.toLowerCase())));W(!!a)},placeholder:`${se("image_name")} *`,value:D})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("textarea",{required:!0,name:"description",rows:"8",placeholder:`${se("image_description")} *`,value:q,onChange:e=>{const s=e.target.value;J(s);const a=ee.some((e=>s.toLowerCase().includes(e.toLowerCase())));W(!!a)}})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("select",{className:"form-control",onChange:e=>{K(e.target.value)},name:"album_id",children:[(0,d.jsx)("option",{value:"",children:se("ChooseAlbum")}),h.map(((e,s)=>(0,d.jsx)("option",{value:e.id,children:e.name},s)))]})}),B&&(0,d.jsx)("span",{className:"text-danger",style:{fontSize:"14px"},children:se("Your_message_contain")}),(0,d.jsxs)("div",{className:"col-12",children:[P&&(0,d.jsx)("div",{className:"spinner-border text-success date-load",role:"status",children:(0,d.jsxs)("span",{className:"visually-hidden",children:[se("Loading"),"..."]})}),(0,d.jsx)("button",{type:"submit",children:se("upload_images")})]})]})})]})]})]})}):null}},6990:(e,s,a)=>{a.d(s,{w:()=>c});var t=a(5043),l=a(5475),n=a(4117),i=a(2862),o=a(4572),r=a(579);const c=()=>{const{t:e}=(0,n.Bd)(),[s,a]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";i.A.language!==e&&i.A.changeLanguage(e)}),[i.A,e]);const c=(new Date).getFullYear();return(0,t.useEffect)((()=>{const e=localStorage.getItem("userLogin");null!==JSON.parse(e)&&a(!0)}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("footer",{className:"d-block",children:(0,r.jsx)("div",{className:"ftblocks py-5",children:(0,r.jsxs)("div",{className:"container-lg",children:[(0,r.jsxs)("div",{className:"row gy-4",children:[(0,r.jsx)("div",{className:"col-md-6",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-3 ftlogoblock",children:[(0,r.jsx)("h4",{children:e("WELCOMETOAMOURETTE")}),(0,r.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,r.jsx)("h6",{children:e("Yourenow")}),(0,r.jsx)(l.N_,{to:"/helpsupport",className:"needsign",children:(0,r.jsx)("span",{dangerouslySetInnerHTML:{__html:e("Needhelp")}})})]})]})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-3 ftblock ps-md-5",children:[(0,r.jsx)("h3",{children:e("About")}),(0,r.jsxs)("div",{className:"d-flex flex-column gap-2 ftlink",children:[(0,r.jsx)(l.N_,{to:"/setting",children:e("Membership")}),(0,r.jsx)(l.N_,{to:"/helpsupport",children:e("Help_and_support")}),(0,r.jsx)(l.N_,{to:"/setting",children:e("Contact_us")})]})]})}),(0,r.jsx)("div",{className:"col-md-3",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-3 ftblock ps-md-5",children:[(0,r.jsx)("h3",{children:e("Resources")}),(0,r.jsxs)("div",{className:"d-flex flex-column gap-2 ftlink",children:[(0,r.jsx)(l.N_,{to:"/securitypage",children:e("Security")}),(0,r.jsx)(l.N_,{to:"/setting",children:e("privacy")}),(0,r.jsx)(l.N_,{to:"/helpsupport",children:e("Terms_and_conditions")})]})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"d-block ftlogoblock",children:(0,r.jsxs)("p",{className:"copyrighttext",children:["\xa9 ",e("Copyright_2024_all_rights_reserved")," ",c,", ",e("all_rights_reserved")]})})})]}),(0,r.jsx)(o.A,{})]})})})})}},1075:(e,s,a)=>{a.d(s,{x:()=>c});var t=a(5043),l=a(1462),n=a(6213),i=a(4117),o=a(2862),r=(a(2074),a(579));const c=e=>{let{isOpen:s,onClose:a,children:c,closepopup11:d}=e;const[u,m]=(0,t.useState)(!1),[p,h]=(0,t.useState)(null),[g,x]=(0,t.useState)(""),[f,j]=(0,t.useState)("No"),[v,b]=(0,t.useState)("No"),[k,y]=(0,t.useState)(""),[N,w]=(0,t.useState)(""),[_,S]=(0,t.useState)("Yes"),[C,A]=(0,t.useState)(""),[L,E]=(0,t.useState)(""),[M,I]=(0,t.useState)(!1),{t:R}=(0,i.Bd)(),D=(0,t.useRef)(null),T=()=>{h(null),x(""),w(""),y(""),j("No"),S("Yes"),A(""),E(""),m(!1),I(!1),D.current&&(D.current.value="")};(0,t.useEffect)((()=>{s||(h(null),x(""),w(""),y(""),j("No"),S("Yes"),A(""),E(""),m(!1),I(!1),D.current&&(D.current.value=""))}),[s]),(0,t.useEffect)((()=>{"Private_visible"===g?(b("Yes"),j("Yes")):b("No")}),[g]),(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";o.A.language!==e&&o.A.changeLanguage(e)}),[o.A,R]);const q=e=>new Promise(((s,a)=>{const t=new FileReader;t.onload=function(t){const l=new Image;l.onload=function(){const t=document.createElement("canvas");t.width=l.width,t.height=l.height;t.getContext("2d").drawImage(l,0,0),t.toBlob((t=>{if(t){const a=new File([t],e.name.replace(/\.\w+$/,".png"),{type:"image/png",lastModified:(new Date).getTime()});s(a)}else a(new Error("Failed to convert image."))}),"image/png",1)},l.onerror=a,l.src=t.target.result},t.onerror=a,t.readAsDataURL(e)})),[J,F]=(0,t.useState)(!1);return s?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&T()},children:(0,r.jsxs)("div",{className:"popup-content col-md-5",children:[(0,r.jsx)("button",{className:"close-button",onClick:a,children:"\xd7 "}),(0,r.jsxs)("div",{className:"gallery_pop  d-flex flex-column gap-4",children:[(0,r.jsxs)("h3",{children:[" ",R("upload_album")]}),(0,r.jsx)("form",{action:"javascript:void(0)",method:"post",onSubmit:async e=>{if(e.preventDefault(),!p)return void alert("Please select images to upload.");const s=localStorage.getItem("userLogin"),a=s?JSON.parse(s):null,t=new FormData;if(p.forEach((e=>{t.append("images",e)})),t.append("visibility",g),t.append("addToAlbum","Yes"),t.append("albumName",N),t.append("password",k),t.append("rightsConfirmed",_),t.append("user_id",a.id),t.append("fileType",""),"No"!==_){F(!1),m(!0),I(!0);try{var l=(await n.A.post("https://backend.amourette.no/api/members/saveprivateAlbumGallery",t,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}})).data;I(!1),E(l.message),setTimeout((()=>{window.location.reload(),m(!1),E(""),d(),x(""),w(""),y(""),j("No"),S("Yes"),h(null)}),3500)}catch(i){i.response||(i.request?console.error("Request data:",i.request):console.error("Error message:",i.message))}}else F(!0)},children:(0,r.jsxs)("div",{className:"row gy-3 align-items-end",children:[(0,r.jsx)("div",{className:"col-md-12",children:(0,r.jsxs)("div",{className:"uploadfile rel bgload",children:[(0,r.jsx)("p",{className:"pb-2",children:R("select_one_more")}),(0,r.jsx)("input",{type:"file",name:"file",required:!0,accept:"image/*,video/mp4,video/webm,video/ogg",multiple:!0,onChange:async e=>{const s=e.target.files;let a=[],t="";const l=["image/jpeg","image/png","image/gif"];if(s.length>10)t="You can only upload a maximum of 10 files.";else for(const i of Array.from(s)){const e=i.type;if(!e.startsWith("image/")&&!e.startsWith("video/")){t=`File "${i.name}" is not an image or video.`;break}if(i.size>10485760){t=`File "${i.name}" exceeds the 10 MB limit.`;break}if(e.startsWith("image/")&&!l.includes(e))try{const e=await q(i);a.push(e)}catch(n){t=`Failed to convert image "${i.name}" to PNG.`;break}else a.push(i)}t?A(t):(A(""),h(a))},className:"fileload",ref:D}),C&&(0,r.jsx)("p",{style:{color:"red"},children:C}),(0,r.jsx)("div",{className:"inload",style:{height:"auto",minheight:"50px"},children:(0,r.jsxs)("div",{className:"d-flex gap-3 align-items-center flex-wrap p-2",children:[null!==p&&(0,r.jsx)(r.Fragment,{children:p.map(((e,s)=>(0,r.jsxs)("div",{className:"upimage rel",children:[(0,r.jsx)("button",{type:"button",onClick:()=>(e=>{h((s=>{const a=s.filter(((s,a)=>a!==e));return 0===a.length&&D.current&&(D.current.value=""),a}))})(s),children:"X"}),(0,r.jsx)("div",{className:"inimag ofit",children:e.type.startsWith("image/")?(0,r.jsx)("img",{src:URL.createObjectURL(e),alt:e.name}):(0,r.jsx)("video",{width:"160",height:"120",controls:!0,children:(0,r.jsx)("source",{src:URL.createObjectURL(e),type:e.type})})})]},s)))}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)(l.Kh2,{style:{fontSize:"24px"}}),(0,r.jsxs)("h3",{className:"m-0",style:{fontSize:"14px"},children:[R("upload_image"),"/",R("Videos")]})]})]})})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)("p",{children:R("how_private")}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-lock",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z"}),(0,r.jsx)("path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"}),(0,r.jsx)("path",{d:"M8 11v-4a4 4 0 1 1 8 0v4"})]})}),(0,r.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"",required:!0,name:"visibility",children:[(0,r.jsxs)("option",{value:"",children:["--",R("Select"),"--"]}),(0,r.jsx)("option",{value:"Public_visible",children:R("All")}),(0,r.jsx)("option",{value:"Friends_visible",children:R("Friends_visible")})]})]})]})}),"Yes"===v&&(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)("p",{children:R("Password")}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-lock",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z"}),(0,r.jsx)("path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0"}),(0,r.jsx)("path",{d:"M8 11v-4a4 4 0 1 1 8 0v4"})]})}),(0,r.jsx)("input",{type:"password",name:"password",placeholder:R("Enterprotectedpasswordhere"),value:k,onChange:e=>y(e.target.value)})]})]})}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)("p",{children:R("Add_the_album")}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-library-photo",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"}),(0,r.jsx)("path",{d:"M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1"}),(0,r.jsx)("path",{d:"M17 7h.01"}),(0,r.jsx)("path",{d:"M7 13l3.644 -3.644a1.21 1.21 0 0 1 1.712 0l3.644 3.644"}),(0,r.jsx)("path",{d:"M15 12l1.644 -1.644a1.21 1.21 0 0 1 1.712 0l2.644 2.644"})]})}),(0,r.jsx)("input",{type:"text",name:"album_name",placeholder:R("Enteralbumname"),value:N,onChange:e=>w(e.target.value),required:!0})]})]})}),(0,r.jsxs)("div",{className:"col-12",children:[J&&(0,r.jsx)("span",{style:{color:"red",fontSize:"12px"},children:R("Pleaseconfirm")}),(0,r.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,r.jsx)("p",{children:R("Do_you_have_the")}),(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,r.jsx)("div",{className:"icon",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"icon icon-tabler icons-tabler-outline icon-tabler-copyright",children:[(0,r.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,r.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,r.jsx)("path",{d:"M14 9.75a3.016 3.016 0 0 0 -4.163 .173a2.993 2.993 0 0 0 0 4.154a3.016 3.016 0 0 0 4.163 .173"})]})}),(0,r.jsxs)("select",{value:_,onChange:e=>S(e.target.value),name:"rightsConfirmed",children:[(0,r.jsx)("option",{value:"Yes",children:R("Yes")}),(0,r.jsx)("option",{value:"No",children:R("No")})]})]})]})]}),(0,r.jsx)("span",{className:"text-success",children:L}),(0,r.jsxs)("div",{className:"col-12",children:[u&&(0,r.jsx)("div",{className:"spinner-border text-success send_load",role:"status",children:(0,r.jsxs)("span",{className:"visually-hidden",children:[R("loading"),"..."]})}),(0,r.jsx)("button",{type:"submit",style:{pointerEvents:M?"none":"auto",opacity:M?.1:1},children:R("upload")})]})]})})]})]})})}):null}},6982:(e,s,a)=>{a.d(s,{E:()=>h});var t=a(5043),l=a(5475),n=a(184),i=a(6213),o=a(4117),r=a(2862),c=a(4258),d=a(9564),u=a(793),m=a(2074),p=a(579);const h=e=>{let{isOpen1:s,onClose1:h,children:g,seperateGallerydetail:x,UserDetail:f,LoginData:j,getUserfav:v,GalleryCommets:b,getCommentPost:k,GalleryIdDetailGet:y,galleryData:N,previousId:w,nextId:_,getgallerydetialnext:S,getgallerydetialprev:C}=e;const[A,L]=(0,t.useState)(""),[E,M]=(0,t.useState)(!1),[I,R]=(0,t.useState)(!1),[D,T]=(0,t.useState)(""),q=(0,t.useRef)(null),[J,F]=(0,t.useState)(0),[O,P]=(0,t.useState)(x),[z,$]=(0,t.useState)(y),[U,Y]=(0,t.useState)(!1),[G,B]=(0,t.useState)(b),{t:W}=(0,o.Bd)(),[H,K]=(0,t.useState)(""),V=(0,t.useRef)(null),X=localStorage.getItem("userLogin"),Z=X?JSON.parse(X):null;(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),r.A.language!==e&&r.A.changeLanguage(e)}),[r.A,W]),(0,t.useEffect)((()=>{B(b),P(x),$(y),q.current&&q.current.scrollIntoView()}),[b,x,y]),(0,t.useEffect)((()=>{const e=new WebSocket("wss://backend.amourette.no");return e.onmessage=e=>{try{const s=JSON.parse(e.data),a=String(s.gallery_id),t=String(y),l=j.id;t===a&&("GalleryLike"===s.event&&(console.log(s),P((e=>e.id===s.gallery_id?{...e,total_favourites:s.total_favourites,user_favourited:l===s.user_id?s.user_favourited:e.user_favourited}:e))),"GalleryPost"===s.event&&B((e=>[...e,{user_id:s.user_id,username:s.username,description:s.message,profile_image:s.profile_image,makeImagePrivate:s.makeImagePrivate,date:s.date,lastInsertId:s.lastInsertId}])))}catch(s){console.error("Failed to parse WebSocket message:",s),console.error("Raw message:",e.data)}},()=>{e.close()}}),[j,y]);var Q="https://backend.amourette.no/api/members/";const[ee,se]=(0,t.useState)(""),[ae,te]=(0,t.useState)(!1),le=e=>{if(!e)return null;const s=new Date(e);if(isNaN(s.getTime()))return console.error("Invalid date:",e),"Invalid date";const a=new Date,t=new Date(s.getTime()-36e5),l=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Oslo",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t),n=a.getTime()-s.getTime(),i=Math.floor(n/1e3),o=Math.floor(i/60),r=Math.floor(o/60),c=Math.floor(r/24),d=Math.floor(c/7),u=Math.floor(c/30),m=Math.floor(c/365);return o<60||r<24?`${l}`:1===c?`Yesterday at ${l}`:c<7?`${c}d  ${l}`:d<4?`${d}w  ${l}`:u<12?`${u}m  ${l}`:`${m}y  ${l}`};(0,t.useEffect)((()=>{const e=e=>{"ArrowRight"===e.key?re(w):"ArrowLeft"===e.key&&ce(_)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[w,_]);const ne=!ee.trim()||U,ie=["arse","arsehead","arsehole","ass","ass hole","asshole","bastard","bitch","bloody","bollocks","brotherfucker","bugger","bullshit","child-fucker","Christ on a bike","Christ on a cracker","cock","cocksucker","crap","cunt","dammit","damn","damned","damn it","dick","dick-head","dickhead","dumb ass","dumb-ass","dumbass","dyke","faggot","father-fucker","fatherfucker","fuck","fucker","fucking","god dammit","goddammit","God damn","god damn","goddamn","Goddamn","goddamned","goddamnit","godsdamn","holy shit","horseshit","in shit","jackarse","jack-ass","jackass","Jesus Christ","Jesus fuck","Jesus Harold Christ","Jesus H. Christ","Jesus, Mary and Joseph","Jesus wept","kike","mother fucker","mother-fucker","motherfucker","nigga","nigra","pigfucker","piss","prick","pussy","shit","shit ass","shite","sibling fucker","sisterfuck","sisterfucker","slut","son of a bitch","son of a whore","spastic","sweet Jesus","twat","wanker"],oe=async e=>{e.preventDefault&&e.preventDefault(),te(!0);let s={description:e.description||e.target.description.value,gallery_id:e.gallery_id||e.target.gallery_id.value,user_id:j.id};try{const e=await i.A.post(Q+"GalleryPostSave",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(e.data),te(!1),se(""),k(),q.current.scrollIntoView({behavior:"smooth"})}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}},re=e=>{S(e)},ce=e=>{C(e)},[de,ue]=(0,t.useState)(!1),me=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=e=>{me.current&&!me.current.contains(e.target)&&ue(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);(0,t.useEffect)((()=>{const e=e=>{"Escape"===e.key&&h()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[h]);if(!s)return null;const pe=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:(e?JSON.parse(e):null).id,id:x.id,post_type:"gallery"};try{await i.A.post(Q+"deletePostDashboard",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});M(!0),L("Post deleted successfully"),R(!1),setTimeout((()=>{h(),M(!1),window.location.reload()}),1e3)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&h()},children:[(0,p.jsx)(d.M,{isOpen1:I,onClose1:()=>{R(!1)},message:D,onReturnSent:async()=>{pe()}}),E&&(0,p.jsx)(u.A,{message:A}),(0,p.jsxs)("div",{className:"popup-content col-md-10",children:[(0,p.jsx)("button",{className:"close-button",style:{zIndex:"999"},onClick:h,children:"\xd7 "}),(0,p.jsxs)("div",{className:"usergallery_pop  d-flex flex-column gap-1 h-100",children:[(0,p.jsx)("button",{className:"arrow right",type:"button",onClick:()=>re(w),children:(0,p.jsx)(n.X6T,{})}),(0,p.jsx)("button",{className:"arrow left",type:"button",onClick:()=>ce(_),children:(0,p.jsx)(n._Jj,{})}),(0,p.jsxs)("div",{className:"row p-2 p-md-4",children:[(0,p.jsx)("div",{className:"col-lg-7",children:(0,p.jsxs)("div",{className:"position-relative",children:[(0,p.jsx)("div",{className:"d-block gallery_im1g ",children:O.image&&"string"===typeof O.image?(0,p.jsx)(m.A,{className:"w-100 h-100",url:O.image}):(0,p.jsx)("p",{children:W("No_avalibale_media")})}),Z.id===O.user_id&&(0,p.jsx)("div",{className:"flex-shrink-0 posttopbtns",children:(0,p.jsx)("button",{title:"Delete",onClick:()=>{R(!0),T("Are you sure? You want to delete this post")},type:"button",className:"btn redbtn",style:{padding:"0px 0px",textAlign:"center",minWidth:"0px",background:"red",width:"40px",height:"40px",borderRadius:"50px",position:"absolute",top:"10px",right:"15px"},children:(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler textcolor icons-tabler-outline icon-tabler-trash",children:[(0,p.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,p.jsx)("path",{d:"M4 7l16 0"}),(0,p.jsx)("path",{d:"M10 11l0 6"}),(0,p.jsx)("path",{d:"M14 11l0 6"}),(0,p.jsx)("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),(0,p.jsx)("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"})]})})})]})}),(0,p.jsx)("div",{className:"col-lg-5",children:(0,p.jsxs)("div",{className:"d-flex h-100 flex-column justify-content-between gap-1",children:[(0,p.jsxs)("div",{className:"d-flex flex-column gap-1 py-3 bordr-bt",children:[(0,p.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between",children:[(0,p.jsx)(l.N_,{to:`/friend/${O.uid}`,children:O.username}),(0,p.jsx)("h6",{children:le(O.date)})]}),(0,p.jsxs)("div",{className:"d-flex align-items-center gap-3 justify-content-between",children:[(0,p.jsx)("p",{children:O&&O.description&&O.description.length>150?O.description.substring(0,150)+"...":(null===O||void 0===O?void 0:O.description)||"No description available"}),(0,p.jsxs)("div",{className:"d-flex align-items-center gap-3 flex-shrink-0",children:[(0,p.jsxs)("div",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[(0,p.jsx)("button",{type:"button",onClick:()=>(async e=>{let s={user_id:j.id,id:e};try{await i.A.post(Q+"galleryPostLike",s,{headers:{Accept:"application/json","Content-Type":"application/json"}}),v("")}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}})(O.id),className:"liked  fulw",children:O.user_favourited?(0,p.jsx)(n.Mbv,{}):(0,p.jsx)(n.sOK,{})}),(0,p.jsx)("p",{className:"likecount",children:O.total_favourites})]}),(0,p.jsxs)("div",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[(0,p.jsx)("div",{className:"d-block like_icon",children:(0,p.jsx)("img",{className:"w-100 h-100",src:a(2100),alt:"img"})}),(0,p.jsx)("p",{className:"likecount",children:G.length})]})]})]})]}),(0,p.jsxs)("div",{className:"d-flex flex-column gap-1",children:[(0,p.jsxs)("ul",{className:"usergallery_msg scroll_bar",children:[0===G.length?(0,p.jsx)("li",{children:W("Nocommentsavailable")}):G.map(((e,s)=>(0,p.jsxs)("li",{className:"gap-3",children:[(0,p.jsx)("div",{className:"profile_img",children:(0,p.jsx)("img",{className:"w-100 h-100",src:1===e.makeImagePrivate?a(7123):e.profile_image?e.profile_image:a(3141),alt:"img"})}),(0,p.jsxs)("div",{className:"comment_text d-flex flex-column gap-1",children:[(0,p.jsx)("h6",{children:e.username})," ",(0,p.jsx)("p",{children:e.description})," "]}),(0,p.jsx)("p",{children:le(e.date)})," "]},s))),(0,p.jsx)("li",{ref:q})]}),(0,p.jsxs)("form",{action:"javascript:void(0)",method:"post",onSubmit:oe,children:[U&&(0,p.jsx)("span",{className:"text-danger",style:{fontSize:"14px"},children:W("Your_message_contain")}),(0,p.jsx)("div",{className:"d-flex align-items-center gap-3 w-100 usergallery_from",children:(0,p.jsxs)("div",{className:"comment_input w-100 d-flex align-items-center gap-1",children:[ae&&(0,p.jsx)("div",{className:"spinner-border text-success postloader",role:"status",children:(0,p.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,p.jsx)("input",{type:"hidden",value:x.id,name:"gallery_id"}),(0,p.jsxs)("div",{className:"emoji-container",children:[(0,p.jsx)("button",{type:"button",className:"emoji-button",onClick:()=>ue(!de),children:"\ud83d\ude00"}),de&&(0,p.jsx)("div",{className:"emoji-picker",ref:me,style:{position:"absolute",top:"64px"},children:(0,p.jsx)(c.Ay,{onEmojiClick:e=>{se((s=>s+e.emoji)),ue(!1),V.current&&V.current.focus()}})})]}),(0,p.jsx)("input",{type:"text",required:!0,ref:V,name:"description",value:ee,onChange:e=>{const s=e.target.value;se(s),""===s.trim()&&se("");const a=ie.some((e=>s.toLowerCase().includes(e.toLowerCase())));Y(a)},onKeyDown:e=>{"Enter"===e.key&&""!==ee.trim()&&(e.preventDefault(),oe({description:ee,gallery_id:x.id}))},placeholder:`${W("write_a_comment")}`}),(0,p.jsx)("button",{type:"submit",disabled:ne,style:{opacity:ne?.5:1},className:"comment_postbtn",children:W("Post")})]})})]})]})]})})]})]})]})]})})}},3625:(e,s,a)=>{e.exports=a.p+"static/media/ev1.c139f534f6b2d0f4efe4.png"},5442:(e,s,a)=>{e.exports=a.p+"static/media/ev2.dbb5ba26d46537e3b09e.png"},1404:(e,s,a)=>{e.exports=a.p+"static/media/male.ca9f1a8361af6a3bfcbf.png"},7293:(e,s,a)=>{e.exports=a.p+"static/media/woman.a148b1417ba2399fcf18.png"}}]);
//# sourceMappingURL=6127.5f5b8ad2.chunk.js.map