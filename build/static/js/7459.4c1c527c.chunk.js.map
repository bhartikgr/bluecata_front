{"version":3,"file":"static/js/7459.4c1c527c.chunk.js","mappings":"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","sources":["pages/User/Crm/AddNewInvestor.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport { DataRoomSection } from \"../../../components/Styles/DataRoomStyle.js\";\r\nimport { BackButton } from \"../../../components/Styles/GlobalStyles.js\";\r\nimport { ArrowLeft } from \"lucide-react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nexport default function AddNewInvestor() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState();\r\n  const storedUsername = sessionStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = JSON.parse(storedUsername);\r\n  const [spinners, setspinnsers] = useState(false);\r\n  const [message, setmessage] = useState(\"\");\r\n  const [errr, seterrr] = useState(false);\r\n  const [editInvestor, seteditInvestor] = useState(\"\");\r\n  const { id } = useParams();\r\n  const [investortype, setinvestortype] = useState(\"\");\r\n  const [ClientIP, setClientIP] = useState(\"\");\r\n  var apiURL = \"https://blueprintcatalyst.com/api/user/investor/\";\r\n  document.title = \"Investor Report Form\";\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n  useEffect(() => {\r\n    if (id) {\r\n      getInvestoreditlist();\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    const getIP = async () => {\r\n      try {\r\n        const res = await fetch(\"https://api.ipify.org?format=json\");\r\n        const data = await res.json();\r\n        setClientIP(data.ip); // Save this to state\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch IP\", error);\r\n      }\r\n    };\r\n\r\n    getIP();\r\n  }, []);\r\n  const getInvestoreditlist = async () => {\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      id: id,\r\n    };\r\n    try {\r\n      const generateRes = await axios.post(\r\n        apiURL + \"getInvestoreditlist\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      if (generateRes.data.results.length > 0) {\r\n        setinvestortype(generateRes.data.results[0].investorType);\r\n        seteditInvestor(generateRes.data.results[0]);\r\n      } else {\r\n        navigate(\"/crm/investor-directory\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error generating summary\", err);\r\n    }\r\n    //  Optionally, call AI Summary API here\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = {\r\n      email: e.target[\"email\"].value,\r\n      first_name: e.target[\"first_name\"].value,\r\n      last_name: e.target[\"last_name\"].value,\r\n      company_id: userLogin.companies[0].id,\r\n      created_by_id: userLogin.id,\r\n      created_by_role: userLogin.role,\r\n      id: editInvestor.id,\r\n      ip_address: ClientIP,\r\n    };\r\n    try {\r\n      const generateRes = await axios.post(\r\n        apiURL + \"Addnewinvenstor\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      setspinnsers(false);\r\n      seterrr(false);\r\n      var dataa = generateRes.data;\r\n      if (dataa.status === 2) {\r\n        seterrr(true);\r\n        setmessage(dataa.message);\r\n      } else {\r\n        setmessage(dataa.message);\r\n        setTimeout(() => {\r\n          navigate(\"/crm/investor-directory\");\r\n        }, 2500);\r\n      }\r\n      setTimeout(() => {\r\n        setmessage(\"\");\r\n      }, 2500);\r\n    } catch (err) {\r\n      console.error(\"Error generating summary\", err);\r\n    }\r\n    //  Optionally, call AI Summary API here\r\n    //generateExecutiveSummary(formData);\r\n  };\r\n  const handleBackClick = () => {\r\n    navigate(\"/crm/investor-directory\");\r\n  };\r\n  const handletype = (e) => {\r\n    setinvestortype(e.target.value);\r\n  };\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav\r\n              isCollapsed={isCollapsed}\r\n              setIsCollapsed={setIsCollapsed}\r\n            />\r\n            <div\r\n              className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}\r\n            >\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                {message && (\r\n                  <p className={errr ? \" mt-3 error_pop\" : \"success_pop mt-3\"}>\r\n                    {message}\r\n                  </p>\r\n                )}\r\n                <div className=\"container-fluid\">\r\n                  <DataRoomSection className=\"d-flex flex-column gap-2\">\r\n                    <div className=\"titleroom d-flex justify-content-between align-items-center border-bottom pb-3\">\r\n                      <BackButton\r\n                        type=\"button\"\r\n                        className=\"backbtn\"\r\n                        onClick={handleBackClick}\r\n                      >\r\n                        <ArrowLeft size={16} className=\"me-1\" /> back\r\n                      </BackButton>\r\n                      <h4>\r\n                        {editInvestor && editInvestor.id\r\n                          ? \"Edit Investor\"\r\n                          : \"Add Investor\"}\r\n                      </h4>\r\n                    </div>\r\n\r\n                    <form onSubmit={handleSubmit}>\r\n                      <div className=\"formlist\">\r\n                        <div className=\"row\">\r\n                          {/* Email */}\r\n                          <div className=\"col-6\">\r\n                            <label className=\"d-block mt-3\">\r\n                              <div className=\"d-flex align-items-center gap-2 mb-2\">\r\n                                <h5>\r\n                                  Email{\" \"}\r\n                                  <span style={{ color: \"var(--primary)\" }}>\r\n                                    *\r\n                                  </span>\r\n                                </h5>\r\n                              </div>\r\n                              <input\r\n                                className=\"form-control\"\r\n                                type=\"email\"\r\n                                name=\"email\"\r\n                                id=\"email\"\r\n                                placeholder=\"Enter your email...\"\r\n                                defaultValue={editInvestor.email || \"\"}\r\n                                onChange={handleChange}\r\n                                required\r\n                                disabled={!!editInvestor.email} // disabled if email exists\r\n                              />\r\n                            </label>\r\n                          </div>\r\n\r\n                          {/* Investor Type */}\r\n                          <div className=\"col-6\">\r\n                            <label className=\"d-block mt-3\">\r\n                              <div className=\"d-flex align-items-center gap-2 mb-2\">\r\n                                <h5>\r\n                                  First Name{\" \"}\r\n                                  <span style={{ color: \"var(--primary)\" }}>\r\n                                    *\r\n                                  </span>\r\n                                </h5>\r\n                              </div>\r\n                              <input\r\n                                className=\"form-control\"\r\n                                onChange={handleChange}\r\n                                type=\"text\"\r\n                                defaultValue={editInvestor.first_name}\r\n                                name=\"first_name\"\r\n                                placeholder=\"Enter here...\"\r\n                                id=\"first_name\"\r\n                                required\r\n                              />\r\n                            </label>\r\n                          </div>\r\n                          <div className=\"col-6\">\r\n                            <label className=\"d-block mt-3\">\r\n                              <div className=\"d-flex align-items-center gap-2 mb-2\">\r\n                                <h5>\r\n                                  Last Name{\" \"}\r\n                                  <span style={{ color: \"var(--primary)\" }}>\r\n                                    *\r\n                                  </span>\r\n                                </h5>\r\n                              </div>\r\n                              <input\r\n                                className=\"form-control\"\r\n                                onChange={handleChange}\r\n                                type=\"text\"\r\n                                defaultValue={editInvestor.last_name}\r\n                                name=\"last_name\"\r\n                                placeholder=\"Enter here...\"\r\n                                id=\"last_name\"\r\n                                required\r\n                              />\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Submit + Spinner + Message */}\r\n                        <div className=\"d-flex justify-content-start align-items-center mt-3\">\r\n                          <input\r\n                            type=\"submit\"\r\n                            disabled={spinners}\r\n                            className=\"global_btn ms-auto w-fit\"\r\n                            value=\"Submit\"\r\n                            style={{ opacity: spinners ? 0.6 : 1 }}\r\n                          />\r\n                          {spinners && (\r\n                            <div\r\n                              className=\"spinner-border text-light ms-2\"\r\n                              role=\"status\"\r\n                              style={{ width: \"1.5rem\", height: \"1.5rem\" }}\r\n                            >\r\n                              <span className=\"visually-hidden\">\r\n                                Loading...\r\n                              </span>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  </DataRoomSection>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n}\r\n"],"names":["AddNewInvestor","navigate","useNavigate","formData","setFormData","useState","storedUsername","sessionStorage","getItem","userLogin","JSON","parse","spinners","setspinnsers","message","setmessage","errr","seterrr","editInvestor","seteditInvestor","id","useParams","investortype","setinvestortype","ClientIP","setClientIP","apiURL","document","title","handleChange","e","target","name","value","useEffect","getInvestoreditlist","async","res","fetch","data","json","ip","error","console","getIP","company_id","companies","generateRes","axios","post","headers","Accept","results","length","investorType","err","isCollapsed","setIsCollapsed","_jsx","_Fragment","children","Wrapper","className","_jsxs","ModuleSideNav","TopBar","SectionWrapper","DataRoomSection","BackButton","type","onClick","handleBackClick","ArrowLeft","size","onSubmit","preventDefault","email","first_name","last_name","created_by_id","created_by_role","role","ip_address","dataa","status","setTimeout","style","color","placeholder","defaultValue","onChange","required","disabled","opacity","width","height"],"sourceRoot":""}