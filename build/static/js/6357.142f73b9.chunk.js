"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[6357],{6357:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(5043),l=a(5475),r=a(5700),i=a(8229),c=(a(7035),a(3216)),n=a(6213),d=a(793),o=a(4117),m=a(2862),h=a(579);const g=function(){const e=(0,c.Zp)(),[s,g]=(0,t.useState)(!1),[x,u]=(0,t.useState)(!1),[p,j]=(0,t.useState)(""),[f,N]=(0,t.useState)([]),[v,_]=(0,t.useState)([]),[y,b]=(0,t.useState)([]),[w,q]=(0,t.useState)([]),[S,k]=(0,t.useState)(null);var A="https://backend.amourette.no/api/profile/";(0,t.useEffect)((()=>{const s=localStorage.getItem("userLogin"),a=JSON.parse(s);null==a?e("/login"):(k(a),C(a.id),F(a.id))}),[]),(0,t.useEffect)((()=>{E()}),[]);const C=async e=>{const s=localStorage.getItem("userLogin");let a={user_id:JSON.parse(s).id};console.log(a);try{var t=(await n.A.post(A+"getAllFriend",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;N(t)}catch(l){l.response||(l.request?console.error("Request data:",l.request):console.error("Error message:",l.message))}},E=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:JSON.parse(e).id};try{var a=(await n.A.post(A+"getAllFriendfav",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;_(a)}catch(t){t.response||(t.request?console.error("Request data:",t.request):console.error("Error message:",t.message))}},F=async e=>{let s={user_id:e};try{var a=(await n.A.post(A+"getUsersFriendRequest",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;q(a)}catch(t){t.response||(t.request?console.error("Request data:",t.request):console.error("Error message:",t.message))}},I=e=>{const s=new Date(e),a=new Date;let t=a.getFullYear()-s.getFullYear();const l=a.getMonth()-s.getMonth();return(l<0||0===l&&a.getDate()<s.getDate())&&t--,t},{t:L}=(0,o.Bd)();(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),m.A.language!==e&&m.A.changeLanguage(e),console.log(L("LeftMenu_yourprofile"))}),[m.A,L]);const[R,$]=(0,t.useState)(!0),[T,P]=(0,t.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.A,{refreshNotifications:s}),x&&(0,h.jsx)(d.A,{message:p}),(0,h.jsx)("section",{className:"inboxblock d-block gapy",children:(0,h.jsx)("div",{className:"container-lg",children:(0,h.jsxs)("div",{className:"row gy-4",children:[(0,h.jsx)("div",{className:"col-md-3 sidefixedbox sticky-top h-100 d-none d-lg-block",children:(0,h.jsx)(i.S,{})}),(0,h.jsx)("div",{className:"col-lg-5",children:(0,h.jsxs)("div",{className:"row gy-5",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-3 justify-content-start justify-content-start request_head",children:[(0,h.jsxs)("h6",{children:[" ",L("All_Friend")]}),(0,h.jsxs)("div",{className:"d-flex align-items-center gap-3 all-friend_btn",children:[(0,h.jsx)("button",{type:"button",onClick:()=>{$(!0),P(!1)},className:" "+(R?"active":""),children:L("Everyone")}),(0,h.jsx)("button",{onClick:()=>{$(!1),P(!0)},className:" "+(T?"active":""),type:"button",children:L("Favorites")})]})]})}),(0,h.jsxs)("div",{className:"col-12",children:[R&&(0,h.jsx)("div",{className:"row gy-2",children:0===f.length?(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("p",{className:"text-center",children:L("No_friends")})}):f.map((e=>(0,h.jsxs)("div",{className:"col-12",children:[" ",(0,h.jsxs)(l.N_,{to:`/friend/${e.id}`,className:"all_formen d-flex flex-column flex-md-row gap-2 ps-md-0",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.profile_image&&0===e.makeImagePrivate?(0,h.jsx)("img",{src:e.profile_image,alt:"Selected"}):(0,h.jsx)("img",{src:a(7123),alt:"Profile"})})}),(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,h.jsxs)("h3",{children:[e.username,","]}),(0,h.jsx)("h3",{children:I(e.birthday_date)})]}),(0,h.jsx)("h4",{children:e.location})]})})]})]},e.id)))}),T&&(0,h.jsx)("div",{className:"row gy-2",children:0===v.length?(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("p",{className:"text-center",children:L("No_friends")})}):v.map((e=>(0,h.jsxs)("div",{className:"col-12",children:[" ",(0,h.jsxs)(l.N_,{to:`/friend/${e.id}`,className:"all_formen d-flex flex-column flex-md-row gap-2 ps-md-0",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.profile_image&&0===e.makeImagePrivate?(0,h.jsx)("img",{src:e.profile_image,alt:"Selected"}):(0,h.jsx)("img",{src:a(7123),alt:"Profile"})})}),(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,h.jsxs)("h3",{children:[e.username,","]}),(0,h.jsx)("h3",{children:"Couple"===e.gender?e.birthday_date&&e.birthday_date_her?`${I(e.birthday_date)} & ${I(e.birthday_date_her)}`:"":e.birthday_date?`${I(e.birthday_date)}`:""})]}),(0,h.jsx)("h4",{children:e.location})]})})]})]},e.id)))})]})]})}),(0,h.jsx)("div",{className:"col-md-4",children:(0,h.jsxs)("div",{className:"row gy-5 ",children:[(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"d-flex justify-content-start justify-content-start request_head",children:(0,h.jsx)("h6",{children:L("Friend_Request")})})}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"row gy-2 ",children:(0,h.jsx)("div",{className:"row",children:0===w.length?(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("p",{className:"text-center",children:L("No_friend_requests_found")})}):w.map((e=>(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("div",{className:"friend_formen w-100 p-3",children:(0,h.jsxs)("div",{className:"d-flex w-100 flex-column align-items-start justify-content-between gap-3",children:[(0,h.jsxs)(l.N_,{to:`/singlesearch/${e.user_id}`,className:"d-flex flex-md-row gap-2",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.profile_image&&0===e.makeImagePrivate?(0,h.jsx)("img",{src:e.profile_image,alt:"Selected"}):(0,h.jsx)("img",{src:a(7123),alt:"Profile"})})}),(0,h.jsx)("div",{className:"flex-grow-1",children:(0,h.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,h.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,h.jsxs)("h3",{children:[e.username,","]})," ",(0,h.jsx)("h3",{children:"Couple"===e.gender?e.birthday_date&&e.birthday_date_her?`${I(e.birthday_date)} & ${I(e.birthday_date_her)}`:"":e.birthday_date?`${I(e.birthday_date)}`:""})]}),(0,h.jsx)("h4",{children:e.location||"Location not provided"})," "]})})]}),(0,h.jsxs)("div",{className:"d-flex justify-content-between gap-2 globe_btnn bg-transprent",children:[(0,h.jsx)("button",{className:"accept_btn allfrd",onClick:()=>(async(e,s)=>{const a=localStorage.getItem("userLogin");let t={id:e,user_id:JSON.parse(a).id,sentto:s};console.log(t);try{await n.A.post(A+"AcceptRequest",t,{headers:{Accept:"application/json","Content-Type":"application/json"}}),C(S.id),F(S.id),u(!0),j("Friend request accepted"),setTimeout((()=>{u(!1)}),1500)}catch(l){l.response||(l.request?console.error("Request data:",l.request):console.error("Error message:",l.message))}})(e.frq_id,e.sentid),children:L("Accept")})," ",(0,h.jsx)("button",{className:"reject_btn allfrd",onClick:()=>(async e=>{const s=localStorage.getItem("userLogin");let a={id:e,user_id:(s?JSON.parse(s):null).id};try{await n.A.post("https://backend.amourette.no/api/members/handlerequestcancel",a,{headers:{Accept:"application/json","Content-Type":"application/json"}}),C(S.id),F(S.id),u(!0),j("Friend request canceled"),setTimeout((()=>{u(!1)}),1500)}catch(t){t.response||(t.request?console.error("Request data:",t.request):console.error("Error message:",t.message))}})(e.frq_id),children:L("DECLINE_REQUEST")})," "]})]})})},e.id)))})})})]})})]})})})]})}}}]);
//# sourceMappingURL=6357.142f73b9.chunk.js.map