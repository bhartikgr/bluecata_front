"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[6903],{6903:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var o=s(5043),n=s(8786),i=s(3910),r=s(6213),l=s(6178),a=s.n(l),d=s(7929),c=s(4635),x=s(1003),p=s(3216),f=s(6305),g=s(6836),u=s(6115),h=s(5475),m=s(5166),b=s(579);const j=function(){const{slug:e}=(0,p.g)(),[t,l]=(0,o.useState)([]),j="https://backend.amourette.no/api/admin/",y=(0,p.Zp)(),[v,S]=(0,o.useState)(""),[w,C]=(0,o.useState)(!1),[z,A]=(0,o.useState)(!1),[k,D]=(0,o.useState)(""),[R,I]=(0,o.useState)(""),[T,N]=(0,o.useState)(""),[Y,W]=(0,o.useState)(""),[M,q]=(0,o.useState)(""),[P,$]=(0,o.useState)("");(0,o.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),t=JSON.parse(e);console.log(t),null===t&&y("/admin/login")}),[]),(0,o.useEffect)((()=>{B()}),[]);const B=async()=>{let t={slug:e};try{var s=(await r.A.post(j+"getuserdetail",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;void 0===s&&y("/admin/users"),$(s)}catch(o){o.response||(o.request?console.error("Request data:",o.request):console.error("Error message:",o.message))}},[E,F]=(0,o.useState)([]),[L,_]=(0,o.useState)(!1),[O,H]=(0,o.useState)({}),G=[{name:"User",selector:e=>e.username,sortable:!0},{name:"Plan",selector:e=>e.plan,sortable:!0},{name:"Amount",selector:e=>{const t=parseFloat(e.amount);return isNaN(t)?"0.00":t.toFixed(2)},sortable:!0},{name:"Date",selector:e=>a()(e.date).format("DD-MM-YYYY")},{name:"Action",cell:e=>(0,b.jsx)("div",{className:"d-flex align-items-center gap-3",children:"Free"!==e.plan&&(0,b.jsx)("a",{style:{fontSize:"16px"},className:"dataedit_btn",title:"Invoice View",onClick:()=>J(e),children:(0,b.jsx)(i.g,{icon:d.p4e})})}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],J=async e=>{let t={id:e.id};try{var s=(await r.A.post(j+"getinvoieData",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;console.log(s),W(s)}catch(o){o.response||(o.request?console.error("Request data:",o.request):console.error("Error message:",o.message))}};(0,o.useEffect)((()=>{const e=(0,b.jsxs)("div",{style:{width:"100%",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,b.jsx)("table",{style:{width:"100%",textAlign:"center",padding:"20px"},children:(0,b.jsxs)("tbody",{children:[(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:(0,b.jsx)("img",{src:s(2806),alt:"Logo",style:{maxWidth:"350px",height:"auto",objectFit:"contain"}})})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{style:{fontSize:"20px",color:"rgb(17, 16, 16)",textTransform:"capitalize",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:"Refund from Amourette"})})]})}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:"20px"},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Refunded"}),(0,b.jsxs)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Date Issue"}),(0,b.jsx)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:a()(T.refund_date).format("MMM D, YYYY")})]})]}),(0,b.jsxs)("div",{style:{textAlign:"justify",color:"rgb(17, 16, 16)",fontSize:"16px",lineHeight:"1.6",marginTop:"20px",padding:"20px",borderBottom:"2px solid #eee"},children:["This email is to confirm that your refund has been issued by",(0,b.jsx)("strong",{children:" Amourette"}),". It can take approximately",(0,b.jsx)("strong",{children:" 10 days"})," to appear on your statement. If it takes longer, please contact your bank for assistance."]}),(0,b.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Payment To Amourette"}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Total"}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsxs)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:["Refunded on"," ",a()(T.refund_date).format("MMM D, YYYY")]}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Adjusted Total"}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]})]})]}),t=(0,b.jsxs)("div",{style:{width:"100%",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,b.jsx)("table",{style:{width:"100%",textAlign:"center",padding:"20px"},children:(0,b.jsxs)("tbody",{children:[(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:(0,b.jsx)("img",{src:s(2806),alt:"Logo",style:{maxWidth:"350px",height:"auto",objectFit:"contain"}})})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{style:{fontSize:"20px",color:"rgb(17, 16, 16)",textTransform:"capitalize",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:"Receipt from Amourette"})})]})}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:"20px"},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Amount Paid"}),(0,b.jsxs)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Date Paid"}),(0,b.jsx)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:a()(T.start_date).format("MMM D, YYYY")})]})]}),(0,b.jsxs)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Payment To Amourette"}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"10px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Amount charged"}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:["$",T.amount]})]})]})]});""!==T&&("Succeeded"===T.refund?(0,u.A)(e,M,"Refund Invoice"):(0,u.A)(t,M,"Payment Receipt")),console.log(M)}),[T,M]),(0,o.useEffect)((()=>{const e=(0,b.jsxs)("div",{style:{width:"100%",margin:"50px auto",backgroundColor:"#ffffff",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:[(0,b.jsx)("table",{style:{width:"100%",textAlign:"center",padding:"20px"},children:(0,b.jsxs)("tbody",{children:[(0,b.jsx)("tr",{children:(0,b.jsx)("td",{children:(0,b.jsx)("img",{src:s(2806),alt:"Logo",style:{maxWidth:"350px",height:"auto",objectFit:"contain"}})})}),(0,b.jsx)("tr",{children:(0,b.jsx)("td",{style:{fontSize:"20px",color:"rgb(17, 16, 16)",textTransform:"capitalize",borderBottom:"2px solid #eee",paddingBottom:"10px"},children:"Receipt from Dispute payment Amourette"})})]})}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:"20px"},children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Amount"}),(0,b.jsxs)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:[Y.amount,"kr"]})]}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,b.jsx)("span",{style:{fontSize:"20px",color:"rgb(95, 91, 91)",fontWeight:"bold"},children:"Dispute Date"}),(0,b.jsx)("span",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:a()(Y.PaymentrefundDispute_date).format("MMM D, YYYY")})]})]}),(0,b.jsx)("div",{style:{padding:"20px",textAlign:"center",backgroundColor:"#f9f9f9",borderRadius:"8px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"},children:(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",padding:"15px 20px",backgroundColor:"#fff",borderRadius:"8px"},children:[(0,b.jsx)("div",{style:{fontSize:"18px",fontWeight:"bold",color:"rgb(95, 91, 91)"},children:"Payment To Amourette"}),(0,b.jsxs)("div",{style:{fontSize:"18px",color:"rgb(95, 91, 91)"},children:[Y.amount,"kr"]})]})})]});setTimeout((()=>{""!==Y&&(0,m.A)(e)}),500)}),[Y]),(0,o.useEffect)((()=>{U()}),[P]);const U=async()=>{let e={user_id:P.id};try{var t=(await r.A.post(j+"getallpaymentdispute",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;console.log(t),F(t)}catch(s){s.response||(s.request?console.error("Request data:",s.request):console.error("Error message:",s.message))}},[V,Z]=(0,o.useState)(""),K=E.filter((e=>Object.values(e).join(" ").toLowerCase().includes(V.toLowerCase()))),[Q,X]=(0,o.useState)(!1);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{class:"position-relative bg-white d-flex p-0",children:[(0,b.jsx)(c.A,{isOpen:Q}),(0,b.jsxs)("div",{className:"content "+(Q?"open":""),children:[(0,b.jsx)(x.A,{onClick:()=>{X(!Q)}}),w&&(0,b.jsx)(f.A,{message:k}),z&&(0,b.jsx)(g.A,{message:R}),(0,b.jsx)("div",{className:"container-fluid pt-4 px-4",children:(0,b.jsx)("div",{className:"row g-4",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("div",{className:"bg-light rounded h-100 p-4",children:[(0,b.jsxs)("div",{className:"d-flex flex-md-row flex-column justify-content-between",children:[(0,b.jsxs)(h.N_,{to:`/admin/paymenthistory/${e}`,style:{display:"flex",alignItems:"center",textDecoration:"none"},className:"mb-4",children:[(0,b.jsx)(i.g,{icon:d.CeG,style:{marginRight:"8px"}})," ","Back"]}),(0,b.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,b.jsx)("div",{className:"d-flex justify-content-between",children:(0,b.jsxs)("h6",{className:"mb-4",children:["Payment Dispute List (",P.username,")"]})}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("input",{type:"text",className:"form-control",placeholder:"Search...",value:V,onChange:e=>Z(e.target.value)})})]})]}),(0,b.jsx)("div",{className:"table-responsive",children:(0,b.jsx)(n.Ay,{columns:G,data:K,pagination:!0,highlightOnHover:!0,noDataComponent:"No records found."})})]})})})})]})]})})}}}]);
//# sourceMappingURL=6903.eb0d3841.chunk.js.map