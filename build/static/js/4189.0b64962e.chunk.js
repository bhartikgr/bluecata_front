/*! For license information please see 4189.0b64962e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[4189],{4563:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(65043),n=s(27836),i=s(86213),l=s(70579);const o=e=>{let{onClose:t,catgeoryId:s,subcatgeoryId:o,CategorynameFile:r,refreshpage:c,lockunlockId:d}=e;const p=localStorage.getItem("UserLoginData"),m=JSON.parse(p),[u,h]=(0,a.useState)([]),[x,g]=(0,a.useState)(""),[y,j]=(0,a.useState)(!1),[b,f]=(0,a.useState)(""),[k,N]=(0,a.useState)("");return(0,l.jsx)(n.hJ,{children:(0,l.jsx)(n.Bs,{children:(0,l.jsxs)("form",{onSubmit:async e=>{if(0===u.length)g("Please choose the file"),setTimeout((()=>{g("")}),1e3);else{j(!0),g("");const e=new FormData;u.forEach((t=>{e.append("documents",t)})),e.append("user_id",m.id),e.append("catgeoryId",s),e.append("subcatgeoryId",o),e.append("filetype",r);try{const s=await i.A.post("https://blueprintcatalyst.com/api/user/aifile/uploadDocuments",e,{headers:{"Content-Type":"multipart/form-data"}});if(console.log(s),"2"===s.data.status){const e=(s.data.failedFiles||[]).map((e=>e.filename)).join(", "),t=`${s.data.message}:\n${e}`;f(t),j(!1),setTimeout((()=>{f("")}),1500)}else N("File uploaded successfully"),setTimeout((()=>{d(),c(),j(!1),N(""),t()}),1e3)}catch(a){alert("Failed to upload or process document")}}},method:"post",action:"javascript:void(0)",children:[(0,l.jsx)(n.Jn,{onClick:t,children:"\xd7"}),(0,l.jsx)(n.wt,{children:"Upload documents (PDF, MS Word, MS Excel, Text Notes)"}),(0,l.jsxs)(n.JU,{children:[(0,l.jsx)("h6",{children:(0,l.jsx)("b",{children:"Click to select files"})}),(0,l.jsx)("p",{children:"or drag it here."}),(0,l.jsx)("input",{type:"file",name:"documents",multiple:!0,accept:".pdf, .doc, .docx, .xls, .xlsx, .txt",onChange:e=>{const t=e.target.files;t&&t.length>0&&(t.length>10?(g("You can upload a maximum of 10 files only."),h([])):(g(""),h(Array.from(t))))}}),u.length>0&&(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[u.length," File"]})})]}),x&&(0,l.jsx)("span",{className:"text-danger fileerror",children:x}),b&&(0,l.jsx)("span",{className:"text-danger fileerror",children:b}),k&&(0,l.jsx)("span",{className:"text-success fileerror",children:k}),(0,l.jsxs)(n.e2,{children:[(0,l.jsx)(n.IY,{onClick:t,children:"Close"}),(0,l.jsxs)(n.IY,{disabled:y,variant:"upload",type:"submit",style:{opacity:y?.6:1},className:"submit d-flex align-items-center gap-2",children:["Submit",y&&(0,l.jsx)("div",{className:"white-spinner spinner-border spinneronetimepay m-0",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden"})})]})]})]})})})}},5379:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7104:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},11723:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var a=s(65043),n=s(65136),i=s(44710),l=(s(38421),s(53579)),o=s(27836),r=s(86178),c=s.n(r),d=s(87268),p=(s(83656),s(86213)),m=s(4563),u=s(26022),h=s(63393),x=s(69677),g=s(70579);const y=(0,x.c)("pk_test_51RUJzWAx6rm2q3pys9SgKUPRxNxPZ4P1X6EazNQvnPuHKOOfzGsbylaTLUktId9ANHULkwBk67jnp5aqZ9Dlm6PR00jKdDwvSq"),j=e=>{let{onClose:t}=e;var s="https://blueprintcatalyst.com/api/user/aifile/";const n=localStorage.getItem("UserLoginData"),i=JSON.parse(n),[l,r]=(0,a.useState)("");(0,a.useEffect)((()=>{c()}),[]);const c=async()=>{let e={user_id:""};try{var t=(await p.A.post("https://blueprintcatalyst.com/api/admin/module/getDataroompayment",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;r(t[0])}catch(s){s.response||(s.request?console.error("Request data:",s.request):console.error("Error message:",s.message))}},d=e=>{let{payment:t}=e;const[n,l]=(0,a.useState)(t),o=(0,h.useStripe)(),[r,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),x=(0,h.useElements)(),[y,j]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[k,N]=(0,a.useState)(""),[w,v]=(0,a.useState)(!1);setTimeout((()=>{N("")}),5e3);const S=async e=>{try{await p.A.post(`${s}CreateuserSubscriptionLockFile`,e,{headers:{Accept:"application/json","Content-Type":"application/json"}}),N("Payment successful! \ud83c\udf89"),v(!1),setTimeout((()=>{window.location.reload()}),2e3)}catch(t){console.error("Success handler error:",t),N("Payment was captured, but post-process failed."),v(!0)}finally{f(!1)}};return(0,g.jsxs)("form",{onSubmit:async e=>{if(console.log(o),e.preventDefault(),console.log(o),!o||!x)return;const t=x.getElement(h.CardElement);if(!t)return N("Payment form is not ready. Please reload the page."),void v(!0);f(!0);try{const{data:e}=await p.A.post(`${s}CreateuserSubscriptionPaymentLockFile`,{user_id:i.id,amount:n}),a=await o.confirmCardPayment(e.clientSecret,{payment_method:{card:t}});if(a.error)N(a.error.message),v(!0),f(!1);else if("succeeded"===a.paymentIntent.status){const t={user_id:i.id,amount:n,clientSecret:e.clientSecret,payment_status:a.paymentIntent.status};await S(t)}else N("Payment failed. Try again."),v(!0),f(!1)}catch(a){N("Unexpected error occurred."),v(!0),f(!1)}},action:"javascript:void(0)",method:"post",children:[(0,g.jsx)("div",{className:"form-control rounded-3",style:{padding:"0.75rem",border:"1px solid #000",borderColor:"#ced4da"},children:(0,g.jsx)(h.CardElement,{options:{style:{base:{fontSize:"16px",color:"#32325d",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',"::placeholder":{color:"#a0aec0"},padding:"0.75rem"},invalid:{color:"#e5424d"}},classes:{base:"stripe-card-element",focus:"border-primary",invalid:"border-danger"}}})}),(0,g.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end mt-4",children:(0,g.jsxs)(u.$n,{disabled:!o||b,type:"submit",className:"submit d-flex align-items-center gap-2",style:{background:"#003b21"},children:[!b&&(0,g.jsxs)("span",{children:["Pay \u20ac",n]}),b&&(0,g.jsx)("div",{className:"spinner-border text-white spinneronetimepay m-0",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})]})}),k&&(0,g.jsx)("p",{className:w?" mt-3 error_pop":"success_pop mt-3",children:k})]})};return(0,g.jsx)(o.hJ,{children:(0,g.jsxs)(o.Bs,{children:[(0,g.jsx)(o.Jn,{onClick:t,children:"\xd7"}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)("h5",{className:"fw-bold text-dark mb-2",children:"Payment"})}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("div",{className:"fs-4 fw-semibold text-dark",children:["Credit:"," ",(0,g.jsxs)("span",{style:{color:"#2e5692"},className:"fw-bold",children:["\u20ac",l.perInstance_Fee]})]}),(0,g.jsxs)("ul",{className:"list-group list-group-flush mt-3",children:[(0,g.jsx)("li",{className:"list-group-item text-dark ps-0",children:"To generate a diligence report, all documents in the data room must be locked."}),(0,g.jsx)("li",{className:"list-group-item text-dark ps-0",children:"Documents in the data room are editable until the first diligence report is generated."}),(0,g.jsx)("li",{className:"list-group-item text-dark ps-0",children:"After generating a diligence report, you can still manage documents, but they must be locked, and credits are required to create a new version."}),(0,g.jsxs)("li",{className:"list-group-item text-dark ps-0",children:["Additional document generation:"," ",(0,g.jsxs)("strong",{children:["\u20ac",l.perInstance_Fee]})," per instance."]})]})]}),(0,g.jsx)("div",{className:"text-center mb-4",children:(0,g.jsx)("img",{src:"/assets/user/images/cardimage.jpg",alt:"cards",className:"img-fluid rounded",style:{maxWidth:"200px"}})}),(0,g.jsx)(h.Elements,{stripe:y,children:(0,g.jsx)(d,{payment:l.perInstance_Fee})})]})]})})};var b=s(56052),f=s(83885),k=s(17321),N=s(37022),w=s(48173),v=s(23156),S=s(60184),A=s(65727),C=s(40614),_=s(61064),I=s(5379),D=s(7104),T=s(77784);const F=(0,T.A)("brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),P=(0,T.A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),E=(0,T.A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var U=s(73216);const Y=(0,x.c)("pk_test_51RUJzWAx6rm2q3pys9SgKUPRxNxPZ4P1X6EazNQvnPuHKOOfzGsbylaTLUktId9ANHULkwBk67jnp5aqZ9Dlm6PR00jKdDwvSq");function L(){const[e,t]=(0,a.useState)([]),[s,r]=(0,a.useState)(""),[x,y]=(0,a.useState)(""),[T,L]=(0,a.useState)(!1),[M,q]=(0,a.useState)(!1),[$,R]=(0,a.useState)(""),[O,z]=((0,d.ye)(c()),(0,a.useState)(!1)),[J,H]=(0,a.useState)(!1),[B,W]=(0,a.useState)(!1),[G,K]=(0,a.useState)([]),Q=localStorage.getItem("UserLoginData"),[V,Z]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(!0),te=JSON.parse(Q);var se="https://blueprintcatalyst.com/api/user/aifile/";document.title="Dataroom Management & Diligence";const[ae,ne]=(0,a.useState)(!1),[ie,le]=(0,a.useState)("Onetime"),[oe,re]=(0,a.useState)(""),[ce,de]=(0,a.useState)(!1),[pe,me]=(0,a.useState)(!1),[ue,he]=(0,a.useState)(""),[xe,ge]=(0,a.useState)("");(0,a.useEffect)((()=>{ke()}),[]),(0,a.useEffect)((()=>{ye()}),[]),(0,a.useEffect)((()=>{}),[]);const ye=async()=>{let e={user_id:te.id};try{const t=await p.A.post(se+"getcompanyData",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(t.data.results),t.data.results.length>0&&(ge(t.data.results[0].downloadUrl),he(t.data.results[0]))}catch(ae){}};(0,a.useEffect)((()=>{je()}),[]);const je=async()=>{let e={user_id:te.id};try{const t=await p.A.post(se+"getcheckDataRoomPlusInvestorSubscription",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log(t.data.results[0].active_until),t.data.results.length>0){const e=new Date(t.data.results[0].active_until),s=new Date;e.setHours(0,0,0,0),s.setHours(0,0,0,0),me(s<=e)}}catch(ae){}};(0,a.useEffect)((()=>{be()}),[]);const be=async()=>{let e={user_id:te.id};try{(await p.A.post(se+"getDocumentcheck",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results.length>0?de(!0):de(!1)}catch(ae){}},fe=(0,U.Zp)(),ke=async()=>{let e={user_id:te.id};try{const t=await p.A.post("https://blueprintcatalyst.com/api/user/getcategories",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(t.data.results),K(t.data.results)}catch(ae){}},Ne="https://blueprintcatalyst.com/api/admin/module/",[we,ve]=(0,a.useState)(""),[Se,Ae]=(0,a.useState)(""),[Ce,_e]=(0,a.useState)(""),[Ie,De]=(0,a.useState)(""),[Te,Fe]=(0,a.useState)(!1);(0,a.useEffect)((()=>{Pe(),Le()}),[]);const Pe=async()=>{let e={user_id:""};try{var t=(await p.A.post(Ne+"getDataroompayment",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;De(t[0])}catch(ae){ae.response||(ae.request?console.error("Request data:",ae.request):console.error("Error message:",ae.message))}},Ee=e=>{let{payment:t,referstatus:s}=e;console.log(s);const[n,i]=(0,a.useState)(t),[l,o]=(0,a.useState)(s),r=(0,h.useStripe)(),[c,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),y=(0,h.useElements)(),[j,b]=(0,a.useState)(""),[f,k]=(0,a.useState)(!1),[N,w]=(0,a.useState)(""),[v,S]=(0,a.useState)(!1);setTimeout((()=>{w("")}),5e3);const A=async e=>{try{await p.A.post(`${se}CreateuserSubscriptionDataRoom`,e,{headers:{Accept:"application/json","Content-Type":"application/json"}}),w("Payment successful! \ud83c\udf89"),S(!1),setTimeout((()=>{window.location.reload()}),2e3)}catch(v){console.error("Success handler error:",v),w("Payment was captured, but post-process failed."),S(!0)}finally{k(!1)}},C=async e=>{try{await p.A.post(`${se}CreateuserSubscriptionDataRoomPerinstance`,e,{headers:{Accept:"application/json","Content-Type":"application/json"}}),w("Payment successful! \ud83c\udf89"),S(!1),setTimeout((()=>{window.location.reload()}),2e3)}catch(v){console.error("Success handler error:",v),w("Payment was captured, but post-process failed."),S(!0)}finally{k(!1)}};return(0,g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!r||!y)return;const t=y.getElement(h.CardElement);if(!t)return w("Payment form is not ready. Please reload the page."),void S(!0);k(!0);try{const{data:e}=await p.A.post(`${se}CreateuserSubscriptionDataRoomCheck`,{user_id:te.id,amount:n}),s=await r.confirmCardPayment(e.clientSecret,{payment_method:{card:t}});if(s.error)w(s.error.message),S(!0),k(!1);else if("succeeded"===s.paymentIntent.status){const t={code:m,user_id:te.id,amount:n,clientSecret:e.clientSecret,PayidOnetime:oe,payment_status:s.paymentIntent.status,discount:c};"Perinstance"===ie?await C(t):await A(t)}else w("Payment failed. Try again."),S(!0),k(!1)}catch(s){w("Unexpected error occurred."),S(!0),k(!1)}},children:[(0,g.jsx)("div",{className:"form-control rounded-3",style:{padding:"0.75rem",border:"1px solid #000",borderColor:"#ced4da"},children:(0,g.jsx)(h.CardElement,{options:{style:{base:{fontSize:"16px",color:"#32325d",fontFamily:'"Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',"::placeholder":{color:"#a0aec0"},padding:"0.75rem"},invalid:{color:"#e5424d"}},classes:{base:"stripe-card-element",focus:"border-primary",invalid:"border-danger"}}})}),s&&(0,g.jsxs)("div",{className:"d-flex gap-2 d-md-flex justify-content-md-end mt-4",children:[(0,g.jsxs)("div",{className:"d-flex flex-column",children:[(0,g.jsx)("input",{type:"text",name:"refferal_code",defaultValue:m,onInput:async e=>{const t=e.target.value.toUpperCase();x(t)},className:"form-control w-auto",autoComplete:"off",placeholder:"Apply Referral Code",style:{textTransform:"uppercase"}}),j&&(0,g.jsx)("span",{className:"text-danger mt-1",style:{fontSize:"0.875rem"},children:j})]}),(0,g.jsx)(u.$n,{type:"button",onClick:async()=>{if(""===m)b("Enter the code");else{let t={code:m,type:"Dataroom_Plus_Investor_Report",email:te.email};try{const s=await p.A.post(`${se}checkreferCode`,t,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(s.data.results.length>0){var e=s.data.results[0];if(e.usage_limit>e.used_count){d(e.percentage);const t=Ie.onetime_Fee*e.percentage/100,s=Ie.onetime_Fee-t;i(s),b("")}else d(""),i(Ie.onetime_Fee),b("This code already used")}else d(""),i(Ie.onetime_Fee),b("Invalid code!")}catch(v){}}},className:"submit d-flex align-items-center gap-2",style:{background:"#5C636B",height:"fit-content"},children:"Apply Code"})]}),c&&(0,g.jsxs)("div",{className:"d-flex gap-2 d-md-flex justify-content-md-end mt-4",children:[(0,g.jsx)("b",{children:"Discount:"})," ",c,"%"]}),(0,g.jsx)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end mt-4",children:(0,g.jsxs)(u.$n,{disabled:!r||f,type:"submit",className:"submit d-flex align-items-center gap-2",style:{background:"#003b21"},children:[!f&&(0,g.jsxs)("span",{children:["Pay \u20ac",n]}),f&&(0,g.jsx)("div",{className:"spinner-border text-white spinneronetimepay m-0",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})]})}),N&&(0,g.jsx)("p",{className:v?" mt-3 error_pop":"success_pop mt-3",children:N})]})},[Ue,Ye]=(0,a.useState)(!1),Le=async()=>{let e={user_id:te.id};try{const t=(await p.A.post(Ne+"getCheckOnetimePayment",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;if(t.length>0){const e=new Date(t[0].end_date),s=new Date;e.setHours(0,0,0,0),s.setHours(0,0,0,0),s<=e?(Ye(!1),Fe(!0)):(Ye(!0),Fe(!1))}else Ye(!1),Fe(!1)}catch(ae){ae.response||(ae.request?console.error("Request data:",ae.request):console.error("Error message:",ae.message))}},[Me,qe]=(0,a.useState)(!1),[$e,Re]=(0,a.useState)(!1),[Oe,ze]=(0,a.useState)(!0),[Je,He]=(0,a.useState)(""),[Be,We]=(0,a.useState)(""),[Ge,Ke]=(0,a.useState)(""),Qe=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";je();let a={cat_id:e};""===s&&(it(null),Xe(null));try{const s=(await p.A.post(se+"getcategoryname",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;He(e),We(t),!1===Te&&!1===pe?qe(!0):z(!0),s.length>0?Ke(s[0].name):Ke("Others")}catch(ae){}},Ve=()=>{qe(!1),At(!1),Re(!1)},[Ze,Xe]=(0,a.useState)(null),[et,tt]=(0,a.useState)(""),[st,at]=a.useState({}),[nt,it]=(0,a.useState)(null),[lt,ot]=(0,a.useState)(null),[rt,ct]=(0,a.useState)(""),[dt,pt]=(0,a.useState)(""),mt=(e,t)=>{const s=`${e}-${t}`;it((e=>e===s?null:s))},ut=()=>{ke(),z(!1),be()},[ht,xt]=(0,a.useState)(!1),[gt,yt]=(0,a.useState)([]),[jt,bt]=(0,a.useState)(!1),[ft,kt]=(0,a.useState)(""),[Nt,wt]=(0,a.useState)(""),vt=()=>{xt(!1),bt(!1),ke()},[St,At]=(0,a.useState)(!1),Ct=async()=>{te.id;!1===ce?_e("You do not have permission, Please upload the documents "):Ae("\u26a0\ufe0f Before proceeding, confirm that all required documents have been uploaded. Clicking forward will impact your credit balance, and this action cannot be undone.")},[_t,It]=(0,a.useState)(0),[Dt,Tt]=(0,a.useState)(!1),[Ft,Pt]=(0,a.useState)("Generate / Update Due Diligence Document"),[Et,Ut]=(0,a.useState)(""),[Yt,Lt]=(0,a.useState)(null);(0,a.useEffect)((()=>{}),[]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(l.mO,{children:(0,g.jsxs)("div",{className:"fullpage d-block",children:[(0,g.jsx)(n.A,{}),Et&&(0,g.jsx)("p",{className:ae?" mt-3 error_pop":"success_pop mt-3",children:Et}),we&&(0,g.jsx)(N.A,{message:we,onConfirm:async()=>{let e={id:et,user_id:te.id};try{const t=await p.A.post(se+"UserDocDeleteFile",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});ke(),Xe(null),ve("");const s=t.data.message;Ut(s),ne(!0),setTimeout((()=>{ne(!1),Ut("")}),1e3)}catch(ae){}},onCancel:()=>{ve("")}}),Se&&(0,g.jsx)(N.A,{message:Se,onConfirm:async()=>{let e={user_id:te.id};Ae("");try{const a=await p.A.post(se+"checkuserSubscriptionThreeMonth",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data.results.length>0){var t=a.data.results;let e={user_id:te.id,payid:t[0].id};re(t[0].id);try{if((await p.A.post(se+"perInstancePayment",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.allowGeneration){Pt("Please don't refresh the page"),It(0),Tt(!0);const t=setInterval((()=>{It((e=>e>=95?e:Math.min(e+10*Math.random(),95)))}),500);Ae(""),Z(!0),ee(!0);try{var s=(await p.A.post(se+"generateProcessAI",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;"2"===s.status?(Z(!1),Tt(!1),q(!0),R(s.message),Pt("Generate / Update Due Diligence Document"),setTimeout((()=>{q(!1),R("")}),1200)):(clearInterval(t),It(100),Z(!1),setTimeout((()=>{Tt(!1),fe("/approvalpage/"+s.code)}),500))}catch(ae){console.error("Error generating summary",ae)}}else le("Perinstance"),ee(!1),At(!0)}catch(ae){}}else qe(!0),Ye(!0)}catch(ae){}},onCancel:()=>{Ae("")}}),s&&(0,g.jsx)(N.A,{message:s,onConfirm:async()=>{let t={user_id:te.id,lockId:e};try{await p.A.post(se+"filelock",t,{headers:{Accept:"application/json","Content-Type":"application/json"}});R("Documents locked successfully"),setTimeout((()=>{ke(),r(""),R(""),be()}),1200)}catch(ae){}},onCancel:()=>{r("")}}),x&&(0,g.jsx)(N.A,{message:x,onConfirm:async()=>{let e={user_id:te.id};try{const t=await p.A.post(se+"allfileslock",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});R(t.data.message),"1"===t.data.status?q(!1):q(!0),setTimeout((()=>{q(!1),y(""),ke(),R("")}),1200)}catch(ae){}},onCancel:()=>{y("")}}),Ce&&(0,g.jsx)(w.A,{message:Ce,onClose:()=>{_e("")}}),$&&(0,g.jsx)("p",{className:M?" mt-3 error_pop":"success_pop mt-3",children:$}),(0,g.jsx)(l.$K,{className:"d-block py-5",children:(0,g.jsx)("div",{className:"container-lg",children:(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-md-3",children:(0,g.jsx)(i.A,{})}),(0,g.jsx)("div",{className:"col-md-9",children:(0,g.jsxs)(o.zP,{className:"d-flex flex-column gap-4",children:[(0,g.jsxs)("div",{className:"titleroom d-flex  justify-content-between align-items-center text-center",children:[(0,g.jsxs)("button",{type:"button",disabled:V,style:{opacity:V?.6:1},onClick:Ct,className:"generatebutton  btn btn-outline-dark active d-flex align-items-center gap-2",children:[(0,g.jsx)("span",{disabled:!ce,style:{opacity:ce?1:.6},children:Ft}),V&&(0,g.jsx)("div",{className:" spinner-color spinner-border spinneronetimepay m-0",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})]}),(0,g.jsx)("button",{type:"button",onClick:()=>{y("Are you sure you want to lock all documents? This is required to generate a new diligence report.")},className:"generatebutton  btn btn-outline-dark active d-flex align-items-center gap-2",children:(0,g.jsx)("span",{children:"Lock All Documents"})}),(0,g.jsx)("h4",{children:"Dataroom Management & Diligence"})]}),(0,g.jsxs)("div",{className:"table-responsive",children:[G.map((e=>{const t=`tooltip-${e.category_id}`,s=`tooltipex-${e.category_id}`,a=`tooltipDoc-${e.category_id}`;return(0,g.jsxs)("table",{className:"table dataroomtab",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsxs)(o.A0,{children:[e.name," ",e.category_tips&&(0,g.jsxs)("span",{className:"tooltip-icon",tabIndex:0,"aria-describedby":t,children:[(0,g.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip Image"}),(0,g.jsx)("div",{className:"tooltip-text tool-test-white text-white",id:t,role:"tooltip",dangerouslySetInnerHTML:{__html:e.category_tips}})]})]}),(0,g.jsx)(o.A0,{children:"Upload Documents"}),(0,g.jsxs)(o.A0,{children:["Manage Documents",e.do_not_exits&&(0,g.jsxs)("span",{className:"tooltip-icon",tabIndex:0,"aria-describedby":a,children:[(0,g.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip Image"}),(0,g.jsx)("div",{className:"tooltip-text tool-test-white text-white",id:a,role:"tooltip",dangerouslySetInnerHTML:{__html:e.do_not_exits}})]})]}),(0,g.jsxs)(o.A0,{children:["Exists but NOT Available",e.exits_tips&&(0,g.jsxs)("span",{className:"tooltip-icon",tabIndex:0,"aria-describedby":s,children:[(0,g.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip Image"}),(0,g.jsx)("div",{className:"tooltip-text tool-test-white text-white",id:s,role:"tooltip",dangerouslySetInnerHTML:{__html:e.exits_tips}})]})]}),(0,g.jsx)(o.A0,{children:"Provided"})]})}),e.subcategories&&e.subcategories.length>0?(0,g.jsx)("tbody",{children:e.subcategories.map(((t,s)=>{const a=`tooltip-${e.id}-${t.id}`;e.id,t.id;return(0,g.jsxs)("tr",{children:[(0,g.jsx)(o.l$,{children:(0,g.jsxs)("h6",{children:[t.name,t.tips&&(0,g.jsxs)("span",{className:"tooltip-icon",tabIndex:0,"aria-describedby":a,children:[(0,g.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip Image"}),(0,g.jsx)("div",{className:"tooltip-text tool-test-white text-white",id:a,role:"tooltip",dangerouslySetInnerHTML:{__html:t.tips}})]})]})}),(0,g.jsx)(o.l$,{children:(0,g.jsx)(o.s5,{type:"button",onClick:()=>{"Yes"!==t.Ai_generate?Qe(e.id,t.id):"Yes"===t.lockStatus&&(async()=>{let e={user_id:te.id};try{!0===(await p.A.post(se+"lockFileCheckSubscription",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.allowEdit&&H(!0)}catch(ae){}})(e.id,t.id)},children:t.documents.length>0?(0,g.jsx)("span",{children:"Yes"===t.Ai_generate?(0,g.jsx)(g.Fragment,{children:(t.lockStatus,(0,g.jsxs)(g.Fragment,{children:["Lock"," ",(0,g.jsx)(A.A,{size:16,className:"text-white",title:"Locked"})]}))}):(0,g.jsxs)(g.Fragment,{children:["Add ",(0,g.jsx)(v.OiG,{})]})}):(0,g.jsx)("span",{children:"Click to upload"})})}),(0,g.jsx)(o.l$,{children:t.documents&&t.documents.length>0?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.s5,{type:"button",onClick:()=>mt(e.id,t.id),children:nt===`${e.id}-${t.id}`?"Hide Documents":"View Documents"}),nt===`${e.id}-${t.id}`&&(0,g.jsx)("div",{className:"popupDataRoom",children:(0,g.jsxs)("div",{className:"uploadFilescroll position-relative",children:[(0,g.jsxs)("div",{className:"d-flex mb-2 justify-content-between align-items-center bg-primary-subtle p-2",children:[(0,g.jsx)("h4",{className:"docName",children:t.name}),(0,g.jsx)("div",{className:"d-flex gap-2 align-items-center",children:(0,g.jsx)("button",{type:"button",className:"closebtn",onClick:()=>mt(e.id,t.id),children:(0,g.jsx)(C.A,{width:14,height:14})})})]}),(0,g.jsx)("ol",{className:"text-start text-capitalize pdflist",children:t.documents.map((s=>(0,g.jsx)("li",{children:(0,g.jsxs)("span",{className:"d-flex justify-content-between align-items-center",children:[(0,g.jsxs)("span",{className:"d-flex align-items-center gap-1",children:[(0,g.jsx)(g.Fragment,{children:"Yes"===s.locked?(0,g.jsx)(A.A,{size:16,className:"text-danger",title:"Locked"}):(0,g.jsx)(_.A,{size:16,className:"text-success",title:"Unlocked"})}),s.name]}),(0,g.jsxs)("div",{className:"d-inline ms-2",children:[(0,g.jsx)("button",{title:"More actions",className:"btn btn-link p-0 text-dark",type:"button",onClick:()=>{return e=s.id,tt(e),void Xe((t=>t===e?null:e));var e},children:(0,g.jsx)(I.A,{width:16,height:16})}),Ze===s.id&&(0,g.jsxs)("div",{style:{position:"absolute",width:"100px",backgroundColor:"#fff",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",padding:"2px",zIndex:997,right:0},children:[(0,g.jsxs)("button",{type:"button",title:"Download",className:"editdelete-links",onClick:()=>(async(e,t,s,a)=>{try{const t=await p.A.post(se+"filedownload",{userId:e,folderName:a,filename:s},{responseType:"blob"}),n=new Blob([t.data]),i=window.URL.createObjectURL(n),l=document.createElement("a");l.href=i,l.download=s,document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(i)}catch(ae){alert("Download failed"),console.error(ae)}})(s.user_id,s.id,s.name,s.folder_name),children:[(0,g.jsx)(D.A,{className:"me-1",width:12,height:10}),"Download"]}),(0,g.jsxs)("button",{type:"button",title:"Yes"===s.Ai_generate?"Yes":"No",className:"editdelete-links",children:[(0,g.jsx)(F,{className:"me-1 text-white",width:12,height:10}),"Yes"===s.Ai_generate?"AI Yes":"AI No"]}),"No"===s.Ai_generate&&(0,g.jsxs)("button",{onClick:()=>(async(e,t)=>{let s={user_id:te.id,id:t};try{const e=await p.A.post(se+"fileslockorUnlock",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(e.data),R(e.data.message),setTimeout((()=>{ke(),R("")}),1200)}catch(ae){}})(s.user_id,s.document_id,s.locked,s.Ai_generate),type:"button",title:"Yes"===s.locked?"Unlock":"Lock",className:"editdelete-links",children:["Yes"===s.locked?(0,g.jsx)(_.A,{className:"me-1 text-white",width:12,height:10}):(0,g.jsx)(A.A,{className:"me-1 text-white",width:12,height:10}),"Yes"===s.locked?"Unlock":"Lock"]}),(0,g.jsxs)("button",{type:"button",title:"Edit",className:"editdelete-links",style:{opacity:"Yes"===s.Ai_generate&&"Yes"===t.lockStatus?.6:1,pointerEvents:"Yes"===s.Ai_generate&&"Yes"===t.lockStatus?"none":"auto"},onClick:()=>(async(e,t,s,a,n,i)=>{if(console.log(s,i),ct(t),pt(e),"Yes"===i&&"Yes"===s&&"Yes"===n){let e={user_id:te.id};try{if(!0===(await p.A.post(se+"lockFileCheckSubscription",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.allowEdit)H(!0);else{let e={cat_id:a};try{const t=(await p.A.post(se+"getcategoryname",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;He(a),W(!0),t.length>0?Ke(t[0].name):Ke("Others")}catch(ae){}}}catch(ae){}}else{let e={cat_id:a};try{const t=(await p.A.post(se+"getcategoryname",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;He(a),W(!0),t.length>0?Ke(t[0].name):Ke("Others")}catch(ae){}}})(s.id,s.name,s.lockStatus,e.id,s.locked,s.Ai_generate),children:[(0,g.jsx)(P,{className:"me-1 text-white",width:10,height:10}),"Yes"===s.Ai_generate?"Replace":"Edit"]}),"Yes"===s.Ai_generate&&(0,g.jsxs)("button",{type:"button",title:"Add",className:"editdelete-links",onClick:()=>Qe(e.id,t.id,"1"),style:{opacity:"Yes"===s.Ai_generate&&"Yes"===t.lockStatus?.6:1,pointerEvents:"Yes"===s.Ai_generate&&"Yes"===t.lockStatus?"none":"auto"},children:[(0,g.jsx)(v.OiG,{className:"me-1",width:10,height:10}),"Add"]}),(0,g.jsxs)("button",{type:"button",title:"Delete",className:"editdelete-links",style:{opacity:"Yes"===s.Ai_generate&&"Yes"===t.lockStatus?.6:1,pointerEvents:"Yes"===s.Ai_generate&&"Yes"===t.lockStatus?"none":"auto"},onClick:()=>(async(e,t,s,a)=>{if("Yes"===t&&"Yes"===s&&"Yes"===a){let e={user_id:te.id};try{const t=await p.A.post(se+"lockFileCheckSubscription",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(t.data)}catch(ae){}}else ve("Are you sure? You want to delete this file")})(s.id,s.locked,s.Ai_generate,s.lockStatus),children:[(0,g.jsx)(E,{className:"me-1",width:10,height:10}),"Delete"]})]})]})]})},s.id)))}),(0,g.jsx)("button",{className:"btn btn-outline-dark",type:"button",onClick:()=>mt(e.id,t.id),children:(0,g.jsx)(S.QCr,{})})]})})]}):(0,g.jsx)("span",{children:"--"})}),(0,g.jsx)(o.l$,{children:(0,g.jsx)("h5",{children:"--"})}),(0,g.jsx)(o.l$,{children:t.documents.length>0?(0,g.jsx)("p",{children:"Yes"}):(0,g.jsx)("span",{children:"--"})})]},t.id)}))}):(0,g.jsx)("tbody",{children:(0,g.jsx)("tr",{children:(0,g.jsx)(o.l$,{colSpan:5,children:(0,g.jsx)("p",{children:"No subcategories"})})})})]},e.id)})),(0,g.jsxs)("div",{className:"titleroom d-flex justify-content-between align-items-center text-center",children:[(0,g.jsxs)("button",{type:"button",disabled:V,style:{opacity:V?.6:1},onClick:Ct,className:"generatebutton btn btn-outline-dark active d-flex align-items-center gap-2",children:[(0,g.jsx)("span",{disabled:!ce,style:{opacity:ce?1:.6},children:Ft}),V&&(0,g.jsx)("div",{className:"spinner-color spinner-border spinneronetimepay m-0",role:"status",children:(0,g.jsx)("span",{className:"visually-hidden"})})]}),(0,g.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,g.jsx)("input",{type:"file",accept:"image/*",id:"companyLogo",style:{display:"none"},onChange:async e=>{const t=e.target.files[0];if(!t)return;Lt(t),ge(URL.createObjectURL(t));const s=new FormData;s.append("logo",t),s.append("user_id",te.id);try{const e=await p.A.post(`${se}uploadcompanyLogo`,s,{headers:{"Content-Type":"multipart/form-data"}});console.log("Logo uploaded:",e.data)}catch(ae){console.error("Error uploading logo:",ae)}}}),(0,g.jsx)("label",{htmlFor:"companyLogo",className:"btn btn-outline-primary m-0",children:"Upload Company Logo"}),xe&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{src:xe,alt:"Company Logo",height:"40",style:{objectFit:"contain",maxWidth:"150px",cursor:"pointer"},onClick:()=>L(!0)}),T&&(0,g.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},onClick:()=>L(!1),children:(0,g.jsxs)("div",{style:{position:"relative"},onClick:e=>e.stopPropagation(),children:[(0,g.jsx)("span",{onClick:()=>L(!1),style:{position:"absolute",top:"-20px",right:"-20px",background:"#fff",color:"#000",borderRadius:"50%",padding:"4px 10px",cursor:"pointer",fontWeight:"bold",fontSize:"18px",boxShadow:"0 0 5px rgba(0,0,0,0.5)"},children:"\u2716"}),(0,g.jsx)("img",{src:xe,alt:"Full Logo",style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:"8px",boxShadow:"0 0 10px #fff"}})]})})]})]})]})]})]})})]})})})]})}),O&&(0,g.jsx)(m.A,{onClose:()=>z(!1),catgeoryId:Je,subcatgeoryId:Be,CategorynameFile:Ge,refreshpage:ut,lockunlockId:()=>{if(Be){t(Be);r("To generate a diligence report, all documents in the data room must be locked.\nThis document is editable until the first diligence report is generated.\n\nI want to lock this document.")}}}),J&&(0,g.jsx)(j,{onClose:()=>H(!1)}),B&&(0,g.jsx)(b.A,{onClose:()=>W(!1),catgeoryId:Je,subcatgeoryId:Be,CategorynameFile:Ge,refreshpage:ut,Docname:rt,DeleteIdDocs:et,docId:dt}),ht&&(0,g.jsx)(k.A,{onClose:()=>xt(!1),catgeoryId:Je,subcatgeoryId:Be,CategorynameFile:Ge,refreshpageAi:vt,Docname:rt,DeleteIdDocs:et,AIquestions:gt}),jt&&(0,g.jsx)(f.A,{onClose:()=>bt(!1),AiUpdatesummaryID:ft,refreshpageAi:vt,AISummary:Nt}),Me&&(0,g.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:"-1",role:"dialog","aria-labelledby":"paymentModalLabel","aria-hidden":"false",children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,g.jsxs)("div",{className:"modal-content rounded-4 shadow-lg p-4",children:[(0,g.jsx)("button",{type:"button",className:"btn-close position-absolute top-0 end-0 m-3",onClick:Ve,"aria-label":"Close"}),Oe&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h2",{className:"modal-title text-center fw-bold text-dark mb-4",id:"paymentModalLabel",children:["Payment For ",Ue&&"Renew"]}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)("h5",{className:"fw-bold text-dark mb-2",children:"Dataroom Management & Diligence"})}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("div",{className:"fs-4 fw-semibold text-dark",children:["Fee:"," ",(0,g.jsxs)("span",{style:{color:"#2e5692"},className:"fw-bold",children:["\u20ac",Ie.onetime_Fee]})," ",(0,g.jsx)("span",{className:"fs-6 text-muted",children:"(One-Time)"})]}),(0,g.jsxs)("ul",{className:"list-group list-group-flush mt-3",children:[(0,g.jsx)("li",{className:"list-group-item text-dark ps-0",children:"Access to Dataroom for 3 months"}),(0,g.jsx)("li",{className:"list-group-item text-dark ps-0",children:"Includes uploading of documents"}),(0,g.jsxs)("li",{className:"list-group-item text-dark ps-0",children:["Due diligence documents can be generated"," ",(0,g.jsx)("strong",{children:"2 times"})]}),(0,g.jsxs)("li",{className:"list-group-item text-dark ps-0",children:["Additional generation:"," ",(0,g.jsxs)("strong",{children:["\u20ac",Ie.perInstance_Fee," per instance"]})]})]})]})]}),(0,g.jsx)("div",{className:"text-center mb-4",children:(0,g.jsx)("img",{src:"/assets/user/images/cardimage.jpg",alt:"cards",className:"img-fluid rounded",style:{maxWidth:"200px"}})}),(0,g.jsx)(h.Elements,{stripe:Y,children:(0,g.jsx)(Ee,{payment:Ie.onetime_Fee,referstatus:X})})]})})}),St&&(0,g.jsx)("div",{className:"modal fade show d-block",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},tabIndex:"-1",role:"dialog","aria-labelledby":"paymentModalLabel","aria-hidden":"false",children:(0,g.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:(0,g.jsxs)("div",{className:"modal-content rounded-4 shadow-lg p-4",children:[(0,g.jsx)("button",{type:"button",className:"btn-close position-absolute top-0 end-0 m-3",onClick:Ve,"aria-label":"Close"}),Oe&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("h2",{className:"modal-title text-center fw-bold text-dark mb-4",id:"paymentModalLabel",children:["Payment For ",Ue&&"Renew"]}),(0,g.jsx)("div",{className:"mb-4",children:(0,g.jsx)("h5",{className:"fw-bold text-dark mb-2",children:"Dataroom Management & Diligence"})}),(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("div",{className:"fs-4 fw-semibold text-dark",children:["Fee:"," ",(0,g.jsxs)("span",{style:{color:"#2e5692"},className:"fw-bold",children:["\u20ac",Ie.perInstance_Fee]})," ",(0,g.jsx)("span",{className:"fs-6 text-muted",children:"(Per-Instance)"})]}),(0,g.jsx)("ul",{className:"list-group list-group-flush mt-3",children:(0,g.jsxs)("li",{className:"list-group-item text-dark ps-0",children:[(0,g.jsxs)("strong",{children:["Any additional generations will incur a fee of \u20ac",Ie.perInstance_Fee,"per instance"]}),"."]})})]})]}),(0,g.jsx)("div",{className:"text-center mb-4",children:(0,g.jsx)("img",{src:"/assets/user/images/cardimage.jpg",alt:"cards",className:"img-fluid rounded",style:{maxWidth:"200px"}})}),(0,g.jsx)(h.Elements,{stripe:Y,children:(0,g.jsx)(Ee,{payment:Ie.perInstance_Fee,referstatus:X})})]})})})]})}},17321:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(65043),n=s(27836),i=s(86213),l=s(70579);const o=e=>{let{onClose:t,catgeoryId:s,subcatgeoryId:o,CategorynameFile:r,refreshpageAi:c,Docname:d,DeleteIdDocs:p,AIquestions:m}=e;const u=localStorage.getItem("UserLoginData"),h=JSON.parse(u),[x,g]=(0,a.useState)([]),[y,j]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[k,N]=(0,a.useState)(d),[w,v]=(0,a.useState)(m),[S,A]=(0,a.useState)({}),[C,_]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(w&&w.length>0){const e={};w.forEach((t=>{e[t.id]=t.answer||""})),A(e)}}),[w]);return(0,l.jsx)(n.hJ,{children:(0,l.jsx)(n.Bs,{children:(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=w.map((e=>({questionId:e.id,question:e.questions,answer:S[e.id]||"",user_id:h.id,dataroomdocuments_id:e.dataroomdocuments_id})));try{await i.A.post("https://blueprintcatalyst.com/api/user/aifile/RespoonseAIquestion",t,{headers:{Accept:"application/json","Content-Type":"application/json"}}),_(!0),setTimeout((()=>{c(),_(!1)}),2e3)}catch(s){console.error("Submit error:",s)}},method:"post",action:"javascript:void(0)",children:[(0,l.jsx)(n.Jn,{onClick:t,children:"\xd7"}),(0,l.jsxs)("div",{className:"formmodal",children:[(0,l.jsx)(n.wt,{className:"aititle",children:"AI Question"}),0===w.length&&(0,l.jsx)("span",{children:"No AI Questions"}),w.map(((e,t)=>(0,l.jsxs)("div",{className:"form-group mb-3",children:[(0,l.jsxs)("label",{children:["Question ",t+1]}),(0,l.jsx)("input",{type:"text",className:"form-control mb-2",value:e.questions,readOnly:!0}),(0,l.jsx)("textarea",{className:"form-control",rows:"3",placeholder:"Enter your answer...",value:S[e.id]||"",onChange:t=>{return s=e.id,a=t.target.value,void A((e=>({...e,[s]:a})));var s,a},required:!0})]},e.id)))]}),y&&(0,l.jsx)("span",{className:"text-danger fileerror",children:y}),C&&(0,l.jsx)("span",{className:"text-success fileerror",children:"Updated successfully"}),w.length>0&&(0,l.jsxs)(n.e2,{children:[(0,l.jsx)(n.IY,{onClick:t,children:"Close"}),(0,l.jsxs)(n.IY,{disabled:b,variant:"upload",type:"submit",style:{opacity:b?.6:1},className:"submit d-flex align-items-center gap-2",children:["Save",b&&(0,l.jsx)("div",{className:"white-spinner spinner-border spinneronetimepay m-0",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden"})})]})]})]})})})}},37022:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var a=s(70579);const n=function(e){let{message:t,onConfirm:s,onCancel:n}=e;return(0,a.jsx)("div",{className:"position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999},children:(0,a.jsxs)("div",{className:"bg-white p-4 rounded d-flex flex-column gap-2 shadow-lg alert-pop-mess",style:{maxWidth:"40%"},children:[(0,a.jsx)("p",{children:t}),(0,a.jsxs)("div",{className:"d-flex justify-content-end gap-2",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:n,children:"No"}),(0,a.jsx)("button",{type:"button",className:"btn btn-danger",onClick:s,children:"Yes"})]})]})})}},40614:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},48173:(e,t,s)=>{s.d(t,{A:()=>n});s(65043),s(38421);var a=s(70579);const n=function(e){let{message:t,onClose:s}=e;return(0,a.jsx)("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",zIndex:1050},tabIndex:"-1",role:"dialog",children:(0,a.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,a.jsxs)("div",{className:"modal-content border-0 shadow-lg",children:[(0,a.jsx)("div",{className:"modal-header border-0",children:(0,a.jsxs)("h5",{className:"modal-title text-danger fw-bold",children:[(0,a.jsx)("i",{className:"bi bi-exclamation-circle-fill me-2"}),"Error"]})}),(0,a.jsx)("div",{className:"modal-body",children:(0,a.jsx)("div",{className:"alert alert-danger mb-0",role:"alert",children:t})}),(0,a.jsx)("div",{className:"modal-footer border-0",children:(0,a.jsx)("button",{type:"button",className:"btn btn-danger px-4",onClick:s,children:"Close"})})]})})})}},56052:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(65043),n=s(27836),i=s(86213),l=s(70579);const o=e=>{let{onClose:t,catgeoryId:s,subcatgeoryId:o,CategorynameFile:r,refreshpage:c,Docname:d,DeleteIdDocs:p,docId:m}=e;const u=localStorage.getItem("UserLoginData"),h=JSON.parse(u),[x,g]=(0,a.useState)([]),[y,j]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[k,N]=(0,a.useState)(d),[w,v]=(0,a.useState)(!1),[S,A]=(0,a.useState)(""),[C,_]=(0,a.useState)("");return(0,l.jsx)(n.hJ,{children:(0,l.jsx)(n.Bs,{children:(0,l.jsxs)("form",{onSubmit:async e=>{if(0===x.length)j("Please choose the file"),setTimeout((()=>{j("")}),1e3);else{f(!0),j("");const e=new FormData;x.forEach((t=>{e.append("documents",t)})),e.append("user_id",h.id),e.append("catgeoryId",s),e.append("subcatgeoryId",o),e.append("filetype",r),e.append("documentId",p);try{const s=await i.A.post("https://blueprintcatalyst.com/api/user/aifile/uploadDocumentsEdit",e,{headers:{"Content-Type":"multipart/form-data"}});if("2"===s.data.status){const e=(s.data.failedFiles||[]).map((e=>e.filename)).join(", "),t=`${s.data.message}:\n${e}`;A(t),f(!1),setTimeout((()=>{A("")}),1500)}else _("File updated successfully"),setTimeout((()=>{_(""),c(),f(!1),t()}),1200)}catch(a){alert("Failed to upload or process document")}}},method:"post",action:"javascript:void(0)",children:[(0,l.jsx)(n.Jn,{onClick:t,children:"\xd7"}),(0,l.jsxs)("h4",{className:"mb-2",children:["Edit: ",d]}),(0,l.jsx)(n.wt,{children:"Upload documents (PDF, MS Word, MS Excel, Text Notes)"}),C&&(0,l.jsx)("p",{className:w?" mt-3 error_pop":"success_pop mt-3",children:C}),(0,l.jsxs)(n.JU,{children:[(0,l.jsx)("h6",{children:(0,l.jsx)("b",{children:"Click to select files"})}),(0,l.jsx)("p",{children:"or drag it here."}),(0,l.jsx)("input",{type:"file",name:"documents",accept:".pdf, .doc, .docx, .xls, .xlsx, .txt",onChange:e=>{const t=e.target.files;if(t&&t.length>0)if(t.length>10)j("You can upload a maximum of 10 files only."),g([]);else{j("");const e=Array.from(t);g(e),1===e.length?N(e[0].name):N(`${e.length} files selected`)}}}),x.length>0&&(0,l.jsx)("div",{children:(0,l.jsxs)("span",{children:[x.length," File"]})})]}),S&&(0,l.jsx)("span",{className:"text-danger fileerror",children:S}),y&&(0,l.jsx)("span",{className:"text-danger fileerror",children:y}),(0,l.jsxs)(n.e2,{children:[(0,l.jsx)(n.IY,{onClick:t,children:"Close"}),(0,l.jsxs)(n.IY,{disabled:b,variant:"upload",type:"submit",style:{opacity:b?.6:1},className:"submit d-flex align-items-center gap-2",children:["Update",b&&(0,l.jsx)("div",{className:"white-spinner spinner-border spinneronetimepay m-0",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden"})})]})]})]})})})}},61064:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},65727:(e,t,s)=>{s.d(t,{A:()=>a});const a=(0,s(77784).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},83885:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(65043),n=s(27836),i=s(86213),l=s(70579);const o=e=>{let{onClose:t,AiUpdatesummaryID:s,refreshpageAi:o,AISummary:r}=e;const c=localStorage.getItem("UserLoginData"),d=JSON.parse(c),[p,m]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[x,g]=(0,a.useState)(r),[y,j]=(0,a.useState)({}),[b,f]=(0,a.useState)(!1);return(0,l.jsx)(n.hJ,{children:(0,l.jsx)(n.Bs,{children:(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault();let t={aisummary:e.target.aisummary.value,id:s,user_id:d.id};try{await i.A.post("https://blueprintcatalyst.com/api/user/aifile/aisummaryUpdate",t,{headers:{Accept:"application/json","Content-Type":"application/json"}}),f(!0),setTimeout((()=>{o(),f(!1)}),2e3)}catch(a){console.error("Submit error:",a)}},method:"post",action:"javascript:void(0)",children:[(0,l.jsx)(n.Jn,{onClick:t,children:"\xd7"}),(0,l.jsxs)("div",{className:"formmodal",children:[(0,l.jsx)(n.wt,{className:"aititle",children:"AI Question"}),(0,l.jsx)("div",{className:"form-group mb-3",children:(0,l.jsx)("textarea",{className:"form-control",name:"aisummary",rows:"12",placeholder:"Enter your answer...",defaultValue:x,required:!0})}),p&&(0,l.jsx)("span",{className:"text-danger fileerror",children:p}),b&&(0,l.jsx)("span",{className:"text-success fileerror",children:"Updated successfully"})]}),(0,l.jsxs)(n.e2,{children:[(0,l.jsx)(n.IY,{onClick:t,children:"Close"}),(0,l.jsxs)(n.IY,{disabled:u,variant:"upload",type:"submit",style:{opacity:u?.6:1},className:"submit d-flex align-items-center gap-2",children:["Save",u&&(0,l.jsx)("div",{className:"white-spinner spinner-border spinneronetimepay m-0",role:"status",children:(0,l.jsx)("span",{className:"visually-hidden"})})]})]})]})})})}}}]);
//# sourceMappingURL=4189.0b64962e.chunk.js.map