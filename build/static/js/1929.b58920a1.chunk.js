"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[1929],{1929:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var n=l(65043),t=l(94060),a=l(44710),i=(l(38421),l(53579)),r=l(86213),d=l(73216),o=l(25581),c=l(6058),m=l(76361),u=l(65490),h=l(59042),x=l(70579);function v(){var e,s,l,m,h,v,p,j,y,b,N,g,_,f,w,$,C,S,F,A,P,k,I,T,O,E,R,D,M,V,L,B,U,W,z,q,J,K,H,Y,Z,G,Q,X,ee,se,le,ne,te,ae,ie,re,de,oe,ce,me,ue,he,xe,ve,pe,je,ye,be,Ne,ge,_e,fe,we,$e,Ce,Se,Fe,Ae,Pe,ke,Ie,Te,Oe,Ee,Re,De,Me,Ve,Le,Be,Ue,We,ze,qe,Je;const{id:Ke}=(0,d.g)(),He=(0,d.Zp)(),Ye=`${o.J}api/user/capitalround/`,Ze=o.J+"api/user/capitalround/",Ge=localStorage.getItem("SignatoryLoginData"),Qe=Ge?JSON.parse(Ge):null,[Xe,es]=(0,n.useState)(!0),[ss,ls]=(0,n.useState)(null),[ns,ts]=(0,n.useState)({pre_money:{items:[],totals:{}},post_money:{items:[],totals:{}}}),[as,is]=(0,n.useState)(null),[rs,ds]=(0,n.useState)([]),[os,cs]=(0,n.useState)({}),[ms,us]=(0,n.useState)(null),[hs,xs]=(0,n.useState)(null),[vs,ps]=(0,n.useState)(null),[js,ys]=(0,n.useState)("pre-money"),[bs,Ns]=(0,n.useState)(!1),[gs,_s]=(0,n.useState)(null),[fs,ws]=(0,n.useState)([]),[$s,Cs]=(0,n.useState)({});(0,n.useEffect)((()=>{(async()=>{let e={id:""};try{const s=(await r.A.post(Ze+"getallcountrySymbolList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results,l={};s.forEach((e=>{e.currency_code&&!l[e.currency_code]&&(l[e.currency_code]={symbol:e.currency_symbol,name:e.currency_name})})),Cs(l),es(!1)}catch(s){console.error("Error fetching currency symbols:",s),es(!1)}})()}),[Ze]);const Ss=function(e){var s;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const n=parseFloat(e)||0,t=(null===l||void 0===l||null===(s=l.trim())||void 0===s?void 0:s.toUpperCase())||"USD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}catch(ss){var a;return`${(null===$s||void 0===$s||null===(a=$s[t])||void 0===a?void 0:a.symbol)||t} ${n.toFixed(2)}`}},Fs=function(e){var s;let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const n=parseFloat(e)||0,t=(null===l||void 0===l||null===(s=l.trim())||void 0===s?void 0:s.toUpperCase())||"USD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:3,maximumFractionDigits:3}).format(n)}catch(ss){var a;return`${(null===$s||void 0===$s||null===(a=$s[t])||void 0===a?void 0:a.symbol)||t} ${n.toFixed(2)}`}},As=e=>e||0===e?`${parseFloat(e).toFixed(2)}%`:"0.00%",Ps=e=>e||0===e?new Intl.NumberFormat("en-US").format(e):"0",ks=(0,n.useCallback)((async()=>{if(!Ke||!Qe)return ls("Missing required parameters"),void es(!1);es(!0),ls(null);const e={company_id:Qe.companies[0].id,round_id:Ke};try{const a=await r.A.post(Ye+"getRoundCapTableSingleRecord",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data.success){var s,l,n,t;const e=a.data.cap_table||{pre_money:{items:[],totals:{}},post_money:{items:[],totals:{}}};if(console.log(a.data),ts(e),_s(a.data.conversion_status),is(a.data.round||null),ds(a.data.pending_conversions||[]),cs(a.data.calculations||{}),ws(a.data.conversions||[]),Ds(a.data),(null===e||void 0===e||null===(s=e.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l.length)>0){const s={labels:e.pre_money.items.map((e=>{if("founder"===e.type)return`${e.founder_code||"F"} - ${e.name}`;if("investor"===e.type){const s=e.share_class_type||"Investor";if(e.is_previous)return`${s}) Investors `;if(e.is_seed)return`(${s}) Investors`;return`${e.name||"Investor"} (${s})`}return"option_pool"===e.type?"Employee Option Pool":"pending"===e.type?`\u23f3 ${e.name}`:e.name||"Unknown"})),datasets:[{label:"Shares",data:e.pre_money.items.map((e=>e.shares||0)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4","#6A0572","#118AB2","#06D6A0","#FFD166","#E5989B","#B5838D","#6D6875","#FFB4A2"],borderWidth:1}]};xs(s)}if((null===e||void 0===e||null===(n=e.post_money)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.length)>0){const s={labels:e.post_money.items.map((e=>{if("founder"===e.type)return`${e.founder_code||"F"} - ${e.name}`;if("investor"===e.type){const s=e.share_class_type||e.shareClassType||"";if(e.is_previous)return"Previous Investors"+(s?` (${s})`:"");if(e.is_seed)return"Seed Investors"+(s?` (${s})`:"");if(e.is_new_investment){return`${e.name||"Investor"}${s?` (${s})`:""}`}return e.is_converted?"Converted"+(s?` (${s})`:""):e.name||"Investor"}return"option_pool"===e.type?"Employee Option Pool":"pending"===e.type?`\u23f3 ${e.name}`:e.name||"Unknown"})),datasets:[{label:"Shares",data:e.post_money.items.map((e=>e.shares||0)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4","#6A0572","#118AB2","#06D6A0","#FFD166"],borderWidth:1}]};ps(s)}}else ls(a.data.message||"Failed to load cap table")}catch(d){var a,i;ls((null===(a=d.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message)||"Error loading cap table data"),console.error("API Error:",d)}finally{es(!1)}}),[Ke,Qe,Ye]),Is="Safe"===(null===as||void 0===as?void 0:as.instrument)||"Convertible Note"===(null===as||void 0===as?void 0:as.instrument),Ts=!0===(null===gs||void 0===gs?void 0:gs.is_converted),Os=("Safe"===(null===as||void 0===as?void 0:as.instrument)&&0===(null===as||void 0===as?void 0:as.issued_shares)&&(null===as||void 0===as||as.type),null===as||void 0===as||as.instrument,"Round 0"===(null===as||void 0===as?void 0:as.type));let Es="",Rs="";Is?Ts?(Es=null===as||void 0===as?void 0:as.share_price,Rs=gs.converted_shares):(Es="N/A",Rs="N/A"):(Es=null===as||void 0===as?void 0:as.share_price,Rs=null===as||void 0===as?void 0:as.issued_shares);const Ds=e=>{if(!e.cap_table||!e.round)return;const s=e.cap_table.pre_money,l=e.cap_table.post_money,n=e.round,t=parseFloat(n.pre_money)||0,a=t+(parseFloat(n.investment)||0),i=s.totals.total_shares||0,r=l.totals.total_shares||0,d=i>0?t/i:0,o=r>0?a/r:0,c=s.items.filter((e=>"founder"===e.type)).reduce(((e,s)=>e+s.shares),0),m=c*d,u=c*o,h=l.items.filter((e=>"investor"===e.type)).reduce(((e,s)=>e+s.shares),0)*o,x=l.totals.total_option_pool||0;us({founderValuePre:m,founderValuePost:u,investorValue:h,optionPoolValue:x*o,sharePricePre:d,sharePricePost:o,totalSharesPre:i,totalSharesPost:r})};(0,n.useEffect)((()=>{ks()}),[]);const Ms=(e=>{const s=e.filter((e=>"founder"===e.type));if(0===s.length)return{largest:0,smallest:0,votingCount:0,totalFounders:0};const l=s.map((e=>parseFloat(e.percentage||0))),n=Math.max(...l),t=Math.min(...l);s.filter((e=>"voting"===e.voting||!0===e.voting||"yes"===e.voting)).length;return{largest:n.toFixed(1),smallest:t.toFixed(1),votingCount:s.length,totalFounders:s.length}})((null===ns||void 0===ns||null===(e=ns.pre_money)||void 0===e?void 0:e.items)||[]),Vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return{largest:0,smallest:0,votingCount:0,totalCount:0};const s=e.map((e=>parseFloat(e.percentage||0))),l=Math.max(...s),n=Math.min(...s),t=e.filter((e=>"voting"===e.voting||"non-voting"===e.voting||!0===e.voting||"yes"===e.voting)).length;return{largest:l.toFixed(1),smallest:n.toFixed(1),votingCount:t,totalCount:e.length}}((null===ns||void 0===ns||null===(s=ns.post_money)||void 0===s?void 0:s.items)||[]),Ls=(null===ns||void 0===ns||null===(l=ns.post_money)||void 0===l?void 0:l.items)||[],Bs=Ls.reduce(((e,s)=>"founder"===s.type||"investor"===s.type&&s.is_previous?e+Number(s.shares||0):"option_pool"===s.type?e+Number(s.existing_shares||0):e),0),Us=Ls.reduce(((e,s)=>"investor"===s.type&&s.is_new_investment?e+Number(s.shares||0):"option_pool"===s.type?e+Number(s.new_shares||0):e),0);return Xe?(0,x.jsx)(i.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:bs,setIsCollapsed:Ns}),(0,x.jsxs)("div",{className:"global_view "+(bs?"global_view_col":""),children:[(0,x.jsx)(t.A,{}),(0,x.jsx)(i.$K,{className:"d-block p-md-4 p-3",children:(0,x.jsxs)("div",{className:"text-center py-5",children:[(0,x.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,x.jsx)("p",{className:"mt-3",children:"Loading Cap Table Data..."})]})})]})]})})}):ss&&!as?(0,x.jsx)(i.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:bs,setIsCollapsed:Ns}),(0,x.jsxs)("div",{className:"global_view "+(bs?"global_view_col":""),children:[(0,x.jsx)(t.A,{}),(0,x.jsx)(i.$K,{className:"d-block p-md-4 p-3",children:(0,x.jsxs)("div",{className:"alert alert-danger",children:[(0,x.jsx)("h5",{children:"Error Loading Cap Table"}),(0,x.jsx)("p",{children:ss}),(0,x.jsx)("button",{className:"btn btn-primary",onClick:()=>He(-1),children:"Go Back"}),(0,x.jsx)("button",{className:"btn btn-secondary ms-2",onClick:ks,children:"Try Again"})]})})]})]})})}):(0,x.jsx)(i.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:bs,setIsCollapsed:Ns}),(0,x.jsxs)("div",{className:"global_view "+(bs?"global_view_col":""),children:[(0,x.jsx)(t.A,{}),(0,x.jsxs)(i.$K,{className:"d-block p-md-4 p-3",children:[ss&&(0,x.jsxs)("div",{className:"alert alert-danger mb-4",children:[(0,x.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),ss]}),as&&(0,x.jsxs)("div",{className:"card mb-4",children:[(0,x.jsx)("div",{className:"card-header bg-primary text-white",children:(0,x.jsxs)("h4",{className:"mb-0",children:["Round: ",as.name]})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Type:"})," ","Round 0"===(null===as||void 0===as?void 0:as.type)?(0,x.jsx)("span",{children:"Incorporation Round 0"}):(0,x.jsx)("span",{children:null===as||void 0===as?void 0:as.instrument})]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Status:"}),(0,x.jsx)("span",{className:`badge ${"CLOSED"===as.status?"bg-success":"bg-warning"} ms-2`,children:as.status||"ACTIVE"})]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Date of Incorporation/Registration:"})," ",(Ws=as.incorporation_date,(Ws?/^\d{4}$/.test(Ws)?Ws:function(e){const s=new Date(e);if(isNaN(s))return"";const l=s.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],t=s.getFullYear();let a=s.getHours();return s.getMinutes().toString().padStart(2,"0"),s.getSeconds().toString().padStart(2,"0"),a%=12,a=a||12,`${n} ${l}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(l)}, ${t}`}(Ws):"Not provided")||"Not specified")]})]}),"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Pre-Money:"})," ",(0,x.jsx)(u.A,{amount:as.pre_money,currency:as.currency})," "]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Investment:"})," ",(0,x.jsx)(u.A,{amount:as.investment,currency:as.currency})," "]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Post-Money:"})," ",(0,x.jsx)(u.A,{amount:as.post_money,currency:as.currency})]})]}),(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Share Price:"})," ",Is&&!Ts?"N/A":(0,x.jsx)(u.A,{amount:Es,currency:null===as||void 0===as?void 0:as.currency,digit:3})]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Issued Shares:"})," ",Is&&!Ts?"N/A":Ps(Rs)]}),Is&&(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Status:"})," ",(0,x.jsx)("span",{className:Ts?"text-success":"text-warning",children:(null===gs||void 0===gs?void 0:gs.message)||(Ts?"\u2705 Converted":"\u23f3 Not Converted")})]}),Is&&Ts&&(0,x.jsx)("div",{className:"mt-2 p-2 bg-light rounded",children:(0,x.jsxs)("small",{children:[(0,x.jsx)("strong",{children:"Converted in:"})," Round ",gs.converted_in_round," (",gs.converted_round_name,")",(0,x.jsx)("br",{}),(0,x.jsx)("strong",{children:"Conversion Price:"})," ",(0,x.jsx)(u.A,{amount:gs.conversion_price,currency:null===as||void 0===as?void 0:as.currency,digit:3}),(0,x.jsx)("br",{}),(0,x.jsx)("strong",{children:"Converted Shares:"})," ",Ps(gs.converted_shares)]})}),"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsx)("p",{children:(()=>{const e="Common Stock"===(null===as||void 0===as?void 0:as.instrument)||"Preferred Equity"===(null===as||void 0===as?void 0:as.instrument),s=parseFloat((null===as||void 0===as?void 0:as.option_pool_percent)||0),l=parseFloat((null===as||void 0===as?void 0:as.option_pool_percent_post)||0);return e?(0,x.jsxs)(x.Fragment,{children:[s>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("strong",{children:"Option Pool:"})," ",(0,x.jsx)("span",{className:"fw-bold text-success",children:As(s)}),(0,x.jsx)("br",{})]}),(0,x.jsx)("strong",{children:"Target Post-Money Option Pool:"})," ",(0,x.jsx)("span",{className:"fw-bold text-primary",children:As(l)})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("strong",{children:"Option Pool:"})," ",(0,x.jsx)("span",{className:"fw-bold text-success",children:As(l)})]})})()})]})]}),"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsx)("div",{className:"row",children:(null===as||void 0===as?void 0:as.round_target_money)>0&&(0,x.jsx)("div",{className:"col-12 mt-2",children:(0,x.jsx)("div",{className:"custome_card",children:(0,x.jsx)("div",{className:"custome_card_body py-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsxs)("p",{className:"mb-0 bg-success custome_cardp",children:[(0,x.jsx)("i",{className:"bi bi-bullseye me-1"}),"Target Investment"]}),(0,x.jsx)("h5",{className:"mb-0 text-success",children:(0,x.jsx)(u.A,{amount:as.round_target_money,currency:null===as||void 0===as?void 0:as.currency})})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"mb-0 bg-primary  custome_cardp",children:"Current Investment"}),(0,x.jsx)("h5",{className:"mb-0 text-primary ",children:(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.investment,currency:null===as||void 0===as?void 0:as.currency})})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"mb-0 bg-danger custome_cardp",children:"Remaining to Target"}),(0,x.jsx)("h5",{className:"mb-0",style:{color:as.round_target_money-parseFloat(as.investment)>0?"#CC0000":"#28a745"},children:(0,x.jsx)(u.A,{amount:Math.max(0,as.round_target_money-parseFloat(as.investment)),currency:null===as||void 0===as?void 0:as.currency})})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3 h-100",children:[(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,x.jsx)("p",{className:"mb-0 custome_cardp bg-info",children:"Achieved"}),(0,x.jsxs)("h5",{className:"mb-0",children:[(parseFloat(as.investment)/as.round_target_money*100).toFixed(2),"%"]})]}),(0,x.jsx)("div",{className:"progress mt-1",style:{height:"6px"},children:(0,x.jsx)("div",{className:"progress-bar bg-warning",style:{width:parseFloat(as.investment)/as.round_target_money*100+"%"}})})]})})]})})})})})]})]}),(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsxs)("ul",{className:"nav nav-tabs gap-1",children:["Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("pre-money"===js?"active":""),onClick:()=>ys("pre-money"),children:"Pre-Money Cap Table"})}),"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("post-money"===js?"active":""),onClick:()=>ys("post-money"),children:"Post-Money Cap Table"})}),"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("summary"===js?"active":""),onClick:()=>ys("summary"),children:"Chat & Analysis"})}),rs.length>0&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("pending"===js?"active":""),onClick:()=>ys("pending"),children:"Pending Conversions"})})]})}),"pre-money"===js&&"Round 0"===(null===as||void 0===as?void 0:as.type)&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header bg-light",children:"Round 0"===(null===as||void 0===as?void 0:as.type)?(0,x.jsx)("h5",{className:"mb-0",children:"Incorporation Capitalization Table"}):(0,x.jsx)("h5",{className:"mb-0",children:"Pre-Money Capitalization Table"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive mt-4",children:(0,x.jsxs)("table",{className:"table table-striped table-hover",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Shareholder"}),(0,x.jsx)("th",{className:"text-end",children:"Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,x.jsx)("th",{className:"text-end",children:"Currency Value"}),(0,x.jsx)("th",{children:"Details"})]})}),(0,x.jsxs)("tbody",{children:[null===ns||void 0===ns||null===(m=ns.pre_money)||void 0===m||null===(h=m.items)||void 0===h?void 0:h.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-info me-2",children:e.founder_code||`F${s+1}`})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:e.name}),e.email&&(0,x.jsx)("div",{className:"small text-muted",children:e.email})]}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares)>0?Number(e.shares).toLocaleString():e.shares}),(0,x.jsxs)("td",{className:"text-end fw-bold text-primary",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-primary",children:(0,x.jsx)(u.A,{amount:e.pre_money_display_value||e.value,currency:as.currency})}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Type: ",e.share_type||"common",(0,x.jsx)("br",{}),"Voting: ",e.voting||"voting"]})})]},`founder-${s}`))),((e,s,l,n)=>{const t=(null===ns||void 0===ns||null===(e=ns.pre_money)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.filter((e=>"option_pool"===e.type)))||[];if(0===t.length)return null;const a=t.reduce(((e,s)=>e+(s.shares||0)),0),i=(null===ns||void 0===ns||null===(l=ns.pre_money)||void 0===l||null===(n=l.totals)||void 0===n?void 0:n.total_shares)||0,r=i>0?(a/i*100).toFixed(2):"0.00",d=parseFloat(null===as||void 0===as?void 0:as.pre_money)||0,o=i>0?a/i*d:0,c=t.map((e=>e.round_name||`Round ${e.round_id}`)).join(", ");return(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"O"})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:"Employee Option Pool"}),t.length>1&&(0,x.jsxs)("div",{className:"small text-muted",children:["Combined from: ",c]})]}),(0,x.jsx)("td",{className:"text-end",children:Number(a).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-warning",children:[r,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-warning",children:(0,x.jsx)(u.A,{amount:o,currency:as.currency})}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:1===t.length?(0,x.jsxs)(x.Fragment,{children:["From ",t[0].round_name||`Round ${t[0].round_id}`]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{children:["Total pools: ",t.length]}),(0,x.jsx)("div",{className:"text-muted",children:t.map(((e,s)=>{var l;return(0,x.jsxs)("span",{children:[s>0&&" + ",null===(l=e.shares)||void 0===l?void 0:l.toLocaleString()," shares"]},s)}))})]})})})]},"option-pool-combined")})(),null===ns||void 0===ns||null===(v=ns.pre_money)||void 0===v||null===(p=v.items)||void 0===p?void 0:p.filter((e=>"investor"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-success",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-success me-2",children:"I"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-success",children:(0,x.jsx)(u.A,{amount:e.pre_money_display_value||e.value,currency:as.currency})}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:e.round_name})})]},`investor-${s}`))),null===ns||void 0===ns||null===(j=ns.pre_money)||void 0===j||null===(y=j.items)||void 0===y?void 0:y.filter((e=>"pending"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-warning",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"\u23f3"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0.00%"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Investment: ",(0,x.jsx)(u.A,{amount:e.investment,currency:null===as||void 0===as?void 0:as.currency}),e.discount_rate>0&&(0,x.jsxs)("div",{children:["Discount: ",e.discount_rate,"%"]}),e.valuation_cap>0&&(0,x.jsxs)("div",{children:["Cap: ",(0,x.jsx)(u.A,{amount:e.valuation_cap,currency:null===as||void 0===as?void 0:as.currency})]}),e.interest_rate>0&&(0,x.jsxs)("div",{children:["Interest: ",e.interest_rate,"%"]})]})})]},`pending-${s}`)))]}),(0,x.jsx)("tfoot",{className:"table-light",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{colSpan:"2",children:"TOTAL"}),(0,x.jsx)("th",{className:"text-end",children:(0,x.jsx)(u.A,{amount:null===ns||void 0===ns||null===(b=ns.pre_money)||void 0===b||null===(N=b.totals)||void 0===N?void 0:N.total_shares,currency:" ",digit:0})}),(0,x.jsx)("th",{className:"text-end",children:"100%"}),(0,x.jsx)("th",{className:"text-end fw-bold text-primary",children:(0,x.jsx)(u.A,{amount:null===ns||void 0===ns||null===(g=ns.pre_money)||void 0===g||null===(_=g.totals)||void 0===_?void 0:_.total_value,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("th",{})]})})]})})})]}),"pre-money"===js&&"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header bg-light",children:"Round 0"===(null===as||void 0===as?void 0:as.type)?(0,x.jsx)("h5",{className:"mb-0",children:"Incorporation Capitalization Table"}):(0,x.jsx)("h5",{className:"mb-0",children:"Pre-Money Capitalization Table"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive mt-4",children:(0,x.jsxs)("table",{className:"table table-striped table-hover",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Shareholder"}),(0,x.jsx)("th",{className:"text-end",children:"Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,x.jsx)("th",{className:"text-end",children:"Currency Value"}),(0,x.jsx)("th",{children:"Details"})]})}),(0,x.jsxs)("tbody",{children:[null===ns||void 0===ns||null===(f=ns.pre_money)||void 0===f||null===(w=f.items)||void 0===w?void 0:w.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-info me-2",children:e.founder_code||`F${s+1}`})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:e.name}),e.email&&(0,x.jsx)("div",{className:"small text-muted",children:e.email})]}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-primary",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-primary",children:(0,x.jsx)(u.A,{amount:e.pre_money_display_value||e.value,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Type: ",e.share_type||"common",(0,x.jsx)("br",{}),"Voting: ",e.voting||"voting"]})})]},`founder-${s}`))),((e,s,l,n)=>{const t=(null===ns||void 0===ns||null===(e=ns.pre_money)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.filter((e=>"option_pool"===e.type)))||[];if(0===t.length)return null;const a=t.reduce(((e,s)=>e+(s.shares||0)),0),i=(null===ns||void 0===ns||null===(l=ns.pre_money)||void 0===l||null===(n=l.totals)||void 0===n?void 0:n.total_shares)||0,r=i>0?(a/i*100).toFixed(2):"0.00",d=parseFloat(null===as||void 0===as?void 0:as.pre_money)||0,o=i>0?a/i*d:0,c=t.map((e=>e.round_name||`Round ${e.round_id}`)).join(", ");return(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"O"})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:"Employee Option Pool"}),t.length>1&&(0,x.jsxs)("div",{className:"small text-muted",children:["Combined from: ",c]})]}),(0,x.jsx)("td",{className:"text-end",children:Number(a).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-warning",children:[r,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-warning",children:(0,x.jsx)(u.A,{amount:o,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{})]},"option-pool-combined")})(),null===ns||void 0===ns||null===($=ns.pre_money)||void 0===$||null===(C=$.items)||void 0===C?void 0:C.filter((e=>"investor"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-success",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-success me-2",children:"I"})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{children:(0,x.jsxs)("strong",{children:[e.share_class_type," ",e.name]})}),e.investor_details&&(0,x.jsxs)("div",{className:"small",children:[e.investor_details.email&&(0,x.jsxs)("div",{className:"text-muted",children:[(0,x.jsx)("i",{className:"bi bi-envelope me-1"}),e.investor_details.email]}),e.investor_details.phone&&(0,x.jsxs)("div",{className:"text-muted",children:[(0,x.jsx)("i",{className:"bi bi-telephone me-1"}),e.investor_details.phone]})]})]}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-success",children:(0,x.jsx)(u.A,{amount:e.pre_money_display_value||e.value,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:e.round_name})})]},`investor-${s}`))),null===ns||void 0===ns||null===(S=ns.pre_money)||void 0===S||null===(F=S.items)||void 0===F?void 0:F.filter((e=>"pending"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-warning",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"\u23f3"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0.00%"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Investment: ",(0,x.jsx)(u.A,{amount:e.investment,currency:null===as||void 0===as?void 0:as.currency}),e.discount_rate>0&&(0,x.jsxs)("div",{children:["Discount: ",e.discount_rate,"%"]}),e.valuation_cap>0&&(0,x.jsxs)("div",{children:["Cap: ",(0,x.jsx)(u.A,{amount:e.valuation_cap,currency:null===as||void 0===as?void 0:as.currency})]}),e.interest_rate>0&&(0,x.jsxs)("div",{children:["Interest: ",e.interest_rate,"%"]})]})})]},`pending-${s}`)))]}),(0,x.jsx)("tfoot",{className:"table-light",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{colSpan:"2",children:"TOTAL"}),(0,x.jsx)("th",{className:"text-end",children:(0,x.jsx)(u.A,{amount:null===ns||void 0===ns||null===(A=ns.pre_money)||void 0===A||null===(P=A.totals)||void 0===P?void 0:P.total_shares,currency:"",digit:0})}),(0,x.jsx)("th",{className:"text-end",children:"100%"}),(0,x.jsx)("th",{className:"text-end fw-bold text-primary",children:(0,x.jsx)(u.A,{amount:null===ns||void 0===ns||null===(k=ns.pre_money)||void 0===k||null===(I=k.totals)||void 0===I?void 0:I.pre_money_valuation,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("th",{})]})})]})})})]}),"post-money"===js&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header bg-light",children:[(0,x.jsxs)("h5",{className:"mb-0",children:[(null===as||void 0===as?void 0:as.instrument)||"Common Stock"," at Post-",(null===as||void 0===as?void 0:as.shareClassType)||"Investment"," Investor"]}),(0,x.jsxs)("small",{className:"text-muted",children:["After ",(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.investment,currency:null===as||void 0===as?void 0:as.currency}),"investment",(null===fs||void 0===fs?void 0:fs.length)>0?` with ${fs.length} convertible instruments conversion`:""]})]}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-striped table-hover",children:[(0,x.jsx)("thead",{className:"table-light",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Shareholder"}),(0,x.jsx)("th",{children:"Type"}),(0,x.jsx)("th",{className:"text-end",children:"Existing Shares"}),(0,x.jsx)("th",{className:"text-end",children:"New Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Total Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,x.jsx)("th",{className:"text-end",children:"Currency Value"})]})}),(0,x.jsxs)("tbody",{children:[null===ns||void 0===ns||null===(T=ns.post_money)||void 0===T||null===(O=T.items)||void 0===O?void 0:O.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{children:"Founder"}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-primary",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:e.value,currency:null===as||void 0===as?void 0:as.currency})})]},`founder-${s}`))),((e,s)=>{const l=null===ns||void 0===ns||null===(e=ns.post_money)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.find((e=>"option_pool"===e.type));return l?(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Employee Option Pool"})}),(0,x.jsx)("td",{children:"Options Pool"}),(0,x.jsx)("td",{className:"text-end",children:Number(l.existing_shares||0).toLocaleString()}),(0,x.jsx)("td",{className:"text-end text-success fw-bold",children:Number(l.new_shares||0).toLocaleString()}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(l.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-warning",children:[l.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:l.value,currency:null===as||void 0===as?void 0:as.currency})})]},"option-pool"):null})(),null===ns||void 0===ns||null===(E=ns.post_money)||void 0===E||null===(R=E.items)||void 0===R?void 0:R.filter((e=>"investor"===e.type&&!0===e.is_previous&&!0===e.is_grouped)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-secondary",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.share_class_type+" Investors"||0})}),(0,x.jsx)("td",{children:e.share_class_type+" Investors"||0}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:e.value,currency:null===as||void 0===as?void 0:as.currency})})]},`previous-${s}`))),null===ns||void 0===ns||null===(D=ns.post_money)||void 0===D||null===(M=D.items)||void 0===M?void 0:M.filter((e=>"investor"===e.type&&!0===e.is_new_investment)).map(((e,s)=>{var l,n,t,a,i,r,d,o;const c=e.percentage||(e.shares/(null===ns||void 0===ns||null===(l=ns.post_money)||void 0===l||null===(n=l.totals)||void 0===n?void 0:n.total_shares)*100).toFixed(2),m=e.value||e.shares/(null===ns||void 0===ns||null===(t=ns.post_money)||void 0===t||null===(a=t.totals)||void 0===a?void 0:a.total_shares)*(null===ns||void 0===ns||null===(i=ns.post_money)||void 0===i||null===(r=i.totals)||void 0===r?void 0:r.post_money_valuation);return(0,x.jsxs)("tr",{className:"table-success",children:[(0,x.jsxs)("td",{children:[(0,x.jsx)("div",{children:(0,x.jsx)("strong",{children:e.name})}),(e.investor_details||e.email)&&(0,x.jsxs)("div",{className:"small",children:[(null===(d=e.investor_details)||void 0===d?void 0:d.email)&&(0,x.jsxs)("div",{className:"text-muted",children:[(0,x.jsx)("i",{className:"bi bi-envelope me-1"}),e.investor_details.email]}),(null===(o=e.investor_details)||void 0===o?void 0:o.phone)&&(0,x.jsxs)("div",{className:"text-muted",children:[(0,x.jsx)("i",{className:"bi bi-telephone me-1"}),e.investor_details.phone]})]})]}),(0,x.jsx)("td",{children:e.share_class_type||"Investor"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsx)("td",{className:"text-end text-success fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold",children:[c,"%"]}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:m,currency:null===as||void 0===as?void 0:as.currency})})]},`new-${s}`)}))]}),(0,x.jsxs)("tfoot",{className:"table-light fw-bold",children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{colSpan:"2",children:"TOTAL"}),(0,x.jsx)("td",{className:"text-end fs-5",children:(0,x.jsx)(u.A,{amount:Bs,currency:"",digit:0})}),(0,x.jsx)("td",{className:"text-end fs-5",children:(0,x.jsx)(u.A,{amount:Us,currency:"",digit:0})}),(0,x.jsx)("td",{className:"text-end fs-5",children:(0,x.jsx)(u.A,{amount:null===ns||void 0===ns||null===(V=ns.post_money)||void 0===V||null===(L=V.totals)||void 0===L?void 0:L.total_shares,currency:"",digit:0})}),(0,x.jsx)("td",{className:"text-end fs-5",children:"100%"}),(0,x.jsx)("td",{className:"text-end fs-5 text-primary",children:(0,x.jsx)(u.A,{amount:null===ns||void 0===ns||null===(B=ns.post_money)||void 0===B||null===(U=B.totals)||void 0===U?void 0:U.total_value,currency:null===as||void 0===as?void 0:as.currency})})]}),(0,x.jsx)("tr",{className:"small text-muted",children:(0,x.jsxs)("td",{colSpan:"7",className:"text-end pt-2",children:[(0,x.jsxs)("span",{className:"me-3",children:["Pre-Money:"," ",(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.pre_money,currency:null===as||void 0===as?void 0:as.currency})]}),(0,x.jsxs)("span",{className:"me-3",children:["Investment:"," ",(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.investment,currency:null===as||void 0===as?void 0:as.currency})]}),(0,x.jsxs)("span",{className:"me-3",children:["Post-Money:"," ",(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.post_money,currency:null===as||void 0===as?void 0:as.currency})]}),(0,x.jsxs)("span",{children:["Share Price:"," ",Is&&!Ts?"N/A":(0,x.jsx)(u.A,{amount:Es,currency:null===as||void 0===as?void 0:as.currency,digit:3})]})]})})]})]})})})]}),Os&&(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,x.jsxs)("div",{className:"card-header bg-white border-0 d-flex justify-content-between align-items-center py-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h5",{className:"mb-0 fw-bold text-dark",children:[(0,x.jsx)("i",{className:"bi bi-pie-chart-fill text-primary me-2"}),"Founder Ownership Distribution - Round 0"]}),(0,x.jsx)("p",{className:"text-muted mb-0 small",children:"Initial share allocation at incorporation"})]}),(0,x.jsxs)("span",{className:"badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill",children:[(0,x.jsx)("i",{className:"bi bi-shield me-1"}),Ps((null===ns||void 0===ns||null===(W=ns.pre_money)||void 0===W||null===(z=W.totals)||void 0===z?void 0:z.total_shares)||0)," Total Shares"]})]}),(0,x.jsx)("div",{className:"card-body p-4",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-7",children:(0,x.jsx)("div",{style:{height:"400px",position:"relative"},children:(0,x.jsx)(c.Fq,{data:{labels:ns.pre_money.items.filter((e=>"founder"===e.type)).map((e=>e.founder_code?`${e.founder_code} - ${e.name}`:e.name||`Founder ${ns.pre_money.items.indexOf(e)+1}`)),datasets:[{data:ns.pre_money.items.filter((e=>"founder"===e.type)).map((e=>e.shares)),backgroundColor:["#4e73df","#1cc88a","#36b9cc","#f6c23e","#e74a3b","#6f42c1","#fd7e14","#20c9a6","#858796","#5a5c69","#2c9faf","#b58df1"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{datalabels:{display:function(e){const s=e.dataset,l=s.data.reduce(((e,s)=>e+s),0);return s.data[e.dataIndex]/l*100>=5},formatter:function(e,s){return`${(e/s.dataset.data.reduce(((e,s)=>e+s),0)*100).toFixed(1)}%`},color:"#ffffff",font:{weight:"bold",size:13},textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:8,backgroundColor:"rgba(0,0,0,0.4)",borderRadius:6},legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle",font:{size:12,weight:"500"},generateLabels:function(e){const s=e.data;return s.labels.length&&s.datasets.length?s.labels.map(((l,n)=>{var t,a;const i=s.datasets[0].data[n],r=s.datasets[0].data.reduce(((e,s)=>e+s),0),d=r>0?(i/r*100).toFixed(1):0,o=null===ns||void 0===ns||null===(t=ns.pre_money)||void 0===t||null===(a=t.items)||void 0===a?void 0:a[n];let c=l,m="";return o&&(m=` (${Ps(o.shares)} shares)`),{text:`${c}${m} - ${d}%`,fillStyle:s.datasets[0].backgroundColor[n],strokeStyle:s.datasets[0].backgroundColor[n],lineWidth:1,hidden:e.getDatasetMeta(0).data[n].hidden,index:n,fontColor:"#2c3e50"}})):[]}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"rgba(255,255,255,0.2)",borderWidth:1,cornerRadius:8,padding:12,displayColors:!0,callbacks:{label:function(e){var s,l;const n=e.label||"",t=e.parsed||0,a=e.dataset.data.reduce(((e,s)=>e+s),0),i=a>0?(t/a*100).toFixed(2):0,r=e.dataIndex,d=null===ns||void 0===ns||null===(s=ns.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[r];return[`\ud83d\udc64 ${n}`,`Shares: ${Ps(t)}`,`Ownership: ${i}%`,`Value: ${Ss((null===d||void 0===d?void 0:d.value)||0,null===as||void 0===as?void 0:as.currency)}`,`Price/Share: ${Fs((null===d||void 0===d?void 0:d.share_price)||.01,null===as||void 0===as?void 0:as.currency)}`]},title:function(e){var s,l;const n=e[0].dataIndex,t=null===ns||void 0===ns||null===(s=ns.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];return"founder"===(null===t||void 0===t?void 0:t.type)?`\ud83d\udc64 Founder: ${t.founder_code||""} ${t.name}`.trim():e[0].label}}}}}})})}),(0,x.jsx)("div",{className:"col-md-5",children:(0,x.jsxs)("div",{className:"bg-light bg-opacity-50 rounded-3 p-4 h-100",children:[(0,x.jsxs)("h6",{className:"fw-bold mb-3 d-flex align-items-center",children:[(0,x.jsx)("i",{className:"bi bi-people-fill me-2 text-primary"}),"Founder Details & Ownership"]}),(0,x.jsx)("div",{className:"founder-list",style:{maxHeight:"320px",overflowY:"auto"},children:null===ns||void 0===ns||null===(q=ns.pre_money)||void 0===q||null===(J=q.items)||void 0===J?void 0:J.filter((e=>"founder"===e.type)).map(((e,s)=>{const l=ns.pre_money.totals.total_shares||1,n=((e.shares||0)/l*100).toFixed(1),t=["#4e73df","#1cc88a","#36b9cc","#f6c23e","#e74a3b"],a=t[s%t.length];return(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3 p-3 bg-white rounded-3 shadow-sm",children:[(0,x.jsx)("div",{className:"me-3 flex-shrink-0 d-flex align-items-center justify-content-center rounded-circle",style:{width:"48px",height:"48px",backgroundColor:`${a}20`,color:a,fontSize:"18px",fontWeight:"bold"},children:e.founder_code||`F${s+1}`}),(0,x.jsxs)("div",{className:"flex-grow-1",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,x.jsx)("span",{className:"fw-semibold",children:e.name}),(0,x.jsxs)("span",{className:"badge",style:{backgroundColor:a,color:"white"},children:[n,"%"]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center small",children:[(0,x.jsxs)("span",{className:"text-muted",children:[Ps(e.shares||0)," shares"]}),e.email&&(0,x.jsx)("span",{className:"text-muted text-truncate",style:{maxWidth:"150px"},children:e.email})]}),(0,x.jsx)("div",{className:"progress mt-2",style:{height:"6px",backgroundColor:"#e9ecef"},children:(0,x.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:`${n}%`,backgroundColor:a,transition:"width 0.3s ease"},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"})}),(0,x.jsxs)("div",{className:"d-flex mt-2 small text-muted",children:[(0,x.jsxs)("span",{className:"me-3",children:[(0,x.jsx)("i",{className:"bi bi-tag me-1"}),e.share_type||"common"]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{className:"bi bi-check-circle me-1"}),e.voting||"voting"]})]})]})]},s)}))}),(0,x.jsx)("div",{className:"mt-3 pt-3 border-top",children:(0,x.jsx)("div",{className:"bg-white rounded-3 p-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-6",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Founders"}),(0,x.jsx)("span",{className:"fw-bold h5 mb-0",children:(null===ns||void 0===ns||null===(K=ns.pre_money)||void 0===K||null===(H=K.items)||void 0===H?void 0:H.filter((e=>"founder"===e.type)).length)||0})]})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Shares"}),(0,x.jsx)("span",{className:"fw-bold h5 mb-0",children:Ps((null===ns||void 0===ns||null===(Y=ns.pre_money)||void 0===Y||null===(Z=Y.totals)||void 0===Z?void 0:Z.total_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-6 mt-2",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Share Price"}),(0,x.jsx)("span",{className:"fw-bold text-primary",children:(0,x.jsx)(u.A,{amount:(null===as||void 0===as?void 0:as.share_price)||.01,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]})}),(0,x.jsx)("div",{className:"col-6 mt-2",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Value"}),(0,x.jsx)("span",{className:"fw-bold text-success",children:(0,x.jsx)(u.A,{amount:(null===ns||void 0===ns||null===(G=ns.pre_money)||void 0===G||null===(Q=G.totals)||void 0===Q?void 0:Q.total_value)||0,currency:null===as||void 0===as?void 0:as.currency})})]})})]})})})]})})]})})]})})}),"summary"===js&&ms&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header bg-light",children:[(0,x.jsx)("h5",{className:"mb-0",children:"CPAVATE Calculation Summary"}),(0,x.jsx)("small",{className:"text-muted",children:"Detailed breakdown based on CPAVATE formulas"})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row mb-4",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Pre-Money Valuation"}),(0,x.jsx)("h4",{className:"card-title text-primary",children:(0,x.jsx)(u.A,{amount:os.pre_money_valuation,currency:null===as||void 0===as?void 0:as.currency})})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Investment"}),(0,x.jsx)("h4",{className:"card-title text-success",children:(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.investment,currency:null===as||void 0===as?void 0:as.currency})})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Post-Money Valuation"}),(0,x.jsx)("h4",{className:"card-title text-info",children:(0,x.jsx)(u.A,{amount:os.post_money_valuation,currency:null===as||void 0===as?void 0:as.currency})})]})})})]}),(0,x.jsxs)("div",{className:"row mb-4",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h6",{className:"mb-0",children:"Share Price Calculation"})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Pre-Money Share Price:"})}),(0,x.jsxs)("p",{className:"mb-0",children:[(0,x.jsx)(u.A,{amount:os.pre_money_valuation,currency:null===as||void 0===as?void 0:as.currency})," ","\xf7 ",Ps(ms.totalSharesPre)," shares =",(0,x.jsx)("strong",{className:"ms-2",children:(0,x.jsx)(u.A,{amount:ms.sharePricePre,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Post-Money Share Price:"})}),(0,x.jsxs)("p",{className:"mb-0",children:[(0,x.jsx)(u.A,{amount:os.post_money_valuation,currency:null===as||void 0===as?void 0:as.currency})," ","\xf7 ",Ps(ms.totalSharesPost)," shares =",(0,x.jsx)("strong",{className:"ms-2",children:(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]})]})]})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h6",{className:"mb-0",children:"Shareholder Values"})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Founder Value (Pre-Money):"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Ps(ns.pre_money.totals.total_founders)," shares \xd7",(0,x.jsx)(u.A,{amount:ms.sharePricePre,currency:null===as||void 0===as?void 0:as.currency,digit:3}),"=",(0,x.jsx)("strong",{className:"ms-2 text-primary",children:(0,x.jsx)(u.A,{amount:ms.founderValuePre,currency:null===as||void 0===as?void 0:as.currency})})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Founder Value (Post-Money):"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Ps(ns.post_money.totals.total_founders)," shares \xd7",(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3}),"=",(0,x.jsx)("strong",{className:"ms-2 text-success",children:(0,x.jsx)(u.A,{amount:ms.founderValuePost,currency:null===as||void 0===as?void 0:as.currency})})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Investor Value (Post-Money):"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Ps(ns.post_money.totals.total_investors)," shares \xd7",(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3}),"=",(0,x.jsx)("strong",{className:"ms-2 text-warning",children:(0,x.jsx)(u.A,{amount:ms.investorValue,currency:null===as||void 0===as?void 0:as.currency})})]})]})]})]})})]}),(0,x.jsxs)("div",{className:"card mb-4",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h6",{className:"mb-0",children:"Ownership Breakdown"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-sm",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Shareholder Type"}),(0,x.jsx)("th",{className:"text-end",children:"Shares"}),(0,x.jsx)("th",{className:"text-end",children:"% Ownership"}),(0,x.jsx)("th",{className:"text-end",children:"Value (Post-Money)"}),(0,x.jsx)("th",{className:"text-end",children:"Value per Share"})]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Founders"})}),(0,x.jsx)("td",{className:"text-end",children:Ps(ns.post_money.totals.total_founders)}),(0,x.jsx)("td",{className:"text-end",children:As(ns.post_money.totals.total_founders/ms.totalSharesPost*100)}),(0,x.jsx)("td",{className:"text-end text-primary",children:(0,x.jsx)(u.A,{amount:ms.founderValuePost,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Option Pool"})}),(0,x.jsx)("td",{className:"text-end",children:Ps(ns.post_money.totals.total_option_pool)}),(0,x.jsx)("td",{className:"text-end",children:As(ns.post_money.totals.total_option_pool/ms.totalSharesPost*100)}),(0,x.jsx)("td",{className:"text-end text-warning",children:(0,x.jsx)(u.A,{amount:ms.optionPoolValue,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Investors"})}),(0,x.jsx)("td",{className:"text-end",children:Ps(ns.post_money.totals.total_investors)}),(0,x.jsx)("td",{className:"text-end",children:As(ns.post_money.totals.total_investors/ms.totalSharesPost*100)}),(0,x.jsx)("td",{className:"text-end text-success",children:(0,x.jsx)(u.A,{amount:ms.investorValue,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]}),(0,x.jsxs)("tr",{className:"table-active",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"TOTAL"})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:Ps(ms.totalSharesPost)})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:"100%"})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:(0,x.jsx)(u.A,{amount:ms.totalSharesPost*ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency})})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:(0,x.jsx)(u.A,{amount:ms.sharePricePost,currency:null===as||void 0===as?void 0:as.currency,digit:3})})})]})]})]})})})]}),(hs||vs)&&(0,x.jsxs)("div",{className:"row",children:[hs&&(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,x.jsx)("h6",{className:"mb-0",children:"Pre-Money Distribution"}),(0,x.jsxs)("span",{className:"badge bg-primary",children:["Total: ",Ps((null===ns||void 0===ns||null===(X=ns.pre_money)||void 0===X||null===(ee=X.totals)||void 0===ee?void 0:ee.total_shares)||0)," shares"]})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",style:{height:"300px"},children:(0,x.jsx)(c.Fq,{data:hs,options:{responsive:!0,maintainAspectRatio:!1,cutout:"50%",plugins:{datalabels:{display:function(e){const s=e.dataset,l=s.data.reduce(((e,s)=>e+s),0);return s.data[e.dataIndex]/l*100>=3},formatter:function(e,s){return(e/s.dataset.data.reduce(((e,s)=>e+s),0)*100).toFixed(1)+"%"},color:"#000",font:{weight:"bold",size:16},textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:6},legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#333",borderWidth:1,cornerRadius:6,padding:12,displayColors:!0,callbacks:{label:function(e){const s=e.label||"",l=e.parsed||0,n=e.dataset.data.reduce(((e,s)=>e+s),0),t=n>0?l/n*100:0,a=t.toFixed(2),i=(t.toFixed(2),parseFloat(null===as||void 0===as?void 0:as.pre_money)||0),r=t*i/100;return[`${s}`,`Shares: ${Ps(l)}`,`Ownership: ${a}%`,`Value: ${Ss(r,null===as||void 0===as?void 0:as.currency)}`,`Price/Share: ${Fs(i/n,null===as||void 0===as?void 0:as.currency)}`]},title:function(e){var s,l;const n=e[0].dataIndex,t=null===ns||void 0===ns||null===(s=ns.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];return"founder"===(null===t||void 0===t?void 0:t.type)?`\ud83d\udc64 Founder: ${t.founder_code||""} ${t.name}`.trim():"investor"===(null===t||void 0===t?void 0:t.type)?t.is_previous?"\ud83d\udc65 Previous Investors":t.is_seed?"\ud83c\udf31 Seed Investors":`\ud83d\udc64 Investor: ${t.name}`:"option_pool"===(null===t||void 0===t?void 0:t.type)?"\ud83d\udcca Employee Option Pool":e[0].label}}}}}})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"chart-legend-permanent h-100",children:[(0,x.jsx)("h6",{className:"mb-3 text-center fw-semibold",children:"Ownership Distribution"}),(0,x.jsx)("div",{className:"legend-list",style:{maxHeight:"240px",overflowY:"auto"},children:null===ns||void 0===ns||null===(se=ns.pre_money)||void 0===se||null===(le=se.items)||void 0===le?void 0:le.map(((e,s)=>{const l=ns.pre_money.totals.total_shares||1,n=((e.shares||0)/l*100).toFixed(1),t=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4","#6A0572","#118AB2","#06D6A0","#FFD166"],a=t[s%t.length];let i="",r="",d="",o="",c="";const m=e.share_class_type||e.shareClassType||"",h=e.instrument_type||e.instrumentType||"";if("founder"===e.type)r="\ud83d\udc64",i=e.founder_code?`${e.founder_code} - ${e.name}`:`Founder - ${e.name}`,m&&(i+=` (${m})`),o=e.email;else if("investor"===e.type){if(e.is_previous)r="\ud83d\udc65",i=e.name||"Previous Investors",m&&(i=`${m} Investors`);else if(e.is_seed)r="\ud83c\udf31",i="Seed Investors",m&&(i+=` (${m})`);else{if(r="\ud83d\udc64",e.investor_details){const s=e.investor_details.firstName||"",l=e.investor_details.lastName||"";i=s||l?`${s} ${l}`.trim():e.name||"Investor",o=e.investor_details.email,c=e.investor_details.phone}else i=e.name||"Investor",o=e.email,c=e.phone;m&&h&&m!==h?i+=` (${m} - ${h})`:m?i+=` (${m})`:h&&(i+=` (${h})`)}e.round_name&&(d=e.round_name)}else"option_pool"===e.type?(r="\ud83d\udc64",i="Employee Option Pool",m&&(i+=` (${m})`)):"pending"===e.type?(r="\u23f3",i=e.name||"Pending Instrument",m&&(i+=` (${m})`)):(r="\ud83d\udccc",i=e.name||"Unknown");return(0,x.jsxs)("div",{className:"legend-item d-flex align-items-center mb-2 p-2 border rounded",children:[(0,x.jsx)("div",{className:"legend-color me-2 flex-shrink-0",style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:a,border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),(0,x.jsxs)("div",{className:"legend-text flex-grow-1",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("small",{className:"fw-semibold",style:{maxWidth:"150px",whiteSpace:"normal",wordBreak:"break-word"},children:[r," ",i]}),(0,x.jsxs)("span",{className:"badge bg-primary ms-2 flex-shrink-0",children:[n,"%"]})]}),(0,x.jsxs)("small",{className:"text-muted d-block",children:[Ps(e.shares||0)," shares"]}),o&&(0,x.jsxs)("small",{className:"text-muted d-block",children:[(0,x.jsx)("i",{className:"bi bi-envelope me-1"}),o]}),c&&(0,x.jsxs)("small",{className:"text-muted d-block",children:[(0,x.jsx)("i",{className:"bi bi-telephone me-1"}),c]}),d&&(0,x.jsx)("small",{className:"text-muted d-block",children:d}),"investor"===e.type&&e.is_new_investment&&e.investment>0&&(0,x.jsxs)("small",{className:"text-muted d-block",children:[(0,x.jsx)("i",{className:"bi bi-cash me-1"}),(0,x.jsx)(u.A,{amount:e.investment,currency:null===as||void 0===as?void 0:as.currency})]})]})]},s)}))}),(0,x.jsxs)("div",{className:"legend-total mt-3 pt-3 border-top",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Shares:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Ps((null===ns||void 0===ns||null===(ne=ns.pre_money)||void 0===ne||null===(te=ne.totals)||void 0===te?void 0:te.total_shares)||0)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Value:"}),(0,x.jsx)("small",{className:"fw-semibold",children:(0,x.jsx)(u.A,{amount:(null===ns||void 0===ns||null===(ae=ns.pre_money)||void 0===ae||null===(ie=ae.totals)||void 0===ie?void 0:ie.total_value)||0,currency:null===as||void 0===as?void 0:as.currency})})]})]})]})})]}),(0,x.jsx)("div",{className:"mt-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Shares"})}),(0,x.jsx)("h6",{className:"mb-0",children:Ps((null===ns||void 0===ns||null===(re=ns.pre_money)||void 0===re||null===(de=re.totals)||void 0===de?void 0:de.total_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Option Pool"})}),(0,x.jsx)("h6",{className:"mb-0",children:As((null===ns||void 0===ns||null===(oe=ns.pre_money)||void 0===oe||null===(ce=oe.totals)||void 0===ce?void 0:ce.total_option_pool)/(null===ns||void 0===ns||null===(me=ns.pre_money)||void 0===me||null===(ue=me.totals)||void 0===ue?void 0:ue.total_shares)*100||0)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Value"})}),(0,x.jsx)("h6",{className:"mb-0",children:(0,x.jsx)(u.A,{amount:(null===ns||void 0===ns||null===(he=ns.pre_money)||void 0===he||null===(xe=he.totals)||void 0===xe?void 0:xe.total_value)||0,currency:null===as||void 0===as?void 0:as.currency})})]})})]})})]})]})}),vs&&(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,x.jsx)("h6",{className:"mb-0",children:"Post-Money Distribution"}),(0,x.jsxs)("span",{className:"badge bg-success",children:["Total: ",Ps((null===ns||void 0===ns||null===(ve=ns.post_money)||void 0===ve||null===(pe=ve.totals)||void 0===pe?void 0:pe.total_shares)||0)," shares"]})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",style:{height:"300px"},children:(0,x.jsx)(c.Fq,{data:vs,options:{responsive:!0,maintainAspectRatio:!1,cutout:"50%",plugins:{datalabels:{display:function(e){const s=e.dataset,l=s.data.reduce(((e,s)=>e+s),0);return s.data[e.dataIndex]/l*100>=3},formatter:function(e,s){return(e/s.dataset.data.reduce(((e,s)=>e+s),0)*100).toFixed(1)+"%"},color:"#000",font:{weight:"bold",size:16},textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:6},legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#333",borderWidth:1,cornerRadius:6,padding:12,displayColors:!0,callbacks:{label:function(e){const s=e.label||"",l=e.parsed||0,n=e.dataset.data.reduce(((e,s)=>e+s),0),t=n>0?(l/n*100).toFixed(2):0,a=parseFloat(null===as||void 0===as?void 0:as.post_money)||0,i=t*a/100;return[`${s}`,`Shares: ${Ps(l)}`,`Ownership: ${t}%`,`Value: ${Ss(i,null===as||void 0===as?void 0:as.currency)}`,`Price/Share: ${Fs(a/n,null===as||void 0===as?void 0:as.currency)}`]},title:function(e){var s,l;const n=e[0].dataIndex,t=null===ns||void 0===ns||null===(s=ns.post_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];if(t){if("founder"===t.type)return`\ud83d\udc64 Founder: ${t.founder_code?`${t.founder_code} - `:""}${t.name}`;if("investor"===t.type){const e=t.share_class_type||t.shareClassType||"",s=e?` (${e})`:"";return t.is_previous?`\ud83d\udc65 Previous Investors${s}`:t.is_seed?`\ud83d\udc64 Seed Investors${s}`:t.is_new_investment?`\ud83d\udc64 New Investor: ${t.name}${s}`:t.is_converted?`\ud83d\udd04 Converted: ${t.name}${s}`:`\ud83d\udc64 Investor: ${t.name}${s}`}if("option_pool"===t.type)return"\ud83d\udc64 Employee Option Pool";if("pending"===t.type)return`\u23f3 Pending: ${t.name}`}return e[0].label},afterLabel:function(e){var s,l;const n=e.dataIndex,t=null===ns||void 0===ns||null===(s=ns.post_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];if(t){var a,i;const e=[];return null!==(a=t.investor_details)&&void 0!==a&&a.email?e.push(`\ud83d\udce7 ${t.investor_details.email}`):t.email&&e.push(`\ud83d\udce7 ${t.email}`),null!==(i=t.investor_details)&&void 0!==i&&i.phone?e.push(`\ud83d\udcde ${t.investor_details.phone}`):t.phone&&e.push(`\ud83d\udcde ${t.phone}`),"investor"===t.type&&t.investment&&e.push(`\ud83d\udc64 Investment: ${Ss(t.investment,null===as||void 0===as?void 0:as.currency)}`),"option_pool"===t.type&&t.new_shares>0&&e.push(`\ud83c\udd95 New Shares: ${Ps(t.new_shares)}`),e.length>0?e:null}return null}}}}}})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"chart-legend-permanent h-100",children:[(0,x.jsx)("h6",{className:"mb-3 text-center fw-semibold",children:"Ownership Distribution"}),(0,x.jsx)("div",{className:"legend-list",style:{maxHeight:"240px",overflowY:"auto"},children:null===ns||void 0===ns||null===(je=ns.post_money)||void 0===je||null===(ye=je.items)||void 0===ye?void 0:ye.map(((e,s)=>{var l,n;const t=ns.post_money.totals.total_shares||1,a=((e.shares||0)/t*100).toFixed(1),i=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4"],r=i[s%i.length];let d="",o="";if("founder"===e.type)o="\ud83d\udc64",d=e.name;else if("investor"===e.type){const s=e.share_class_type||e.shareClassType||"";e.is_previous?(o="\ud83d\udc65",d="Previous Investors"+(s?` (${s})`:"")):e.is_seed?(o="\ud83c\udf31",d="Seed Investors"+(s?` (${s})`:"")):e.is_new_investment?(o="\ud83d\udc64",d=e.name||"Investor",s&&(d+=` (${s})`)):(o="\ud83d\udc64",d=e.name||"Investor")}else"option_pool"===e.type?(o="\ud83d\udc64",d="Employee Option Pool"):"pending"===e.type&&(o="\u23f3",d=e.name);return(0,x.jsxs)("div",{className:"legend-item d-flex align-items-center mb-2 p-2 border rounded",children:[(0,x.jsx)("div",{className:"legend-color me-2 flex-shrink-0",style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:r,border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),(0,x.jsxs)("div",{className:"legend-text flex-grow-1",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("small",{className:"fw-semibold",style:{maxWidth:"150px",whiteSpace:"normal",wordBreak:"break-word"},children:[o," ",d]}),(0,x.jsxs)("span",{className:"badge bg-success ms-2 flex-shrink-0",children:[a,"%"]})]}),(0,x.jsxs)("small",{className:"text-muted d-block",children:[Ps(e.shares||0)," shares",e.new_shares>0&&(0,x.jsxs)("span",{className:"text-success ms-2",children:["(+",Ps(e.new_shares)," new)"]})]}),"investor"===e.type&&(null===(l=e.investor_details)||void 0===l?void 0:l.email)&&(0,x.jsxs)("small",{className:"text-muted d-block",children:[(0,x.jsx)("i",{className:"bi bi-envelope me-1"}),e.investor_details.email]}),"investor"===e.type&&(null===(n=e.investor_details)||void 0===n?void 0:n.phone)&&(0,x.jsxs)("small",{className:"text-muted d-block",children:[(0,x.jsx)("i",{className:"bi bi-telephone me-1"}),e.investor_details.phone]})]})]},s)}))}),(0,x.jsxs)("div",{className:"legend-total mt-3 pt-3 border-top",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Shares:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Ps((null===ns||void 0===ns||null===(be=ns.post_money)||void 0===be||null===(Ne=be.totals)||void 0===Ne?void 0:Ne.total_shares)||0)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"New Shares:"}),(0,x.jsx)("small",{className:"fw-semibold text-success",children:Ps((null===ns||void 0===ns||null===(ge=ns.post_money)||void 0===ge||null===(_e=ge.totals)||void 0===_e?void 0:_e.total_new_shares)||0)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Value:"}),(0,x.jsx)("small",{className:"fw-semibold",children:(0,x.jsx)(u.A,{amount:(null===ns||void 0===ns||null===(fe=ns.post_money)||void 0===fe||null===(we=fe.totals)||void 0===we?void 0:we.total_value)||0,currency:null===as||void 0===as?void 0:as.currency})})]})]})]})})]}),(0,x.jsxs)("div",{className:"mt-3",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Shares"})}),(0,x.jsx)("h6",{className:"mb-0",children:Ps((null===ns||void 0===ns||null===($e=ns.post_money)||void 0===$e||null===(Ce=$e.totals)||void 0===Ce?void 0:Ce.total_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"New Shares"})}),(0,x.jsx)("h6",{className:"mb-0 text-success",children:Ps((null===ns||void 0===ns||null===(Se=ns.post_money)||void 0===Se||null===(Fe=Se.totals)||void 0===Fe?void 0:Fe.total_new_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Value"})}),(0,x.jsx)("h6",{className:"mb-0",children:(0,x.jsx)(u.A,{amount:(null===ns||void 0===ns||null===(Ae=ns.post_money)||void 0===Ae||null===(Pe=Ae.totals)||void 0===Pe?void 0:Pe.total_value)||0,currency:null===as||void 0===as?void 0:as.currency})})]})})]}),(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Founders"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"rounded-circle bg-info me-2",style:{width:"10px",height:"10px"}}),(0,x.jsx)("h6",{className:"mb-0",children:As((null===ns||void 0===ns||null===(ke=ns.post_money)||void 0===ke||null===(Ie=ke.totals)||void 0===Ie?void 0:Ie.total_founders)/(null===ns||void 0===ns||null===(Te=ns.post_money)||void 0===Te||null===(Oe=Te.totals)||void 0===Oe?void 0:Oe.total_shares)*100||0)})]})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Investors"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"rounded-circle bg-success me-2",style:{width:"10px",height:"10px"}}),(0,x.jsx)("h6",{className:"mb-0",children:As((null===ns||void 0===ns||null===(Ee=ns.post_money)||void 0===Ee||null===(Re=Ee.totals)||void 0===Re?void 0:Re.total_investors)/(null===ns||void 0===ns||null===(De=ns.post_money)||void 0===De||null===(Me=De.totals)||void 0===Me?void 0:Me.total_shares)*100||0)})]})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Option Pool"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"rounded-circle bg-warning me-2",style:{width:"10px",height:"10px"}}),(0,x.jsx)("h6",{className:"mb-0",children:As((null===ns||void 0===ns||null===(Ve=ns.post_money)||void 0===Ve||null===(Le=Ve.totals)||void 0===Le?void 0:Le.total_option_pool)/(null===ns||void 0===ns||null===(Be=ns.post_money)||void 0===Be||null===(Ue=Be.totals)||void 0===Ue?void 0:Ue.total_shares)*100||0)})]})]})})]})]})]})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,x.jsx)("h6",{className:"mb-0",children:"Ownership Percentage Comparison"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"badge bg-primary me-2",children:"Pre-Money %"}),(0,x.jsx)("span",{className:"badge bg-danger",children:"Post-Money %"})]})]}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{style:{height:"400px"},children:(0,x.jsx)(c.yP,{data:{labels:((e,s,l,n)=>{const t=new Map;return null===ns||void 0===ns||null===(e=ns.post_money)||void 0===e||null===(s=e.items)||void 0===s||s.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");t.has(s)||t.set(s,{...e,uniqueKey:s})})),null===ns||void 0===ns||null===(l=ns.pre_money)||void 0===l||null===(n=l.items)||void 0===n||n.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");t.has(s)||t.set(s,{...e,uniqueKey:s})})),Array.from(t.values()).map((e=>{if("founder"===e.type)return`${e.founder_code||"F"} ${e.name}`;if("investor"===e.type){const s=e.share_class_type||e.shareClassType||"";if(e.is_previous||e.is_seed)return s?`${s} Investors`:"Investors";{const l=e.name||"Investor";return s?`${l} (${s})`:l}}return"option_pool"===e.type?"Employee Option Pool":e.name||""}))})(),datasets:[{label:"Pre-Money %",data:((e,s,l,n)=>{const t=new Map;return null===ns||void 0===ns||null===(e=ns.post_money)||void 0===e||null===(s=e.items)||void 0===s||s.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");t.set(s,0)})),null===ns||void 0===ns||null===(l=ns.pre_money)||void 0===l||null===(n=l.items)||void 0===n||n.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");const l=ns.pre_money.totals.total_shares||1,n=parseFloat(((e.shares||0)/l*100).toFixed(1));t.set(s,n)})),Array.from(t.values())})(),backgroundColor:"#4e73df",borderColor:"#4e73df",borderWidth:2,borderRadius:5,barThickness:30},{label:"Post-Money %",data:((e,s,l,n)=>{const t=new Map;return null===ns||void 0===ns||null===(e=ns.post_money)||void 0===e||null===(s=e.items)||void 0===s||s.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");const l=ns.post_money.totals.total_shares||1,n=parseFloat(((e.shares||0)/l*100).toFixed(1));t.set(s,n)})),null===ns||void 0===ns||null===(l=ns.pre_money)||void 0===l||null===(n=l.items)||void 0===n||n.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");t.has(s)||t.set(s,0)})),Array.from(t.values())})(),backgroundColor:"#e74a3b",borderColor:"#e74a3b",borderWidth:2,borderRadius:5,barThickness:30}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:12,padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#333",borderWidth:1,cornerRadius:6,padding:12,displayColors:!0,callbacks:{label:function(e){return`${e.dataset.label||""}: ${e.parsed.y||0}%`},afterLabel:function(e){var s,l,n,t;const a=e.dataIndex,i=new Map;null===ns||void 0===ns||null===(s=ns.post_money)||void 0===s||null===(l=s.items)||void 0===l||l.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");i.set(s,e)})),null===ns||void 0===ns||null===(n=ns.pre_money)||void 0===n||null===(t=n.items)||void 0===t||t.forEach((e=>{let s="";if("founder"===e.type)s=`founder-${e.name}`;else if("investor"===e.type){const l=e.share_class_type||e.shareClassType||"";s=e.is_previous||e.is_seed?`group-${l}`:`investor-${e.name}`}else"option_pool"===e.type&&(s="option-pool");i.has(s)||i.set(s,e)}));const r=Array.from(i.values())[a];if(r){let e=[];var d,o;if("investor"===r.type)null!==(d=r.investor_details)&&void 0!==d&&d.email&&e.push(`\ud83d\udce7 ${r.investor_details.email}`),null!==(o=r.investor_details)&&void 0!==o&&o.phone&&e.push(`\ud83d\udcde ${r.investor_details.phone}`),r.investment&&e.push(`\ud83d\udcb0 Investment: ${Ss(r.investment,null===as||void 0===as?void 0:as.currency)}`);else"founder"===r.type&&r.email&&e.push(`\ud83d\udce7 ${r.email}`);return e.length>0?e:null}return null}}},datalabels:{display:!0,formatter:e=>e+"%",color:"#fff",font:{weight:"bold",size:10},anchor:"center",align:"center"}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Shareholders",font:{size:12,weight:"bold"}},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!0,max:100,ticks:{callback:e=>e+"%",stepSize:10},title:{display:!0,text:"Ownership Percentage",font:{size:12,weight:"bold"}}}}}})})})]})})]})]})]}),"pending"===js&&rs.length>0&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header bg-warning",children:[(0,x.jsx)("h5",{className:"mb-0",children:"Pending Conversions"}),(0,x.jsx)("small",{className:"text-white",children:"SAFE/Convertible Notes waiting to convert"})]}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Instrument"}),(0,x.jsx)("th",{children:"Round"}),(0,x.jsx)("th",{className:"text-end",children:"Investment"}),(0,x.jsx)("th",{className:"text-end",children:"Conversion Price"}),(0,x.jsx)("th",{className:"text-end",children:"Potential Shares"}),(0,x.jsx)("th",{children:"Discount"}),(0,x.jsx)("th",{children:"Valuation Cap"})]})}),(0,x.jsx)("tbody",{children:rs.map(((e,s)=>{var l,n;const t={instrument:e.instrument_type||e.instrument,round_name:e.round_name,investment:e.investment_amount||e.investment,conversion_price:e.share_price||e.conversion_price,potential_shares:e.estimated_shares||e.potential_shares,discount_rate:(null===(l=e.instrument_data)||void 0===l?void 0:l.discountRate_note)||e.discount_rate,valuation_cap:(null===(n=e.instrument_data)||void 0===n?void 0:n.valuationCap_note)||e.valuation_cap};return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge "+("Safe"===t.instrument?"bg-primary":"bg-info"),children:t.instrument})}),(0,x.jsx)("td",{children:t.round_name}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:t.investment,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)(u.A,{amount:t.conversion_price,currency:null===as||void 0===as?void 0:as.currency})}),(0,x.jsx)("td",{className:"text-end",children:Ps(t.potential_shares)}),(0,x.jsxs)("td",{children:[t.discount_rate,"%"]}),(0,x.jsx)("td",{children:(0,x.jsx)(u.A,{amount:t.valuation_cap,currency:null===as||void 0===as?void 0:as.currency})})]},s)}))})]})})})]}),"Round 0"===(null===as||void 0===as?void 0:as.type)&&(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,x.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,x.jsxs)("h6",{className:"mb-0 fw-bold text-dark",children:[(0,x.jsx)("i",{className:"bi bi-pie-chart-fill text-primary me-2"}),"Ownership Distribution Statistics"]})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{className:"row text-center",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-arrow-up-short text-primary fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Largest Ownership"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-primary",children:[Ms.largest,"%"]})]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-info bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-arrow-down-short text-info fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Smallest Ownership"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-info",children:[Ms.smallest,"%"]})]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-people-fill text-success fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Founders"}),(0,x.jsx)("h3",{className:"mb-0 fw-bold text-success",children:Ms.totalFounders})]})]})})})]})})]})})}),"post-money"===js&&(0,x.jsxs)("div",{className:"row my-4 gy-2 gx-4",children:[(0,x.jsx)("div",{className:"col-12",children:(0,x.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,x.jsxs)("h6",{className:"mb-0 fw-bold text-dark",children:[(0,x.jsx)("i",{className:"bi bi-pie-chart-fill text-primary me-2"}),"Ownership Statistics"]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card h-100 border-1 shadow-sm text-center",children:(0,x.jsxs)("div",{className:"card-body py-4",children:[(0,x.jsx)("div",{className:"d-inline-flex align-items-center justify-content-center \r rounded-circle bg-primary bg-opacity-10 p-3 mb-3",children:(0,x.jsx)("i",{className:"bi bi-arrow-up-short text-primary fs-3"})}),(0,x.jsx)("small",{className:"text-muted d-block mb-1",children:"Largest Ownership"}),(0,x.jsxs)("h2",{className:"fw-bold text-primary mb-0",children:[Vs.largest,"%"]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card h-100 border-1 shadow-sm text-center",children:(0,x.jsxs)("div",{className:"card-body py-4",children:[(0,x.jsx)("div",{className:"d-inline-flex align-items-center justify-content-center \r rounded-circle bg-info bg-opacity-10 p-3 mb-3",children:(0,x.jsx)("i",{className:"bi bi-arrow-down-short text-info fs-3"})}),(0,x.jsx)("small",{className:"text-muted d-block mb-1",children:"Smallest Ownership"}),(0,x.jsxs)("h2",{className:"fw-bold text-info mb-0",children:[Vs.smallest,"%"]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card h-100 border-1 shadow-sm text-center",children:(0,x.jsxs)("div",{className:"card-body py-4",children:[(0,x.jsx)("div",{className:"d-inline-flex align-items-center justify-content-center \r rounded-circle bg-success bg-opacity-10 p-3 mb-3",children:(0,x.jsx)("i",{className:"bi bi-people-fill text-success fs-3"})}),(0,x.jsx)("small",{className:"text-muted d-block mb-1",children:"Shareholders"}),(0,x.jsx)("h2",{className:"fw-bold text-success mb-0",children:(null===ns||void 0===ns||null===(We=ns.post_money)||void 0===We||null===(ze=We.items)||void 0===ze?void 0:ze.length)||0})]})})})]}),"Round 0"!==(null===as||void 0===as?void 0:as.type)&&(0,x.jsxs)("div",{className:"card mt-4",children:[(0,x.jsx)("div",{className:"card-header bg-light ",children:(0,x.jsx)("h6",{className:"py-2",children:"Valuation Summary"})}),(0,x.jsx)("div",{className:"custome_card p-3",children:(0,x.jsxs)("div",{className:"row gy-3",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"bg-danger custome_cardp",children:(0,x.jsx)("strong",{children:"Pre-Money Valuation"})}),(0,x.jsx)("h4",{className:"text-danger",children:(0,x.jsx)(u.A,{amount:os.pre_money_valuation,currency:null===as||void 0===as?void 0:as.currency})})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"bg-success custome_cardp",children:(0,x.jsx)("strong",{children:"Investment"})}),(0,x.jsx)("h4",{className:"text-success",children:(0,x.jsx)(u.A,{amount:null===as||void 0===as?void 0:as.investment,currency:null===as||void 0===as?void 0:as.currency})})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"bg-info custome_cardp",children:(0,x.jsx)("strong",{children:"Post-Money Valuation"})}),(0,x.jsx)("h4",{className:"text-info",children:(0,x.jsx)(u.A,{amount:os.post_money_valuation,currency:null===as||void 0===as?void 0:as.currency})})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"bg-primary custome_cardp",children:(0,x.jsx)("strong",{children:"Total Shares Outstanding"})}),(0,x.jsx)("h4",{className:"text-primary",children:Ps(os.total_shares_outstanding)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"bg-warning custome_cardp",children:(0,x.jsx)("strong",{children:"Share Price"})}),(0,x.jsx)("h4",{className:"text-warning",children:Is&&!Ts?"N/A":(0,x.jsx)(u.A,{amount:Es,currency:null===as||void 0===as?void 0:as.currency,digit:3})})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"d-flex custome_card_box flex-column gap-3",children:[(0,x.jsx)("p",{className:"bg-success custome_cardp",children:(0,x.jsx)("strong",{children:"New Shares"})}),(0,x.jsx)("h4",{className:"text-success",children:Ps((null===ns||void 0===ns||null===(qe=ns.post_money)||void 0===qe||null===(Je=qe.totals)||void 0===Je?void 0:Je.total_new_shares)||0)})]})})]})})]}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsxs)("button",{className:"btn btn-secondary",onClick:()=>He(-1),children:[(0,x.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back to Rounds List"]}),(0,x.jsxs)("button",{className:"btn btn-primary ms-2",onClick:ks,children:[(0,x.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Refresh Data"]})]}),(0,x.jsxs)("div",{className:"mt-4 pt-3 border-top",children:[(0,x.jsxs)("h6",{className:"fw-bold mb-2",style:{color:"#CC0000"},children:[(0,x.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2",style:{color:"#CC0000"}}),"Disclaimer"]}),(0,x.jsxs)("p",{className:"text-muted small mb-0 redcolor",children:["IMPORTANT : The calculations are for informational purpose only !",(0,x.jsx)("br",{}),"Please consult with your legal and financial advisors before making any investment decisions"]})]})]})]})]})})});var Ws}m.t1.register(m.PP,m.kc,m.E8,m.hE,m.m_,m.s$,m.Bs,h.A)},65490:(e,s,l)=>{l.d(s,{A:()=>r});var n=l(65043),t=l(86213),a=l(25581),i=l(70579);const r=e=>{let{amount:s,currency:l,digit:r=2}=e;const d=a.J+"api/user/capitalround/",[o,c]=(0,n.useState)({}),[m,u]=(0,n.useState)(!0);(0,n.useEffect)((()=>{(async()=>{let e={id:""};try{const s=(await t.A.post(d+"getallcountrySymbolList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results,l={};s.forEach((e=>{e.currency_code&&!l[e.currency_code]&&(l[e.currency_code]={symbol:e.currency_symbol,name:e.currency_name})})),c(l),u(!1)}catch(s){console.error("Error fetching currency symbols:",s),u(!1)}})()}),[d]);if(m)return(0,i.jsx)("span",{children:"Loading..."});const h=((e,s)=>{const l=parseFloat(e)||0,n=(null===s||void 0===s?void 0:s.trim())||" ",t=o[n.toUpperCase()],a=(null===t||void 0===t?void 0:t.symbol)||"";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:n.toUpperCase(),minimumFractionDigits:r,maximumFractionDigits:r}).format(l)}catch(i){const e=l.toLocaleString("en-US",{minimumFractionDigits:r,maximumFractionDigits:r});return a?`${a} ${e}`:`${n} ${e}`}})(s,l);return(0,i.jsx)("span",{children:h})}}}]);
//# sourceMappingURL=1929.b58920a1.chunk.js.map