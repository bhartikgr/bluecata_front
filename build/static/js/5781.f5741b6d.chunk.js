"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[5781],{35781:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var a=t(65043),r=t(94060),n=t(44710),i=t(34939),o=t(62837),l=t(23086),c=t(89577),d=t(86213),m=t(37022),h=t(73216),u=t(25581),p=t(70579);function x(){const e=u.J+"api/user/capitalround/";var s=u.J+"api/user/investor/";const[t,x]=(0,a.useState)([]),[g,b]=(0,a.useState)(""),[v,j]=(0,a.useState)("CAD $"),[f,N]=(0,a.useState)(""),[y,S]=(0,a.useState)(""),[w,C]=(0,a.useState)("shareclass"),_=localStorage.getItem("SignatoryLoginData"),[T,P]=(0,a.useState)(""),[k,R]=(0,a.useState)(!1),F=JSON.parse(_),{id:A}=(0,h.g)(),[E,I]=(0,a.useState)(""),[D,q]=(0,a.useState)([]),O=(0,h.Zp)(),[L,V]=(0,a.useState)({liquidationOther:"",nameOfRound:"",shareClassType:"",shareclassother:"",instrumentType:"",customInstrument:"",issuedshares:"",dateroundclosed:"",liquidation:[],convertible:"",convertibleType:"",voting:"",termsheetFile:"",subscriptiondocument:"",common_stock_valuation:"",preferred_valuation:"",valuationCap:"",discountRate:"",interestRate:"",repaymentSchedule:"",hasWarrants_Bank:"",valuationCap_note:"",discountRate_note:"",maturityDate:"",interestRate_note:"",exercisedate_bank:"",pricePerShare:"",founders:""}),[M,$]=(0,a.useState)({liquidationOther:"",liquidationpreferences:"",nameOfRound:"Founding Share Allocation",shareClassType:"Common Shares",shareclassother:"",description:"",instrumentType:"",customInstrument:"",roundsize:"",currency:"CAD $",issuedshares:"",dateroundclosed:"",rights:"",liquidation:[],convertible:"",convertibleType:"",voting:"",termsheetFile:null,subscriptiondocument:null,generalnotes:"",common_stock_valuation:"",hasWarrants:"",exercisePrice:"",expirationDate:"",warrantRatio:"",warrantType:"",preferred_valuation:"",hasWarrants_preferred:"",exercisePrice_preferred:"",expirationDate_preferred:"",warrantRatio_preferred:"",warrantType_preferred:"",valuationCap:"",discountRate:"",interestRate:"",repaymentSchedule:"",hasWarrants_Bank:"",exercisePrice_bank:"",exercisedate_bank:"",warrantRatio_bank:"",warrantType_bank:"",valuationCap_note:"",discountRate_note:"",maturityDate:"",interestRate_note:"",customInstrument:"",roundStatus:"",pricePerShare:"",pre_money:"",post_money:"",optionPoolPercent:"",optionPoolPercent_post:"",existingShares:"",isPostEntered:!1,investorPostMoney:"",isCalculationSource:!1,lastUpdatedField:null}),[B,z]=(0,a.useState)(!1),[W,Y]=(0,a.useState)(1),[H,U]=(0,a.useState)([{shares:"",shareType:"common",voting:"voting"}]),G=u.J+"api/user/";var J=u.J+"api/user/aifile/";const[K,X]=(0,a.useState)("0");(0,a.useEffect)((()=>{Q(),ee(),Z()}),[]);const Z=async()=>{try{const s=(await d.A.post(J+"getexistingShares",{company_id:F.companies[0].id},{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;let t="0.01",a={},r=[],n=0;if(console.log(s.length),s.length>0){let i=s[0].founder_data;if("object"===typeof i&&null!==i)a=i;else if("string"===typeof i)try{i.startsWith('"')&&i.endsWith('"')&&(i=i.slice(1,-1),i=i.replace(/\\"/g,'"')),a=JSON.parse(i)}catch(e){console.error("\u274c Error parsing founder_data JSON:",e)}a.founders&&Array.isArray(a.founders)&&(r=a.founders),a.pricePerShare&&(t=a.pricePerShare),n=parseFloat(a.totalShares)||parseFloat(a.totalshares)||0,console.log(n),X(n),$((e=>({...e,existingShares:n})))}else console.warn("\u26a0\ufe0f No existing shares found for this company.")}catch(e){console.error("\u274c Error fetching existing shares:",e)}},Q=async()=>{if("owner"===F.role)return;let e={company_id:F.companies[0].id,user_id:F.id};try{const s=(await d.A.post(G+"getAuthorizedSignature",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;if(s.length>0){"No"===s[0].approve&&O("/record-round-list")}else O("/record-round-list")}catch(s){console.error("Error fetching authorized signature:",s)}},ee=async()=>{F.companies[0].id;try{const e=await d.A.post(J+"checkSubscriptionInvestorReport",{company_id:F.companies[0].id}),{subscriptionActive:s,updateAlreadySubmitted:t,lastUpdateDate:a}=e.data;s||O("/record-round-list")}catch(e){console.error(e),R(!0)}};(0,a.useEffect)((()=>{se()}),[]);const se=async()=>{const e={company_id:F.companies[0].id};try{const t=await d.A.post(s+"getrecordRoundList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});q(t.data.results)}catch(t){console.error("Error generating summary",t)}};(0,a.useEffect)((()=>{document.title=A?"Edit Record Round Page":"Create Record Round Page"}),[A]),(0,a.useEffect)((()=>{A&&re()}),[]);const[te,ae]=(0,a.useState)(""),re=async()=>{const s={company_id:F.companies[0].id,id:A};try{const r=await d.A.post(e+"getEditrecordlist",s,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(r.data.results.length>0){var t=r.data.results[0];"Round 0"===t.round_type?(z(!0),ne("nameOfRound","Founding Share Allocation"),le("Founder Shares (Family and Friends)"),pe(!0)):z(!1);let e={};if(t.instrument_type_data&&""!==t.instrument_type_data)try{let s=t.instrument_type_data;"object"===typeof s&&null!==s?e=s:"string"===typeof s&&(s.startsWith('"')&&s.endsWith('"')&&(s=s.slice(1,-1),s=s.replace(/\\"/g,'"')),e=JSON.parse(s))}catch(a){console.error("Error parsing instrument_type_data",a)}let s={},n=[],i="0.01";if("Round 0"===t.round_type&&t.founder_data)try{let e=t.founder_data;"object"===typeof e&&null!==e?s=e:"string"===typeof e&&(e.startsWith('"')&&e.endsWith('"')&&(e=e.slice(1,-1),e=e.replace(/\\"/g,'"')),s=JSON.parse(e)),s.founders&&Array.isArray(s.founders)&&(n=s.founders),s.pricePerShare&&(i=s.pricePerShare),console.log("Parsed founder data:",s),console.log("Founders array:",n),console.log("Price per share:",i)}catch(a){console.error("Error parsing founder_data",a),console.error("Raw founder_data:",t.founder_data)}const o={...t,...e,..."Round 0"===t.round_type&&{pricePerShare:i},termsheetFile:Array.isArray(t.termsheetFile)?t.termsheetFile.map((e=>"string"===typeof e?{name:e}:e)):t.termsheetFile?(()=>{try{const e=JSON.parse(t.termsheetFile);return(Array.isArray(e)?e:[e]).map((e=>"string"===typeof e?{name:e}:e))}catch{return[{name:t.termsheetFile}]}})():[],subscriptiondocument:Array.isArray(t.subscriptiondocument)?t.subscriptiondocument.map((e=>"string"===typeof e?{name:e}:e)):t.subscriptiondocument?(()=>{try{const e=JSON.parse(t.subscriptiondocument);return(Array.isArray(e)?e:[e]).map((e=>"string"===typeof e?{name:e}:e))}catch{return[{name:t.subscriptiondocument}]}})():[],liquidation:t.liquidation?Array.isArray(t.liquidation)?t.liquidation:"string"===typeof t.liquidation?t.liquidation.split(",").map((e=>e.trim())).filter((e=>""!==e)):(console.warn("Unexpected liquidation data type:",typeof t.liquidation,t.liquidation),[]):[]};console.log("Final formData:",o),$(o),"Round 0"===t.round_type&&n.length>0&&(U(n),Y(n.length),console.log("Setting founders data:",n)),ae(r.data.results[0]),le(t.shareClassType)}else O("/record-round-list")}catch(a){console.error("Error generating summary",a)}},ne=(e,s)=>{"currency"===e&&j(s),$((t=>({...t,[e]:s})))},ie=e=>(e*(parseFloat(M.pricePerShare)||0)).toFixed(2),[oe,le]=(0,a.useState)("default"),[ce,de]=(0,a.useState)(""),[me,he]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("https://api.ipify.org?format=json"),s=await e.json();I(s.ip)}catch(e){console.error("Failed to fetch IP",e)}})()}),[]);const[ue,pe]=(0,a.useState)(!1),xe=e=>{const s=ge.findIndex((e=>e.id===w));"next"===e&&s<ge.length-1?C(ge[s+1].id):"prev"===e&&s>0&&C(ge[s-1].id)},ge=((e,s)=>{if(B)return[{id:"shareclass",title:"Founder Share Allocation"},{id:"description",title:"Description"},{id:"issuedshares",title:"Round 0 Summary"},{id:"rights",title:"Rights & Preferences"},{id:"notes",title:"Notes"}];{let e=[{id:"shareclass",title:"Share Class"},{id:"instrument",title:"Investment Instrument"},{id:"roundsize",title:"Round Size"},{id:"issuedshares",title:"Round Active/Closed"},{id:"description",title:"Description"},{id:"rights",title:"Rights & Preferences"},{id:"convertible",title:"Convertible?"},{id:"voting",title:"Voting Rights"},{id:"termsheet",title:"Term Sheet"},{id:"subscription",title:"Subscription Document"},{id:"notes",title:"Notes"}];return"Preferred Equity"===s&&e.splice(6,0,{id:"liquidation",title:"Liquidation Preference"}),e}})(M.shareClassType,M.instrumentType),be=ge.length,ve=ge.findIndex((e=>e.id===w)),je=be>0?Math.round((ve+1)/be*100):0,fe={multiplePreferences:[{value:"1",label:"1x Investor Multiple Preference",description:"1x multiple of the original investment returned before common shares participate.",group:"multiple"},{value:"2",label:"2x Investor Multiple Preference",description:"2x multiple of the original investment returned before common shares participate.",group:"multiple"},{value:"3",label:"3x Investor Multiple Preference",description:"3x multiple of the original investment returned before common shares participate.",group:"multiple"}],participationRights:[{value:"Non-Participating",label:"Non-Participating",description:"Investor chooses either the liquidation preference or the stock value.",group:"participation"},{value:"Participating",label:"Participating",description:"Received liquidation preference and then participated pro-rata with common shareholders.",group:"participation"},{value:"Capped Participating",label:"Capped Participating",description:"Participation capped at a defined multiple (e.g. total return capped at 3x).",group:"participation"},{value:"Participating with Catch-up",label:"Participating with Catch-up",description:"Common gets paid first to a threshold, then preferred 'catches up' before full pro-rata sharing.",group:"participation"},{value:"Senior Debt",label:"Senior Debt",description:"A loan or obligation that takes repayment priority over other debts in the event of bankruptcy.",group:"participation"},{value:"Common Debt",label:"Common Debt",description:"A loan or obligation that takes secondary repayment priority over other senior debts in the event of bankruptcy.",group:"participation"}],otherOptions:[{value:"N/A",label:"N/A",description:"Does not apply to this round.",group:"other"},{value:"OTHER",label:"Other",description:"Custom response entered by the company.",group:"other"}]},[Ne,ye]=(0,a.useState)("en-US");(0,a.useEffect)((()=>{Se(),_e()}),[]);const Se=async()=>{let s={id:""};try{var t=(await d.A.post(e+"getallcountrySymbolList",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;console.log(t),x(t)}catch(a){}},[we,Ce]=(0,a.useState)("US"),_e=async()=>{try{const e=(await d.A.post(G+"getcountrySymbolLocal",{company_id:F.companies[0].id},{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;if(e.length>0){const s=e[0].country_code;Ce(s);const a=t.find((e=>e.code===s));if(a){b(a.currency_symbol);const e=Te(s);ye(e)}}}catch(e){console.error("\u274c Error fetching existing shares:",e)}},Te=e=>({IN:"en-IN",US:"en-US",GB:"en-GB",CA:"en-CA",AU:"en-AU",DE:"de-DE",FR:"fr-FR",IT:"it-IT",ES:"es-ES",NL:"nl-NL",CN:"zh-CN",JP:"ja-JP",KR:"ko-KR",BR:"pt-BR",MX:"es-MX",AE:"ar-AE",SA:"ar-SA",SG:"en-SG",MY:"ms-MY",TH:"th-TH",PH:"en-PH",ID:"id-ID",VN:"vi-VN",PK:"ur-PK",BD:"bn-BD",LK:"si-LK",NP:"ne-NP"}[e]||"en-US"),[Pe,ke]=(0,a.useState)(!1);(0,a.useEffect)((()=>{A||Re()}),[]);const Re=async()=>{try{const s={company_id:F.companies[0].id,id:A},t=(await d.A.post(e+"checkExistingRounds",s)).data.roundCount;console.log(t),z(!t),t||(ne("nameOfRound","Founding Share Allocation"),le("Founder Shares (Family and Friends)"),pe(!0))}catch(s){console.error("Error checking rounds:",s)}},Fe=(e,s,t)=>{U((a=>{const r=[...a];return r[e]||(r[e]={}),r[e][s]=t,r}))},Ae=()=>H.reduce(((e,s)=>e+(parseInt(s.shares)||0)),0),Ee=()=>(Ae()*(parseFloat(M.pricePerShare)||0)).toFixed(2),Ie=()=>{const e=Ae();return 0===e?[]:H.map(((s,t)=>{const a=parseInt(s.shares)||0;return{founder:`Founder ${t+1}`,percentage:(e>0?a/e*100:0).toFixed(1)}}))},[De,qe]=(0,a.useState)(0);(0,a.useEffect)((()=>{if(M.isCalculationSource)return;const e=parseFloat(M.pre_money||0),s=parseFloat(M.roundsize||0),t=parseFloat(M.optionPoolPercent_post||0),a=parseFloat(K||0);if(console.log("\n\ud83d\udd35 ========== CALCULATION START =========="),console.log("Investment Amount: $"+s.toLocaleString()),console.log("Pre-Money Valuation: $"+e.toLocaleString()),console.log("Existing Shares: "+a.toLocaleString()),console.log("Target Post-Money Pool: "+t+"%"),console.log("Previous Round Option Pool: "+De+"%"),!(e<=0||s<=0||a<=0))try{const r=null===oe||void 0===oe?void 0:oe.includes("Series"),n=e+s,i=s/n*100;let o=0,l=0,c=0,d=0,m=0,h="NO_ACTION";if(r&&t>0){console.log("\n\ud83c\udfaf SERIES ROUND CALCULATION"),m=parseFloat(De||0),console.log("Step 1 - Existing Option Pool: "+m+"%");const r=Math.round(a*(m/100));console.log("Step 2 - Existing Option Shares: "+r.toLocaleString());const n=a-r;if(console.log("Step 3 - Founders + Seed Shares: "+n.toLocaleString()),m>=t)h="NO_ACTION",console.log("\u2705 NO TOP-UP: Existing pool sufficient"),o=e/a,l=s/o,c=a+l,d=0;else{h="TOP_UP",console.log("\u26a0\ufe0f TOP-UP NEEDED: Expanding pool from "+m+"% to "+t+"%");const s=100-i-t;console.log("Step 4 - Founders + Seed will own: "+s.toFixed(2)+"%"),c=Math.round(n/(s/100)),console.log("Step 5 - Total Post Shares: "+c.toLocaleString());const u=c-a;console.log("Step 6 - Total New Shares: "+u.toLocaleString()+" \u2728 THIS IS THE 93,434!");const p=Math.round(c*(t/100));console.log("Step 7 - Required Option Pool: "+p.toLocaleString()),d=Math.max(0,p-r),console.log("Step 8 - New Option Shares (top-up): "+d.toLocaleString()),l=u-d,console.log("Step 9 - Series A Investor Shares: "+Math.round(l).toLocaleString()),o=e/(a+d),console.log("Step 10 - Share Price: $"+o.toFixed(4)),console.log("\n\ud83d\udcca VERIFICATION:"),console.log("\u251c\u2500 Founders + Seed: "+n.toLocaleString()+" ("+s.toFixed(2)+"%)"),console.log("\u251c\u2500 Existing Options: "+r.toLocaleString()),console.log("\u251c\u2500 New Options: "+d.toLocaleString()),console.log("\u251c\u2500 Total Options: "+p.toLocaleString()+" ("+t+"%)"),console.log("\u251c\u2500 Series A Investors: "+Math.round(l).toLocaleString()+" ("+i.toFixed(2)+"%)"),console.log("\u2514\u2500 TOTAL: "+c.toLocaleString()+" (100%)");const x=n/c*100,g=p/c*100,b=l/c*100;console.log("\n\u2705 PERCENTAGE CHECK:"),console.log("Founders + Seed: "+x.toFixed(2)+"% (should be "+s.toFixed(2)+"%)"),console.log("Option Pool: "+g.toFixed(2)+"% (should be "+t+"%)"),console.log("Series A: "+b.toFixed(2)+"% (should be "+i.toFixed(2)+"%)"),console.log("Total: "+(x+g+b).toFixed(2)+"% (should be 100%)")}}else{const t=parseFloat(M.optionPoolPercent||0);if(t>0){const e=a/(1-t/100)-a,r=a+e;c=r/(1-i/100),l=c-r,o=s/l,h="CREATED",d=Math.round(e),m=t}else o=e/a,l=s/o,c=a+l,d=0}const u=n.toFixed(2),p=i.toFixed(2),x=Math.round(l).toString(),g=o.toFixed(4);console.log("\n\ud83c\udf89 FINAL RESULTS:"),console.log("Share Price: $"+g),console.log("Shares Issued to Investors: "+x),console.log("New Option Shares: "+Math.round(d).toLocaleString()),console.log("Total Post Shares: "+Math.round(c).toLocaleString()),console.log("Existing Option Pool %: "+m),console.log("Doc 4 Action: "+h),console.log("========== CALCULATION END ==========\n"),Le({sharePrice:g,newSharesIssued:parseInt(x)||0,totalPostShares:Math.round(c),newOptionShares:Math.round(d),existingOptionPoolPercent:m,postMoneyValuation:u,investorOwnershipPercent:p,doc4Action:h}),M.post_money===u&&M.investorPostMoney===p&&M.issuedshares===x||($((e=>({...e,post_money:u,investorPostMoney:p,issuedshares:x,sharePrice:g,isCalculationSource:!0}))),setTimeout((()=>{$((e=>({...e,isCalculationSource:!1})))}),10))}catch(r){console.error("\u274c Calculation Error:",r)}}),[M.pre_money,M.roundsize,M.optionPoolPercent,M.optionPoolPercent_post,K,oe,De]);const[Oe,Le]=(0,a.useState)({sharePrice:"0.0000",newSharesIssued:0,totalPostShares:0,employeeOptionShares:0,newOptionShares:0,existingOptionPoolPercent:0,postMoneyValuation:"0.00",investorOwnershipPercent:"0.00",doc4Action:"NO_ACTION"});(0,a.useEffect)((()=>{if(M.isCalculationSource)return;const e=parseFloat(M.pre_money||0),s=parseFloat(M.roundsize||0),t=parseFloat(M.optionPoolPercent_post||0),a=parseFloat(K||0);if(console.log("\n\ud83d\udd35 ===== CALCULATION START ====="),console.log("\ud83d\udcca INPUTS:"),console.log("   Investment: $"+s.toLocaleString()),console.log("   Pre-Money: $"+e.toLocaleString()),console.log("   Existing Shares: "+a.toLocaleString()),console.log("   Target Post-Pool: "+t+"%"),console.log("   \ud83c\udfaf previousRoundOptionPool: "+De+"%"),console.log("   \ud83d\udcdd formData.optionPoolPercent: "+M.optionPoolPercent+"%"),e<=0||s<=0||a<=0)console.log("\u274c Missing values");else try{const r=null===oe||void 0===oe?void 0:oe.includes("Series"),n=e+s,i=s/n*100;let o=0,l=0,c=0,d=0,m="NO_ACTION";const h=De;if(r&&t>0){console.log("\n\ud83c\udfaf SERIES ROUND CALCULATION"),console.log("Existing pool: "+h+"%"),console.log("Target pool: "+t+"%");const r=Math.round(a*(h/100));console.log("Existing option shares: "+r.toLocaleString());const n=a-r;if(console.log("Founders+Seed shares: "+n.toLocaleString()),h>=t)m="NO_ACTION",console.log("\u2705 NO TOP-UP NEEDED"),o=e/a,l=s/o,c=a+l,d=0;else{m="TOP_UP",console.log("\u26a0\ufe0f TOP-UP NEEDED");const s=100-i-t;console.log("Founders+Seed will own: "+s.toFixed(2)+"%"),c=Math.round(n/(s/100)),console.log("Total post shares: "+c.toLocaleString());const h=c-a;console.log("Total NEW shares: "+h.toLocaleString());const u=Math.round(c*(t/100));console.log("Required option pool: "+u.toLocaleString()),d=Math.max(0,u-r),console.log("New option shares: "+d.toLocaleString()),l=h-d,console.log("Investor shares: "+Math.round(l).toLocaleString()),o=e/(a+d),console.log("Share price: $"+o.toFixed(4)),console.log("\n\ud83d\udcca VERIFICATION:"),console.log("Founders+Seed: "+n.toLocaleString()+" ("+(n/c*100).toFixed(2)+"%)"),console.log("Option Pool: "+u.toLocaleString()+" ("+(u/c*100).toFixed(2)+"%)"),console.log("Investors: "+Math.round(l).toLocaleString()+" ("+(l/c*100).toFixed(2)+"%)"),console.log("TOTAL: "+c.toLocaleString()+" (100%)")}}else{const t=parseFloat(M.optionPoolPercent||0);if(t>0){const e=a/(1-t/100)-a,r=a+e;c=r/(1-i/100),l=c-r,o=s/l,m="CREATED",d=Math.round(e)}else o=e/a,l=s/o,c=a+l,d=0}const u=n.toFixed(2),p=i.toFixed(2),x=Math.round(l).toString(),g=o.toFixed(4);console.log("\n\u2705 FINAL RESULTS:"),console.log("Share Price: $"+g),console.log("Investor Shares: "+x),console.log("New Option Shares: "+Math.round(d).toLocaleString()),console.log("Total Post Shares: "+Math.round(c).toLocaleString()),console.log("Existing Pool %: "+h),console.log("Doc 4 Action: "+m),console.log("===== CALCULATION END =====\n"),Le({sharePrice:g,newSharesIssued:parseInt(x)||0,totalPostShares:Math.round(c),newOptionShares:Math.round(d),existingOptionPoolPercent:h,postMoneyValuation:u,investorOwnershipPercent:p,doc4Action:m}),M.post_money===u&&M.investorPostMoney===p&&M.issuedshares===x||($((e=>({...e,post_money:u,investorPostMoney:p,issuedshares:x,sharePrice:g,isCalculationSource:!0}))),setTimeout((()=>{$((e=>({...e,isCalculationSource:!1})))}),10))}catch(r){console.error("\u274c Calculation error:",r)}}),[M.pre_money,M.roundsize,M.optionPoolPercent,M.optionPoolPercent_post,K,oe,De]);const Ve=async()=>{if(!B&&oe&&"Advisor Shares"!==oe){console.log("\n\ud83d\udd04 ===== AUTO-FILL START ====="),console.log("Selected round:",oe);try{const s=await d.A.post(e+"getPreviousRoundForAutoFill",{company_id:F.companies[0].id,current_round_id:A||0});if(console.log("\ud83d\udce5 Auto-fill response:",s.data),s.data.success&&s.data.data){const e=s.data.data;if(e.existingShares>0&&(X(e.existingShares.toString()),$((s=>({...s,existingShares:e.existingShares.toString()}))),console.log(`\u2705 Existing shares: ${e.existingShares.toLocaleString()}`)),e.existingOptionPoolPercent>0){const s=parseFloat(e.existingOptionPoolPercent);console.log(`\u2705 Option pool from previous round: ${s}%`),$((e=>({...e,optionPoolPercent:s.toFixed(2)}))),qe(s),Le((e=>({...e,existingOptionPoolPercent:s}))),console.log(`\u2705 Synced all option pool states to: ${s}%`)}console.log("===== AUTO-FILL COMPLETE =====\n")}}catch(s){console.error("\u274c Auto-fill error:",s)}}};(0,a.useEffect)((()=>{console.log(oe),oe&&!B&&Ve()}),[oe]);(0,a.useEffect)((()=>{console.log("\ud83d\udd04 Round type changed:",oe),!B&&oe&&(qe(0),Ve())}),[oe,B]),(0,a.useEffect)((()=>{if(null!==oe&&void 0!==oe&&oe.includes("Series")&&M.optionPoolPercent){const e=parseFloat(M.optionPoolPercent);!isNaN(e)&&e>0&&e!==De&&(console.log(`\ud83d\udd04 Manual change detected: syncing to ${e}%`),qe(e))}}),[M.optionPoolPercent]);const Me=()=>{const e=null===oe||void 0===oe?void 0:oe.includes("Series");null===oe||void 0===oe||oe.includes("Seed");return(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Pre-Money Option Pool (%)",e&&(0,p.jsx)("span",{className:"badge bg-info ms-2",style:{fontSize:"0.7em"},children:"Auto-filled"}),(0,p.jsx)("i",{className:"bi bi-info-circle text-muted ms-1",title:e?"Carried over from previous round - This is the existing option pool percentage before Series A investment":"Percentage of equity reserved for employees before this round"})]}),e?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("input",{type:"text",value:M.optionPoolPercent?`${M.optionPoolPercent}%`:"0%",readOnly:!0,className:"form-control bg-light",style:{backgroundColor:"#f8f9fa",cursor:"not-allowed",fontWeight:"500"}}),(0,p.jsx)("small",{className:"text-muted d-block mt-1",children:M.optionPoolPercent>0?`\u2713 Carried over from previous round (${M.optionPoolPercent}%)`:"No option pool from previous round"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.HG,{suffix:"%",decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter option pool % (e.g. 10)",value:M.optionPoolPercent,onValueChange:e=>{ne("optionPoolPercent",e.value)},className:"textarea_input"}),(0,p.jsx)("small",{className:"text-muted d-block mt-1",children:"Option pool percentage before investment (Pre-Money)"})]})]}),e&&(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Post-Money Option Pool Target (%)",(0,p.jsx)("span",{className:"text-danger ms-1",children:"*"}),(0,p.jsx)("i",{className:"bi bi-info-circle text-muted ms-1",title:"Target percentage of equity reserved for employees after this investment round. If higher than existing pool, additional shares will be created."})]}),(0,p.jsx)(c.HG,{suffix:"%",decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter target pool % (e.g. 20)",value:M.optionPoolPercent_post,onValueChange:e=>{ne("optionPoolPercent_post",e.value)},className:"textarea_input"}),(0,p.jsx)("small",{className:"text-muted d-block mt-1",children:"Target option pool percentage after investment (Post-Money)"}),M.optionPoolPercent&&M.optionPoolPercent_post&&(0,p.jsx)("div",{className:"mt-2",children:parseFloat(M.optionPoolPercent_post)>parseFloat(M.optionPoolPercent)?(0,p.jsxs)("div",{className:"alert alert-warning py-2 mb-0",style:{fontSize:"0.85em"},children:[(0,p.jsx)("i",{className:"bi bi-exclamation-triangle-fill me-2"}),(0,p.jsx)("strong",{children:"Top-up needed:"})," Expanding pool from ",M.optionPoolPercent,"% to ",M.optionPoolPercent_post,"%",(0,p.jsx)("br",{}),(0,p.jsxs)("small",{className:"text-muted",children:["Additional option shares will be created",Oe.newOptionShares>0&&(0,p.jsxs)(p.Fragment,{children:[" (+",Oe.newOptionShares.toLocaleString()," shares)"]})]})]}):parseFloat(M.optionPoolPercent_post)===parseFloat(M.optionPoolPercent)?(0,p.jsxs)("div",{className:"alert alert-info py-2 mb-0",style:{fontSize:"0.85em"},children:[(0,p.jsx)("i",{className:"bi bi-info-circle-fill me-2"}),(0,p.jsx)("strong",{children:"No change:"})," Maintaining ",M.optionPoolPercent,"% pool"]}):(0,p.jsxs)("div",{className:"alert alert-success py-2 mb-0",style:{fontSize:"0.85em"},children:[(0,p.jsx)("i",{className:"bi bi-check-circle-fill me-2"}),(0,p.jsx)("strong",{children:"No top-up needed:"})," Existing ",M.optionPoolPercent,"% pool is sufficient",(0,p.jsx)("br",{}),(0,p.jsx)("small",{className:"text-muted",children:"No additional option shares will be created"})]})})]})]})},[$e,Be]=(0,a.useState)(!1);return(0,p.jsx)(o.mO,{children:(0,p.jsx)("div",{className:"fullpage d-block",children:(0,p.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,p.jsx)(n.A,{isCollapsed:$e,setIsCollapsed:Be}),(0,p.jsxs)("div",{className:"global_view "+($e?"global_view_col":""),children:[(0,p.jsx)(r.A,{}),(0,p.jsx)(o.$K,{className:"d-block p-md-4 p-3",children:(0,p.jsx)("div",{className:"container-fluid",children:(0,p.jsxs)("div",{className:"d-flex flex-column gap-4",children:[f&&(0,p.jsx)(i.A,{message:f,onClose:()=>N("")}),T&&(0,p.jsxs)("div",{className:"flex items-center justify-between gap-3 shadow-lg "+(k?"error_pop":"success_pop"),children:[(0,p.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,p.jsx)("span",{className:"d-block",children:T})}),(0,p.jsx)("button",{type:"button",className:"close_btnCros",onClick:()=>P(""),children:"\xd7"})]}),y&&(0,p.jsx)(m.A,{message:y,onConfirm:async()=>{S(""),he(!1),ke(!0),await(async()=>{const s=new FormData;if(s.append("created_by_id",F.id),s.append("id",A||""),s.append("company_id",F.companies[0].id),s.append("created_by_role",F.role),B){s.append("round_type","Round 0"),s.append("shareClassType","Common Shares"),s.append("nameOfRound","Founding Share Allocation"),s.append("issuedshares",Ae().toString()),s.append("roundStatus",""),s.append("instrumentType",""),s.append("roundsize",""),s.append("currency","CAD $"),s.append("dateroundclosed",M.dateroundclosed);const e={founders:H,totalShares:Ae(),totalValue:Ee(),pricePerShare:M.pricePerShare||"0.01",ownershipBreakdown:Ie()};s.append("founder_data",JSON.stringify(e)),s.append("total_founder_shares",Ae().toString()),s.append("founder_count",W.toString())}else s.append("round_type","Investment"),s.append("investorPostMoney",M.investorPostMoney),s.append("shareClassType",oe||""),s.append("nameOfRound",M.nameOfRound||""),s.append("issuedshares",M.issuedshares||""),s.append("roundStatus",M.roundStatus||""),s.append("instrumentType",M.instrumentType||""),s.append("roundsize",M.roundsize||""),s.append("currency",M.currency||""),s.append("pre_money",M.pre_money||""),s.append("post_money",M.post_money||""),s.append("optionPoolPercent",M.optionPoolPercent||""),s.append("optionPoolPercent_post",M.optionPoolPercent_post||"");s.append("description",M.description||""),s.append("liquidationOther",M.liquidationOther||""),s.append("liquidationpreferences",M.liquidationpreferences||""),s.append("shareclassother",M.shareclassother||""),s.append("customInstrument",M.customInstrument||""),s.append("rights",M.rights||""),s.append("liquidation",Array.isArray(M.liquidation)?M.liquidation.join(","):""),s.append("convertible",M.convertible||""),s.append("convertibleType",M.convertibleType||""),s.append("voting",M.voting||""),s.append("dateroundclosed",M.dateroundclosed||""),s.append("generalnotes",M.generalnotes||""),s.append("ip_address",E||""),s.append("ClientIP",E||""),M.termsheetFile&&M.termsheetFile.length>0?M.termsheetFile.forEach((e=>{s.append("termsheetFile",e)})):s.append("termsheetFile",""),M.subscriptiondocument&&M.subscriptiondocument.length>0?M.subscriptiondocument.forEach((e=>{s.append("subscriptiondocument",e)})):s.append("subscriptiondocument","");let t={};if(!B&&M.instrumentType)switch(M.instrumentType){case"Common Stock":default:t={};break;case"Preferred Equity":t={preferred_valuation:M.preferred_valuation||"",hasWarrants_preferred:M.hasWarrants_preferred||!1,...M.hasWarrants_preferred&&{warrant_coverage_percentage:M.warrant_coverage_percentage||"",warrant_adjustment_direction:M.warrant_adjustment_direction||"decrease",warrant_adjustment_percent:M.warrant_adjustment_percent||"",expirationDate_preferred:M.expirationDate_preferred||"",warrantType_preferred:M.warrantType_preferred||"CALL"}};break;case"Safe":t={valuationCap:M.valuationCap||"",discountRate:M.discountRate||""};break;case"Venture/Bank DEBT":t={interestRate:M.interestRate||"",repaymentSchedule:M.repaymentSchedule||"",hasWarrants_Bank:M.hasWarrants_Bank||!1,...M.hasWarrants_Bank&&{exercisePrice_bank:M.exercisePrice_bank||"",exercisedate_bank:M.exercisedate_bank||"",warrantRatio_bank:M.warrantRatio_bank||"",warrantType_bank:M.warrantType_bank||"CALL"}};break;case"Convertible Note":t={valuationCap_note:M.valuationCap_note||"",discountRate_note:M.discountRate_note||"",maturityDate:M.maturityDate||"",interestRate_note:M.interestRate_note||""}}s.append("instrument_type_data",JSON.stringify(t));try{const t=await d.A.post(e+"CreateOrUpdateCapitalRound",s,{headers:{"Content-Type":"multipart/form-data"}});ke(!1),R(!1),P(t.data.message),setTimeout((()=>{P(""),O("/record-round-list")}),1500)}catch(n){var a,r;ke(!1),R(!0),P((null===(a=n.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.message)||"Error creating round"),setTimeout((()=>{P("")}),5e3),console.error("Error creating round:",n)}})()},onCancel:()=>{S("")}}),Pe&&(0,p.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.9)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center"},children:(0,p.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,p.jsx)("div",{class:"spinner-border spinner-border_loader text-success",style:{width:"3rem",height:"3rem"},role:"status",children:(0,p.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}),(0,p.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,p.jsx)("div",{className:"pb-3 bar_design",children:(0,p.jsx)("h4",{className:"h5 mb-0",children:A?"Edit Record Round":"Create New Record Round"})})}),(0,p.jsx)("div",{className:"mb-4 dashboard_card",children:(0,p.jsxs)("div",{class:"progress-container pt-3",children:[(0,p.jsxs)("div",{class:"progress-info",children:[(0,p.jsx)("div",{class:"progress-label",children:"Progress"}),(0,p.jsxs)("div",{class:"progress-value",children:[je,"% Complete"]})]}),(0,p.jsx)("div",{class:"progress-bar",children:(0,p.jsx)("div",{class:"progress-fill",style:{width:`${je}%`}})})]})}),(0,p.jsx)("div",{className:"mb-4 ",children:(0,p.jsx)("div",{className:"d-flex flex-wrap gap-2",children:ge.map(((e,s)=>(0,p.jsx)("button",{className:`btn ${w===e.id?"select_btn_active":"select_btn"} rounded-pill`,children:e.title},e.id)))})}),(0,p.jsx)("form",{method:"post",action:"javascript:void(0)",children:(0,p.jsxs)("div",{className:"from_quation",children:["shareclass"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Company Incorporation":"Share Class"}),M.dateroundclosed&&(e=>{if(!e||""===e.trim())return!0;const[s,t,a]=e.split("/"),r=parseInt(s,10)-1,n=parseInt(t,10),i=parseInt(a,10);if(isNaN(r)||isNaN(n)||isNaN(i))return!0;return new Date(i,r,n)>new Date})(M.dateroundclosed)&&(0,p.jsxs)("div",{className:"alert-message text-danger p-3 mb-4 border rounded bg-white",children:[(0,p.jsx)("strong",{children:"Note:"})," Start by entering your company's original ownership (who owned which shares at registration). Then add future investment rounds. This keeps your cap table accurate and makes future funding easier."]}),B&&(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Welcome!"})," Let's start with your company's incorporation details. This will be your Round 0 - the foundation of your cap table."]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Name of Round ",(0,p.jsx)("span",{className:"text-danger fs-5",children:"*"}),L.nameOfRound&&(0,p.jsxs)("div",{className:"text-danger small mt-1 is-invalid",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.nameOfRound]})]}),(0,p.jsx)("input",{type:"text",placeholder:"Enter round name (e.g., Series A, Seed Round)",value:M.nameOfRound,onChange:e=>ne("nameOfRound",e.target.value),className:"form-control "+(L.nameOfRound?"is-invalid":""),maxLength:30}),(0,p.jsxs)("div",{className:"form-text",children:[M.nameOfRound.length,"/30 characters"]})]}),B&&(0,p.jsxs)("div",{className:"round-zero-fields",children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Founder Share Allocation ",(0,p.jsx)("span",{className:"text-danger fs-5",children:"*"}),L.founders&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.founders]})]}),H.map(((e,s)=>(0,p.jsxs)("div",{className:"founder-allocation mb-4 p-3 border rounded",children:[(0,p.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,p.jsxs)("h6",{className:"mb-0",children:["Founder ",s+1]}),W>1&&(0,p.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>(e=>{W>1&&(U((s=>s.filter(((s,t)=>t!==e)))),Y((e=>e-1)))})(s),children:"Remove"})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:["First Name ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)("input",{type:"text",className:"form-control "+(L[`founder_${s}_firstName`]?"is-invalid":""),placeholder:"First Name",value:e.firstName,onChange:e=>{Fe(s,"firstName",e.target.value),L[`founder_${s}_firstName`]&&V((e=>({...e,[`founder_${s}_firstName`]:""})))}}),L[`founder_${s}_firstName`]&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L[`founder_${s}_firstName`]]})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:["Last Name ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)("input",{type:"text",className:"form-control "+(L[`founder_${s}_lastName`]?"is-invalid":""),placeholder:"Last Name",value:e.lastName,onChange:e=>{Fe(s,"lastName",e.target.value),L[`founder_${s}_lastName`]&&V((e=>({...e,[`founder_${s}_lastName`]:""})))}}),L[`founder_${s}_lastName`]&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L[`founder_${s}_lastName`]]})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:["Email ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)("input",{type:"email",className:"form-control "+(L[`founder_${s}_email`]?"is-invalid":""),placeholder:"Email",value:e.email,onChange:e=>{Fe(s,"email",e.target.value),L[`founder_${s}_email`]&&V((e=>({...e,[`founder_${s}_email`]:""})))}}),L[`founder_${s}_email`]&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L[`founder_${s}_email`]]})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Phone"}),(0,p.jsx)("input",{type:"tel",className:"form-control",placeholder:"Phone",value:e.phone,onChange:e=>Fe(s,"phone",e.target.value)})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsxs)("label",{className:"form-label",children:["Shares Allocated ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.HG,{className:"form-control "+(L[`founder_${s}_shares`]?"is-invalid":""),placeholder:"e.g., 500",value:e.shares||"",onValueChange:e=>{Fe(s,"shares",e.value),L[`founder_${s}_shares`]&&V((e=>({...e,[`founder_${s}_shares`]:""})))},thousandSeparator:!0,allowNegative:!1,decimalScale:2,fixedDecimalScale:!0}),L[`founder_${s}_shares`]&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L[`founder_${s}_shares`]]})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Share Type"}),(0,p.jsxs)("select",{className:"form-control",value:e.shareType,onChange:e=>Fe(s,"shareType",e.target.value),children:[(0,p.jsx)("option",{value:"common",children:"Common Shares"}),(0,p.jsx)("option",{value:"preferred",children:"Preferred Shares"}),(0,p.jsx)("option",{value:"other",children:"Other"})]})]}),"other"===e.shareType&&(0,p.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Specify Share Type"}),(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter custom share type",value:e.customShareType||"",onChange:e=>Fe(s,"customShareType",e.target.value)})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Share Class"}),(0,p.jsxs)("select",{className:"form-control",value:e.shareClass,onChange:e=>Fe(s,"shareClass",e.target.value),children:[(0,p.jsx)("option",{value:"Class A",children:"Class A"}),(0,p.jsx)("option",{value:"Class B",children:"Class B"}),(0,p.jsx)("option",{value:"Class C",children:"Class C"})]})]}),"other"===e.shareClass&&(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Specify Share Class"}),(0,p.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter custom share class",value:e.customShareClass||"",onChange:e=>Fe(s,"customShareClass",e.target.value)})]}),(0,p.jsxs)("div",{className:"col-md-3 mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Voting Rights"}),(0,p.jsxs)("select",{className:"form-control",value:e.voting,onChange:e=>Fe(s,"voting",e.target.value),children:[(0,p.jsx)("option",{value:"voting",children:"Voting"}),(0,p.jsx)("option",{value:"non-voting",children:"Non-Voting"})]})]})]})]},s))),(0,p.jsx)("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{U((e=>[...e,{shares:"",shareType:"common",voting:"voting"}])),Y((e=>e+1))},children:"+ Add Another Founder"})]}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Currency ",(0,p.jsx)("span",{className:"text-danger fs-5",children:"*"}),L.currency&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.currency]})]}),(0,p.jsxs)("select",{className:"form-control "+(L.currency?"is-invalid":""),value:M.currency,onChange:e=>{ne("currency",e.target.value),L.currency&&V((e=>({...e,currency:""})))},children:[(0,p.jsx)("option",{value:"",children:"-- Select Currency --"}),t.map((e=>(0,p.jsxs)("option",{value:`${e.currency_code} ${e.currency_symbol}`,children:[e.currency_code," ",e.currency_symbol]},e.id)))]})]}),(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Price Per Share at Incorporation",M.currency&&` (${M.currency.split(" ")[1]})`,(0,p.jsx)("span",{className:"text-danger fs-5",children:"*"}),L.pricePerShare&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.pricePerShare]})]}),(0,p.jsx)("input",{type:"number",step:"0.001",className:"form-control "+(L.pricePerShare?"is-invalid":""),placeholder:`e.g., 0.001 ${M.currency?M.currency.split(" ")[1]:""}`,value:M.pricePerShare||"",onChange:e=>{ne("pricePerShare",e.target.value),L.pricePerShare&&V((e=>({...e,pricePerShare:""})))}}),(0,p.jsx)("div",{className:"form-text",children:"This is the par value from your incorporation documents"})]})]}),(0,p.jsxs)("div",{className:"calculation-results p-3 bg-light rounded mb-4",children:[(0,p.jsx)("h6",{children:"Round 0 Calculations"}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-4",children:[(0,p.jsx)("strong",{children:"Total Shares:"})," ",Ae().toLocaleString()]}),(0,p.jsxs)("div",{className:"col-md-4",children:[(0,p.jsx)("strong",{children:"Total Value:"})," ",M.currency?M.currency.split(" ")[1]:"$",Ee()]}),(0,p.jsxs)("div",{className:"col-md-4",children:[(0,p.jsx)("strong",{children:"Founder Count:"})," ",W]})]}),Ae()>0&&(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("strong",{children:"Ownership Breakdown:"}),(0,p.jsx)("ul",{className:"mb-0 mt-2",children:Ie().map(((e,s)=>(0,p.jsxs)("li",{children:[e.founder,": ",e.percentage,"%"]},s)))})]})]}),Ae()>0&&(0,p.jsxs)("div",{className:"mt-3",children:[(0,p.jsx)("strong",{children:"Founder Details:"}),(0,p.jsx)("div",{className:"table-responsive mt-2",children:(0,p.jsxs)("table",{className:"table table-sm table-bordered",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Founder"}),(0,p.jsx)("th",{children:"Number of Shares"}),(0,p.jsx)("th",{children:"Price Per Share"}),(0,p.jsx)("th",{children:"Ownership %"}),(0,p.jsx)("th",{children:"Share Type"}),(0,p.jsx)("th",{children:"Share Class"}),(0,p.jsx)("th",{children:"Voting Rights"}),(0,p.jsx)("th",{children:"Value"})]})}),(0,p.jsxs)("tbody",{children:[H.map(((e,s)=>{const t=parseInt(e.shares)||0,a=Ae()>0?(t/Ae()*100).toFixed(1):"0.0",r="other"===e.shareType&&e.customShareType?e.customShareType:"common"===e.shareType?"Common":"Preferred",n=e.customShareClass?e.customShareClass:e.shareClass||"Class A";return(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,p.jsx)("td",{children:t.toLocaleString()}),(0,p.jsxs)("td",{children:[M.currency?M.currency.split(" ")[1]:"$",M.pricePerShare||"0.00"]}),(0,p.jsxs)("td",{children:[a,"%"]}),(0,p.jsx)("td",{children:r}),(0,p.jsx)("td",{children:n}),(0,p.jsx)("td",{children:"voting"===e.voting?"Voting":"Non-Voting"}),(0,p.jsxs)("td",{children:[M.currency?M.currency.split(" ")[1]:"$",ie(t)]})]},s)})),(0,p.jsxs)("tr",{className:"table-secondary fw-bold",children:[(0,p.jsx)("td",{colSpan:"2",children:"Total"}),(0,p.jsxs)("td",{children:[M.currency?M.currency.split(" ")[1]:"$",M.pricePerShare||"0.00"]}),(0,p.jsx)("td",{children:"100%"}),(0,p.jsx)("td",{colSpan:"3"}),(0,p.jsxs)("td",{children:[M.currency?M.currency.split(" ")[1]:"$",Ee()]})]})]})]})})]})]}),!B&&(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Funding Rounds ",(0,p.jsx)("span",{className:"text-danger fs-5",children:"*"}),L.shareClassType&&(0,p.jsxs)("div",{className:"text-danger small mt-1 is-invalid",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.shareClassType]})]}),(0,p.jsxs)("select",{className:"form-control "+(L.shareClassType?"is-invalid":""),value:oe,onChange:e=>{const s=e.target.value;s&&"default"!==s&&(le(s),ne("shareClassType","OTHER"===s?M.shareclassother:s))},children:[(0,p.jsx)("option",{value:"default",disabled:!0,children:"-- Select Funding Round --"}),(0,p.jsxs)("optgroup",{label:"Seed Rounds",children:[(0,p.jsx)("option",{value:"Pre-Seed",children:"Pre-Seed"}),(0,p.jsx)("option",{value:"Seed",children:"Seed"}),(0,p.jsx)("option",{value:"Post-Seed",children:"Post-Seed"})]}),(0,p.jsxs)("optgroup",{label:"Series Rounds",children:[(0,p.jsx)("option",{value:"Series A",children:"Series A"}),(0,p.jsx)("option",{value:"Series A Extension",children:"Series A Extension"}),(0,p.jsx)("option",{value:"Series B",children:"Series B"}),(0,p.jsx)("option",{value:"Series B Extension",children:"Series B Extension"}),(0,p.jsx)("option",{value:"Series C",children:"Series C"}),(0,p.jsx)("option",{value:"Series C Extension",children:"Series C Extension"}),(0,p.jsx)("option",{value:"Series D",children:"Series D"}),(0,p.jsx)("option",{value:"Series D Extension",children:"Series D Extension"})]}),(0,p.jsxs)("optgroup",{label:"Other Rounds",children:[(0,p.jsx)("option",{value:"Bridge Round",children:"Bridge Round"}),(0,p.jsx)("option",{value:"Advisor Shares",children:"Advisor Shares"}),(0,p.jsx)("option",{value:"OTHER",children:"OTHER"})]})]}),L.shareClassType&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.shareClassType]})]}),!B&&"OTHER"===oe&&(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsx)("label",{className:"form-label fw-semibold",children:"Custom Share Class Name"}),(0,p.jsx)("input",{type:"text",placeholder:"Enter custom share class name",value:M.shareclassother,onChange:e=>ne("shareclassother",e.target.value),className:"form-control "+(L.shareclassother?"is-invalid":""),maxLength:30}),(0,p.jsxs)("div",{className:"form-text",children:[M.shareclassother.length,"/30 characters"]}),L.shareclassother&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.shareclassother]})]}),(0,p.jsx)("div",{className:"d-flex justify-content-end",children:(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{const e={};if(M.nameOfRound.trim()||(e.nameOfRound="This field is required"),B){(!M.pricePerShare||parseFloat(M.pricePerShare)<=0)&&(e.pricePerShare="Valid price per share is required"),M.currency&&""!==M.currency.trim()||(e.currency="Currency selection is required");let s=!1,t=0,a=!1;H.forEach(((r,n)=>{const i=parseInt(r.shares)||0;r.firstName&&""!==r.firstName.trim()||(e[`founder_${n}_firstName`]="First name is required"),r.lastName&&""!==r.lastName.trim()||(e[`founder_${n}_lastName`]="Last name is required"),r.email&&""!==r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(e[`founder_${n}_email`]="Please enter a valid email address"):e[`founder_${n}_email`]="Email is required",r.shares&&""!==r.shares.trim()?i<=0?e[`founder_${n}_shares`]="Shares must be greater than 0":isNaN(i)?e[`founder_${n}_shares`]="Please enter a valid number":(s=!0,t+=i,a=!0):e[`founder_${n}_shares`]="Shares allocated is required","other"!==r.shareType||r.customShareType&&""!==r.customShareType.trim()||(e[`founder_${n}_customShareType`]="Please specify the share type"),"other"!==r.shareClass||r.customShareClass&&""!==r.customShareClass.trim()||(e[`founder_${n}_customShareClass`]="Please specify the share class")})),s||(e.founders="At least one founder must have shares allocated"),0===t&&a&&(e.founders="Total shares must be greater than 0");!H.every((e=>(parseInt(e.shares)||0)>0))&&s&&(e.founders="All founders must have shares allocated")}else"default"===oe&&(e.shareClassType="Please select a funding round"),"OTHER"!==oe||M.shareclassother.trim()||(e.shareclassother="This field is required");Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),B&&(ne("issuedshares",Ae().toString()),ne("roundStatus","CLOSED"),ne("shareClassType","Common Shares"),le("Founder Shares (Family and Friends)")),xe("next"))},children:"Save and Continue"})})]}),"instrument"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),B?(0,p.jsxs)("div",{className:"text-center py-5",children:[(0,p.jsxs)("div",{className:"alert alert-info",children:[(0,p.jsx)("strong",{children:"Round 0 - No Investment Instrument"}),(0,p.jsx)("p",{className:"mb-0 mt-2",children:"This is the incorporation round with founder shares only. No external investment instruments are involved."})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between pt-3 border-top gap-2",children:[(0,p.jsxs)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:[(0,p.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back"]}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>xe("next"),children:"Continue to Next Section"})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:"Investment Instrument"}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center",children:["Select Investment Instrument Type",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"Description:"}),' The type of equity issued. Common classes include "Common Stock" for founders/employees and "Preferred" shares for investors.']})]}),(0,p.jsx)("span",{className:"text-danger fs-5 ms-1",children:"*"}),L.instrumentType&&(0,p.jsxs)("span",{className:"text-danger small ms-2",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.instrumentType]})]}),(0,p.jsx)("div",{className:"row mt-3",children:[{value:"Common Stock",label:"Common Stock",description:"Direct sale of common shares, often to founders or early employees."},{value:"Preferred Equity",label:"Preferred Equity",description:"Equity with liquidity preference, often used in priced rounds with early-stage investors."},{value:"Convertible Note",label:"Convertible Note",description:"Short-term debt that converts into equity at a future financing round."},{value:"Safe",label:"Safe",description:"Simple Agreement for Future Equity - converts at the time of a priced round."},{value:"Venture/Bank DEBT",label:"Venture/Bank DEBT",description:"Non-convertible financing structured as loans, typically repaid with interest."},{value:"OTHER",label:"Other",description:"Custom investment instrument not listed above."}].map((e=>(0,p.jsx)("div",{className:"col-md-6 mb-3",children:(0,p.jsxs)("div",{className:`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${M.instrumentType===e.value?"bg-light":"border-gray-300"} ${L.instrumentType?"border-danger":""}`,onClick:()=>{ne("instrumentType",e.value),"Preferred Equity"!==e.value&&(ne("liquidation",[]),ne("liquidationpreferences",""),ne("liquidationOther","")),"OTHER"!==e.value&&ne("customInstrument",""),(L.instrumentType||L.customInstrument)&&V((e=>({...e,instrumentType:"",customInstrument:""})))},children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"instrumentType",value:e.value,checked:M.instrumentType===e.value,onChange:()=>{ne("instrumentType",e.value),"Preferred Equity"!==e.value&&(ne("liquidation",[]),ne("liquidationpreferences",""),ne("liquidationOther","")),"OTHER"!==e.value&&ne("customInstrument",""),(L.instrumentType||L.customInstrument)&&V((e=>({...e,instrumentType:"",customInstrument:""})))},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label fw-medium",children:e.label})]}),(0,p.jsx)("p",{className:"text-muted small mb-0 mt-2",children:e.description})]})},e.value)))})]}),"Preferred Equity"===M.instrumentType&&(0,p.jsxs)("div",{className:"mt-3 p-3 border rounded bg-light",children:[(0,p.jsx)("h5",{children:"Preferred Equity Details"}),(0,p.jsxs)("label",{className:"form-label",children:["Company Valuation ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter company valuation",value:M.preferred_valuation||"",onValueChange:e=>{ne("preferred_valuation",e.value),L.preferred_valuation&&V((e=>({...e,preferred_valuation:""})))},className:"form-control mb-3 "+(L.preferred_valuation?"is-invalid":"")}),L.preferred_valuation&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.preferred_valuation]}),(0,p.jsxs)("div",{className:"form-check mb-3",children:[(0,p.jsx)("input",{type:"checkbox",className:"form-check-input",id:"hasWarrants_preferred",checked:M.hasWarrants_preferred||!1,onChange:e=>{const s=e.target.checked;ne("hasWarrants_preferred",s),s||(ne("warrant_coverage_percentage",""),ne("warrant_exercise_type","next_round"),ne("warrant_adjustment_percent",""),ne("warrant_adjustment_direction","decrease"))}}),(0,p.jsx)("label",{className:"form-check-label",htmlFor:"hasWarrants_preferred",children:"Add Warrants (optional)"})]}),M.hasWarrants_preferred&&(0,p.jsxs)("div",{className:"border-top pt-3 mt-3",children:[(0,p.jsx)("h6",{children:"Warrant Details"}),(0,p.jsx)("div",{className:"row mb-3",children:(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("label",{className:"form-label",children:["Warrant Coverage Percentage (%) ",(0,p.jsx)("span",{className:"text-danger",children:"*"})]}),(0,p.jsxs)("div",{className:"input-group",children:[(0,p.jsx)("input",{type:"number",className:"form-control",value:M.warrant_coverage_percentage||"",onChange:e=>ne("warrant_coverage_percentage",e.target.value),placeholder:"e.g., 20",min:"0",max:"100",step:"0.1"}),(0,p.jsx)("span",{className:"input-group-text",children:"%"})]}),(0,p.jsx)("small",{className:"text-muted",children:"Percentage of investment amount that can be converted to warrants"})]})}),(0,p.jsx)("div",{className:"row mb-3",children:(0,p.jsxs)("div",{className:"col-md-12",children:[(0,p.jsx)("label",{className:"form-label",children:"Exercise Price Calculation"}),(0,p.jsxs)("div",{className:"border rounded p-3 bg-white",children:[(0,p.jsx)("div",{className:"mb-3",children:(0,p.jsxs)("div",{className:"form-text",children:[(0,p.jsx)("i",{className:"bi bi-info-circle me-1"}),(0,p.jsx)("strong",{children:"Warrants will exercise at:"})," Next Priced Round Share Price \xb1 Adjustment %"]})}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Adjustment Percentage"}),(0,p.jsxs)("div",{className:"input-group",children:[(0,p.jsxs)("select",{className:"form-select",style:{width:"120px"},value:M.warrant_adjustment_direction||"decrease",onChange:e=>ne("warrant_adjustment_direction",e.target.value),children:[(0,p.jsx)("option",{value:"decrease",children:"Decrease by"}),(0,p.jsx)("option",{value:"increase",children:"Increase by"})]}),(0,p.jsx)("input",{type:"number",className:"form-control",value:M.warrant_adjustment_percent||"",onChange:e=>ne("warrant_adjustment_percent",e.target.value),placeholder:"e.g., 20",min:"0",max:"100",step:"0.1"}),(0,p.jsx)("span",{className:"input-group-text",children:"%"})]})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Example Calculation"}),(0,p.jsx)("div",{className:"form-control bg-light",children:M.warrant_adjustment_percent?(0,p.jsxs)("small",{children:["If next round price = $10 and adjustment = ",M.warrant_adjustment_percent,"% ","decrease"===M.warrant_adjustment_direction?"decrease":"increase",(0,p.jsx)("br",{}),"\u2192 Exercise price = $","decrease"===M.warrant_adjustment_direction?(10*(1-M.warrant_adjustment_percent/100)).toFixed(2):(10*(1+M.warrant_adjustment_percent/100)).toFixed(2)]}):(0,p.jsx)("small",{className:"text-muted",children:"Enter adjustment % to see example"})})]})]}),(0,p.jsx)("div",{className:"mt-2",children:(0,p.jsxs)("div",{className:"alert alert-info small mb-0",children:[(0,p.jsx)("i",{className:"bi bi-lightbulb me-1"}),(0,p.jsx)("strong",{children:"Note:"})," Warrant exercise price will be automatically calculated when the next priced equity round is created."]})})]})]})}),(0,p.jsx)("div",{className:"row mb-3",children:(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsx)("label",{className:"form-label",children:"Expiration Date (Optional)"}),(0,p.jsx)("input",{type:"date",className:"form-control",value:M.expirationDate_preferred||"",onChange:e=>ne("expirationDate_preferred",e.target.value)}),(0,p.jsx)("small",{className:"text-muted",children:"If not specified, warrants expire in 10 years"})]})}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Type of Warrant"}),(0,p.jsxs)("div",{className:"border rounded p-3 bg-white",children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{className:"form-check-input",type:"radio",name:"warrantType_preferred",id:"warrantTypeCall",value:"CALL",checked:"CALL"===(M.warrantType_preferred||"CALL"),onChange:e=>ne("warrantType_preferred",e.target.value)}),(0,p.jsx)("label",{className:"form-check-label fw-bold",htmlFor:"warrantTypeCall",children:"Call Warrant (Investor can BUY shares in next round)"}),(0,p.jsx)("div",{className:"form-text ms-4",children:"This is the standard structure per client requirements."})]}),(0,p.jsxs)("div",{className:"form-check mt-2",children:[(0,p.jsx)("input",{className:"form-check-input",type:"radio",name:"warrantType_preferred",id:"warrantTypePut",value:"PUT",checked:"PUT"===M.warrantType_preferred,onChange:e=>ne("warrantType_preferred",e.target.value),disabled:!0}),(0,p.jsx)("label",{className:"form-check-label text-muted",htmlFor:"warrantTypePut",children:"Put Warrant (Not allowed per client requirements)"}),(0,p.jsxs)("div",{className:"form-text ms-4 text-danger",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-triangle me-1"}),"Put warrants are not included in client specifications."]})]})]})]}),(0,p.jsxs)("div",{className:"alert alert-success",children:[(0,p.jsxs)("h6",{className:"fw-bold",children:[(0,p.jsx)("i",{className:"bi bi-check-circle me-2"}),"Warrant Summary"]}),(0,p.jsxs)("ul",{className:"mb-0 small",children:[(0,p.jsxs)("li",{children:["Coverage: ",M.warrant_coverage_percentage||"___","% of investment amount"]}),(0,p.jsxs)("li",{children:["Exercise: At next priced round price",M.warrant_adjustment_percent?` ${"decrease"===M.warrant_adjustment_direction?"minus":"plus"} ${M.warrant_adjustment_percent}%`:""]}),(0,p.jsx)("li",{children:"Shares calculated automatically when next round is created"}),(0,p.jsx)("li",{children:"Warrants will dilute existing shareholders upon exercise"})]})]})]})]}),"Safe"===M.instrumentType&&(0,p.jsxs)("div",{className:"mt-3 p-3 border rounded bg-light",children:[(0,p.jsx)("h5",{children:"SAFE Details"}),(0,p.jsxs)("label",{className:"form-label",children:["Valuation Cap ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)(c.HG,{className:"form-control mb-3 "+(L.valuationCap?"is-invalid":""),placeholder:"Enter valuation cap",value:M.valuationCap||"",thousandSeparator:!0,allowNegative:!1,decimalScale:2,fixedDecimalScale:!0,onValueChange:e=>{ne("valuationCap",e.value),L.valuationCap&&V((e=>({...e,valuationCap:""})))}}),L.valuationCap&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.valuationCap]}),(0,p.jsxs)("label",{className:"form-label",children:["Conversion Discount: (%) ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"number",className:"form-control mb-3 "+(L.discountRate?"is-invalid":""),value:M.discountRate||"",onChange:e=>ne("discountRate",e.target.value),placeholder:"Enter Conversion Discount: (10-25%)"}),L.discountRate&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.discountRate]})]}),"Convertible Note"===M.instrumentType&&(0,p.jsxs)("div",{className:"mt-3 p-3 border rounded bg-light",children:[(0,p.jsx)("h5",{children:"Convertible Note Details"}),(0,p.jsxs)("label",{className:"form-label",children:["Valuation Cap ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter valuation cap",value:M.valuationCap_note||"",onValueChange:e=>{ne("valuationCap_note",e.value),L.valuationCap_note&&V((e=>({...e,valuationCap_note:""})))},className:"form-control mb-3 "+(L.valuationCap_note?"is-invalid":"")}),L.valuationCap_note&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.valuationCap_note]}),(0,p.jsxs)("label",{className:"form-label",children:["Conversion Discount  (%) ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"number",className:"form-control mb-3 "+(L.discountRate_note?"is-invalid":""),value:M.discountRate_note||"",onChange:e=>ne("discountRate_note",e.target.value),placeholder:"Enter Conversion Discount (10\u201330%)"}),L.discountRate_note&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.discountRate_note]}),(0,p.jsx)("label",{className:"form-label",children:"Maturity Date"}),(0,p.jsx)("input",{type:"date",className:"form-control mb-3 "+(L.maturityDate?"is-invalid":""),value:M.maturityDate||"",onChange:e=>ne("maturityDate",e.target.value)}),L.maturityDate&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.maturityDate]}),(0,p.jsx)("label",{className:"form-label",children:"Interest Rate (%)"}),(0,p.jsx)("input",{type:"number",className:"form-control mb-3 "+(L.interestRate_note?"is-invalid":""),value:M.interestRate_note||"",onChange:e=>ne("interestRate_note",e.target.value),placeholder:"Enter annual interest rate"}),L.interestRate_note&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.interestRate_note]})]}),"Venture/Bank DEBT"===M.instrumentType&&(0,p.jsxs)("div",{className:"mt-3 p-3 border rounded bg-light",children:[(0,p.jsx)("h5",{children:"Venture/Bank Debt Details"}),(0,p.jsxs)("label",{className:"form-label",children:["Interest Rate (%) ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"number",className:"form-control mb-3 "+(L.interestRate?"is-invalid":""),value:M.interestRate||"",onChange:e=>ne("interestRate",e.target.value),placeholder:"Enter interest rate"}),L.interestRate&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.interestRate]}),(0,p.jsxs)("label",{className:"form-label",children:["Repayment Schedule (months) ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"number",className:"form-control mb-3 "+(L.repaymentSchedule?"is-invalid":""),value:M.repaymentSchedule||"",onChange:e=>ne("repaymentSchedule",e.target.value),placeholder:"Enter repayment schedule in months"}),L.repaymentSchedule&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.repaymentSchedule]}),(0,p.jsxs)("div",{className:"form-check mb-3",children:[(0,p.jsx)("input",{type:"checkbox",className:"form-check-input",id:"hasWarrants_Bank",checked:M.hasWarrants_Bank||!1,onChange:e=>ne("hasWarrants_Bank",e.target.checked)}),(0,p.jsx)("label",{className:"form-check-label",htmlFor:"hasWarrants_Bank",children:"Add Warrants (optional)"})]}),M.hasWarrants_Bank&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("label",{className:"form-label",children:"Exercise Price (Strike Price)"}),(0,p.jsx)("input",{type:"number",className:"form-control mb-3",value:M.exercisePrice_bank||"",onChange:e=>ne("exercisePrice_bank",e.target.value),placeholder:"Enter exercise price"}),(0,p.jsx)("label",{className:"form-label",children:"Expiration Date"}),(0,p.jsx)("input",{type:"date",className:"form-control mb-3",value:M.exercisedate_bank||"",onChange:e=>ne("exercisedate_bank",e.target.value)}),(0,p.jsx)("label",{className:"form-label",children:"Warrant Ratio"}),(0,p.jsx)("input",{type:"text",className:"form-control mb-3",value:M.warrantRatio_bank||"",onChange:e=>ne("warrantRatio_bank",e.target.value),placeholder:"e.g., 1:1"}),(0,p.jsx)("label",{className:"form-label",children:"Type of Warrant"}),(0,p.jsxs)("select",{className:"form-control mb-3",value:M.warrantType_bank||"CALL",onChange:e=>ne("warrantType_bank",e.target.value),children:[(0,p.jsx)("option",{value:"CALL",children:"Call Warrant (buy shares)"}),(0,p.jsx)("option",{value:"PUT",children:"Put Warrant (sell shares)"})]})]})]}),"OTHER"===M.instrumentType&&(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Custom Investment Instrument Name",(0,p.jsx)("span",{className:"text-danger fs-5 ms-1",children:"*"})]}),(0,p.jsx)("input",{type:"text",placeholder:"Enter custom investment instrument name",value:M.customInstrument||"",onChange:e=>ne("customInstrument",e.target.value),className:"form-control "+(L.customInstrument?"is-invalid":""),maxLength:30}),(0,p.jsxs)("div",{className:"form-text",children:[M.customInstrument?M.customInstrument.length:0,"/30 characters"]}),L.customInstrument&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.customInstrument]})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between pt-3 border-top gap-2",children:[(0,p.jsxs)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:[(0,p.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back"]}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{const e={};switch(M.instrumentType||(e.instrumentType="Please select an investment instrument type"),"OTHER"===M.instrumentType&&(M.customInstrument||(e.customInstrument="This field is required")),M.instrumentType){case"Preferred Equity":(!M.preferred_valuation||Number(M.preferred_valuation)<=0)&&(e.preferred_valuation="Company Valuation is required and must be greater than 0");break;case"Safe":M.valuationCap||(e.valuationCap="This field is required"),M.discountRate||(e.discountRate="This field is required");break;case"Convertible Note":M.valuationCap_note||(e.valuationCap_note="This field is required"),M.discountRate_note||(e.discountRate_note="This field is required"),M.maturityDate||(e.maturityDate="This field is required"),M.interestRate_note||(e.interestRate_note="This field is required");break;case"Venture/Bank DEBT":M.repaymentSchedule||(e.repaymentSchedule="This field is required"),M.interestRate||(e.interestRate="This field is required")}0===Object.keys(e).length?(V({}),xe("next")):(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100))},children:"Save and Continue"})]})]})]}),"description"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Description"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"What it is:"})," A strategic summary that links the equity class to its purpose, issuance context, and recipient group.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Why it matters:"})," Investors use this to understand the logic behind each class, e.g. who holds it, under what conditions it was granted.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"How to fill it:"}),' Detail the rationale and stakeholders behind issuance. Think of this as the "why" behind the class. For example:',(0,p.jsx)("br",{}),"\u2013 Reserved for key hires under Employee Stock Option Pool",(0,p.jsx)("br",{}),"\u2013 Issued to seed investors during SAFE conversion in 2022",(0,p.jsx)("br",{}),"\u2013 Created for strategic Gulf partner with board observer rights"]})]}),(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("textarea",{placeholder:"Enter the strategic description of your round...",className:"textarea_input "+(L.description?"is-invalid":""),rows:"6",value:M.description,onChange:e=>{ne("description",e.target.value),L.description&&V((e=>({...e,description:""})))}}),L.description&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.description]})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between pt-3 w-100 border-top gap-2",children:[(0,p.jsxs)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:[(0,p.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back"]}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{M.description?(V({...L,description:""}),xe("next")):V({...L,description:"This field is required"})},children:"Save and Continue"})]})]}),"roundsize"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Company Valuation":"Round Size"}),B?(0,p.jsxs)("div",{className:"round-zero-content",children:[(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Round 0 Information:"})," This is your company's incorporation round. The valuation is based on the share allocation and price per share from your incorporation documents."]}),(0,p.jsxs)("div",{className:"calculation-results p-4 border rounded bg-light mb-4",children:[(0,p.jsx)("h5",{children:"Round 0 - Incorporation Valuation"}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Total Shares Issued:"})," ",Ae().toLocaleString()]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Price Per Share:"})," $",M.pricePerShare||"0.00"]})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Total Company Value:"})," $",Ee()]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Number of Founders:"})," ",W]})]})]}),(0,p.jsx)("div",{className:"alert alert-warning mt-3 mb-0",children:(0,p.jsxs)("small",{children:[(0,p.jsx)("strong",{children:"Note:"})," This valuation is for incorporation purposes only and will not carry over to future investment rounds. Each subsequent round will calculate its own price per share based on investment size and pre-money valuation."]})})]}),(0,p.jsxs)("div",{className:"mt-4 p-3 bg-light rounded",children:[(0,p.jsx)("h6",{children:"About Round 0 Valuation:"}),(0,p.jsxs)("ul",{className:"mb-0",children:[(0,p.jsx)("li",{children:"Based on incorporation documents and initial share allocation"}),(0,p.jsx)("li",{children:"Price per share is the par value from your incorporation"}),(0,p.jsx)("li",{children:"This valuation represents the initial capital contribution by founders"}),(0,p.jsx)("li",{children:"Future rounds will calculate price per share based on investment and valuation inputs"})]})]})]}):(0,p.jsx)("div",{className:"investment-round-content",children:(0,p.jsxs)("div",{className:"row align-items-start",children:[(0,p.jsxs)("div",{className:"col-md-5 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Investment Amount"," ","(",v,")",(0,p.jsx)("span",{className:"text-danger fs-5 ms-1",children:"*"})]}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter amount",value:M.roundsize,onValueChange:e=>{ne("roundsize",e.value),L.roundsize&&V((e=>({...e,roundsize:""})))},className:"textarea_input "+(L.roundsize?"is-invalid":"")}),L.roundsize&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.roundsize]})]}),(0,p.jsxs)("div",{className:"col-md-2 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Currency ",(0,p.jsx)("span",{className:"text-danger fs-5 ms-1",children:"*"})]}),(0,p.jsxs)("select",{className:"textarea_input "+(L.currency?"is-invalid":""),value:M.currency,onChange:e=>{ne("currency",e.target.value),L.currency&&V((e=>({...e,currency:""})))},children:[(0,p.jsx)("option",{value:"",children:"-- Select Currency --"}),t.map((e=>(0,p.jsxs)("option",{value:`${e.currency_code} ${e.currency_symbol}`,children:[e.currency_code," ",e.currency_symbol]},e.id)))]}),L.currency&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.currency]})]}),(0,p.jsxs)("div",{className:"col-md-5 mb-4",children:[(0,p.jsx)("label",{className:"form-label fw-semibold",children:"Investor Post-Money Ownership(%)"}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,disabled:!0,allowNegative:!1,placeholder:"Enter investor post-money ownership",value:M.investorPostMoney||"",onValueChange:e=>{ne("investorPostMoney",e.value),L.investorPostMoney&&V((e=>({...e,investorPostMoney:""})))},className:"form-control "+(L.investorPostMoney?"is-invalid":"")}),L.investorPostMoney&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.investorPostMoney]})]}),(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Convertible Note"===M.instrumentType||"Safe"===M.instrumentType?"Company Value":"Pre-Money Valuation"," "," "," (",v,")"]}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter pre-money valuation",value:M.pre_money,onValueChange:e=>{ne("pre_money",e.value),$((e=>({...e,isPostEntered:!1})))},className:"textarea_input"})]}),(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Post-Money Valuation"," ","(",v,")"]}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,disabled:!0,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter post-money valuation",value:M.post_money,onValueChange:e=>{ne("post_money",e.value),$((e=>({...e,isPostEntered:!0})))},className:"textarea_input"})]}),(0,p.jsx)(Me,{}),(0,p.jsxs)("div",{className:"col-md-6 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Total Shares Issued in this Round"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsx)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:"The number of shares in an early-stage company represents the total units of ownership authorized, issued, or outstanding across the cap table..."})]})]}),(0,p.jsx)(c.HG,{thousandSeparator:!0,decimalScale:2,fixedDecimalScale:!0,allowNegative:!1,placeholder:"Enter # of shares",value:M.issuedshares,onValueChange:e=>{ne("issuedshares",e.value),L.issuedshares&&V((e=>({...e,issuedshares:""})))},className:"textarea_input"})]})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{const e={};B||(M.roundsize&&""!==M.roundsize.trim()?parseFloat(M.roundsize)<=0&&(e.roundsize="Round amount must be greater than 0"):e.roundsize="Round amount is required",M.currency&&""!==M.currency.trim()||(e.currency="Currency selection is required")),Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"issuedshares"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Share Allocation Summary":""}),B?(0,p.jsxs)("div",{className:"round-zero-summary",children:[(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Round 0 Summary"})," - This is your company's incorporation round. The shares have already been allocated to founders in the previous section."]}),(0,p.jsxs)("div",{className:"calculation-results p-4 border rounded bg-light",children:[(0,p.jsx)("h5",{children:"Round 0 - Incorporation Summary"}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Total Shares Issued:"})," ",Ae().toLocaleString()]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Price Per Share:"})," ",M.currency?M.currency.split(" ")[1]:"$",M.pricePerShare||"0.00"]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Total Company Value:"})," ",M.currency?M.currency.split(" ")[1]:"$",Ee()]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Currency:"})," ",M.currency||"CAD $"]})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Number of Founders:"})," ",W]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Round Status:"})," ",(0,p.jsx)("span",{className:"text-success",children:"COMPLETED"})]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Round Type:"})," Incorporation Round"]}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("strong",{children:"Round Date:"})," ",(new Date).toLocaleDateString()]})]})]}),Ae()>0&&(0,p.jsxs)("div",{className:"mt-4 p-3 bg-white rounded border",children:[(0,p.jsx)("h6",{children:"Round 0 Statistics:"}),(0,p.jsxs)("div",{className:"row text-center",children:[(0,p.jsxs)("div",{className:"col-md-3",children:[(0,p.jsx)("small",{className:"text-muted",children:"Average Shares per Founder"}),(0,p.jsx)("div",{className:"fw-bold",children:Math.round(Ae()/W).toLocaleString()})]}),(0,p.jsxs)("div",{className:"col-md-3",children:[(0,p.jsx)("small",{className:"text-muted",children:"Largest Ownership"}),(0,p.jsxs)("div",{className:"fw-bold",children:[Math.max(...H.map((e=>{const s=parseInt(e.shares)||0;return Ae()>0?s/Ae()*100:0}))).toFixed(1),"%"]})]}),(0,p.jsxs)("div",{className:"col-md-3",children:[(0,p.jsx)("small",{className:"text-muted",children:"Smallest Ownership"}),(0,p.jsxs)("div",{className:"fw-bold",children:[Math.min(...H.map((e=>{const s=parseInt(e.shares)||0;return Ae()>0?s/Ae()*100:0}))).toFixed(1),"%"]})]}),(0,p.jsxs)("div",{className:"col-md-3",children:[(0,p.jsx)("small",{className:"text-muted",children:"Voting Founders"}),(0,p.jsxs)("div",{className:"fw-bold",children:[H.filter((e=>"voting"===e.voting)).length," / ",W]})]})]})]})]}),(0,p.jsxs)("div",{className:"mt-4 p-3 bg-light rounded",children:[(0,p.jsx)("h6",{children:"About Round 0 (Incorporation Round):"}),(0,p.jsxs)("ul",{className:"mb-0",children:[(0,p.jsx)("li",{children:"This round represents the initial share allocation at company incorporation"}),(0,p.jsx)("li",{children:"Shares are allocated to founders based on the incorporation documents"}),(0,p.jsx)("li",{children:'Round 0 is automatically considered "COMPLETED" as it happens at company formation'}),(0,p.jsx)("li",{children:"This forms the foundation of your cap table for future investment rounds"}),(0,p.jsx)("li",{children:"The valuation shown is for incorporation purposes only and will not carry over to future rounds"}),(0,p.jsx)("li",{children:"Each subsequent investment round will calculate its own price per share"})]})]}),(0,p.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,p.jsx)("strong",{children:"Important:"})," This Round 0 data will serve as the foundation for your cap table. Make sure all information is accurate before proceeding."]})]}):(0,p.jsx)("div",{className:"row",children:(0,p.jsxs)("div",{className:"col-md-12 mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Is this round closed or active?"," ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{className:"form-check-input",type:"radio",name:"roundStatus",id:"roundClosed",value:"CLOSED",checked:"CLOSED"===M.roundStatus,onChange:e=>ne("roundStatus",e.target.value)}),(0,p.jsx)("label",{className:"form-check-label",htmlFor:"roundClosed",children:"CLOSED"})]}),(0,p.jsxs)("div",{className:"form-check mb-3",children:[(0,p.jsx)("input",{className:"form-check-input",type:"radio",name:"roundStatus",id:"roundActive",value:"ACTIVE",checked:"ACTIVE"===M.roundStatus,onChange:e=>ne("roundStatus",e.target.value)}),(0,p.jsx)("label",{className:"form-check-label",htmlFor:"roundActive",children:"ACTIVE"})]}),L.roundStatus&&(0,p.jsxs)("div",{className:"text-danger small",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.roundStatus]}),"CLOSED"===M.roundStatus&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Date Round Closed"," ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"text",placeholder:"MM/DD/YYYY",value:M.dateroundclosed||"",onChange:e=>{ne("dateroundclosed",e.target.value),L.dateroundclosed&&V((e=>({...e,dateroundclosed:""})))},className:"form-control "+(L.dateroundclosed?"is-invalid":"")}),L.dateroundclosed&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.dateroundclosed]}),(0,p.jsx)("div",{className:"form-text mb-3",children:"Calendar: MM / DD / YYYY"})]})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{if(B)return void xe("next");const e={};if(M.roundStatus||(e.roundStatus="Please select CLOSED or ACTIVE"),"CLOSED"===M.roundStatus){const s=/^(0[1-9]|1[0-2])\/(0[1-9]|[12]\d|3[01])\/\d{4}$/,t=M.dateroundclosed;if(t)if(s.test(t)){const[s,a,r]=t.split("/").map(Number),n=new Date(r,s-1,a),i=new Date;i.setHours(0,0,0,0),n<i&&(e.dateroundclosed="Date cannot be in the past")}else e.dateroundclosed="Enter a valid date (MM/DD/YYYY)";else e.dateroundclosed="This field is required"}Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid, .border-danger");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"rights"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Founder Rights & Preferences":"Rights Associated with this Share Class"}),B?(0,p.jsxs)("div",{className:"round-zero-content",children:[(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Round 0 Information:"})," These are the rights and preferences for founder shares as per your incorporation documents."]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Founder Share Rights & Preferences"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"For Round 0 (Founder Shares):"})," Describe the rights and preferences for founder shares as outlined in your incorporation documents. This typically includes voting rights, dividend preferences, transfer restrictions, and any special founder protections.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Common Founder Rights:"}),(0,p.jsx)("br",{}),"\u2013 Full voting rights on major company decisions",(0,p.jsx)("br",{}),"\u2013 Right to receive dividends if declared",(0,p.jsx)("br",{}),"\u2013 Pre-emptive rights to maintain ownership percentage",(0,p.jsx)("br",{}),"\u2013 Founder vesting schedules (if applicable)",(0,p.jsx)("br",{}),"\u2013 Transfer restrictions and right of first refusal"]})]})]}),(0,p.jsx)("textarea",{placeholder:"Describe the rights and preferences for founder shares as per incorporation documents (e.g., voting rights, dividend preferences, transfer restrictions)",className:"textarea_input",rows:"4",value:M.rights,onChange:e=>ne("rights",e.target.value)}),(0,p.jsx)("div",{className:"form-text",children:'Example: "Founders hold common shares with full voting rights, pre-emptive rights to maintain ownership percentage, and standard transfer restrictions as per the shareholders agreement."'})]}),(0,p.jsxs)("div",{className:"common-rights-info p-3 bg-light rounded mb-4",children:[(0,p.jsx)("h6",{children:"Common Founder Rights in Round 0:"}),(0,p.jsxs)("ul",{className:"mb-0 small",children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Voting Rights:"})," Typically full voting rights on major decisions"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Dividend Rights:"})," Right to receive dividends if company declares them"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Pre-emptive Rights:"})," Right to participate in future rounds to maintain ownership"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Transfer Restrictions:"})," Limitations on selling shares without board approval"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Founder Vesting:"})," Shares may be subject to vesting schedule"]})]})]})]}):(0,p.jsx)("div",{className:"investment-round-content",children:(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Rights Associated with this Share Class"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"What it is:"})," Specifies the negotiated powers and entitlements that holders of this class enjoy \u2014 it's the fine print investors care about.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Why it matters:"})," This defines control dynamics, dividend rights, conversion triggers, redemption clauses, anti-dilution, etc. It's the architecture of deal terms.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"How to fill it:"})," Reference exact clauses from investor agreements (term sheets or subscription documents) and simplify into readable but accurate summaries.",(0,p.jsx)("br",{}),"\u2013 Non-cumulative dividends at 6% annually",(0,p.jsx)("br",{}),"\u2013 Automatic conversion on qualified financing >$5M",(0,p.jsx)("br",{}),"\u2013 Protective provisions for mergers, board expansion, and budget approvals",(0,p.jsx)("br",{}),"\u2013 Anti-dilution protection (full-ratchet or weighted-average)",(0,p.jsx)("br",{}),"\u2013 Redemption rights after 5 years",(0,p.jsx)("br",{}),"\u2013 Pre-emptive rights for future rounds"]})]}),(0,p.jsx)("span",{className:"text-danger fs-5 ms-1",children:"*"})]}),(0,p.jsx)("textarea",{placeholder:"Describe the rights and preferences for this share class (e.g., dividend rights, conversion triggers, protective provisions)",className:"textarea_input "+(L.rights?"is-invalid":""),rows:"4",value:M.rights,onChange:e=>{ne("rights",e.target.value),L.rights&&V((e=>({...e,rights:""})))}}),L.rights&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.rights]}),(0,p.jsx)("div",{className:"form-text",children:"Be specific about dividend preferences, conversion rights, protective provisions, and any special rights."})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{const e={};B||(M.rights&&""!==M.rights.trim()?M.rights.trim().length<10&&(e.rights="Please provide more detailed description of rights"):e.rights="Please describe the rights associated with this share class"),Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"liquidation"===w&&!B&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares","rights"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:"Liquidation Preference"}),B?(0,p.jsxs)("div",{className:"text-center py-5",children:[(0,p.jsxs)("div",{className:"alert alert-info",children:[(0,p.jsx)("strong",{children:"Round 0 - No Liquidation Preference"}),(0,p.jsx)("p",{className:"mb-0 mt-2",children:"This is the incorporation round with founder shares only. Liquidation preferences typically apply to investor rounds only."})]}),(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)("button",{className:"global_btn",onClick:()=>xe("next"),children:"Continue to Next Section"})})]}):(0,p.jsx)(p.Fragment,{children:"Preferred Equity"===M.instrumentType&&(0,p.jsxs)("div",{className:"investment-round-content",children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Liquidation Preference Details"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"Note from Meeting:"})," Liquidation preferences only apply to Preferred Stock in priced rounds.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"For SAFEs/Convertible Notes:"})," They get liquidation preferences ONLY when they convert to Preferred Stock.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"For Common Stock/Venture Debt:"})," No liquidation preferences apply."]})]})]}),(0,p.jsx)("textarea",{placeholder:"Describe the liquidation preference terms (e.g., 1x non-participating preference, senior to common shares)",className:"textarea_input",rows:"4",value:M.liquidationpreferences,onChange:e=>ne("liquidationpreferences",e.target.value)}),(0,p.jsxs)("div",{className:"form-text",children:['Example: "Investors receive 1x liquidation preference, non-participating, pari passu with other preferred shares."',(0,p.jsx)("br",{}),(0,p.jsx)("small",{className:"text-muted",children:(0,p.jsx)("i",{children:"Note: This section only appears for Preferred Equity rounds as per meeting guidelines."})})]})]}),(0,p.jsxs)("div",{className:"row mt-3",children:[(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"liquidation-group mb-4",children:[(0,p.jsx)("h6",{className:"fw-semibold mb-3 border-bottom pb-2",children:"Preference Multiple"}),(0,p.jsx)("div",{className:"row",children:fe.multiplePreferences.map((e=>{var s,t;return(0,p.jsx)("div",{className:"col-12 mb-3",children:(0,p.jsxs)("div",{className:`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${null!==M&&void 0!==M&&null!==(s=M.liquidation)&&void 0!==s&&s.includes(e.value)?"bg-light border-primary":"border-gray-300"} ${L.liquidation?"is-invalid":""}`,onClick:()=>{let s=[...(null===M||void 0===M?void 0:M.liquidation)||[]];const t=fe.participationRights.map((e=>e.value));s=s.filter((e=>!t.includes(e)));const a=fe.multiplePreferences.map((e=>e.value)).filter((s=>s!==e.value));s=s.filter((e=>!a.includes(e))),s=s.filter((e=>"N/A"!==e&&"OTHER"!==e)),s.includes(e.value)?s=s.filter((s=>s!==e.value)):s.push(e.value),ne("liquidation",s),L.liquidation&&V((e=>({...e,liquidation:""})))},children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"multiplePreference",value:e.value,checked:(null===M||void 0===M||null===(t=M.liquidation)||void 0===t?void 0:t.includes(e.value))||!1,onChange:()=>{},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label fw-medium",children:e.label})]}),(0,p.jsx)("p",{className:"text-muted small mb-0 mt-2",children:e.description})]})},e.value)}))})]})}),(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsxs)("div",{className:"liquidation-group mb-4",children:[(0,p.jsx)("h6",{className:"fw-semibold mb-3 border-bottom pb-2",children:"Participation Rights"}),(0,p.jsx)("div",{className:"row",children:fe.participationRights.map((e=>{var s,t;return(0,p.jsx)("div",{className:"col-12 mb-3",children:(0,p.jsxs)("div",{className:`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${null!==M&&void 0!==M&&null!==(s=M.liquidation)&&void 0!==s&&s.includes(e.value)?"bg-light border-primary":"border-gray-300"} ${L.liquidation?"is-invalid":""}`,onClick:()=>{let s=[...(null===M||void 0===M?void 0:M.liquidation)||[]];if("N/A"===e.value)s=["N/A"];else{const t=fe.multiplePreferences.map((e=>e.value));s=s.filter((e=>!t.includes(e))),s=s.filter((e=>"N/A"!==e&&"OTHER"!==e)),s.includes(e.value)?s=s.filter((s=>s!==e.value)):s.push(e.value)}ne("liquidation",s),L.liquidation&&V((e=>({...e,liquidation:""})))},children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"checkbox",name:"participationRights",value:e.value,checked:(null===M||void 0===M||null===(t=M.liquidation)||void 0===t?void 0:t.includes(e.value))||!1,onChange:()=>{},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label fw-medium",children:e.label})]}),(0,p.jsx)("p",{className:"text-muted small mb-0 mt-2",children:e.description})]})},e.value)}))})]})})]}),(0,p.jsxs)("div",{className:"alert alert-info mt-4",children:[(0,p.jsx)("strong",{children:"Understanding Liquidation Preferences (For Preferred Equity Only):"}),(0,p.jsxs)("ul",{className:"mb-0 mt-2 small",children:[(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Applies to:"})," Preferred Stock only (not Common Stock, SAFEs, or Venture Debt)"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"SAFE/Convertible Notes:"})," Get preferences only when they convert to Preferred Stock"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"1x Preference:"})," Basic protection - get investment back first"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Multiple Preference:"})," Get 2x, 3x, etc. of investment back first"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Participating:"})," Get preference amount AND share remaining proceeds"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Non-Participating:"})," Choose between preference OR converting to common shares"]}),(0,p.jsxs)("li",{children:[(0,p.jsx)("strong",{children:"Capped Participating:"})," Participation stops at a certain multiple"]})]})]})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{if(B)return void xe("next");const e={};0===M.liquidation.length&&(e.liquidation="Please select a liquidation preference type"),M.liquidation.includes("OTHER")&&(M.liquidationOther&&M.liquidationOther.trim()||(e.liquidationOther="This field is required")),Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid, .border-danger");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"convertible"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares","rights","liquidation"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Share Convertibility":"Convertible Features"}),B?(0,p.jsxs)("div",{className:"round-zero-content",children:[(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Round 0 Information:"})," Founder shares are typically common shares and may have specific conversion terms in your incorporation documents."]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Are Founder Shares Convertible?"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"For Round 0 (Founder Shares):"})," Indicate if founder shares can be converted to other share classes, typically to preferred shares during future investment rounds.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Common Scenarios:"}),(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"No:"})," Founder shares remain as common shares",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Yes:"})," Founder shares can convert to preferred shares under specific conditions (rare)",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Note:"})," Most founder shares are common shares and do not convert. Conversion typically applies to investor instruments like convertible notes or SAFEs."]})]})]}),(0,p.jsxs)("div",{className:"d-flex gap-3",children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"convertible",value:"Yes",checked:"Yes"===M.convertible,onChange:()=>{ne("convertible","Yes"),L.convertible&&V((e=>({...e,convertible:""})))},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label",children:"Yes"})]}),(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"convertible",value:"No",checked:"No"===M.convertible||""===M.convertible,onChange:()=>{ne("convertible","No"),L.convertible&&V((e=>({...e,convertible:""})))},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label",children:"No"})]})]}),(0,p.jsx)("div",{className:"form-text",children:'Most founder shares are common shares and are not convertible. Select "No" unless your incorporation documents specify otherwise.'})]}),"Yes"===M.convertible&&(0,p.jsxs)("div",{className:"mb-4 p-3 border rounded bg-light",children:[(0,p.jsx)("h6",{children:"Founder Share Conversion Details"}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{className:"form-label fw-semibold",children:"Conversion Conditions"}),(0,p.jsx)("textarea",{placeholder:"Describe the conditions under which founder shares can convert (e.g., automatic conversion upon qualified financing, voluntary conversion option)",className:"textarea_input",rows:"3",value:M.convertibleType||"",onChange:e=>ne("convertibleType",e.target.value)}),(0,p.jsx)("div",{className:"form-text",children:'Example: "Founder common shares automatically convert to Series A preferred shares upon closing of a $1M+ financing round."'})]})]}),(0,p.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,p.jsx)("strong",{children:"Note about Founder Share Convertibility:"}),(0,p.jsxs)("ul",{className:"mb-0 mt-2 small",children:[(0,p.jsx)("li",{children:"Founder shares are typically common shares and remain as common shares"}),(0,p.jsx)("li",{children:"Conversion features are more common for investor instruments (SAFEs, convertible notes)"}),(0,p.jsx)("li",{children:'If your incorporation documents don\'t mention conversion, select "No"'}),(0,p.jsx)("li",{children:"Consult your legal advisor if unsure about conversion terms"})]})]})]}):(0,p.jsxs)("div",{className:"investment-round-content",children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Shares are convertible"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"What it is:"})," Indicate the conditions under which the security, typically a convertible note or SAFE, automatically or optionally converts into another class of shares, most commonly Common Stock.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Why it matters:"})," Impacts equity dilution, IPO readiness, and governance transitions. This is key in modelling cap table evolution.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"How to fill it:"})," Yes/No + trigger mechanisms (voluntary, automatic, conditional)",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Common Convertible Instruments:"}),(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Convertible Notes:"})," Debt that converts to equity",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"SAFEs:"})," Simple Agreement for Future Equity",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Preferred Stock:"})," May convert to common upon IPO"]})]})," ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsxs)("div",{className:"d-flex gap-3",children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"convertible",value:"Yes",checked:"Yes"===M.convertible,onChange:()=>{ne("convertible","Yes"),L.convertible&&V((e=>({...e,convertible:""})))},className:"form-check-input "+(L.convertible?"is-invalid":"")}),(0,p.jsx)("label",{className:"form-check-label",children:"Yes"})]}),(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"convertible",value:"No",checked:"No"===M.convertible,onChange:()=>{ne("convertible","No"),L.convertible&&V((e=>({...e,convertible:""})))},className:"form-check-input "+(L.convertible?"is-invalid":"")}),(0,p.jsx)("label",{className:"form-check-label",children:"No"})]})]}),L.convertible&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.convertible]})]}),"Yes"===M.convertible&&(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Convertible Type"," ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("div",{className:"row mt-2",children:["Voluntary","Automatic","Conditional"].map((e=>(0,p.jsx)("div",{className:"col-md-4 mb-3",children:(0,p.jsxs)("div",{className:"form-check-card p-3 border rounded-3 cursor-pointer h-100 "+(M.convertibleType===e?"bg-light":L.convertibleType?"border-danger":"border-gray-300"),onClick:()=>{ne("convertibleType",e),L.convertibleType&&V((e=>({...e,convertibleType:""})))},children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"convertibleType",value:e,checked:M.convertibleType===e,onChange:()=>{ne("convertibleType",e),L.convertibleType&&V((e=>({...e,convertibleType:""})))},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label fw-medium",children:e})]}),(0,p.jsxs)("p",{className:"text-muted small mb-0 mt-2",children:["Voluntary"===e&&"Investor chooses when to convert","Automatic"===e&&"Automatic conversion upon specific triggers","Conditional"===e&&"Conversion based on meeting certain conditions"]})]})},e)))}),L.convertibleType&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.convertibleType]})]})]}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{const e={};B?"Yes"!==M.convertible||M.convertibleType||(e.convertibleType="Please describe the conversion conditions"):(M.convertible||(e.convertible="Please select Yes or No"),"Yes"!==M.convertible||M.convertibleType||(e.convertibleType="Please select Voluntary, Automatic or Conditional")),Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid, .border-danger");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"voting"===w&&!B&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares","rights","liquidation","convertible"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Founder Voting Rights":"Shareholders Voting Rights"}),B?(0,p.jsxs)("div",{className:"round-zero-content",children:[(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Round 0 Information:"})," Founder shares typically have voting rights as per your incorporation documents."]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Do Founder Shares Have Voting Rights?"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"For Round 0 (Founder Shares):"})," Indicate whether founder shares carry voting rights for company decisions, board appointments, and major corporate actions.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Common Founder Voting Rights:"}),(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Yes:"})," Founders can vote on major company decisions",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"No:"})," Founders have non-voting shares (rare for founders)",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Typical Scenario:"})," Most founder shares have full voting rights allowing participation in key decisions like:",(0,p.jsx)("br",{}),"\u2022 Board of directors elections",(0,p.jsx)("br",{}),"\u2022 Major corporate transactions",(0,p.jsx)("br",{}),"\u2022 Approval of future funding rounds",(0,p.jsx)("br",{}),"\u2022 Changes to company bylaws"]})]})]}),(0,p.jsxs)("div",{className:"d-flex gap-3",children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"voting",value:"Yes",checked:"Yes"===M.voting,onChange:()=>{ne("voting","Yes"),L.voting&&V((e=>({...e,voting:""})))},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label",children:"Yes"})]}),(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"voting",value:"No",checked:"No"===M.voting,onChange:()=>{ne("voting","No"),L.voting&&V((e=>({...e,voting:""})))},className:"form-check-input"}),(0,p.jsx)("label",{className:"form-check-label",children:"No"})]})]}),(0,p.jsx)("div",{className:"form-text",children:'Most founder shares have voting rights. Select "Yes" unless your incorporation documents specify non-voting shares.'})]}),"Yes"===M.voting&&(0,p.jsxs)("div",{className:"mb-4 p-3 border rounded bg-light",children:[(0,p.jsx)("h6",{children:"Founder Voting Rights Details"}),(0,p.jsxs)("div",{className:"mb-3",children:[(0,p.jsx)("label",{className:"form-label",children:"Voting Power Distribution"}),(0,p.jsx)("div",{className:"table-responsive",children:(0,p.jsxs)("table",{className:"table table-sm table-bordered",children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Founder"}),(0,p.jsx)("th",{children:"Shares"}),(0,p.jsx)("th",{children:"Voting Power"})]})}),(0,p.jsx)("tbody",{children:H.map(((e,s)=>{const t=parseInt(e.shares)||0,a=Ae(),r=a>0?(t/a*100).toFixed(1):"0.0";return(0,p.jsxs)("tr",{children:[(0,p.jsxs)("td",{children:["Founder ",s+1]}),(0,p.jsx)("td",{children:t.toLocaleString()}),(0,p.jsxs)("td",{children:[r,"%"]})]},s)}))})]})})]})]}),(0,p.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,p.jsx)("strong",{children:"About Founder Voting Rights:"}),(0,p.jsxs)("ul",{className:"mb-0 mt-2 small",children:[(0,p.jsx)("li",{children:"Founder voting rights are typically proportional to share ownership"}),(0,p.jsx)("li",{children:"Each share usually equals one vote (one-share-one-vote principle)"}),(0,p.jsx)("li",{children:"Voting rights allow participation in major corporate decisions"}),(0,p.jsx)("li",{children:"Some decisions may require supermajority votes for extra protection"})]})]})]}):(0,p.jsx)("div",{className:"investment-round-content",children:(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold",children:["Shareholders Voting Rights"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"What it is:"})," Determines how much influence equity holders wield in company decisions, including board appointments, strategic pivots, and future fundraising.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Why it matters:"})," Control rights shape governance \u2014 founders often trade economic upside for retaining voting control. Investors may require protective provisions and veto rights.",(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Investor Voting Scenarios:"}),(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Yes:"})," Investors have voting rights (common for preferred shares)",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"No:"})," Investors have non-voting shares (rare for equity investors)",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Protective Provisions:"})," Veto rights on specific major decisions",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Board Seats:"})," Right to appoint board directors"]})]})," ",(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsxs)("div",{className:"d-flex gap-3",children:[(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"voting",value:"Yes",checked:"Yes"===M.voting,onChange:()=>{ne("voting","Yes"),L.voting&&V((e=>({...e,voting:""})))},className:"form-check-input "+(L.voting?"is-invalid":"")}),(0,p.jsx)("label",{className:"form-check-label",children:"Yes"})]}),(0,p.jsxs)("div",{className:"form-check",children:[(0,p.jsx)("input",{type:"radio",name:"voting",value:"No",checked:"No"===M.voting,onChange:()=>{ne("voting","No"),L.voting&&V((e=>({...e,voting:""})))},className:"form-check-input "+(L.voting?"is-invalid":"")}),(0,p.jsx)("label",{className:"form-check-label",children:"No"})]})]}),L.voting&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.voting]}),"Yes"===M.voting&&(0,p.jsxs)("div",{className:"mt-3 p-3 bg-light rounded",children:[(0,p.jsx)("h6",{children:"Investor Voting Rights Details"}),(0,p.jsxs)("div",{className:"form-text",children:[(0,p.jsx)("strong",{children:"Common Investor Voting Rights Include:"}),(0,p.jsx)("br",{}),(0,p.jsx)("div",{className:"alert alert-warning p-2 mt-2 mb-2",children:(0,p.jsxs)("strong",{className:"d-block text-center",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),"Please connect with your Legal Council and make sure that all your voting rights of this round are included in term sheet as subscription document"]})}),(0,p.jsxs)("ul",{className:"mb-0 mt-2",children:[(0,p.jsx)("li",{children:"May included Election of board directors"}),(0,p.jsx)("li",{children:"May included Approval of major corporate transactions"}),(0,p.jsx)("li",{children:"May included Changes to company charter or bylaws"}),(0,p.jsx)("li",{children:"May included Issuance of new equity securities"}),(0,p.jsx)("li",{children:"May included Approval of annual budgets"})]})]})]})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{const e={};B?M.voting||ne("voting","Yes"):M.voting||(e.voting="Please select Yes or No"),Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid, .border-danger");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"termsheet"===w&&!B&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares","rights","liquidation","convertible","voting"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:"Investment Documents - Term Sheet"}),B?(0,p.jsxs)("div",{className:"text-center py-5",children:[(0,p.jsxs)("div",{className:"alert alert-info",children:[(0,p.jsx)("strong",{children:"Round 0 - No Term Sheet Required"}),(0,p.jsx)("p",{className:"mb-0 mt-2",children:"This is the incorporation round with founder shares only. Term sheets are typically used for investor funding rounds."})]}),(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)("button",{className:"global_btn",onClick:()=>xe("next"),children:"Continue to Notes Section"})})]}):(0,p.jsx)("div",{className:"investment-round-content",children:(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center",children:["Upload Your Term Sheet(s)"," ",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:["A term sheet is a non-binding document that sets the stage for an investment by outlining the essential terms of the deal: valuation, share type, governance rights, investor protections, and expected post-money ownership. It is the 'strategic handshake' between founders and investors before drafting legal documents.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Key Elements in Term Sheets:"}),(0,p.jsx)("br",{}),"\u2013 Valuation (pre-money and post-money)",(0,p.jsx)("br",{}),"\u2013 Investment amount and share price",(0,p.jsx)("br",{}),"\u2013 Liquidation preferences",(0,p.jsx)("br",{}),"\u2013 Voting rights and protective provisions",(0,p.jsx)("br",{}),"\u2013 Board composition",(0,p.jsx)("br",{}),"\u2013 Anti-dilution provisions",(0,p.jsx)("br",{}),"\u2013 Dividend preferences"]})]}),(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt",onChange:e=>{ne("termsheetFile",Array.from(e.target.files)),L.termsheetFile&&V((e=>({...e,termsheetFile:""})))},className:"textarea_input "+(L.termsheetFile?"is-invalid":"")}),M.termsheetFile&&M.termsheetFile.length>0&&(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("strong",{children:"Selected Files:"}),(0,p.jsx)("ul",{className:"small text-muted mt-1 mb-0",children:M.termsheetFile.map(((e,s)=>(0,p.jsx)("li",{children:(0,p.jsx)("strong",{children:e.name})},s)))})]}),L.termsheetFile&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.termsheetFile]}),(0,p.jsx)("div",{className:"form-text",children:"Supported formats: PDF, DOC, DOCX, TXT. Maximum file size: 10MB per file."})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{if(B)return void xe("next");const e={};if(M.termsheetFile&&0!==M.termsheetFile.length){const s=["pdf","doc","docx","txt"],t=10485760;for(const a of M.termsheetFile){const r=a.name.split(".").pop().toLowerCase();if(!s.includes(r)){e.termsheetFile="Invalid file type. Please upload PDF, DOC, DOCX, or TXT files only";break}if(a.size>t){e.termsheetFile=`File ${a.name} exceeds 10MB size limit`;break}}}else e.termsheetFile="Please upload at least one term sheet file";Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid, .border-danger");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"subscription"===w&&!B&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares","rights","liquidation","convertible","voting","termsheet"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:"Investment Documents - Subscription"}),B?(0,p.jsxs)("div",{className:"text-center py-5",children:[(0,p.jsxs)("div",{className:"alert alert-info",children:[(0,p.jsx)("strong",{children:"Round 0 - No Subscription Documents Required"}),(0,p.jsx)("p",{className:"mb-0 mt-2",children:"This is the incorporation round with founder shares only. Subscription documents are used for investor funding rounds."})]}),(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)("button",{className:"global_btn",onClick:()=>xe("next"),children:"Continue to Notes Section"})})]}):(0,p.jsx)("div",{className:"investment-round-content",children:(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center",children:["Upload Your Subscription Documents",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:["Subscription documents are the formal, legally binding agreements that an investor signs to purchase equity in a company after a term sheet has been agreed upon. These include the Subscription Agreement, which outlines how many shares the investor is buying, at what price, and under what terms.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"Common Subscription Documents:"}),(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Subscription Agreement:"})," Primary investment contract",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Shareholders' Agreement:"})," Governance and rights",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Investor Rights Agreement:"})," Information and registration rights",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Board Consent:"})," Formal board approval of the round",(0,p.jsx)("br",{}),"\u2013 ",(0,p.jsx)("strong",{children:"Side Letters:"})," Special terms for specific investors",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),"These documents legally commit the investor to the deal and obligate the company to issue shares in exchange for capital."]})]}),(0,p.jsx)("span",{style:{color:"var(--primary)"},children:"*"})]}),(0,p.jsx)("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.txt",onChange:e=>{ne("subscriptiondocument",Array.from(e.target.files)),L.subscriptiondocument&&V((e=>({...e,subscriptiondocument:""})))},className:"textarea_input "+(L.subscriptiondocument?"is-invalid":"")}),M.subscriptiondocument&&M.subscriptiondocument.length>0&&(0,p.jsxs)("div",{className:"mt-2",children:[(0,p.jsx)("strong",{children:"Selected Files:"}),(0,p.jsx)("ul",{className:"small text-muted mt-1 mb-0",children:M.subscriptiondocument.map(((e,s)=>(0,p.jsx)("li",{children:(0,p.jsx)("strong",{children:e.name})},s)))})]}),L.subscriptiondocument&&(0,p.jsxs)("div",{className:"text-danger small mt-1",children:[(0,p.jsx)("i",{className:"bi bi-exclamation-circle me-1"}),L.subscriptiondocument]}),(0,p.jsx)("div",{className:"form-text",children:"Upload all relevant subscription documents. Supported formats: PDF, DOC, DOCX, TXT. Maximum file size: 10MB per file."})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",onClick:()=>{if(B)return void xe("next");const e={};if(M.subscriptiondocument&&0!==M.subscriptiondocument.length){const t=["pdf","doc","docx","txt"],a=10485760;for(const r of M.subscriptiondocument){var s;const n=(null===(s=((null===r||void 0===r?void 0:r.name)||"").split(".").pop())||void 0===s?void 0:s.toLowerCase())||"";if(!t.includes(n)){e.subscriptiondocument="Invalid file type. Please upload PDF, DOC, DOCX, or TXT files only";break}if(r.size>a){e.subscriptiondocument=`File ${r.name} exceeds 10MB size limit`;break}}}else e.subscriptiondocument="Please upload at least one subscription document";Object.keys(e).length>0?(V(e),setTimeout((()=>{const e=document.querySelector(".is-invalid, .border-danger");e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)):(V({}),xe("next"))},children:"Save and Continue"})]})]}),"notes"===w&&(0,p.jsxs)("div",{className:"section-content p-4 border rounded-3 shadow-sm bg-white",children:[(0,p.jsx)(l.A,{formData:M,otherText:ce,selected:oe,visibleFields:["shareclass","description","instrument","roundsize","issuedshares","rights","liquidation","convertible","voting","termsheet","subscription"],isFirstRound:B,foundersData:H,calculateTotalShares:Ae,calculateTotalValue:Ee,founderCount:W}),(0,p.jsx)("h3",{className:"h5 mb-4 text-gray-800",children:B?"Round 0 - Additional Notes":"General Notes About the Round"}),B?(0,p.jsxs)("div",{className:"round-zero-content",children:[(0,p.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,p.jsx)("strong",{children:"Round 0 Information:"})," Add any additional notes about your company's incorporation and founder share allocation."]}),(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center",children:["Incorporation & Founder Notes",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"For Round 0 (Founder Shares):"})," Add any additional information about your company's incorporation that wasn't captured in previous sections.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"What to include:"}),(0,p.jsx)("br",{}),"\u2013 Special founder arrangements or vesting schedules",(0,p.jsx)("br",{}),"\u2013 Notes about the incorporation process or timeline",(0,p.jsx)("br",{}),"\u2013 Any unique terms from your incorporation documents",(0,p.jsx)("br",{}),"\u2013 Future plans for the company",(0,p.jsx)("br",{}),"\u2013 Additional context about founder relationships",(0,p.jsx)("br",{}),"\u2013 Any restrictions or special conditions on founder shares"]})]})]}),(0,p.jsx)("textarea",{placeholder:"Enter any additional notes about company incorporation, founder arrangements, or special terms from your incorporation documents...",className:"textarea_input",rows:"6",value:M.generalnotes,onChange:e=>ne("generalnotes",e.target.value)}),(0,p.jsx)("div",{className:"form-text",children:"This information helps provide context for your company's founding and initial share structure."})]}),(0,p.jsxs)("div",{className:"calculation-results p-4 border rounded bg-light mb-4",children:[(0,p.jsx)("h5",{children:"Round 0 - Incorporation Summary"}),(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("strong",{children:"Total Shares:"})," ",Ae().toLocaleString()]}),(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("strong",{children:"Price Per Share:"})," $",M.pricePerShare||"0.00"]}),(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("strong",{children:"Total Value:"})," $",Ee()]})]}),(0,p.jsxs)("div",{className:"col-md-6",children:[(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("strong",{children:"Founders:"})," ",W]}),(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("strong",{children:"Share Type:"})," Common Shares"]}),(0,p.jsxs)("div",{className:"mb-2",children:[(0,p.jsx)("strong",{children:"Voting Rights:"})," ","Yes"===M.voting?"Yes":"No"]})]})]})]}),(0,p.jsxs)("div",{className:"alert alert-success mt-3",children:[(0,p.jsx)("strong",{children:"Ready to Complete Round 0"}),(0,p.jsx)("p",{className:"mb-0 mt-2",children:"You've successfully entered all the information for your company's incorporation round. This will serve as the foundation for your cap table and future investment rounds."})]})]}):(0,p.jsx)("div",{className:"investment-round-content",children:(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("label",{className:"form-label fw-semibold d-flex align-items-center",children:["General Notes About the Round",(0,p.jsxs)("span",{className:"tooltip-icon ms-2",tabIndex:0,children:[(0,p.jsx)("img",{className:"blackdark",width:"15",height:"15",src:"/assets/user/images/question.png",alt:"Tip"}),(0,p.jsxs)("div",{className:"tooltip-text tool-test-white text-white",role:"tooltip",children:[(0,p.jsx)("strong",{children:"For Investment Rounds:"})," Add any additional information, context, or special considerations about this funding round that weren't captured in previous sections.",(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)("strong",{children:"What to include:"}),(0,p.jsx)("br",{}),"\u2013 Background on investor negotiations",(0,p.jsx)("br",{}),"\u2013 Special terms or side agreements",(0,p.jsx)("br",{}),"\u2013 Timeline and process notes",(0,p.jsx)("br",{}),"\u2013 Key people involved in the round",(0,p.jsx)("br",{}),"\u2013 Future plans tied to this funding",(0,p.jsx)("br",{}),"\u2013 Any unusual or noteworthy aspects of the deal",(0,p.jsx)("br",{}),"\u2013 Conditions precedent or subsequent"]})]})]}),(0,p.jsx)("textarea",{placeholder:"Enter any additional notes about the investment round, investor relationships, special terms, or context that would be helpful for future reference...",className:"textarea_input",rows:"6",value:M.generalnotes,onChange:e=>ne("generalnotes",e.target.value)}),(0,p.jsx)("div",{className:"form-text",children:"These notes will be stored with your round information for future reference and reporting."})]})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between gap-2",children:[(0,p.jsx)("button",{className:"close_btn w-fit",onClick:()=>xe("prev"),children:"Back"}),(0,p.jsx)("button",{className:"global_btn w-fit",type:"button",onClick:()=>{S("Please review all the information carefully before submitting. Once submitted, it can be officially recorded."),he(!0)},children:B?"Complete Round 0":"Save and Review"})]}),B&&(0,p.jsxs)("div",{className:"mt-4 pt-3 border-top",children:[(0,p.jsx)("div",{className:"progress",style:{height:"8px"},children:(0,p.jsx)("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:"100%"},"aria-valuenow":100,"aria-valuemin":0,"aria-valuemax":100})}),(0,p.jsxs)("div",{className:"d-flex justify-content-between mt-2 small text-muted",children:[(0,p.jsx)("span",{children:"Round 0 Setup"}),(0,p.jsx)("span",{children:"100% Complete"})]})]})]})]})})]})})})]})]})})})}}}]);
//# sourceMappingURL=5781.f5741b6d.chunk.js.map