"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[5901],{37022:(e,t,o)=>{o.d(t,{A:()=>r});var n=o(65043),s=o(70579);const r=function(e){let{message:t,onConfirm:o,onCancel:r}=e;const a=(0,n.useRef)(null),i=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&r(),"Enter"===e.key&&o()};return document.addEventListener("keydown",e),i.current.focus(),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[o,r]),(0,s.jsxs)("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,opacity:0,animation:"fadeIn 0.3s ease-out forwards",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},onClick:r,children:[(0,s.jsxs)("div",{ref:a,className:"modal-content",style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15), 0 0 10px rgba(220, 53, 69, 0.2)",maxWidth:"450px",width:"90%",transform:"scale(0.9) translateY(-20px)",animation:"scaleIn 0.3s ease-out forwards",border:"1px solid rgba(220, 53, 69, 0.2)"},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"modal-icon",style:{textAlign:"center",marginBottom:"1.5rem"},children:(0,s.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"#dc3545"},children:(0,s.jsx)("path",{d:"M12 9V14M12 17V17.01M5.07183 19H18.9282C20.4678 19 21.4301 17.3333 20.6603 16L13.7321 4C12.9623 2.66667 11.0378 2.66667 10.268 4L3.33978 16C2.56998 17.3333 3.53223 19 5.07183 19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)("h3",{className:"modal-title",style:{textAlign:"center",margin:"0 0 1rem 0",color:"#dc3545",fontSize:"1.5rem",fontWeight:"600"},children:"Confirm Action"}),(0,s.jsx)("p",{className:"modal-message",style:{textAlign:"center",margin:"0 0 2rem 0",color:"#495057",fontSize:"1rem",lineHeight:"1.5"},children:t}),(0,s.jsxs)("div",{className:"modal-actions",style:{display:"flex",justifyContent:"center",gap:"1rem"},children:[(0,s.jsx)("button",{type:"button",className:"btn-cancel",onClick:r,style:{padding:"0.75rem 1.5rem",backgroundColor:"#f8f9fa",color:"#495057",border:"1px solid #dee2e6",borderRadius:"6px",fontWeight:"500",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px"},onMouseOver:e=>{e.target.style.backgroundColor="#e9ecef",e.target.style.transform="translateY(-2px)"},onMouseOut:e=>{e.target.style.backgroundColor="#f8f9fa",e.target.style.transform="translateY(0)"},children:"Cancel"}),(0,s.jsx)("button",{type:"button",className:"btn-confirm",ref:i,onClick:o,style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:"0 4px 6px rgba(220, 53, 69, 0.3)"},onMouseOver:e=>{e.target.style.backgroundColor="#bd2130",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 8px rgba(220, 53, 69, 0.4)"},onMouseOut:e=>{e.target.style.backgroundColor="#dc3545",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 6px rgba(220, 53, 69, 0.3)"},children:"Confirm"})]})]}),(0,s.jsx)("style",{children:"\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes scaleIn {\n            from { \n              transform: scale(0.9) translateY(-20px);\n              opacity: 0;\n            }\n            to { \n              transform: scale(1) translateY(0);\n              opacity: 1;\n            }\n          }\n          \n          .btn-cancel:focus, .btn-confirm:focus {\n            outline: 2px solid #3d8bfd;\n            outline-offset: 2px;\n          }\n        "})]})}},65901:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(65043),s=o(58786),r=o(94060),a=o(44710),i=(o(38421),o(53579)),l=o(27836),c=o(86213),d=o(60184),u=o(37022),p=o(35475),m=(o(26022),o(73216)),g=(o(63393),o(68073)),f=o(94298),h=o(25581),x=o(70579);function b(){const e=(0,m.Zp)(),t=localStorage.getItem("SignatoryLoginData"),o=JSON.parse(t),[b,y]=(0,n.useState)([]),[w,v]=(0,n.useState)(null),[j,C]=(0,n.useState)(""),[k,S]=(0,n.useState)(!1),[N,A]=(0,n.useState)("");var _=h.J+"api/user/investor/";const R=h.J+"api/user/",[L,D]=(0,n.useState)("");document.title="Investment Rounds Overview";(0,n.useEffect)((()=>{O()}),[]);const O=async()=>{let e={company_id:o.companies[0].id,user_id:o.id};try{const t=(await c.A.post(R+"getAuthorizedSignature",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;t.length>0&&v(t[0])}catch(t){}};(0,n.useEffect)((()=>{T()}),[]);const T=async()=>{const e={company_id:o.companies[0].id};try{const t=await c.A.post(_+"getrecordRoundList",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});y(t.data.results)}catch(t){console.error("Error generating summary",t)}},z=[{name:"Round Name",selector:e=>e.nameOfRound,sortable:!0},{name:"Share Class",selector:e=>e.shareClassType,sortable:!0},{name:"Target Raise Amount",selector:e=>{const t=e.roundsize?Number(e.roundsize):0;return`${e.currency||""} ${t.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`},sortable:!0},{name:"Numbers of Shares",selector:e=>{const t=Number(e.issuedshares).toLocaleString("en-IN",{minimumFractionDigits:3,maximumFractionDigits:3});return"Investment"===e.round_type?`${t} (New)`:`${t}`},sortable:!0},{name:"Status of Round",selector:e=>e.dateroundclosed,sortable:!0,cell:e=>{const t="ACTIVE"===e.roundStatus;let o;return o=t?"ACTIVE":e.dateroundclosed?`CLOSED: ${P(e.dateroundclosed)}`:"CLOSED: N/A",(0,x.jsx)("span",{style:{padding:"4px 12px",borderRadius:"12px",fontWeight:"600",color:t?"#065f46":"#b91c1c",backgroundColor:t?"#d1fae5":"#fee2e2",fontSize:"12px",display:"inline-block"},children:o})}},{name:"Action",cell:e=>{if(!("owner"===o.role||"Yes"===(null===w||void 0===w?void 0:w.approve)))return(0,x.jsx)("span",{style:{padding:"4px 12px",borderRadius:"12px",fontWeight:"600",color:"#b91c1c",backgroundColor:"#fee2e2",fontSize:"12px",display:"inline-block"},children:"Pending Approval"});e.roundStatus;return(0,x.jsxs)("div",{className:"d-flex gap-2",children:[(0,x.jsxs)("button",{className:"icon_btn green_clr",onClick:()=>W(e),title:"Lock The Document For Sharing",children:[(0,x.jsx)(d.Ny1,{})," View"]}),(0,x.jsxs)(p.N_,{to:`/record-round-cap-table/${e.id}`,title:"View Cap Table",className:"icon_btn green_clr",children:[(0,x.jsx)(d.yd7,{})," Cap Table"]}),"No"===e.is_shared&&(0,x.jsxs)(p.N_,{to:`/edit-record-round/${e.id}`,title:"View Record Round",className:"icon_btn green_clr",children:[(0,x.jsx)(d.uO9,{})," Edit"]}),"Yes"===e.is_locked||"Yes"===e.is_shared?(0,x.jsxs)("button",{className:"icon_btn red_clr",title:"Locked",disabled:!0,children:[(0,x.jsx)(d.JhU,{})," Locked"]}):(0,x.jsxs)("button",{className:"icon_btn red_clr",onClick:()=>$(e.id),title:"Lock The Document For Sharing",children:[(0,x.jsx)(d.YVu,{})," Unlock"]})]})},ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"380px"}],[E,I]=(0,n.useState)(!1),[Y,F]=(0,n.useState)(""),W=e=>{F(e),I(!0)},$=async e=>{D(e),A("Are you sure? Once locked, this document cannot be unlocked.")},[M,J]=(0,n.useState)(""),V=b.filter((e=>{const t=(M||"").toLowerCase();return(e.shareClassType||"").toLowerCase().includes(t)||(e.nameOfRound||"").toLowerCase().includes(t)||(e.currency||"").toLowerCase().includes(t)||(e.issuedshares||"").toLowerCase().includes(t)}));function P(e){const t=new Date(e);if(isNaN(t))return"";const o=t.getDate(),n=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],s=t.getFullYear();return`${n} ${o}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(o)}, ${s}`}const[H,U]=(0,n.useState)(!1),[q,B]=(0,n.useState)(!1),[Z,K]=(0,n.useState)(!1),[G,Q]=(0,n.useState)(!1),[X,ee]=(0,n.useState)(!0),[te,oe]=(0,n.useState)(""),[ne,se]=(0,n.useState)(""),[re,ae]=(0,n.useState)("Onetime");var ie=h.J+"api/user/aifile/";const le=h.J+"api/admin/module/";(0,n.useEffect)((()=>{ce()}),[]);const ce=async()=>{let e={user_id:""};try{var t=(await c.A.post(le+"getDataroompayment",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.row;oe(t[0])}catch(o){o.response||(o.request?console.error("Request data:",o.request):console.error("Error message:",o.message))}};function de(e){const t=e.getMonth();let o,n=e.getFullYear();return t<3?o=3:t<6?o=6:t<9?o=9:(o=0,n+=1),new Date(n,o,1)}return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(i.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:H,setIsCollapsed:U}),(0,x.jsxs)("div",{className:"global_view "+(H?"global_view_col":""),children:[(0,x.jsx)(r.A,{}),(0,x.jsx)(i.$K,{className:"d-block p-md-4 p-3",children:(0,x.jsxs)("div",{className:"container-fluid",children:[j&&(0,x.jsxs)("div",{className:"flex items-center justify-between gap-3 shadow-lg "+(k?"error_pop":"success_pop"),children:[(0,x.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,x.jsx)("span",{className:"d-block",children:j})}),(0,x.jsx)("button",{type:"button",className:"close_btnCros",onClick:()=>C(""),children:"\xd7"})]}),N&&(0,x.jsx)(u.A,{message:N,onConfirm:async()=>{const e={company_id:o.companies[0].id,lock_id:L};console.log(e);try{const t=await c.A.post(_+"recordRoundLock",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});A(""),C(t.data.message),T(),setTimeout((()=>{C("")}),3500)}catch(t){console.error("Error generating summary",t)}},onCancel:()=>{A("")}}),(0,x.jsxs)(l.zP,{className:"d-flex flex-column gap-2",children:[(0,x.jsxs)("div",{className:"titleroom d-flex justify-content-between align-items-center border-bottom pb-3",children:[(0,x.jsx)("div",{className:"pb-3 bar_design",children:(0,x.jsx)("h4",{className:"h5 mb-0",children:"Investment Rounds Overview"})}),(0,x.jsx)("div",{className:"d-flex gap-2",children:(0,x.jsx)(p.N_,{to:"javascript:void(0)",onClick:async()=>{if("owner"===o.role)try{const t=await c.A.post(ie+"checkSubscriptionInvestorReport",{company_id:o.companies[0].id}),{subscriptionActive:n,updateAlreadySubmitted:s,lastUpdateDate:r}=t.data;if(n)if(s){P(de(new Date(r)));e("/createrecord")}else e("/createrecord");else B(!0)}catch(t){console.error(t),S(!0),C("Something went wrong.")}else if(null!==w)if("No"===w.approve)S(!0),C("Please verify your signature"),setTimeout((()=>{S(!1),e("/authorized-signature")}),1500);else try{const t=await c.A.post(ie+"checkSubscriptionInvestorReport",{company_id:o.companies[0].id}),{subscriptionActive:n,updateAlreadySubmitted:s,lastUpdateDate:r}=t.data;if(n)if(s){P(de(new Date(r)));e("/createrecord")}else e("/createrecord");else B(!0)}catch(t){console.error(t),S(!0),C("Something went wrong.")}else S(!0),C("Please verify your signature"),setTimeout((()=>{S(!1),e("/authorized-signature")}),1500)},className:"generatebutton px-4 py-2 fn_size_sm btn btn-outline-dark active d-flex align-items-center gap-2",style:{opacity:"owner"===o.role||"Yes"===(null===w||void 0===w?void 0:w.approve)?1:.6,pointerEvents:"owner"===o.role||"Yes"===(null===w||void 0===w?void 0:w.approve)?"auto":"none"},children:(0,x.jsx)("span",{style:{opacity:"owner"===o.role||"Yes"===(null===w||void 0===w?void 0:w.approve)?1:.6},children:"Start New Funding Round"})})})]}),(0,x.jsx)("div",{className:"d-flex justify-content-end my-2 p-0",children:(0,x.jsx)("input",{type:"search",placeholder:"Search Here...",className:"form-control",value:M,onChange:e=>J(e.target.value),style:{padding:"10px 15px",width:"100%",maxWidth:"300px",fontSize:"14px",borderRadius:"10px"}})}),(0,x.jsx)("div",{className:"d-flex flex-column justify-content-between align-items-start tb-box",children:(0,x.jsx)(s.Ay,{customStyles:{table:{style:{border:"1px solid #dee2e6",borderRadius:"12px",overflow:"auto"}},headCells:{style:{backgroundColor:"#efefef",fontWeight:"600",fontSize:"0.8rem",color:"#000",textTransform:"uppercase",whiteSpace:"nowrap"}},cells:{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},rows:{style:{fontSize:"0.8rem",fontWeight:"500"},stripedStyle:{backgroundColor:"#fff"}},pagination:{style:{marginTop:"15px",backgroundColor:"#fafafa",padding:"12px 16px"}}},conditionalRowStyles:[{when:e=>!0,style:{"&:hover":{backgroundColor:"var(--lightRed)"}}}],columns:z,className:"datatb-report",data:V,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0})})]})]})})]})]})})})}),q&&(0,x.jsx)(f.A,{show:q,onClose:()=>B(!1),payment:te.onetime_Fee,referstatus:!0}),E&&(0,x.jsx)(g.A,{onClose:()=>I(!1),recordViewData:Y})]})}}}]);
//# sourceMappingURL=5901.1a4a000a.chunk.js.map