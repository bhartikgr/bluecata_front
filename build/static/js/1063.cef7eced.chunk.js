/*! For license information please see 1063.cef7eced.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[1063],{4953:(e,s,a)=>{a.d(s,{A:()=>u});var t=a(5043),l=a(4562),n=a(5273),r=a(448),c=a(1775),i=a(5446),o=a(4117),d=a(2862),m=a(579);const u=function(){const[e,s]=(0,t.useState)(0),a=e=>{s(e)},{t:u}=(0,o.Bd)();return(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),d.A.language!==e&&d.A.changeLanguage(e)}),[d.A,u]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,m.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(0===e?"active":""),onClick:()=>a(0),children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("div",{className:"eventicon fulw",children:(0,m.jsx)("img",{src:l,alt:"eventicon"})})}),(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsx)("h3",{children:u("General")})})]}),(0,m.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(1===e?"active":""),onClick:()=>a(1),children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("div",{className:"eventicon fulw",children:(0,m.jsx)("img",{src:n,alt:"eventicon"})})}),(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsx)("h3",{children:u("Fetish")})})]}),(0,m.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(2===e?"active":""),onClick:()=>a(2),children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("div",{className:"eventicon fulw",children:(0,m.jsx)("img",{src:r,alt:"eventicon"})})}),(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsx)("h3",{children:u("Party")})})]}),(0,m.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(3===e?"active":""),onClick:()=>a(3),children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("div",{className:"eventicon fulw",children:(0,m.jsx)("img",{src:c,alt:"eventicon"})})}),(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsx)("h3",{children:u("Stories")})})]}),(0,m.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(4===e?"active":""),onClick:()=>a(4),children:[(0,m.jsx)("div",{className:"flex-shrink-0",children:(0,m.jsx)("div",{className:"eventicon fulw",children:(0,m.jsx)("img",{src:i,alt:"eventicon"})})}),(0,m.jsx)("div",{className:"flex-grow-1",children:(0,m.jsx)("h3",{children:u("Feedback")})})]})]})})}},1346:(e,s,a)=>{a.d(s,{A:()=>m});var t=a(5043),l=a(1462),n=a(6213),r=a(793),c=a(8908),i=a(4117),o=a(2862),d=a(579);const m=e=>{let{isOpen:s,onClose:a,children:m,Inrefresh:u}=e;const[h,g]=(0,t.useState)(null),[x,p]=(0,t.useState)(!1),[f,v]=(0,t.useState)(""),[j,N]=(0,t.useState)(""),[k,b]=(0,t.useState)(""),[w,y]=(0,t.useState)(!1),[S,C]=(0,t.useState)(!1),[A,_]=(0,t.useState)(""),[E,L]=(0,t.useState)(""),[$,F]=(0,t.useState)(""),[I,q]=(0,t.useState)(null),[M,T]=(0,t.useState)(!1),[J,R]=(0,t.useState)("");const{t:D}=(0,i.Bd)(),O=(0,t.useRef)(null);(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),o.A.language!==e&&o.A.changeLanguage(e)}),[o.A,D]);const B=e=>new Promise(((s,a)=>{const t=new FileReader;t.onload=function(t){const l=new Image;l.onload=function(){const t=document.createElement("canvas");t.width=l.width,t.height=l.height;t.getContext("2d").drawImage(l,0,0),t.toBlob((t=>{if(t){const a=new File([t],e.name.replace(/\.\w+$/,".png"),{type:"image/png",lastModified:(new Date).getTime()});s(a)}else a(new Error("Failed to convert image."))}),"image/png",1)},l.onerror=a,l.src=t.target.result},t.onerror=a,t.readAsDataURL(e)})),z=["arse","arsehead","arsehole","ass","ass hole","asshole","bastard","bitch","bloody","bollocks","brotherfucker","bugger","bullshit","child-fucker","Christ on a bike","Christ on a cracker","cock","cocksucker","crap","cunt","dammit","damn","damned","damn it","dick","dick-head","dickhead","dumb ass","dumb-ass","dumbass","dyke","faggot","father-fucker","fatherfucker","fuck","fucker","fucking","god dammit","goddammit","God damn","god damn","goddamn","Goddamn","goddamned","goddamnit","godsdamn","holy shit","horseshit","in shit","jackarse","jack-ass","jackass","Jesus Christ","Jesus fuck","Jesus Harold Christ","Jesus H. Christ","Jesus, Mary and Joseph","Jesus wept","kike","mother fucker","mother-fucker","motherfucker","nigga","nigra","pigfucker","piss","prick","pussy","shit","shit ass","shite","sibling fucker","sisterfuck","sisterfucker","slut","son of a bitch","son of a whore","spastic","sweet Jesus","twat","wanker"],G=()=>{v(""),R(""),N(""),b(""),g(null),F(""),p(!1),O.current&&(O.current.value="")};(0,t.useEffect)((()=>{s||(v(""),R(""),N(""),b(""),g(null),F(""),p(!1),O.current&&(O.current.value=""))}),[s]);return s?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&(a(),G())},children:[w&&(0,d.jsx)(r.A,{message:A}),S&&(0,d.jsx)(c.A,{message:E}),(0,d.jsxs)("div",{className:"popup-content col-lg-5 col-md-7",children:[(0,d.jsx)("button",{className:"close-button",onClick:a,children:"\xd7 "}),(0,d.jsxs)("div",{className:"cneventup  d-flex flex-column gap-4",children:[(0,d.jsx)("h3",{children:`${D("Create_new_froum")}`}),(0,d.jsx)("form",{action:"javascript:void(0)",onSubmit:async e=>{e.preventDefault(),p(!0);const s=localStorage.getItem("userLogin"),t=s?JSON.parse(s):null;try{const e=new FormData;e.append("name",f),e.append("description",k),e.append("category",""),e.append("forum_section",j),e.append("user_id",t.id),e.append("fileType","forum"),e.append("image",h);const s=await n.A.post("https://backend.amourette.no/api/profile/forumSave",e,{headers:{"Content-Type":"multipart/form-data"}});u(),p(!1),y(!0),_(s.data.message),setTimeout((()=>{C(!1),y(!1),a()}),800),console.log("Event created:",s.data),q(null),v(""),b(""),g(null)}catch(l){p(!1),C(!0),setTimeout((()=>{C(!1),a()}),800),L("Error creating esssvent:",l)}},children:(0,d.jsxs)("div",{className:"row gy-4",children:[(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsxs)("div",{className:"uploadfile rel bgload",children:[(0,d.jsx)("input",{type:"file",ref:O,required:!0,accept:"image/*",name:"image",onChange:async e=>{const s=e.target.files[0];if(s){if(!s.type.startsWith("image/"))return F("Please upload a valid image file."),void g(null);if(s.size>2097152)return F("File size must be less than 2 MB."),void g(null);if(!["image/jpeg","image/png","image/gif"].includes(s.type))try{const e=await B(s);return F(""),void g(e)}catch(a){return console.error("Image conversion failed:",a),F("Failed to convert image."),void g(null)}F(""),g(s)}},className:"fileload"}),(0,d.jsx)("div",{className:"upload_image",children:h&&(0,d.jsx)("img",{className:"w-100 h-100",src:URL.createObjectURL(h),alt:"Selected"})}),(0,d.jsx)("div",{className:"inload",style:{height:"100px"},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(l.Kh2,{style:{fontSize:"24px"}}),(0,d.jsxs)("h3",{style:{fontSize:"14px"},children:[`${D("upload_image")}`," *"]})]})}),$&&(0,d.jsx)("p",{className:"text-danger",children:$})]})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("input",{type:"text",value:f,required:!0,onChange:e=>{const s=e.target.value;v(s);const a=z.some((e=>s.toLowerCase().includes(e.toLowerCase())));T(!!a)},placeholder:`${D("Forumtitle")}`})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("select",{name:"forum_section",id:"",required:!0,value:j,onChange:e=>{N(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"--Choose Section *--"}),(0,d.jsx)("option",{value:"sexuality",children:"Sexuality"}),(0,d.jsx)("option",{value:"writer forum",children:"Writer's Forum"}),(0,d.jsx)("option",{value:"photo forum",children:"Photo Forum"}),(0,d.jsx)("option",{value:"underground",children:"Under Ground"}),(0,d.jsx)("option",{value:"general",children:"General"}),(0,d.jsx)("option",{value:"feedback",children:"Amourette"})]})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("textarea",{name:"",id:"",value:k,onChange:e=>{const s=e.target.value;b(s);const a=z.some((e=>s.toLowerCase().includes(e.toLowerCase())));T(!!a)},rows:"5",placeholder:`${D("Forum_description")}`})}),(0,d.jsxs)("div",{className:"col-12",children:[M&&(0,d.jsx)("span",{className:"text-danger",style:{fontSize:"14px"},children:`${D("Your_message_contain")}`}),x&&(0,d.jsx)("div",{className:"spinner-border text-success date-load",role:"status",children:(0,d.jsxs)("span",{className:"visually-hidden",children:[`${D("loading")}`,"..."]})}),(0,d.jsx)("button",{type:"submit",children:`${D("create_new_forum")}`})]})]})})]})]})]})}):null}},1063:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(5043),l=a(3625),n=a(5442),r=(a(6571),a(5475)),c=a(5700),i=a(1346),o=a(4953),d=a(6213),m=a(5455),u=a(4117),h=a(3216),g=a(2862),x=a(2425),p=a(579);const f=function(){const{slug:e}=(0,h.g)();var s="https://backend.amourette.no/api/profile/";const[f,v]=(0,t.useState)(0),[j,N]=(0,t.useState)(""),[k,b]=(0,t.useState)([]),[w,y]=(0,t.useState)([]),[S,C]=(0,t.useState)([]),A=e=>{v(e)},[_,E]=(0,t.useState)(!1);(0,t.useEffect)((()=>{console.log(e,"rrrrrrrrrrr")}),[e]),(0,t.useEffect)((()=>{const e=localStorage.getItem("userLogin");e&&JSON.parse(e);L()}),[]);const L=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:(e?JSON.parse(e):null).id};try{const e=(await d.A.post("https://backend.amourette.no/api/members/getAllfriends",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results.map((e=>e.id));b(e);await $(e)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}},$=async a=>{const t=localStorage.getItem("userLogin"),l=t?JSON.parse(t):null;if(void 0===e)var n="";else n=e;let r={user_id:l.id,search:n};try{var c=(await d.A.post(s+"getforum",r,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;y(c.results),C(c.results)}catch(i){i.response||(i.request?console.error("Request data:",i.request):console.error("Error message:",i.message))}},F=e=>{if(!e)return null;const s=new Date(e);if(isNaN(s.getTime()))return console.error("Invalid date:",e),"Invalid date";const a=new Date,t=new Date(s.getTime()-36e5),l=new Intl.DateTimeFormat("en-GB",{timeZone:"Europe/Oslo",hour:"2-digit",minute:"2-digit",hour12:!1}).format(t),n=a.getTime()-s.getTime(),r=Math.floor(n/1e3),c=Math.floor(r/60),i=Math.floor(c/60),o=Math.floor(i/24),d=Math.floor(o/7),m=Math.floor(o/30),u=Math.floor(o/365);return c<60||i<24?`${l}`:1===o?`Yesterday at ${l}`:o<7?`${o}d  ${l}`:d<4?`${d}w  ${l}`:m<12?`${m}m  ${l}`:`${u}y  ${l}`},[I,q]=(0,t.useState)([]),M=e=>{const{value:s,checked:a}=e.target;q(a?e=>[...e,s]:e=>e.filter((e=>e!==s)))};(0,t.useEffect)((()=>{I.length>0?(async()=>{const a=localStorage.getItem("userLogin"),t=a?JSON.parse(a):null;if(void 0===e)var l="";else l=e;let n={category:I,search:j,user_id:t.id,search2:l};console.log(n);try{var r=(await d.A.post(s+"getforumSearch",n,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;console.log(r),y(r)}catch(c){c.response||(c.request?console.error("Request data:",c.request):console.error("Error message:",c.message))}})():y(S)}),[I]);const{t:T}=(0,u.Bd)();return(0,t.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),g.A.language!==e&&g.A.changeLanguage(e)}),[g.A,T]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.A,{}),(0,p.jsx)("section",{className:"alleventsbox d-block gapy",children:(0,p.jsx)("div",{className:"container-lg",children:(0,p.jsxs)("div",{className:"row gy-4",children:[(0,p.jsx)("div",{className:"col-md-3 sticky-md-top h-100  evleft",children:(0,p.jsxs)("div",{className:"d-flex flex-column gap-3 searchleftfilter scroll_bar pe-2 ",children:[(0,p.jsx)("h1",{children:"Forums"}),(0,p.jsx)("div",{className:"filtersearch",children:(0,p.jsx)("form",{action:"",children:(0,p.jsx)("input",{type:"text",value:j,onInput:a=>(async a=>{const t=localStorage.getItem("userLogin"),l=t?JSON.parse(t):null;if(N(a),void 0===e)var n="";else n=e;let r={search:a,category:I,user_id:l.id,search2:n};console.log(r);try{var c=(await d.A.post(s+"getforumSearch",r,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;console.log(c),y(c)}catch(i){i.response||(i.request?console.error("Request data:",i.request):console.error("Error message:",i.message))}})(a.target.value),placeholder:"search forums"})})}),(0,p.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,p.jsxs)(r.N_,{to:"/dashboard",className:"d-flex gap-3 align-items-center listoficons",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"userpic userpic_main ofit rounded-circle ratio-unset overflow-hidden",children:(0,p.jsx)(x.A,{stroke:1,className:"w-100 h-100 main_homei"})})}),(0,p.jsx)("div",{className:"flex-grow-1",children:(0,p.jsx)("h4",{children:T("Home")})})]}),(0,p.jsxs)(r.N_,{to:"/allforums",className:"d-flex gap-2 align-items-center filterlist ",onClick:()=>A(0),children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"eventicon fulw",children:(0,p.jsx)("img",{src:l,alt:"eventicon"})})}),(0,p.jsx)("div",{className:"flex-grow-1",children:(0,p.jsx)("h3",{children:T("Allforums")})})]}),(0,p.jsxs)(r.N_,{to:"/forums",className:"d-flex gap-2 align-items-center filterlist active",onClick:()=>A(1),children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"eventicon fulw",children:(0,p.jsx)("img",{src:n,alt:"eventicon"})})}),(0,p.jsx)("div",{className:"flex-grow-1",children:(0,p.jsx)("h3",{children:T("Yourforums")})})]}),(0,p.jsx)("div",{className:"newebentbtn d-block",children:(0,p.jsx)("button",{type:"button",onClick:()=>{E(!0),document.body.style.overflowY="hidden"},children:T("CREATENEWforum")})}),(0,p.jsx)("hr",{className:"linehr"}),(0,p.jsxs)("div",{className:"d-flex flex-column gap-3 categorieslist",children:[(0,p.jsx)("h6",{children:T("Categories")}),(0,p.jsx)("div",{className:"d-flex flex-column gap-2",children:(0,p.jsxs)("div",{className:"listbox d-flex flex-column gap-3",children:[(0,p.jsxs)("label",{className:"cbox",children:[T("Drinks"),(0,p.jsx)("input",{type:"checkbox",name:"labels",value:"Drinks",onClick:M}),(0,p.jsx)("span",{className:"checkmark"})]}),(0,p.jsxs)("label",{className:"cbox",children:[T("Fetish"),(0,p.jsx)("input",{type:"checkbox",name:"labels",value:"Fetish",onClick:M}),(0,p.jsx)("span",{className:"checkmark"})]}),(0,p.jsxs)("label",{className:"cbox",children:[T("Meetups"),(0,p.jsx)("input",{type:"checkbox",name:"labels",value:"Meetups",onClick:M}),(0,p.jsx)("span",{className:"checkmark"})]}),(0,p.jsxs)("label",{className:"cbox",children:[T("Love"),(0,p.jsx)("input",{type:"checkbox",name:"labels",value:"Love",onClick:M}),(0,p.jsx)("span",{className:"checkmark"})]}),(0,p.jsxs)("label",{className:"cbox",children:[T("Party"),(0,p.jsx)("input",{type:"checkbox",name:"labels",value:"Party",onClick:M}),(0,p.jsx)("span",{className:"checkmark"})]})]})}),(0,p.jsx)(o.A,{})]})]})]})}),(0,p.jsx)("div",{className:"col-md-9",children:(0,p.jsx)("div",{className:"row gy-4",children:(0,p.jsx)("div",{className:"col-12",children:(0,p.jsx)("div",{className:"d-flex flex-column gap-3",children:0===w.length?(0,p.jsx)("div",{className:"text-center",children:(0,p.jsx)("h4",{children:T("No_result_found")})}):w.map(((e,s)=>(0,p.jsxs)(r.N_,{to:`/singleforums/${e.slug}`,className:"formen d-flex flex-column flex-md-row gap-2 ps-md-0",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:e.image?(0,p.jsx)("img",{src:e.image,alt:"userimag"}):(0,p.jsx)("img",{className:"w-100 h-100",src:a(7123),alt:"userpic"})})}),(0,p.jsx)("div",{className:"flex-grow-1",children:(0,p.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,p.jsx)("h3",{className:"formall",children:e.name})," ",(0,p.jsx)("h4",{children:F(e.date)})," ",(0,p.jsxs)("p",{className:"formall",children:[e.description," "]}),(0,p.jsx)("div",{className:"d-flex justify-content-end mt-auto",children:(0,p.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,p.jsxs)(r.N_,{to:"/",className:"d-flex gap-2 align-items-center memform",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("div",{className:"iconforum fulw",children:(0,p.jsx)("img",{src:m,alt:"foricon"})})}),(0,p.jsx)("div",{className:"flex-grow-1",children:(0,p.jsx)("h6",{children:e.total_comments})})]})})})]})})]},s)))})})})})]})})}),(0,p.jsx)(i.A,{isOpen:_,onClose:()=>{E(!1),document.body.style.overflowY="auto"},Inrefresh:async()=>{L()}})]})}},4562:(e,s,a)=>{e.exports=a.p+"static/media/ca1.54dc743f7264beb6e34d.png"},5273:(e,s,a)=>{e.exports=a.p+"static/media/ca2.8758b08dbd8ff583322f.png"},448:(e,s,a)=>{e.exports=a.p+"static/media/ca3.0f027f68db9cc3817b80.png"},1775:(e,s,a)=>{e.exports=a.p+"static/media/ca4.bfdf24c45563be913102.png"},5446:(e,s,a)=>{e.exports=a.p+"static/media/ca5.ccb32359c110a0576fe2.png"},3625:(e,s,a)=>{e.exports=a.p+"static/media/ev1.c139f534f6b2d0f4efe4.png"},5442:(e,s,a)=>{e.exports=a.p+"static/media/ev2.dbb5ba26d46537e3b09e.png"},6571:(e,s,a)=>{e.exports=a.p+"static/media/ev3.f6a69b811c047b8c1d3e.png"},4648:(e,s,a)=>{a.d(s,{A:()=>n});var t=a(5043),l={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const n=(e,s,a,n)=>{const r=(0,t.forwardRef)(((a,r)=>{let{color:c="currentColor",size:i=24,stroke:o=2,title:d,className:m,children:u,...h}=a;return(0,t.createElement)("svg",{ref:r,...l[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${s}`,m].join(" "),..."filled"===e?{fill:c}:{strokeWidth:o,stroke:c},...h},[d&&(0,t.createElement)("title",{key:"svg-title"},d),...n.map((e=>{let[s,a]=e;return(0,t.createElement)(s,a)})),...Array.isArray(u)?u:[u]])}));return r.displayName=`${a}`,r}},2425:(e,s,a)=>{a.d(s,{A:()=>t});var t=(0,a(4648).A)("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]])}}]);
//# sourceMappingURL=1063.cef7eced.chunk.js.map