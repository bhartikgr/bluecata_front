"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[859],{4635:(a,s,e)=>{e.d(s,{A:()=>o});var t=e(5043),i=e(3216),n=e(5475),r=e(6213),d=(e(977),e(579));const o=function(a){var s,e,o,m,l,c,p,h,u,g,v;let{isOpen:f}=a;const j=(0,i.zy)(),x=(0,i.Zp)(),[N,b]=((0,t.useRef)(null),(0,t.useState)(!1)),[y,w]=(0,t.useState)(!1),[W,S]=(0,t.useState)(!1),[k,_]=(0,t.useState)(!1),[A,C]=(0,t.useState)([]);(0,t.useEffect)((()=>{const a=(a,s)=>{let e;if("link"===a?e=document.querySelector(`link[href="${s.href}"]`):"script"===a&&(e=document.querySelector(`script[src="${s.src}"]`)),!e){const e=document.createElement(a);Object.keys(s).forEach((a=>{e.setAttribute(a,s[a])})),document.head.appendChild(e)}};return a("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"}),a("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"}),a("link",{rel:"stylesheet",href:"/assets/admin/lib/owlcarousel/assets/owl.carousel.min.css"}),a("link",{rel:"stylesheet",href:"/assets/admin/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"}),a("link",{rel:"stylesheet",href:"/assets/admin/css/bootstrap.min.css"}),a("link",{rel:"stylesheet",href:`/assets/admin/css/style.css?version=${(new Date).getTime()}`}),a("link",{rel:"stylesheet",href:"https://fonts.gstatic.com"}),a("script",{src:"https://code.jquery.com/jquery-3.4.1.min.js",async:!0}),a("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js",async:!0}),a("script",{src:"/assets/admin/lib/chart/chart.min.js",async:!0}),a("script",{src:"/assets/admin/lib/easing/easing.min.js",async:!0}),a("script",{src:"/assets/admin/lib/waypoints/waypoints.min.js",async:!0}),a("script",{src:"/assets/admin/lib/owlcarousel/owl.carousel.min.js",async:!0}),()=>{["https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css","/assets/admin/lib/owlcarousel/assets/owl.carousel.min.css","/assets/admin/lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css","/assets/admin/css/bootstrap.min.css",`/assets/admin/css/style.css?version=${(new Date).getTime()}`,"https://fonts.gstatic.com"].forEach((a=>{const s=document.querySelector(`link[href="${a}"]`);s&&s.parentNode&&s.parentNode.removeChild(s)}));["https://code.jquery.com/jquery-3.4.1.min.js","https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js","/assets/admin/lib/chart/chart.min.js","/assets/admin/lib/easing/easing.min.js","/assets/admin/lib/waypoints/waypoints.min.js","/assets/admin/lib/owlcarousel/owl.carousel.min.js"].forEach((a=>{const s=document.querySelector(`script[src="${a}"]`);s&&s.parentNode&&s.parentNode.removeChild(s)}))}}),[]),(0,t.useEffect)((()=>{const a=localStorage.getItem("adminLogin"),s=JSON.parse(a);console.log(s),null===s&&x("/admin/login")}),[]),(0,t.useEffect)((()=>{const a=localStorage.getItem("adminLogin"),s=JSON.parse(a);(async()=>{let a={id:s.id};try{const s=await r.A.post("https://backend.amourette.no/api/admin/getadminLogindetail",a,{headers:{Accept:"application/json","Content-Type":"application/json"}});C(s.data.result)}catch(e){e.response||(e.request?console.error("Request data:",e.request):console.error("Error message:",e.message))}})()}),[A]),(0,t.useEffect)((()=>{("/admin/media"===j.pathname||"/admin/groups"===j.pathname||"/admin/forum"===j.pathname||j.pathname.startsWith("/admin/groups/viewgrouppost/"))&&b(!0),("/admin/users"===j.pathname||"/admin/reportviolation"===j.pathname||j.pathname.startsWith("/admin/usersprofile/")||j.pathname.startsWith("/admin/usersfriendlist/")||j.pathname.startsWith("/admin/userevents/")||j.pathname.startsWith("/admin/usergroups/")||j.pathname.startsWith("/admin/userfriendlist/")||j.pathname.startsWith("/admin/usersdetails/")||j.pathname.startsWith("/admin/usersentmessage/")||j.pathname.startsWith("/admin/usergallery/")||j.pathname.startsWith("/admin/userforum/")||j.pathname.startsWith("/admin/paymentrefund/")||j.pathname.startsWith("/admin/paymenthistory/")||j.pathname.startsWith("/admin/paymentdispute/"))&&w(!0),("/admin/securityprivacy"===j.pathname||"/admin/privacyupdate"===j.pathname||j.pathname.startsWith("/admin/usersentmessage/")||j.pathname.startsWith("/admin/usersgdpr")||j.pathname.startsWith("/admin/faqlist")||j.pathname.startsWith("/admin/faqadd")||j.pathname.startsWith("/admin/faqedit"))&&S(!0),"/admin/sendnotification"!==j.pathname&&"/admin/logsactivity"!==j.pathname||_(!0)}),[j]);const q="/admin/media"===j.pathname||"/admin/groups"===j.pathname||"/admin/forum"===j.pathname||j.pathname.startsWith("/admin/groups/viewgrouppost/"),E="/admin/users"===j.pathname||j.pathname.startsWith("/admin/usersprofile/")||j.pathname.startsWith("/admin/usersfriendlist/")||"/admin/reportviolation"===j.pathname||j.pathname.startsWith("/admin/userevents/")||j.pathname.startsWith("/admin/usergroups/")||j.pathname.startsWith("/admin/userfriendlist/")||j.pathname.startsWith("/admin/usersdetails/")||j.pathname.startsWith("/admin/usersentmessage/")||j.pathname.startsWith("/admin/usergallery/")||j.pathname.startsWith("/admin/userforum/")||j.pathname.startsWith("/admin/paymentrefund/")||j.pathname.startsWith("/admin/paymenthistory/")||j.pathname.startsWith("/admin/paymentdispute/"),F="/admin/securityprivacy"===j.pathname||"/admin/privacyupdate"===j.pathname||"/admin/usersgdpr"===j.pathname,L="/admin/sendnotification"===j.pathname||"/admin/logsactivity"===j.pathname;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"sidebar pe-4 pb-3 scroll_bar "+(f?"open":""),children:(0,d.jsxs)("nav",{className:"navbar bg-light navbar-light",children:[(0,d.jsxs)("div",{className:"d-flex flex-column gap-0 pt-3",children:[(0,d.jsx)("a",{href:"/admin/dashboard",className:"navbar-brand mx-4 mb-3",children:(0,d.jsx)("h3",{className:"text-primary",children:"ADMIN"})}),(0,d.jsxs)("div",{className:"d-flex align-items-center ms-4 mb-4",children:[(0,d.jsxs)("div",{className:"position-relative",children:[(0,d.jsx)("img",{className:"rounded-circle",src:"https://amouretteno.s3.us-east-1.amazonaws.com/chats/1736337388784_user.jpg",alt:"",style:{width:"40px",height:"40px"}}),(0,d.jsx)("div",{className:"bg-success rounded-circle border border-2 border-white position-absolute end-0 bottom-0 p-1"})]}),(0,d.jsx)("div",{className:"ms-3",children:(0,d.jsx)("h6",{className:"mb-0",children:A.name})})]})]}),(0,d.jsxs)("div",{className:"navbar-nav w-100",children:[(0,d.jsxs)(n.N_,{to:"/admin/dashboard",className:"nav-item nav-link "+("/admin/dashboard"===j.pathname?"active":""),children:[(0,d.jsx)("i",{className:"fa fa-tachometer-alt me-2"}),"Dashboard"]}),("SuperAdmin"===A.status||(null===(s=A.role)||void 0===s?void 0:s.includes("Users")))&&(0,d.jsxs)("div",{className:"nav-item dropdown",children:[(0,d.jsxs)(n.N_,{to:"/admin/users",className:"nav-link dropdown-toggle "+(E?"active":""),"data-bs-toggle":"dropdown",onClick:()=>{w(!y)},children:[(0,d.jsx)("i",{className:"fa fa-users me-2"}),"Users"]}),y&&(0,d.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[(0,d.jsx)(n.N_,{to:"/admin/users",className:"dropdown-item "+("/admin/users"===j.pathname||j.pathname.startsWith("/admin/usersprofile/")||j.pathname.startsWith("/admin/usersfriendlist/")||j.pathname.startsWith("/admin/userevents/")||j.pathname.startsWith("/admin/usergroups/")||j.pathname.startsWith("/admin/userfriendlist/")||j.pathname.startsWith("/admin/usersdetails/")||j.pathname.startsWith("/admin/usersentmessage/")||j.pathname.startsWith("/admin/usergallery/")||j.pathname.startsWith("/admin/userforum/")||j.pathname.startsWith("/admin/paymentrefund/")||j.pathname.startsWith("/admin/paymenthistory/")||j.pathname.startsWith("/admin/paymentdispute/")?"active":""),children:"All Users"}),(0,d.jsx)(n.N_,{to:"/admin/reportviolation",className:"dropdown-item "+("/admin/reportviolation"===j.pathname?"active":""),children:"Report & Violation"})]})]}),("SuperAdmin"===A.status||(null===(e=A.role)||void 0===e?void 0:e.includes("Media"))||(null===(o=A.role)||void 0===o?void 0:o.includes("Groups"))||(null===(m=A.role)||void 0===m?void 0:m.includes("Forum")))&&(0,d.jsxs)("div",{className:"nav-item dropdown",children:[(0,d.jsxs)(n.N_,{to:"/admin/media",onClick:()=>{b(!N)},className:"nav-link dropdown-toggle "+(q?"active":""),"data-bs-toggle":"dropdown",children:[(0,d.jsx)("i",{className:"fa fa-laptop me-2"}),"Content Management"]}),N&&(0,d.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[("SuperAdmin"===A.status||(null===(l=A.role)||void 0===l?void 0:l.includes("Media")))&&(0,d.jsx)(n.N_,{to:"/admin/media",className:"dropdown-item "+("/admin/media"===j.pathname?"active":""),children:"Media"}),("SuperAdmin"===A.status||(null===(c=A.role)||void 0===c?void 0:c.includes("Groups")))&&(0,d.jsx)(n.N_,{to:"/admin/groups",className:"dropdown-item "+("/admin/groups"===j.pathname||j.pathname.startsWith("/admin/groups/viewgrouppost/")?"active":""),children:"Groups"}),("SuperAdmin"===A.status||(null===(p=A.role)||void 0===p?void 0:p.includes("Forum")))&&(0,d.jsx)(n.N_,{to:"/admin/forum",className:"dropdown-item "+("/admin/forum"===j.pathname?"active":""),children:"Forum"})]})]}),("SuperAdmin"===A.status||(null===(h=A.role)||void 0===h?void 0:h.includes("Geographic or demographic")))&&(0,d.jsxs)(n.N_,{to:"/admin/locationbaseuser",className:"nav-item nav-link "+("/admin/locationbaseuser"===j.pathname?"active":""),children:[(0,d.jsx)("i",{className:"fa fa-credit-card me-2"})," Geographic or demographic"]}),("SuperAdmin"===A.status||(null===(u=A.role)||void 0===u?void 0:u.includes("Security Privacy")))&&(0,d.jsxs)("div",{className:"nav-item dropdown",children:[(0,d.jsxs)(n.N_,{to:"/admin/securityprivacy",className:"nav-link dropdown-toggle "+(F?"active":""),"data-bs-toggle":"dropdown",onClick:()=>{S(!W)},children:[(0,d.jsx)("i",{className:"fas fa-lock me-2"}),"Security & Privacy"]}),W&&(0,d.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[(0,d.jsx)(n.N_,{to:"/admin/securityprivacy",className:"dropdown-item "+("/admin/securityprivacy"===j.pathname?"active":""),children:"User Login"}),(0,d.jsx)(n.N_,{to:"/admin/privacyupdate",className:"dropdown-item "+("/admin/privacyupdate"===j.pathname?"active":""),children:"Privacy"}),(0,d.jsx)(n.N_,{to:"/admin/faqlist",className:"dropdown-item "+(j.pathname.startsWith("/admin/faqlist")||j.pathname.startsWith("/admin/faqadd")||j.pathname.startsWith("/admin/faqedit")?"active":""),children:"FAQ"}),(0,d.jsx)(n.N_,{to:"/admin/usersgdpr",className:"dropdown-item "+("/admin/usersgdpr"===j.pathname?"active":""),children:"GDPR/Cookies"})]})]}),("SuperAdmin"===A.status||(null===(g=A.role)||void 0===g?void 0:g.includes("Site Speed")))&&(0,d.jsxs)(n.N_,{to:"/admin/sitespeed",className:"nav-item nav-link "+("/admin/sitespeed"===j.pathname?"active":""),children:[(0,d.jsx)("i",{className:"fas fa-tachometer-alt me-2"})," Site Speed"]}),"SuperAdmin"===A.status&&(0,d.jsxs)(n.N_,{to:"/admin/adminlist",className:"nav-item nav-link "+("/admin/adminlist"===j.pathname?"active":""),children:[(0,d.jsx)("i",{className:"fa fa-chart-line me-2"})," Admin"]}),("SuperAdmin"===A.status||(null===(v=A.role)||void 0===v?void 0:v.includes("Setting")))&&(0,d.jsxs)("div",{className:"nav-item dropdown",children:[(0,d.jsxs)(n.N_,{to:"/admin/sendnotification",className:"nav-link dropdown-toggle "+(L?"active":""),"data-bs-toggle":"dropdown",onClick:()=>{_(!k)},children:[(0,d.jsx)("i",{className:"fas fa-cog  me-2"}),"Setting"]}),k&&(0,d.jsxs)("div",{className:"dropdown-menu d-flex flex-column gap-1 bg-transparent border-0 show active",children:[(0,d.jsx)(n.N_,{to:"/admin/sendnotification",className:"dropdown-item "+("/admin/sendnotification"===j.pathname?"active":""),children:"Send Notification"}),(0,d.jsx)(n.N_,{to:"/admin/logsactivity",className:"dropdown-item "+("/admin/logsactivity"===j.pathname?"active":""),children:"Logs"})]})]}),(0,d.jsxs)(n.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminLogin"),window.location.href="/admin/login"},className:"nav-item nav-link",children:[(0,d.jsx)("i",{className:"fa fa-sign-out-alt me-2"}),"Logout"]})]})]})})})}},1003:(a,s,e)=>{e.d(s,{A:()=>d});var t=e(5043),i=e(5475),n=e(3216),r=e(579);const d=function(a){let{onClick:s}=a;(0,n.Zp)(),(0,t.useRef)(null);const[e,d]=(0,t.useState)(!1);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("nav",{className:"navbar navbar-expand bg-light navbar-light sticky-top px-4 py-0",children:[(0,r.jsx)("a",{href:"#",className:"sidebar-toggler flex-shrink-0",onClick:s,children:(0,r.jsx)("i",{className:"fa fa-bars"})}),(0,r.jsx)("div",{className:"navbar-nav align-items-center ms-auto",children:(0,r.jsxs)("div",{className:"nav-item dropdown",children:[(0,r.jsxs)("a",{href:"#",onClick:()=>{d((a=>!a))},className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",children:[(0,r.jsx)("img",{className:"rounded-circle me-lg-2",src:"https://amouretteno.s3.us-east-1.amazonaws.com/chats/1736337388784_user.jpg",alt:"",style:{width:"40px",height:"40px"}}),(0,r.jsx)("span",{className:"d-none d-lg-inline-flex",children:"Admin"})]}),(0,r.jsx)("div",{className:"dropdown-menu dropdown-menu-end bg-light border-0 rounded-0 rounded-bottom m-0 "+(e?"show":""),children:(0,r.jsx)(i.N_,{to:"#",onClick:()=>{localStorage.removeItem("adminLogin"),window.location.href="/admin/login"},className:"dropdown-item",children:"Log Out"})})]})})]})})}},859:(a,s,e)=>{e.r(s),e.d(s,{default:()=>h});var t=e(5043),i=e(3216),n=e(6213),r=e(9942),d=e(4635),o=e(1003),m=(e(3910),e(579));const l="https://backend.amourette.no/api/admin/",c={width:"100%",height:"400px"},p=["places"];function h(){const a=(0,i.Zp)(),[s,e]=(0,t.useState)([]),[h,u]=(0,t.useState)(null),{isLoaded:g,loadError:v}=(0,r.RH)({googleMapsApiKey:"AIzaSyCAYcUdjNCv4L5ADBoSdmeP0Sfzfshsea4",libraries:p});(0,t.useEffect)((()=>{const s=localStorage.getItem("adminLogin");null===JSON.parse(s)&&a("/admin/login")}),[a]),(0,t.useEffect)((()=>{(async()=>{try{const a=await n.A.post(l+"getalluserlocation",{},{headers:{Accept:"application/json","Content-Type":"application/json"}});setTimeout((()=>{e(a.data.result)}),3e3)}catch(a){console.error("Error fetching locations:",a.message)}})()}),[]);const[f,j]=(0,t.useState)(!1);return v?(0,m.jsx)("div",{children:"Error loading maps"}):g?(0,m.jsxs)("div",{className:"position-relative bg-white d-flex p-0",children:[(0,m.jsx)(d.A,{isOpen:f}),(0,m.jsxs)("div",{className:"content "+(f?"open":""),children:[(0,m.jsx)(o.A,{onClick:()=>{j(!f)}}),(0,m.jsx)("div",{className:"container-fluid pt-4 px-4",children:(0,m.jsx)("div",{className:"row g-4 speed_txt",children:(0,m.jsx)("div",{className:"col-12",children:(0,m.jsx)("div",{className:"bg-light rounded h-100 p-4",children:(0,m.jsxs)(r.u6,{mapContainerStyle:c,center:h?{lat:parseFloat(h.latitude),lng:parseFloat(h.longitude)}:{lat:60.472,lng:8.4689},zoom:5,children:[s.map((a=>null!==a.latitude&&null!==a.longitude&&(0,m.jsx)(r.pH,{position:{lat:parseFloat(a.latitude),lng:parseFloat(a.longitude)},title:`User ID: ${a.region}`,onClick:()=>u(a)},a.id))),h&&(0,m.jsx)(r.Fu,{position:{lat:parseFloat(h.latitude),lng:parseFloat(h.longitude)},onCloseClick:()=>u(null),children:(0,m.jsxs)("div",{children:[h.profile_image&&""!==h.profile_image.trim()&&null!==h.profile_image?(0,m.jsx)("img",{src:h.profile_image,alt:"Profile",width:"60",height:"60"}):(0,m.jsx)("p",{children:"No Profile Image"}),(0,m.jsx)("h4",{children:h.username}),(0,m.jsxs)("h5",{children:[h.region," (",h.country_name,")"]}),(0,m.jsxs)("p",{children:["City: ",h.city]})]})})]})})})})})]})]}):(0,m.jsx)("div",{children:"Loading maps..."})}},977:(a,s,e)=>{a.exports=e.p+"static/media/user.0fb40325c8ec364cd98b.jpg"}}]);
//# sourceMappingURL=859.6e0c3f27.chunk.js.map