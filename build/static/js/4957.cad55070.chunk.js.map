{"version":3,"file":"static/js/4957.cad55070.chunk.js","mappings":"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","sources":["components/ErrorPop.jsx","components/SuccessPop.jsx","components/Admin/FooterLogin.jsx","pages/Admin/ForgotPassword.jsx"],"sourcesContent":["import React from \"react\";\n\nexport default function ErrorPop({ message }) {\n  return (\n    <>\n      <div className=\"popup-overlay sucess_alert\">\n        <div className=\"popup-content col-md-4\">\n          <div className=\"danger_meess d-flex flex-column gap-4\">\n            <div className=\"d-block danger_notification\">\n              <p>{message}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function SuccessPop({ message }) {\n  return (\n    <>\n      <div className=\"popup-overlay sucess_alert\">\n        <div className=\"popup-content col-md-4\">\n          <div className=\"sucess_meess d-flex flex-column gap-4\">\n            <div className=\"d-block sucess_notification\">\n              <p>{message}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslation } from \"react-i18next\";\nimport i18n from \"../../i18n\";\n\nexport const FooterLogin = () => {\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    const savedLanguage = localStorage.getItem(\"language\") || \"en\"; // Default to 'en' if no language is saved\n    // Change the language if it's not already the current language\n    if (i18n.language !== savedLanguage) {\n      i18n.changeLanguage(savedLanguage);\n    }\n  }, [i18n, t]);\n  const currentYear = new Date().getFullYear();\n  return (\n    <>\n      <footer className=\"d-block\">\n        <div className=\"ftblocks py-5\">\n          <div className=\"container-lg\">\n            <div className=\"row gy-4\">\n              <div className=\"col-md-6\">\n                <div className=\"d-flex flex-column gap-2 ftlogoblock\">\n                  <h2>AMOURETTE.NO</h2>\n                  <div className=\"d-flex flex-column gap-1\">\n                    <h4>EXPERIENCE AMOURETTE FREE</h4>\n                    <h6>\n                      All our members enjoy a 14-day trial to explore, connect,\n                      and find their match. No commitments, just endless\n                      possibilities!\n                    </h6>\n                    <Link to=\"/register\" className=\"needsign\">\n                      <span>Sign up today and begin your journey!</span>\n                    </Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"d-flex flex-column gap-3 ftblock ps-md-5\">\n                  <h3>{t(\"About\")}</h3>\n                  <div className=\"d-flex flex-column gap-2 ftlink\">\n                    <Link to=\"/login\">{t(\"Membership\")}</Link>\n                    <Link to=\"/login\">{t(\"Help_and_support\")}</Link>\n                    <Link to=\"/login\">{t(\"Contact_us\")}</Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-md-3\">\n                <div className=\"d-flex flex-column gap-3 ftblock ps-md-5\">\n                  <h3>{t(\"Resources\")}</h3>\n                  <div className=\"d-flex flex-column gap-2 ftlink\">\n                    <Link to=\"/login\">{t(\"Security\")}</Link>\n                    <Link to=\"/login\">{t(\"privacy\")}</Link>\n                    <Link to=\"/login\">{t(\"Terms_and_conditions\")}</Link>\n                  </div>\n                </div>\n              </div>\n              <div className=\"col-12\">\n                <div className=\"d-block ftlogoblock\">\n                  <p className=\"copyrighttext\">\n                    &copy; {t(\"Copyright_2024_all_rights_reserved\")}{\" \"}\n                    {currentYear}, {t(\"all_rights_reserved\")}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </>\n  );\n};\n","import React, { useRef, useEffect, useState } from \"react\";\n\nimport { FooterLogin } from \"../../components/Admin/FooterLogin\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport SuccessPop from \"../../components/SuccessPop\";\nimport ErrorPop from \"../../components/ErrorPop\";\nimport { Link } from \"react-router-dom\";\nfunction ForgotPassword() {\n  const [err_email, seterr_email] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [question, setquestion] = useState(\"\");\n  const [securityAnswer, setSecurityAnswer] = useState(\"\");\n  const [rememberMe, setRememberMe] = useState(false);\n  const [showPopSuccess, setShowPopSuccess] = useState(false);\n  const [showPopError, setShowPopError] = useState(false);\n  const [successPopMessage, setPopsuccessMessage] = useState(\"\");\n  const [errorPopMessage, setPoperrorMessage] = useState(\"\");\n  const [IpAddress, setIpAddress] = useState(\"\");\n  const [LocationData, setLocationData] = useState([]);\n  const [showerror, setshowerror] = useState(false);\n  const [showsuccess, setshowsuccess] = useState(false);\n  const [errormessage, seterrormessage] = useState(\"\");\n  const successRef = useRef(null);\n  const errorRef = useRef(null);\n  const [errormessages, seterrormessages] = useState(\"\");\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check if the username key exists in session storage\n    const storedUsername = localStorage.getItem(\"adminLogin\");\n    const userLogin = JSON.parse(storedUsername);\n    if (userLogin != null) {\n      navigate(\"/admin/dashboard\");\n    }\n  }, []);\n  useEffect(() => {\n    // Fetch IP address from ipify API\n    const getIpAddress = async () => {\n      try {\n        const response = await axios.get(\"https://api.ipify.org?format=json\");\n\n        setIpAddress(response.data.ip); // Update state with IP address\n      } catch (error) {\n        console.error(\"Error fetching IP address:\", error);\n      }\n    };\n\n    getIpAddress();\n  }, []);\n\n  const getLocationDetails = async () => {\n    try {\n      // Step 1: Get the user's public IP address\n      const ipResponse = await axios.get(\"https://api.ipify.org?format=json\");\n      const ip = ipResponse.data.ip;\n\n      // Step 2: Use ipapi to get latitude and longitude based on IP address\n      const geoResponse = await axios.get(`https://ipapi.co/${ip}/json/`);\n      console.log(geoResponse.data);\n      setLocationData(geoResponse.data);\n\n      // Set the location details\n    } catch (error) {\n      console.error(\"Error fetching location data:\", error);\n    }\n  };\n\n  useEffect(() => {\n    getLocationDetails(); // Fetch location details on component mount\n  }, []);\n  useEffect(() => {\n    const savedEmail = localStorage.getItem(\"email\");\n    const savedPassword = localStorage.getItem(\"password\");\n\n    if (savedEmail) {\n      setEmail(savedEmail);\n      setPassword(savedPassword || \"\"); // Set password if available\n      setRememberMe(true); // Assume the user wants to be remembered\n    }\n  }, []);\n  const apiURL = \"https://backend.amourette.no/api/admin/\";\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (question && !securityAnswer) {\n      seterrormessages(\n        \"Please provide an answer to your selected security question.\"\n      );\n      return;\n    } else {\n      seterrormessages(\"\");\n    }\n    let userData = {\n      email: email,\n      question: question,\n      securityAnswer: securityAnswer,\n    };\n    try {\n      const res = await axios.post(apiURL + \"forgotPassword\", userData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      var check = res.data;\n      seterrormessage(check.message);\n      if (check.status === \"2\") {\n        setshowerror(true);\n        setshowsuccess(false);\n      }\n      if (check.status === \"1\") {\n        setshowsuccess(true);\n        setshowerror(false);\n        setTimeout(() => {\n          window.location.reload(); // Make sure to call reload(), not just reference it\n        }, 2500);\n      }\n      setTimeout(() => {\n        setshowerror(false);\n        setshowsuccess(false);\n      }, 2000);\n    } catch (err) {}\n  };\n  return (\n    <>\n      {showsuccess && <SuccessPop message={errormessage} />}\n      {showerror && <ErrorPop message={errormessage} />}\n      <section className=\"regblock login_registermain d-block\">\n        <div className=\"container-lg\">\n          <div className=\"row justify-content-start\">\n            <div className=\"col-md-6 px-md-0\">\n              <div className=\"regform d-flex flex-column gap-4\">\n                <form onSubmit={handleSubmit} method=\"post\">\n                  {/* 1st step */}\n                  <div className=\"stepbox\">\n                    <div className=\"d-flex flex-column gap-3 regtitle mb-5\">\n                      <div className=\"d-flex justify-content-between\">\n                        <h1>Forgot Password</h1>\n                      </div>\n                      <p>\n                        Hvis du har glemt passordet ditt, skriv inn\n                        e-postadressen din nedenfor for å motta en e-post med\n                        passordet ditt. Vi vil sende deg instruksjoner for å\n                        hjelpe deg med å gjenopprette kontoen din.\n                      </p>\n                    </div>\n                    <div className=\"row gy-4\">\n                      <div className=\"col-12\">\n                        <div className=\"d-flex flex-column gap-2\">\n                          <label htmlFor=\"\">E-mail</label>\n                          <input\n                            type=\"email\"\n                            placeholder=\"You e-mail\"\n                            name=\"email\"\n                            required\n                            onChange={(e) => setEmail(e.target.value)}\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"col-12\">\n                        <div className=\"d-flex justify-content-between gap-2\">\n                          <button type=\"submit\" className=\"regbtnsubmit\">\n                            Reset Password\n                          </button>\n                          <Link to=\"/admin/login\" className=\"regbtnsubmit\">\n                            Login\n                          </Link>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n      <FooterLogin />\n    </>\n  );\n}\n\nexport default ForgotPassword;\n"],"names":["ErrorPop","_ref","message","_jsx","_Fragment","children","className","SuccessPop","FooterLogin","t","useTranslation","useEffect","savedLanguage","localStorage","getItem","i18n","language","changeLanguage","currentYear","Date","getFullYear","_jsxs","Link","to","err_email","seterr_email","useState","email","setEmail","password","setPassword","question","setquestion","securityAnswer","setSecurityAnswer","rememberMe","setRememberMe","showPopSuccess","setShowPopSuccess","showPopError","setShowPopError","successPopMessage","setPopsuccessMessage","errorPopMessage","setPoperrorMessage","IpAddress","setIpAddress","LocationData","setLocationData","showerror","setshowerror","showsuccess","setshowsuccess","errormessage","seterrormessage","errormessages","seterrormessages","useRef","navigate","useNavigate","storedUsername","JSON","parse","async","response","axios","get","data","ip","error","console","getIpAddress","geoResponse","log","getLocationDetails","savedEmail","savedPassword","onSubmit","e","preventDefault","userData","check","post","apiURL","headers","Accept","status","setTimeout","window","location","reload","err","method","htmlFor","type","placeholder","name","required","onChange","target","value"],"sourceRoot":""}