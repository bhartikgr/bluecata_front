{"version":3,"file":"static/js/5781.f5741b6d.chunk.js","mappings":"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","sources":["pages/User/Investor/Recordround.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav\";\r\nimport Alertpopup from \"../../../components/Alertpopup\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/RegisterStyles\";\r\nimport PreviousSection from \"../../../components/Users/PreviousSection\";\r\n\r\nimport { NumericFormat } from \"react-number-format\";\r\nimport axios from \"axios\";\r\nimport DangerAlertPopup from \"../../../components/Admin/DangerAlertPopup\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config\";\r\nexport default function Recordround() {\r\n  const apiUrlRound = API_BASE_URL + \"api/user/capitalround/\";\r\n  var apiURLInvestor = API_BASE_URL + \"api/user/investor/\";\r\n\r\n  const [countrySymbolList, setCountrysymbollist] = useState([]);\r\n  const [CurrencySymbol, setCurrencySymbol] = useState('');\r\n  const [CurrDisplay, setCurrDisplay] = useState(\"CAD $\");\r\n  const [errorMsg, seterrorMsg] = useState(\"\");\r\n  const [successMsg, setsuccessMsg] = useState(\"\");\r\n  const [activeSection, setActiveSection] = useState(\"shareclass\");\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const [messageAll, setmessageAll] = useState(\"\");\r\n  const [errr, seterrr] = useState(false);\r\n  const userLogin = JSON.parse(storedUsername);\r\n  const { id } = useParams();\r\n  const [ClientIP, setClientIP] = useState(\"\");\r\n  const [records, setrecords] = useState([]);\r\n  // Add this to your component state\r\n  const navigate = useNavigate();\r\n\r\n  const [errors, setErrors] = useState({\r\n    // convertibleTrigger: \"\",\r\n    liquidationOther: \"\",\r\n    nameOfRound: \"\",\r\n    shareClassType: \"\",\r\n    shareclassother: \"\",\r\n    instrumentType: \"\",\r\n    customInstrument: \"\",\r\n    issuedshares: \"\",\r\n    dateroundclosed: \"\",\r\n    liquidation: [],\r\n    convertible: \"\",\r\n    convertibleType: \"\",\r\n    voting: \"\",\r\n    termsheetFile: \"\",\r\n    subscriptiondocument: \"\",\r\n\r\n    common_stock_valuation: \"\",\r\n    preferred_valuation: \"\",\r\n    valuationCap: \"\",\r\n    discountRate: \"\",\r\n    //safeType: \"\",\r\n    interestRate: \"\",\r\n    repaymentSchedule: \"\",\r\n    hasWarrants_Bank: \"\",\r\n    valuationCap_note: \"\",\r\n    discountRate_note: \"\",\r\n    maturityDate: \"\",\r\n    interestRate_note: \"\",\r\n    exercisedate_bank: \"\",\r\n\r\n    pricePerShare: \"\",\r\n    founders: \"\",\r\n  });\r\n  const [formData, setFormData] = useState({\r\n    liquidationOther: \"\",\r\n    liquidationpreferences: \"\",\r\n    nameOfRound: \"Founding Share Allocation\",\r\n    shareClassType: \"Common Shares\",\r\n    shareclassother: \"\",\r\n    description: \"\",\r\n    instrumentType: \"\",\r\n    customInstrument: \"\",\r\n    roundsize: \"\",\r\n    currency: \"CAD $\",\r\n    issuedshares: \"\",\r\n    dateroundclosed: \"\",\r\n    rights: \"\",\r\n    liquidation: [],\r\n    convertible: \"\",\r\n    convertibleType: \"\",\r\n    voting: \"\",\r\n    termsheetFile: null,\r\n    subscriptiondocument: null,\r\n    generalnotes: \"\",\r\n\r\n    common_stock_valuation: \"\",\r\n    hasWarrants: \"\",\r\n    exercisePrice: \"\",\r\n    expirationDate: \"\",\r\n    warrantRatio: \"\",\r\n    warrantType: \"\",\r\n    preferred_valuation: \"\",\r\n    hasWarrants_preferred: \"\",\r\n    exercisePrice_preferred: \"\",\r\n    expirationDate_preferred: \"\",\r\n    warrantRatio_preferred: \"\",\r\n    warrantType_preferred: \"\",\r\n    valuationCap: \"\",\r\n    discountRate: \"\",\r\n    //safeType: \"\",\r\n    interestRate: \"\",\r\n    repaymentSchedule: \"\",\r\n    hasWarrants_Bank: \"\",\r\n    exercisePrice_bank: \"\",\r\n    exercisedate_bank: \"\",\r\n    warrantRatio_bank: \"\",\r\n    warrantType_bank: \"\",\r\n    valuationCap_note: \"\",\r\n    discountRate_note: \"\",\r\n    maturityDate: \"\",\r\n    interestRate_note: \"\",\r\n    // convertibleTrigger: \"\",\r\n    customInstrument: \"\",\r\n    roundStatus: \"\",\r\n\r\n    pricePerShare: \"\",\r\n    pre_money: \"\",\r\n    post_money: \"\",\r\n    optionPoolPercent: \"\",\r\n    optionPoolPercent_post: \"\",\r\n    existingShares: \"\",\r\n    isPostEntered: false,\r\n    investorPostMoney: \"\",\r\n\r\n\r\n    isCalculationSource: false, // Track if calculation is in progress\r\n    lastUpdatedField: null,\r\n  });\r\n\r\n\r\n  const [isFirstRound, setIsFirstRound] = useState(false);\r\n  const [founderCount, setFounderCount] = useState(1);\r\n  const [foundersData, setFoundersData] = useState([{\r\n    shares: '',\r\n    shareType: 'common',\r\n    voting: 'voting'\r\n  }]);\r\n  //Check Authorized Signature\r\n  const apiURLSignature = API_BASE_URL + \"api/user/\";\r\n  var apiURLAiFile = API_BASE_URL + \"api/user/aifile/\";\r\n  const [existingSharesUse, setexistingSharesUse] = useState('0');\r\n  useEffect(() => {\r\n    getAuthorizedSignature();\r\n    handleCheckPayemt();\r\n    getexistingShares();\r\n\r\n  }, []);\r\n  const getexistingShares = async () => {\r\n    try {\r\n      const res = await axios.post(\r\n        apiURLAiFile + \"getexistingShares\",\r\n        { company_id: userLogin.companies[0].id },\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const checkData = res.data.results;\r\n      let pricePerShareFromDB = \"0.01\";\r\n      let parsedFounderData = {};\r\n      let foundersDataFromDB = [];\r\n      let totalShares = 0;\r\n      console.log(checkData.length)\r\n      if (checkData.length > 0) {\r\n        let rawFounderData = checkData[0].founder_data;\r\n\r\n        //  Handle both object & JSON string formats\r\n        if (typeof rawFounderData === \"object\" && rawFounderData !== null) {\r\n          parsedFounderData = rawFounderData;\r\n        } else if (typeof rawFounderData === \"string\") {\r\n          try {\r\n            // Clean and safely parse the string\r\n            if (rawFounderData.startsWith('\"') && rawFounderData.endsWith('\"')) {\r\n              rawFounderData = rawFounderData.slice(1, -1);\r\n              rawFounderData = rawFounderData.replace(/\\\\\"/g, '\"');\r\n            }\r\n            parsedFounderData = JSON.parse(rawFounderData);\r\n          } catch (err) {\r\n            console.error(\" Error parsing founder_data JSON:\", err);\r\n          }\r\n        }\r\n\r\n        //  Extract fields safely\r\n        if (parsedFounderData.founders && Array.isArray(parsedFounderData.founders)) {\r\n          foundersDataFromDB = parsedFounderData.founders;\r\n        }\r\n\r\n        if (parsedFounderData.pricePerShare) {\r\n          pricePerShareFromDB = parsedFounderData.pricePerShare;\r\n        }\r\n\r\n        //  Get total shares safely (supports both totalShares / totalshares)\r\n        totalShares =\r\n          parseFloat(parsedFounderData.totalShares) ||\r\n          parseFloat(parsedFounderData.totalshares) ||\r\n          0;\r\n        console.log(totalShares)\r\n        setexistingSharesUse(totalShares);\r\n\r\n        //  Update formData state\r\n        setFormData((prev) => ({\r\n          ...prev,\r\n          existingShares: totalShares,\r\n\r\n        }));\r\n      } else {\r\n        console.warn(\" No existing shares found for this company.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\" Error fetching existing shares:\", err);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const getAuthorizedSignature = async () => {\r\n    // Skip check for Owner\r\n    if (userLogin.role === \"owner\") return;\r\n\r\n    let formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      user_id: userLogin.id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        apiURLSignature + \"getAuthorizedSignature\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const checkData = res.data.results;\r\n\r\n      if (checkData.length > 0) {\r\n        const checkSignature = checkData[0];\r\n        if (checkSignature.approve === \"No\") {\r\n          navigate(\"/record-round-list\");\r\n        }\r\n      } else {\r\n        navigate(\"/record-round-list\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching authorized signature:\", err);\r\n    }\r\n  };\r\n\r\n  //Checkpayment\r\n  const handleCheckPayemt = async () => {\r\n    let formData = {\r\n      company_id: userLogin.companies[0].id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        apiURLAiFile + \"checkSubscriptionInvestorReport\",\r\n        {\r\n          company_id: userLogin.companies[0].id,\r\n        }\r\n      );\r\n\r\n      const { subscriptionActive, updateAlreadySubmitted, lastUpdateDate } =\r\n        res.data;\r\n\r\n      if (!subscriptionActive) {\r\n        navigate(\"/record-round-list\"); // Subscription expired\r\n      } else if (updateAlreadySubmitted) {\r\n      } else {\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      seterrr(true);\r\n    }\r\n  };\r\n\r\n  //Check Authorized Signature\r\n  useEffect(() => {\r\n    getrecords();\r\n  }, []);\r\n\r\n  const getrecords = async () => {\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n    };\r\n    try {\r\n      const generateRes = await axios.post(\r\n        apiURLInvestor + \"getrecordRoundList\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      setrecords(generateRes.data.results);\r\n    } catch (err) {\r\n      console.error(\"Error generating summary\", err);\r\n    }\r\n    //  Optionally, call AI Summary API here\r\n    //generateExecutiveSummary(formData);\r\n  };\r\n  useEffect(() => {\r\n    document.title = id ? \"Edit Record Round Page\" : \"Create Record Round Page\";\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      getEditrecordlist();\r\n    }\r\n  }, []);\r\n  const [Editrecords, setEditrecords] = useState(\"\");\r\n  const getEditrecordlist = async () => {\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      id: id,\r\n    };\r\n    try {\r\n      const generateRes = await axios.post(\r\n        apiUrlRound + \"getEditrecordlist\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (generateRes.data.results.length > 0) {\r\n        var getData = generateRes.data.results[0];\r\n\r\n        if (getData.round_type === 'Round 0') {\r\n          setIsFirstRound(true);\r\n\r\n\r\n          // Auto-set Round 0 values if first round\r\n\r\n          handleInputChange(\"nameOfRound\", \"Founding Share Allocation\");\r\n          setSelected(\"Founder Shares (Family and Friends)\");\r\n          setFirstStepCompleted(true);\r\n\r\n        } else {\r\n          setIsFirstRound(false);\r\n        }\r\n\r\n        // Parse instrument_type_data JSON\r\n        let instrumentData = {};\r\n        if (getData.instrument_type_data && getData.instrument_type_data !== '') {\r\n          try {\r\n            let rawData = getData.instrument_type_data;\r\n            if (typeof rawData === 'object' && rawData !== null) {\r\n              instrumentData = rawData;\r\n            } else if (typeof rawData === \"string\") {\r\n              if (rawData.startsWith('\"') && rawData.endsWith('\"')) {\r\n                rawData = rawData.slice(1, -1);\r\n                rawData = rawData.replace(/\\\\\"/g, '\"');\r\n              }\r\n              instrumentData = JSON.parse(rawData);\r\n            }\r\n          } catch (err) {\r\n            console.error(\"Error parsing instrument_type_data\", err);\r\n          }\r\n        }\r\n\r\n        //  NEW: Parse founder_data for Round 0\r\n        let parsedFounderData = {};\r\n        let foundersDataFromDB = [];\r\n        let pricePerShareFromDB = \"0.01\";\r\n\r\n        if (getData.round_type === 'Round 0' && getData.founder_data) {\r\n          try {\r\n            let rawFounderData = getData.founder_data;\r\n\r\n            // Handle different formats of founder_data\r\n            if (typeof rawFounderData === 'object' && rawFounderData !== null) {\r\n              parsedFounderData = rawFounderData;\r\n            } else if (typeof rawFounderData === \"string\") {\r\n              // Clean the string\r\n              if (rawFounderData.startsWith('\"') && rawFounderData.endsWith('\"')) {\r\n                rawFounderData = rawFounderData.slice(1, -1);\r\n                rawFounderData = rawFounderData.replace(/\\\\\"/g, '\"');\r\n              }\r\n              parsedFounderData = JSON.parse(rawFounderData);\r\n            }\r\n\r\n            // Extract founders data for form fields\r\n            if (parsedFounderData.founders && Array.isArray(parsedFounderData.founders)) {\r\n              foundersDataFromDB = parsedFounderData.founders;\r\n            }\r\n\r\n            if (parsedFounderData.pricePerShare) {\r\n              pricePerShareFromDB = parsedFounderData.pricePerShare;\r\n            }\r\n\r\n            console.log(\"Parsed founder data:\", parsedFounderData);\r\n            console.log(\"Founders array:\", foundersDataFromDB);\r\n            console.log(\"Price per share:\", pricePerShareFromDB);\r\n\r\n          } catch (err) {\r\n            console.error(\"Error parsing founder_data\", err);\r\n            console.error(\"Raw founder_data:\", getData.founder_data);\r\n          }\r\n        }\r\n\r\n        const updatedFormData = {\r\n          ...getData, // existing fields\r\n          ...instrumentData, // merge parsed JSON\r\n\r\n          //  Set Round 0 specific fields\r\n          ...(getData.round_type === 'Round 0' && {\r\n            pricePerShare: pricePerShareFromDB,\r\n            // Add other Round 0 specific fields if needed\r\n          }),\r\n\r\n          termsheetFile: Array.isArray(getData.termsheetFile)\r\n            ? getData.termsheetFile.map((file) =>\r\n              typeof file === \"string\" ? { name: file } : file\r\n            )\r\n            : getData.termsheetFile\r\n              ? (() => {\r\n                try {\r\n                  const parsed = JSON.parse(getData.termsheetFile);\r\n                  return (Array.isArray(parsed) ? parsed : [parsed]).map(\r\n                    (file) => (typeof file === \"string\" ? { name: file } : file)\r\n                  );\r\n                } catch {\r\n                  return [{ name: getData.termsheetFile }];\r\n                }\r\n              })()\r\n              : [],\r\n\r\n          subscriptiondocument: Array.isArray(getData.subscriptiondocument)\r\n            ? getData.subscriptiondocument.map((file) =>\r\n              typeof file === \"string\" ? { name: file } : file\r\n            )\r\n            : getData.subscriptiondocument\r\n              ? (() => {\r\n                try {\r\n                  const parsed = JSON.parse(getData.subscriptiondocument);\r\n                  return (Array.isArray(parsed) ? parsed : [parsed]).map(\r\n                    (file) => (typeof file === \"string\" ? { name: file } : file)\r\n                  );\r\n                } catch {\r\n                  return [{ name: getData.subscriptiondocument }];\r\n                }\r\n              })()\r\n              : [],\r\n\r\n          liquidation: (() => {\r\n            if (!getData.liquidation) return [];\r\n            if (Array.isArray(getData.liquidation)) {\r\n              return getData.liquidation;\r\n            } else if (typeof getData.liquidation === 'string') {\r\n              return getData.liquidation.split(\",\").map((v) => v.trim()).filter(v => v !== '');\r\n            } else {\r\n              console.warn(\"Unexpected liquidation data type:\", typeof getData.liquidation, getData.liquidation);\r\n              return [];\r\n            }\r\n          })(),\r\n        };\r\n\r\n        console.log(\"Final formData:\", updatedFormData);\r\n        setFormData(updatedFormData);\r\n\r\n        //  SET FOUNDERS DATA FOR ROUND 0\r\n\r\n        if (getData.round_type === 'Round 0' && foundersDataFromDB.length > 0) {\r\n          setFoundersData(foundersDataFromDB);\r\n          setFounderCount(foundersDataFromDB.length);\r\n          console.log(\"Setting founders data:\", foundersDataFromDB);\r\n        }\r\n\r\n        setEditrecords(generateRes.data.results[0]);\r\n        setSelected(getData.shareClassType);\r\n      } else {\r\n        navigate(\"/record-round-list\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error generating summary\", err);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (field, value) => {\r\n    if (field === 'currency') {\r\n      setCurrDisplay(value);\r\n    }\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n  const calculateFounderValue = (shares) => {\r\n    const pricePerShare = parseFloat(formData.pricePerShare) || 0;\r\n    return (shares * pricePerShare).toFixed(2);\r\n  };\r\n  const [selected, setSelected] = useState(\"default\");\r\n  const [otherText, setOtherText] = useState(\"\");\r\n  const [isReviewing, setIsReviewing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getIP = async () => {\r\n      try {\r\n        const res = await fetch(\"https://api.ipify.org?format=json\");\r\n        const data = await res.json();\r\n        setClientIP(data.ip); // Save this to state\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch IP\", error);\r\n      }\r\n    };\r\n\r\n    getIP();\r\n  }, []);\r\n  const handleSubmit = async () => {\r\n\r\n    const formDataToSend = new FormData();\r\n    formDataToSend.append(\"created_by_id\", userLogin.id);\r\n    formDataToSend.append(\"id\", id || \"\"); // Fix: Handle empty id for new records\r\n    formDataToSend.append(\"company_id\", userLogin.companies[0].id);\r\n    formDataToSend.append(\"created_by_role\", userLogin.role);\r\n\r\n    // Round 0 vs Round 1+ logic\r\n    if (isFirstRound) {\r\n      // ROUND 0 SPECIFIC DATA\r\n      formDataToSend.append(\"round_type\", \"Round 0\");\r\n      formDataToSend.append(\"shareClassType\", \"Common Shares\");\r\n      formDataToSend.append(\"nameOfRound\", \"Founding Share Allocation\");\r\n      formDataToSend.append(\"issuedshares\", calculateTotalShares().toString());\r\n      formDataToSend.append(\"roundStatus\", \"\");\r\n      formDataToSend.append(\"instrumentType\", \"\");\r\n      formDataToSend.append(\"roundsize\", \"\");\r\n      formDataToSend.append(\"currency\", \"CAD $\");\r\n      formDataToSend.append(\"dateroundclosed\", formData.dateroundclosed); // Add current date for Round 0\r\n\r\n      // Founder data for Round 0 - FIXED: Convert to proper JSON string\r\n      const founderData = {\r\n        founders: foundersData,\r\n        totalShares: calculateTotalShares(),\r\n        totalValue: calculateTotalValue(),\r\n        pricePerShare: formData.pricePerShare || \"0.01\",\r\n        ownershipBreakdown: calculateOwnershipPercentages()\r\n      };\r\n      formDataToSend.append(\"founder_data\", JSON.stringify(founderData));\r\n      formDataToSend.append(\"total_founder_shares\", calculateTotalShares().toString());\r\n      formDataToSend.append(\"founder_count\", founderCount.toString());\r\n\r\n    } else {\r\n      // ROUND 1+ DATA\r\n      formDataToSend.append(\"round_type\", \"Investment\");\r\n      formDataToSend.append(\"investorPostMoney\", formData.investorPostMoney);\r\n      formDataToSend.append(\"shareClassType\", selected || \"\");\r\n      formDataToSend.append(\"nameOfRound\", formData.nameOfRound || \"\");\r\n      formDataToSend.append(\"issuedshares\", formData.issuedshares || \"\");\r\n      formDataToSend.append(\"roundStatus\", formData.roundStatus || \"\");\r\n      formDataToSend.append(\"instrumentType\", formData.instrumentType || \"\");\r\n      formDataToSend.append(\"roundsize\", formData.roundsize || \"\");\r\n      formDataToSend.append(\"currency\", formData.currency || \"\");\r\n      formDataToSend.append(\"pre_money\", formData.pre_money || \"\");\r\n      formDataToSend.append(\"post_money\", formData.post_money || \"\");\r\n      formDataToSend.append(\"optionPoolPercent\", formData.optionPoolPercent || \"\");\r\n      formDataToSend.append(\"optionPoolPercent_post\", formData.optionPoolPercent_post || \"\");\r\n    }\r\n\r\n    // COMMON FIELDS FOR BOTH ROUNDS - FIXED: Handle null/undefined values\r\n    formDataToSend.append(\"description\", formData.description || \"\");\r\n    formDataToSend.append(\"liquidationOther\", formData.liquidationOther || \"\");\r\n    formDataToSend.append(\"liquidationpreferences\", formData.liquidationpreferences || \"\");\r\n    formDataToSend.append(\"shareclassother\", formData.shareclassother || \"\");\r\n    formDataToSend.append(\"customInstrument\", formData.customInstrument || \"\");\r\n    formDataToSend.append(\"rights\", formData.rights || \"\");\r\n\r\n    // FIXED: Convert array to string for liquidation field\r\n    formDataToSend.append(\"liquidation\", Array.isArray(formData.liquidation) ? formData.liquidation.join(\",\") : \"\");\r\n\r\n    formDataToSend.append(\"convertible\", formData.convertible || \"\");\r\n    formDataToSend.append(\"convertibleType\", formData.convertibleType || \"\");\r\n    formDataToSend.append(\"voting\", formData.voting || \"\");\r\n    formDataToSend.append(\"dateroundclosed\", formData.dateroundclosed || \"\");\r\n    formDataToSend.append(\"generalnotes\", formData.generalnotes || \"\");\r\n    formDataToSend.append(\"ip_address\", ClientIP || \"\");\r\n    formDataToSend.append(\"ClientIP\", ClientIP || \"\"); // Add both for compatibility\r\n\r\n    // File uploads - FIXED: Handle empty arrays\r\n    if (formData.termsheetFile && formData.termsheetFile.length > 0) {\r\n      formData.termsheetFile.forEach((file) => {\r\n        formDataToSend.append(\"termsheetFile\", file);\r\n      });\r\n    } else {\r\n      formDataToSend.append(\"termsheetFile\", \"\"); // Send empty string if no files\r\n    }\r\n\r\n    if (formData.subscriptiondocument && formData.subscriptiondocument.length > 0) {\r\n      formData.subscriptiondocument.forEach((file) => {\r\n        formDataToSend.append(\"subscriptiondocument\", file);\r\n      });\r\n    } else {\r\n      formDataToSend.append(\"subscriptiondocument\", \"\"); // Send empty string if no files\r\n    }\r\n\r\n    // Instrument data (mostly for Round 1+)\r\n    let instrumentData = {};\r\n    if (!isFirstRound && formData.instrumentType) {\r\n      switch (formData.instrumentType) {\r\n        case \"Common Stock\":\r\n          // instrumentData = {\r\n          //   common_stock_valuation: formData.common_stock_valuation || \"\",\r\n          //   hasWarrants: formData.hasWarrants || false,\r\n          //   ...(formData.hasWarrants && {\r\n          //     exercisePrice: formData.exercisePrice || \"\",\r\n          //     expirationDate: formData.expirationDate || \"\",\r\n          //     warrantRatio: formData.warrantRatio || \"\",\r\n          //     warrantType: formData.warrantType || \"CALL\",\r\n          //   }),\r\n          // };\r\n          instrumentData = {};\r\n          break;\r\n\r\n        case \"Preferred Equity\":\r\n          instrumentData = {\r\n            preferred_valuation: formData.preferred_valuation || \"\",\r\n            hasWarrants_preferred: formData.hasWarrants_preferred || false,\r\n            ...(formData.hasWarrants_preferred && {\r\n              // These fields exist in your form\r\n              warrant_coverage_percentage: formData.warrant_coverage_percentage || \"\",\r\n              warrant_adjustment_direction: formData.warrant_adjustment_direction || \"decrease\",\r\n              warrant_adjustment_percent: formData.warrant_adjustment_percent || \"\",\r\n              expirationDate_preferred: formData.expirationDate_preferred || \"\",\r\n              warrantType_preferred: formData.warrantType_preferred || \"CALL\",\r\n              // Note: exercise price will be calculated later when next round is created\r\n            }),\r\n          };\r\n          break;\r\n\r\n        case \"Safe\":\r\n          instrumentData = {\r\n            valuationCap: formData.valuationCap || \"\",\r\n            discountRate: formData.discountRate || \"\",\r\n            // safeType: formData.safeType || \"PRE_MONEY\",\r\n          };\r\n          break;\r\n\r\n        case \"Venture/Bank DEBT\":\r\n          instrumentData = {\r\n            interestRate: formData.interestRate || \"\",\r\n            repaymentSchedule: formData.repaymentSchedule || \"\",\r\n            hasWarrants_Bank: formData.hasWarrants_Bank || false,\r\n            ...(formData.hasWarrants_Bank && {\r\n              exercisePrice_bank: formData.exercisePrice_bank || \"\",\r\n              exercisedate_bank: formData.exercisedate_bank || \"\",\r\n              warrantRatio_bank: formData.warrantRatio_bank || \"\",\r\n              warrantType_bank: formData.warrantType_bank || \"CALL\",\r\n            }),\r\n          };\r\n          break;\r\n\r\n        case \"Convertible Note\":\r\n          instrumentData = {\r\n            valuationCap_note: formData.valuationCap_note || \"\",\r\n            discountRate_note: formData.discountRate_note || \"\",\r\n            maturityDate: formData.maturityDate || \"\",\r\n            interestRate_note: formData.interestRate_note || \"\",\r\n            //  convertibleTrigger: formData.convertibleTrigger || \"\",\r\n          };\r\n          break;\r\n\r\n        default:\r\n          instrumentData = {};\r\n      }\r\n    }\r\n\r\n    // FIXED: Always send instrument_type_data, even if empty\r\n    formDataToSend.append(\"instrument_type_data\", JSON.stringify(instrumentData));\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        apiUrlRound + \"CreateOrUpdateCapitalRound\",\r\n        formDataToSend,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n      setIsLoading(false);\r\n      seterrr(false);\r\n      setmessageAll(res.data.message);\r\n      setTimeout(() => {\r\n        setmessageAll(\"\");\r\n        navigate(\"/record-round-list\");\r\n      }, 1500);\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      seterrr(true);\r\n      setmessageAll(err.response?.data?.message || \"Error creating round\");\r\n      setTimeout(() => {\r\n        setmessageAll(\"\");\r\n      }, 5000);\r\n      console.error(\"Error creating round:\", err);\r\n    }\r\n  };\r\n\r\n  // Share class options\r\n\r\n  const [firstStepCompleted, setFirstStepCompleted] = useState(false);\r\n  const handleOptionClick = (opt) => {\r\n    // If editing (id exists), allow all options\r\n    if (!id) {\r\n      // First step: only Founder Shares selectable\r\n      if (\r\n        !firstStepCompleted &&\r\n        opt !== \"Founder Shares (Family and Friends)\"\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      // After first step is done\r\n      if (\r\n        !firstStepCompleted &&\r\n        opt === \"Founder Shares (Family and Friends)\"\r\n      ) {\r\n        setFirstStepCompleted(true);\r\n        handleInputChange(\"nameOfRound\", \"Founding Share Allocation\");\r\n      }\r\n    }\r\n\r\n    // Set selection and update form data\r\n    setSelected(opt);\r\n    handleInputChange(\r\n      \"shareClassType\",\r\n      opt === \"OTHER\" ? formData.shareclassother : opt\r\n    );\r\n    if (opt !== \"OTHER\") handleInputChange(\"shareclassother\", \"\");\r\n  };\r\n\r\n  const options = [\r\n    //\"Founder Shares (Family and Friends)\",\r\n    //\"Employee Options Pool\", // mandatory first selection\r\n    \"Advisor Shares\",\r\n    \"Pre-Seed\",\r\n    \"Seed\",\r\n    \"Seed Extension / Seed+\",\r\n    \"Series A\",\r\n    \"Series A Extension\",\r\n    \"Series B\",\r\n    \"Series B Extension\",\r\n    \"Series C\",\r\n    \"Series C Extension\",\r\n    \"Series D\",\r\n    \"Bridge Round\",\r\n    \"OTHER\",\r\n  ];\r\n\r\n  // Form sections\r\n\r\n  // Fixed navigation function\r\n  const navigateToSection = (direction) => {\r\n    const currentIndex = sections.findIndex((section) => section.id === activeSection);\r\n\r\n    if (direction === 'next' && currentIndex < sections.length - 1) {\r\n      setActiveSection(sections[currentIndex + 1].id);\r\n    } else if (direction === 'prev' && currentIndex > 0) {\r\n      setActiveSection(sections[currentIndex - 1].id);\r\n    }\r\n  };\r\n\r\n  const getSections = (selectedOption, instrumentType) => {\r\n    if (isFirstRound) {\r\n      // ROUND 0 SECTIONS\r\n      return [\r\n        { id: \"shareclass\", title: \"Founder Share Allocation\" },\r\n        { id: \"description\", title: \"Description\" },\r\n        { id: \"issuedshares\", title: \"Round 0 Summary\" },\r\n        { id: \"rights\", title: \"Rights & Preferences\" },\r\n        { id: \"notes\", title: \"Notes\" },\r\n      ];\r\n    } else {\r\n      // OTHER ROUNDS SECTIONS\r\n      let sections = [\r\n        { id: \"shareclass\", title: \"Share Class\" },\r\n        { id: \"instrument\", title: \"Investment Instrument\" },\r\n        { id: \"roundsize\", title: \"Round Size\" },\r\n        { id: \"issuedshares\", title: \"Round Active/Closed\" },\r\n        { id: \"description\", title: \"Description\" },\r\n        { id: \"rights\", title: \"Rights & Preferences\" },\r\n        // { id: \"liquidation\", title: \"Liquidation Preference\" }, // Isko conditionally add karenge\r\n        { id: \"convertible\", title: \"Convertible?\" },\r\n        { id: \"voting\", title: \"Voting Rights\" },\r\n        { id: \"termsheet\", title: \"Term Sheet\" },\r\n        { id: \"subscription\", title: \"Subscription Document\" },\r\n        { id: \"notes\", title: \"Notes\" },\r\n      ];\r\n\r\n      //  Sirf tabhi Liquidation Preference section add karein jab instrumentType \"Preferred Equity\" ho\r\n      if (instrumentType === \"Preferred Equity\") {\r\n        sections.splice(6, 0, { id: \"liquidation\", title: \"Liquidation Preference\" });\r\n      }\r\n\r\n      // Hide \"Investment Instrument\" if user selected \"Seed\"\r\n      // if (selectedOption === \"Seed\") {\r\n      //   sections = sections.filter((s) => s.id !== \"instrument\");\r\n      // }\r\n\r\n      return sections;\r\n    }\r\n  };\r\n\r\n\r\n  const sections = getSections(formData.shareClassType, formData.instrumentType);\r\n\r\n  // Fixed Progress bar calculation\r\n  const totalSections = sections.length;\r\n  const activeIndex = sections.findIndex((section) => section.id === activeSection);\r\n  const progressWidth = totalSections > 0 ? Math.round(((activeIndex + 1) / totalSections) * 100) : 0;\r\n\r\n  //Instrument\r\n  const instrumentOptions = [\r\n    {\r\n      value: \"Common Stock\",\r\n      label: \"Common Stock\",\r\n      description:\r\n        \"Direct sale of common shares, often to founders or early employees.\",\r\n    },\r\n    {\r\n      value: \"Preferred Equity\",\r\n      label: \"Preferred Equity\",\r\n      description:\r\n        \"Equity with liquidity preference, often used in priced rounds with early-stage investors.\",\r\n    },\r\n    {\r\n      value: \"Convertible Note\",\r\n      label: \"Convertible Note\",\r\n      description:\r\n        \"Short-term debt that converts into equity at a future financing round.\",\r\n    },\r\n    {\r\n      value: \"Safe\",\r\n      label: \"Safe\",\r\n      description:\r\n        \"Simple Agreement for Future Equity - converts at the time of a priced round.\",\r\n    },\r\n    {\r\n      value: \"Venture/Bank DEBT\",\r\n      label: \"Venture/Bank DEBT\",\r\n      description:\r\n        \"Non-convertible financing structured as loans, typically repaid with interest.\",\r\n    },\r\n    {\r\n      value: \"OTHER\",\r\n      label: \"Other\",\r\n      description: \"Custom investment instrument not listed above.\",\r\n    },\r\n  ];\r\n\r\n  const liquidationOptions = {\r\n    multiplePreferences: [\r\n      {\r\n        value: \"1\",\r\n        label: \"1x Investor Multiple Preference\",\r\n        description: \"1x multiple of the original investment returned before common shares participate.\",\r\n        group: \"multiple\"\r\n      },\r\n      {\r\n        value: \"2\",\r\n        label: \"2x Investor Multiple Preference\",\r\n        description: \"2x multiple of the original investment returned before common shares participate.\",\r\n        group: \"multiple\"\r\n      },\r\n      {\r\n        value: \"3\",\r\n        label: \"3x Investor Multiple Preference\",\r\n        description: \"3x multiple of the original investment returned before common shares participate.\",\r\n        group: \"multiple\"\r\n      }\r\n    ],\r\n    participationRights: [\r\n      {\r\n        value: \"Non-Participating\",\r\n        label: \"Non-Participating\",\r\n        description: \"Investor chooses either the liquidation preference or the stock value.\",\r\n        group: \"participation\"\r\n      },\r\n      {\r\n        value: \"Participating\",\r\n        label: \"Participating\",\r\n        description: \"Received liquidation preference and then participated pro-rata with common shareholders.\",\r\n        group: \"participation\"\r\n      },\r\n      {\r\n        value: \"Capped Participating\",\r\n        label: \"Capped Participating\",\r\n        description: \"Participation capped at a defined multiple (e.g. total return capped at 3x).\",\r\n        group: \"participation\"\r\n      },\r\n      {\r\n        value: \"Participating with Catch-up\",\r\n        label: \"Participating with Catch-up\",\r\n        description: \"Common gets paid first to a threshold, then preferred 'catches up' before full pro-rata sharing.\",\r\n        group: \"participation\"\r\n      },\r\n      {\r\n        value: \"Senior Debt\",\r\n        label: \"Senior Debt\",\r\n        description: \"A loan or obligation that takes repayment priority over other debts in the event of bankruptcy.\",\r\n        group: \"participation\"\r\n      },\r\n      {\r\n        value: \"Common Debt\",\r\n        label: \"Common Debt\",\r\n        description: \"A loan or obligation that takes secondary repayment priority over other senior debts in the event of bankruptcy.\",\r\n        group: \"participation\"\r\n      }\r\n    ],\r\n    otherOptions: [\r\n      {\r\n        value: \"N/A\",\r\n        label: \"N/A\",\r\n        description: \"Does not apply to this round.\",\r\n        group: \"other\"\r\n      },\r\n      {\r\n        value: \"OTHER\",\r\n        label: \"Other\",\r\n        description: \"Custom response entered by the company.\",\r\n        group: \"other\"\r\n      }\r\n    ]\r\n  };\r\n\r\n  //getallcountrySymbolList\r\n  const [localeFormat, setLocaleFormat] = useState('en-US'); // Add this\r\n  useEffect(() => {\r\n    getallcountrySymbolList();\r\n    getcountrySymbolLocal();\r\n  }, []);\r\n  const getallcountrySymbolList = async () => {\r\n    let formData = {\r\n      id: \"\",\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        apiUrlRound + \"getallcountrySymbolList\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\", // Ensure the content type is JSON\r\n          },\r\n        }\r\n      );\r\n\r\n      var respo = res.data.results;\r\n      console.log(respo);\r\n      setCountrysymbollist(respo);\r\n    } catch (err) {\r\n      // Enhanced error handling\r\n    }\r\n  };\r\n  const [countryCode, setCountryCode] = useState('US'); // Add this state\r\n\r\n  const getcountrySymbolLocal = async () => {\r\n    try {\r\n      const res = await axios.post(\r\n        apiURLSignature + \"getcountrySymbolLocal\",\r\n        { company_id: userLogin.companies[0].id },\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      const checkData = res.data.results;\r\n      if (checkData.length > 0) {\r\n        const code = checkData[0].country_code; // \"IN\"\r\n        setCountryCode(code);\r\n\r\n        // Find country data from dynamic list\r\n        const countryData = countrySymbolList.find(\r\n          country => country.code === code\r\n        );\r\n\r\n\r\n        if (countryData) {\r\n          setCurrencySymbol(countryData.currency_symbol); //  for India\r\n\r\n          // Set locale dynamically based on country code\r\n          const locale = getLocaleFromCountryCode(code);\r\n          setLocaleFormat(locale);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error(\" Error fetching existing shares:\", err);\r\n    }\r\n  };\r\n  const getLocaleFromCountryCode = (code) => {\r\n    const localeMap = {\r\n      'IN': 'en-IN',    // India - 10,00,000\r\n      'US': 'en-US',    // USA - 1,000,000\r\n      'GB': 'en-GB',    // UK - 1,000,000\r\n      'CA': 'en-CA',    // Canada - 1,000,000\r\n      'AU': 'en-AU',    // Australia - 1,000,000\r\n      'DE': 'de-DE',    // Germany - 1.000.000\r\n      'FR': 'fr-FR',    // France - 1 000 000\r\n      'IT': 'it-IT',    // Italy - 1.000.000\r\n      'ES': 'es-ES',    // Spain - 1.000.000\r\n      'NL': 'nl-NL',    // Netherlands - 1.000.000\r\n      'CN': 'zh-CN',    // China - 1,000,000\r\n      'JP': 'ja-JP',    // Japan - 1,000,000\r\n      'KR': 'ko-KR',    // Korea - 1,000,000\r\n      'BR': 'pt-BR',    // Brazil - 1.000.000\r\n      'MX': 'es-MX',    // Mexico - 1,000,000\r\n      'AE': 'ar-AE',    // UAE - 1,000,000\r\n      'SA': 'ar-SA',    // Saudi Arabia - 1,000,000\r\n      'SG': 'en-SG',    // Singapore - 1,000,000\r\n      'MY': 'ms-MY',    // Malaysia - 1,000,000\r\n      'TH': 'th-TH',    // Thailand - 1,000,000\r\n      'PH': 'en-PH',    // Philippines - 1,000,000\r\n      'ID': 'id-ID',    // Indonesia - 1.000.000\r\n      'VN': 'vi-VN',    // Vietnam - 1.000.000\r\n      'PK': 'ur-PK',    // Pakistan - 1,000,000\r\n      'BD': 'bn-BD',    // Bangladesh - 10,00,000\r\n      'LK': 'si-LK',    // Sri Lanka - 1,000,000\r\n      'NP': 'ne-NP',    // Nepal - 10,00,000\r\n    };\r\n\r\n    return localeMap[code] || 'en-US'; // Default\r\n  };\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleReviewpage = () => {\r\n    setsuccessMsg(\r\n      \"Please review all the information carefully before submitting. Once submitted, it can be officially recorded.\"\r\n    );\r\n    setIsReviewing(true); // show confirm button\r\n  };\r\n\r\n  const handleConfirm = async () => {\r\n    setsuccessMsg(\"\");\r\n    setIsReviewing(false);\r\n    setIsLoading(true);\r\n    await handleSubmit(); // submit form once\r\n  };\r\n  // Utility function\r\n  const shouldShowAlert = (dateStr) => {\r\n    if (!dateStr || dateStr.trim() === \"\") return true; // empty  show\r\n\r\n    const [monthStr, dayStr, yearStr] = dateStr.split(\"/\");\r\n    const month = parseInt(monthStr, 10) - 1; // JS months 0-11\r\n    const day = parseInt(dayStr, 10);\r\n    const year = parseInt(yearStr, 10);\r\n\r\n    if (isNaN(month) || isNaN(day) || isNaN(year)) return true; // invalid  show\r\n\r\n    const roundDate = new Date(year, month, day);\r\n    const today = new Date();\r\n\r\n    // Show if roundDate is in the future\r\n    return roundDate > today;\r\n  };\r\n\r\n  //Check Round 0\r\n  // Recordround.jsx - Add these states after existing states\r\n\r\n\r\n  // Check if this is company's first round\r\n  useEffect(() => {\r\n    if (!id) {\r\n      checkIfFirstRound();\r\n    }\r\n  }, []);\r\n\r\n  const checkIfFirstRound = async () => {\r\n    try {\r\n      const formData = {\r\n        company_id: userLogin.companies[0].id,\r\n        id: id\r\n      };\r\n\r\n      const res = await axios.post(\r\n        apiUrlRound + \"checkExistingRounds\",\r\n        formData\r\n      );\r\n\r\n      const hasExistingRounds = res.data.roundCount;\r\n      console.log(hasExistingRounds)\r\n      setIsFirstRound(!hasExistingRounds);\r\n\r\n      // Auto-set Round 0 values if first round\r\n      if (!hasExistingRounds) {\r\n        handleInputChange(\"nameOfRound\", \"Founding Share Allocation\");\r\n        setSelected(\"Founder Shares (Family and Friends)\");\r\n        setFirstStepCompleted(true);\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error(\"Error checking rounds:\", err);\r\n    }\r\n  };\r\n  // Add these functions after handleInputChange\r\n  const updateFounderData = (index, field, value) => {\r\n    setFoundersData(prev => {\r\n      const updated = [...prev];\r\n      if (!updated[index]) updated[index] = {};\r\n      updated[index][field] = value;\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const addFounder = () => {\r\n    setFoundersData(prev => [...prev, { shares: '', shareType: 'common', voting: 'voting' }]);\r\n    setFounderCount(prev => prev + 1);\r\n  };\r\n\r\n  const removeFounder = (index) => {\r\n    if (founderCount > 1) {\r\n      setFoundersData(prev => prev.filter((_, i) => i !== index));\r\n      setFounderCount(prev => prev - 1);\r\n    }\r\n  };\r\n\r\n  // Calculation functions for Round 0\r\n  const calculateTotalShares = () => {\r\n    return foundersData.reduce((total, founder) => {\r\n      return total + (parseInt(founder.shares) || 0);\r\n    }, 0);\r\n  };\r\n\r\n  const calculateTotalValue = () => {\r\n    const totalShares = calculateTotalShares();\r\n    const pricePerShare = parseFloat(formData.pricePerShare) || 0;\r\n    return (totalShares * pricePerShare).toFixed(2);\r\n  };\r\n\r\n  const calculateOwnershipPercentages = () => {\r\n    const totalShares = calculateTotalShares();\r\n    if (totalShares === 0) return [];\r\n\r\n    return foundersData.map((founder, index) => {\r\n      const shares = parseInt(founder.shares) || 0;\r\n      const percentage = totalShares > 0 ? (shares / totalShares) * 100 : 0;\r\n      return {\r\n        founder: `Founder ${index + 1}`,\r\n        percentage: percentage.toFixed(1)\r\n      };\r\n    });\r\n  };\r\n\r\n\r\n\r\n  //Round 1\r\n  //  CORRECTED SERIES A CALCULATION\r\n  const [previousRoundOptionPool, setPreviousRoundOptionPool] = useState(0);\r\n  useEffect(() => {\r\n    if (formData.isCalculationSource) {\r\n      return;\r\n    }\r\n\r\n    const preMoney = parseFloat(formData.pre_money || 0);\r\n    const roundSize = parseFloat(formData.roundsize || 0);\r\n    const postMoneyPool = parseFloat(formData.optionPoolPercent_post || 0);\r\n    const existing = parseFloat(existingSharesUse || 0);\r\n\r\n    console.log('\\n ========== CALCULATION START ==========');\r\n    console.log('Investment Amount: $' + roundSize.toLocaleString());\r\n    console.log('Pre-Money Valuation: $' + preMoney.toLocaleString());\r\n    console.log('Existing Shares: ' + existing.toLocaleString());\r\n    console.log('Target Post-Money Pool: ' + postMoneyPool + '%');\r\n    console.log('Previous Round Option Pool: ' + previousRoundOptionPool + '%');\r\n\r\n    if (preMoney <= 0 || roundSize <= 0 || existing <= 0) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const isSeriesRound = selected?.includes(\"Series\");\r\n      const postMoney = preMoney + roundSize;\r\n      const investorOwnershipPercent = (roundSize / postMoney) * 100;\r\n\r\n      let sharePrice = 0;\r\n      let newSharesIssued = 0;\r\n      let totalPostShares = 0;\r\n      let newOptionShares = 0;\r\n      let existingOptionPoolPercent = 0;\r\n      let doc4Action = 'NO_ACTION';\r\n\r\n      if (isSeriesRound && postMoneyPool > 0) {\r\n        console.log('\\n SERIES ROUND CALCULATION');\r\n\r\n        //  STEP 1: Get existing option pool percentage\r\n        existingOptionPoolPercent = parseFloat(previousRoundOptionPool || 0);\r\n        console.log('Step 1 - Existing Option Pool: ' + existingOptionPoolPercent + '%');\r\n\r\n        //  STEP 2: Calculate existing option pool shares\r\n        const existingOptionShares = Math.round(existing * (existingOptionPoolPercent / 100));\r\n        console.log('Step 2 - Existing Option Shares: ' + existingOptionShares.toLocaleString());\r\n\r\n        //  STEP 3: Calculate Founders + Seed shares (non-pool)\r\n        const foundersSeedShares = existing - existingOptionShares;\r\n        console.log('Step 3 - Founders + Seed Shares: ' + foundersSeedShares.toLocaleString());\r\n\r\n        // Check if top-up needed\r\n        if (existingOptionPoolPercent >= postMoneyPool) {\r\n          // NO TOP-UP NEEDED\r\n          doc4Action = 'NO_ACTION';\r\n          console.log(' NO TOP-UP: Existing pool sufficient');\r\n\r\n          sharePrice = preMoney / existing;\r\n          newSharesIssued = roundSize / sharePrice;\r\n          totalPostShares = existing + newSharesIssued;\r\n          newOptionShares = 0;\r\n\r\n        } else {\r\n          // TOP-UP NEEDED\r\n          doc4Action = 'TOP_UP';\r\n          console.log(' TOP-UP NEEDED: Expanding pool from ' + existingOptionPoolPercent + '% to ' + postMoneyPool + '%');\r\n\r\n          //  STEP 4: Calculate Founders + Seed ownership percentage\r\n          const foundersSeedPercent = 100 - investorOwnershipPercent - postMoneyPool;\r\n          console.log('Step 4 - Founders + Seed will own: ' + foundersSeedPercent.toFixed(2) + '%');\r\n\r\n          //  STEP 5: Calculate total post-investment shares\r\n          // FORMULA: Founders+Seed Shares / Founders+Seed %\r\n          totalPostShares = Math.round(foundersSeedShares / (foundersSeedPercent / 100));\r\n          console.log('Step 5 - Total Post Shares: ' + totalPostShares.toLocaleString());\r\n\r\n          //  STEP 6: Calculate total NEW shares needed\r\n          const totalNewShares = totalPostShares - existing;\r\n          console.log('Step 6 - Total New Shares: ' + totalNewShares.toLocaleString() + '  THIS IS THE 93,434!');\r\n\r\n          //  STEP 7: Calculate required option pool (post-money)\r\n          const requiredOptionShares = Math.round(totalPostShares * (postMoneyPool / 100));\r\n          console.log('Step 7 - Required Option Pool: ' + requiredOptionShares.toLocaleString());\r\n\r\n          //  STEP 8: Calculate additional option shares (top-up)\r\n          newOptionShares = Math.max(0, requiredOptionShares - existingOptionShares);\r\n          console.log('Step 8 - New Option Shares (top-up): ' + newOptionShares.toLocaleString());\r\n\r\n          //  STEP 9: Calculate Series A investor shares\r\n          newSharesIssued = totalNewShares - newOptionShares;\r\n          console.log('Step 9 - Series A Investor Shares: ' + Math.round(newSharesIssued).toLocaleString());\r\n\r\n          //  STEP 10: Calculate share price\r\n          sharePrice = preMoney / (existing + newOptionShares);\r\n          console.log('Step 10 - Share Price: $' + sharePrice.toFixed(4));\r\n\r\n          //  VERIFICATION\r\n          console.log('\\n VERIFICATION:');\r\n          console.log(' Founders + Seed: ' + foundersSeedShares.toLocaleString() + ' (' + foundersSeedPercent.toFixed(2) + '%)');\r\n          console.log(' Existing Options: ' + existingOptionShares.toLocaleString());\r\n          console.log(' New Options: ' + newOptionShares.toLocaleString());\r\n          console.log(' Total Options: ' + requiredOptionShares.toLocaleString() + ' (' + postMoneyPool + '%)');\r\n          console.log(' Series A Investors: ' + Math.round(newSharesIssued).toLocaleString() + ' (' + investorOwnershipPercent.toFixed(2) + '%)');\r\n          console.log(' TOTAL: ' + totalPostShares.toLocaleString() + ' (100%)');\r\n\r\n          // Double-check percentages\r\n          const foundersSeedActual = (foundersSeedShares / totalPostShares) * 100;\r\n          const optionPoolActual = (requiredOptionShares / totalPostShares) * 100;\r\n          const investorActual = (newSharesIssued / totalPostShares) * 100;\r\n\r\n          console.log('\\n PERCENTAGE CHECK:');\r\n          console.log('Founders + Seed: ' + foundersSeedActual.toFixed(2) + '% (should be ' + foundersSeedPercent.toFixed(2) + '%)');\r\n          console.log('Option Pool: ' + optionPoolActual.toFixed(2) + '% (should be ' + postMoneyPool + '%)');\r\n          console.log('Series A: ' + investorActual.toFixed(2) + '% (should be ' + investorOwnershipPercent.toFixed(2) + '%)');\r\n          console.log('Total: ' + (foundersSeedActual + optionPoolActual + investorActual).toFixed(2) + '% (should be 100%)');\r\n        }\r\n\r\n      } else {\r\n        // SEED ROUND CALCULATION\r\n        const preMoneyPool = parseFloat(formData.optionPoolPercent || 0);\r\n\r\n        if (preMoneyPool > 0) {\r\n          const poolFactor = 1 - (preMoneyPool / 100);\r\n          const preRoundShares = existing / poolFactor;\r\n          const employeeOptionShares = preRoundShares - existing;\r\n\r\n          const totalPreInvestmentShares = existing + employeeOptionShares;\r\n          totalPostShares = totalPreInvestmentShares / (1 - (investorOwnershipPercent / 100));\r\n          newSharesIssued = totalPostShares - totalPreInvestmentShares;\r\n          sharePrice = roundSize / newSharesIssued;\r\n\r\n          doc4Action = 'CREATED';\r\n          newOptionShares = Math.round(employeeOptionShares);\r\n          existingOptionPoolPercent = preMoneyPool;\r\n        } else {\r\n          sharePrice = preMoney / existing;\r\n          newSharesIssued = roundSize / sharePrice;\r\n          totalPostShares = existing + newSharesIssued;\r\n          newOptionShares = 0;\r\n        }\r\n      }\r\n\r\n      // Update state\r\n      const newPostMoney = postMoney.toFixed(2);\r\n      const newInvestorOwnership = investorOwnershipPercent.toFixed(2);\r\n      const newIssuedShares = Math.round(newSharesIssued).toString();\r\n      const newSharePrice = sharePrice.toFixed(4);\r\n\r\n      console.log('\\n FINAL RESULTS:');\r\n      console.log('Share Price: $' + newSharePrice);\r\n      console.log('Shares Issued to Investors: ' + newIssuedShares);\r\n      console.log('New Option Shares: ' + Math.round(newOptionShares).toLocaleString());\r\n      console.log('Total Post Shares: ' + Math.round(totalPostShares).toLocaleString());\r\n      console.log('Existing Option Pool %: ' + existingOptionPoolPercent);\r\n      console.log('Doc 4 Action: ' + doc4Action);\r\n      console.log('========== CALCULATION END ==========\\n');\r\n\r\n      setCalculatedValues({\r\n        sharePrice: newSharePrice,\r\n        newSharesIssued: parseInt(newIssuedShares) || 0,\r\n        totalPostShares: Math.round(totalPostShares),\r\n        newOptionShares: Math.round(newOptionShares),\r\n        existingOptionPoolPercent: existingOptionPoolPercent,\r\n        postMoneyValuation: newPostMoney,\r\n        investorOwnershipPercent: newInvestorOwnership,\r\n        doc4Action: doc4Action\r\n      });\r\n\r\n      if (formData.post_money !== newPostMoney ||\r\n        formData.investorPostMoney !== newInvestorOwnership ||\r\n        formData.issuedshares !== newIssuedShares) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          post_money: newPostMoney,\r\n          investorPostMoney: newInvestorOwnership,\r\n          issuedshares: newIssuedShares,\r\n          sharePrice: newSharePrice,\r\n          isCalculationSource: true,\r\n        }));\r\n\r\n        setTimeout(() => {\r\n          setFormData(prev => ({ ...prev, isCalculationSource: false }));\r\n        }, 10);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\" Calculation Error:\", error);\r\n    }\r\n  }, [\r\n    formData.pre_money,\r\n    formData.roundsize,\r\n    formData.optionPoolPercent,\r\n    formData.optionPoolPercent_post,\r\n    existingSharesUse,\r\n    selected,\r\n    previousRoundOptionPool\r\n  ]);\r\n  // Round 1 Calculations\r\n\r\n\r\n  // Aapke existing calculation useEffect ko REPLACE karein isse (around line 600):\r\n\r\n\r\n\r\n  // Add this state at the top of your component\r\n  const [calculatedValues, setCalculatedValues] = useState({\r\n    sharePrice: '0.0000',\r\n    newSharesIssued: 0,\r\n    totalPostShares: 0,\r\n    employeeOptionShares: 0,\r\n    newOptionShares: 0,\r\n    existingOptionPoolPercent: 0,\r\n    postMoneyValuation: '0.00',\r\n    investorOwnershipPercent: '0.00',\r\n    doc4Action: 'NO_ACTION'\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (formData.isCalculationSource) {\r\n      return;\r\n    }\r\n\r\n    const preMoney = parseFloat(formData.pre_money || 0);\r\n    const roundSize = parseFloat(formData.roundsize || 0);\r\n    const postMoneyPool = parseFloat(formData.optionPoolPercent_post || 0);\r\n    const existing = parseFloat(existingSharesUse || 0);\r\n\r\n    console.log('\\n ===== CALCULATION START =====');\r\n    console.log(' INPUTS:');\r\n    console.log('   Investment: $' + roundSize.toLocaleString());\r\n    console.log('   Pre-Money: $' + preMoney.toLocaleString());\r\n    console.log('   Existing Shares: ' + existing.toLocaleString());\r\n    console.log('   Target Post-Pool: ' + postMoneyPool + '%');\r\n    console.log('    previousRoundOptionPool: ' + previousRoundOptionPool + '%');\r\n    console.log('    formData.optionPoolPercent: ' + formData.optionPoolPercent + '%');\r\n\r\n    if (preMoney <= 0 || roundSize <= 0 || existing <= 0) {\r\n      console.log(' Missing values');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const isSeriesRound = selected?.includes(\"Series\");\r\n      const postMoney = preMoney + roundSize;\r\n      const investorOwnershipPercent = (roundSize / postMoney) * 100;\r\n\r\n      let sharePrice = 0;\r\n      let newSharesIssued = 0;\r\n      let totalPostShares = 0;\r\n      let newOptionShares = 0;\r\n      let doc4Action = 'NO_ACTION';\r\n\r\n      //  CRITICAL: Use previousRoundOptionPool for existing pool\r\n      const existingOptionPoolPercent = previousRoundOptionPool;\r\n\r\n      if (isSeriesRound && postMoneyPool > 0) {\r\n        console.log('\\n SERIES ROUND CALCULATION');\r\n        console.log('Existing pool: ' + existingOptionPoolPercent + '%');\r\n        console.log('Target pool: ' + postMoneyPool + '%');\r\n\r\n        const existingOptionShares = Math.round(existing * (existingOptionPoolPercent / 100));\r\n        console.log('Existing option shares: ' + existingOptionShares.toLocaleString());\r\n\r\n        const foundersSeedShares = existing - existingOptionShares;\r\n        console.log('Founders+Seed shares: ' + foundersSeedShares.toLocaleString());\r\n\r\n        if (existingOptionPoolPercent >= postMoneyPool) {\r\n          // NO TOP-UP\r\n          doc4Action = 'NO_ACTION';\r\n          console.log(' NO TOP-UP NEEDED');\r\n\r\n          sharePrice = preMoney / existing;\r\n          newSharesIssued = roundSize / sharePrice;\r\n          totalPostShares = existing + newSharesIssued;\r\n          newOptionShares = 0;\r\n\r\n        } else {\r\n          // TOP-UP NEEDED\r\n          doc4Action = 'TOP_UP';\r\n          console.log(' TOP-UP NEEDED');\r\n\r\n          const foundersSeedPercent = 100 - investorOwnershipPercent - postMoneyPool;\r\n          console.log('Founders+Seed will own: ' + foundersSeedPercent.toFixed(2) + '%');\r\n\r\n          totalPostShares = Math.round(foundersSeedShares / (foundersSeedPercent / 100));\r\n          console.log('Total post shares: ' + totalPostShares.toLocaleString());\r\n\r\n          const totalNewShares = totalPostShares - existing;\r\n          console.log('Total NEW shares: ' + totalNewShares.toLocaleString());\r\n\r\n          const requiredOptionShares = Math.round(totalPostShares * (postMoneyPool / 100));\r\n          console.log('Required option pool: ' + requiredOptionShares.toLocaleString());\r\n\r\n          newOptionShares = Math.max(0, requiredOptionShares - existingOptionShares);\r\n          console.log('New option shares: ' + newOptionShares.toLocaleString());\r\n\r\n          newSharesIssued = totalNewShares - newOptionShares;\r\n          console.log('Investor shares: ' + Math.round(newSharesIssued).toLocaleString());\r\n\r\n          sharePrice = preMoney / (existing + newOptionShares);\r\n          console.log('Share price: $' + sharePrice.toFixed(4));\r\n\r\n          // Verification\r\n          console.log('\\n VERIFICATION:');\r\n          console.log('Founders+Seed: ' + foundersSeedShares.toLocaleString() + ' (' + ((foundersSeedShares / totalPostShares) * 100).toFixed(2) + '%)');\r\n          console.log('Option Pool: ' + requiredOptionShares.toLocaleString() + ' (' + ((requiredOptionShares / totalPostShares) * 100).toFixed(2) + '%)');\r\n          console.log('Investors: ' + Math.round(newSharesIssued).toLocaleString() + ' (' + ((newSharesIssued / totalPostShares) * 100).toFixed(2) + '%)');\r\n          console.log('TOTAL: ' + totalPostShares.toLocaleString() + ' (100%)');\r\n        }\r\n\r\n      } else {\r\n        // SEED ROUND\r\n        const preMoneyPool = parseFloat(formData.optionPoolPercent || 0);\r\n\r\n        if (preMoneyPool > 0) {\r\n          const poolFactor = 1 - (preMoneyPool / 100);\r\n          const preRoundShares = existing / poolFactor;\r\n          const employeeOptionShares = preRoundShares - existing;\r\n\r\n          const totalPreInvestmentShares = existing + employeeOptionShares;\r\n          totalPostShares = totalPreInvestmentShares / (1 - (investorOwnershipPercent / 100));\r\n          newSharesIssued = totalPostShares - totalPreInvestmentShares;\r\n          sharePrice = roundSize / newSharesIssued;\r\n\r\n          doc4Action = 'CREATED';\r\n          newOptionShares = Math.round(employeeOptionShares);\r\n        } else {\r\n          sharePrice = preMoney / existing;\r\n          newSharesIssued = roundSize / sharePrice;\r\n          totalPostShares = existing + newSharesIssued;\r\n          newOptionShares = 0;\r\n        }\r\n      }\r\n\r\n      const newPostMoney = postMoney.toFixed(2);\r\n      const newInvestorOwnership = investorOwnershipPercent.toFixed(2);\r\n      const newIssuedShares = Math.round(newSharesIssued).toString();\r\n      const newSharePrice = sharePrice.toFixed(4);\r\n\r\n      console.log('\\n FINAL RESULTS:');\r\n      console.log('Share Price: $' + newSharePrice);\r\n      console.log('Investor Shares: ' + newIssuedShares);\r\n      console.log('New Option Shares: ' + Math.round(newOptionShares).toLocaleString());\r\n      console.log('Total Post Shares: ' + Math.round(totalPostShares).toLocaleString());\r\n      console.log('Existing Pool %: ' + existingOptionPoolPercent);\r\n      console.log('Doc 4 Action: ' + doc4Action);\r\n      console.log('===== CALCULATION END =====\\n');\r\n\r\n      setCalculatedValues({\r\n        sharePrice: newSharePrice,\r\n        newSharesIssued: parseInt(newIssuedShares) || 0,\r\n        totalPostShares: Math.round(totalPostShares),\r\n        newOptionShares: Math.round(newOptionShares),\r\n        existingOptionPoolPercent: existingOptionPoolPercent,\r\n        postMoneyValuation: newPostMoney,\r\n        investorOwnershipPercent: newInvestorOwnership,\r\n        doc4Action: doc4Action\r\n      });\r\n\r\n      if (formData.post_money !== newPostMoney ||\r\n        formData.investorPostMoney !== newInvestorOwnership ||\r\n        formData.issuedshares !== newIssuedShares) {\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          post_money: newPostMoney,\r\n          investorPostMoney: newInvestorOwnership,\r\n          issuedshares: newIssuedShares,\r\n          sharePrice: newSharePrice,\r\n          isCalculationSource: true,\r\n        }));\r\n\r\n        setTimeout(() => {\r\n          setFormData(prev => ({ ...prev, isCalculationSource: false }));\r\n        }, 10);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error(\" Calculation error:\", error);\r\n    }\r\n  }, [\r\n    formData.pre_money,\r\n    formData.roundsize,\r\n    formData.optionPoolPercent,\r\n    formData.optionPoolPercent_post,\r\n    existingSharesUse,\r\n    selected,\r\n    previousRoundOptionPool //  This dependency is critical\r\n  ]);\r\n\r\n  //Automatic Fill\r\n  // Frontend: Recordround.jsx mein yeh function add karein\r\n  const autoFillFromPreviousRound = async () => {\r\n    if (isFirstRound || !selected || selected === \"Advisor Shares\") {\r\n      return;\r\n    }\r\n\r\n    console.log('\\n ===== AUTO-FILL START =====');\r\n    console.log('Selected round:', selected);\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        apiUrlRound + \"getPreviousRoundForAutoFill\",\r\n        {\r\n          company_id: userLogin.companies[0].id,\r\n          current_round_id: id || 0\r\n        }\r\n      );\r\n\r\n      console.log(\" Auto-fill response:\", res.data);\r\n\r\n      if (res.data.success && res.data.data) {\r\n        const previousData = res.data.data;\r\n\r\n        // Auto-fill existing shares\r\n        if (previousData.existingShares > 0) {\r\n          setexistingSharesUse(previousData.existingShares.toString());\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            existingShares: previousData.existingShares.toString()\r\n          }));\r\n          console.log(` Existing shares: ${previousData.existingShares.toLocaleString()}`);\r\n        }\r\n\r\n        //  CRITICAL: Auto-fill option pool and sync ALL states\r\n        if (previousData.existingOptionPoolPercent > 0) {\r\n          const poolPercent = parseFloat(previousData.existingOptionPoolPercent);\r\n\r\n          console.log(` Option pool from previous round: ${poolPercent}%`);\r\n\r\n          // Update all three states that track option pool\r\n          setFormData(prev => ({\r\n            ...prev,\r\n            optionPoolPercent: poolPercent.toFixed(2)\r\n          }));\r\n\r\n          setPreviousRoundOptionPool(poolPercent);\r\n\r\n          setCalculatedValues(prev => ({\r\n            ...prev,\r\n            existingOptionPoolPercent: poolPercent\r\n          }));\r\n\r\n          console.log(` Synced all option pool states to: ${poolPercent}%`);\r\n        }\r\n\r\n        console.log('===== AUTO-FILL COMPLETE =====\\n');\r\n      }\r\n\r\n    } catch (err) {\r\n      console.error(\" Auto-fill error:\", err);\r\n    }\r\n  };\r\n  // Component ke shuru mein yeh useEffect add karein\r\n  useEffect(() => {\r\n    // Jab bhi round type change ho, auto-fill try karein\r\n    console.log(selected)\r\n    if (selected && !isFirstRound) {\r\n      autoFillFromPreviousRound();\r\n    }\r\n  }, [selected]);\r\n\r\n\r\n  // getexistingShares function ke baad yeh function add karein (around line 150)\r\n  const fetchPreviousRoundOptionPool = async () => {\r\n    if (!selected || selected.includes(\"Seed\") || selected === \"Pre-Seed\") {\r\n      setPreviousRoundOptionPool(0);\r\n      return;\r\n    }\r\n\r\n    //  Check if already autofilled\r\n    const currentPool = parseFloat(formData.optionPoolPercent || 0);\r\n    if (currentPool > 0) {\r\n      console.log(` Option pool already set: ${currentPool}%`);\r\n      if (previousRoundOptionPool !== currentPool) {\r\n        setPreviousRoundOptionPool(currentPool);\r\n      }\r\n      return;\r\n    }\r\n\r\n    console.log(' Fetching previous pool (autofill missed it)...');\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        apiUrlRound + \"getPreviousRoundOptionPool\",\r\n        { company_id: userLogin.companies[0].id }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        const poolPercent = parseFloat(res.data.existingOptionPoolPercent || 0);\r\n\r\n        setPreviousRoundOptionPool(poolPercent);\r\n\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          optionPoolPercent: poolPercent.toFixed(2)\r\n        }));\r\n\r\n        console.log(` Fetched and set pool: ${poolPercent}%`);\r\n      }\r\n    } catch (err) {\r\n      console.error(\" Fetch error:\", err);\r\n      setPreviousRoundOptionPool(0);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    console.log(' Round type changed:', selected);\r\n\r\n    if (!isFirstRound && selected) {\r\n      // Reset states first\r\n      setPreviousRoundOptionPool(0);\r\n\r\n      // Then autofill\r\n      autoFillFromPreviousRound();\r\n    }\r\n  }, [selected, isFirstRound]);\r\n\r\n  // Sync states if formData.optionPoolPercent changes manually\r\n  useEffect(() => {\r\n    if (selected?.includes(\"Series\") && formData.optionPoolPercent) {\r\n      const poolValue = parseFloat(formData.optionPoolPercent);\r\n\r\n      if (!isNaN(poolValue) && poolValue > 0 && poolValue !== previousRoundOptionPool) {\r\n        console.log(` Manual change detected: syncing to ${poolValue}%`);\r\n        setPreviousRoundOptionPool(poolValue);\r\n      }\r\n    }\r\n  }, [formData.optionPoolPercent]);\r\n  // Doc 4 Rule\r\n  //Round 1\r\n  const OptionPoolFields = () => {\r\n    const isSeriesRound = selected?.includes(\"Series\");\r\n    const isSeedRound = selected?.includes(\"Seed\") || selected === \"Pre-Seed\";\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        {/* PRE-MONEY OPTION POOL */}\r\n        <div className=\"col-md-6 mb-4\">\r\n          <label className=\"form-label fw-semibold\">\r\n            Pre-Money Option Pool (%)\r\n            {isSeriesRound && (\r\n              <span className=\"badge bg-info ms-2\" style={{ fontSize: '0.7em' }}>\r\n                Auto-filled\r\n              </span>\r\n            )}\r\n            <i\r\n              className=\"bi bi-info-circle text-muted ms-1\"\r\n              title={\r\n                isSeriesRound\r\n                  ? \"Carried over from previous round - This is the existing option pool percentage before Series A investment\"\r\n                  : \"Percentage of equity reserved for employees before this round\"\r\n              }\r\n            ></i>\r\n          </label>\r\n\r\n          {isSeriesRound ? (\r\n            // READ-ONLY for Series rounds\r\n            <>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.optionPoolPercent ? `${formData.optionPoolPercent}%` : \"0%\"}\r\n                readOnly\r\n                className=\"form-control bg-light\"\r\n                style={{\r\n                  backgroundColor: '#f8f9fa',\r\n                  cursor: 'not-allowed',\r\n                  fontWeight: '500'\r\n                }}\r\n              />\r\n              <small className=\"text-muted d-block mt-1\">\r\n                {formData.optionPoolPercent > 0\r\n                  ? ` Carried over from previous round (${formData.optionPoolPercent}%)`\r\n                  : \"No option pool from previous round\"\r\n                }\r\n              </small>\r\n            </>\r\n          ) : (\r\n            // EDITABLE for Seed rounds\r\n            <>\r\n              <NumericFormat\r\n                suffix=\"%\"\r\n                decimalScale={2}\r\n                fixedDecimalScale\r\n                allowNegative={false}\r\n                placeholder=\"Enter option pool % (e.g. 10)\"\r\n                value={formData.optionPoolPercent}\r\n                onValueChange={(values) => {\r\n                  handleInputChange(\"optionPoolPercent\", values.value);\r\n                }}\r\n                className=\"textarea_input\"\r\n              />\r\n              <small className=\"text-muted d-block mt-1\">\r\n                Option pool percentage before investment (Pre-Money)\r\n              </small>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* POST-MONEY OPTION POOL (Only for Series rounds) */}\r\n        {isSeriesRound && (\r\n          <div className=\"col-md-6 mb-4\">\r\n            <label className=\"form-label fw-semibold\">\r\n              Post-Money Option Pool Target (%)\r\n              <span className=\"text-danger ms-1\">*</span>\r\n              <i\r\n                className=\"bi bi-info-circle text-muted ms-1\"\r\n                title=\"Target percentage of equity reserved for employees after this investment round. If higher than existing pool, additional shares will be created.\"\r\n              ></i>\r\n            </label>\r\n\r\n            <NumericFormat\r\n              suffix=\"%\"\r\n              decimalScale={2}\r\n              fixedDecimalScale\r\n              allowNegative={false}\r\n              placeholder=\"Enter target pool % (e.g. 20)\"\r\n              value={formData.optionPoolPercent_post}\r\n              onValueChange={(values) => {\r\n                handleInputChange(\"optionPoolPercent_post\", values.value);\r\n              }}\r\n              className=\"textarea_input\"\r\n            />\r\n\r\n            <small className=\"text-muted d-block mt-1\">\r\n              Target option pool percentage after investment (Post-Money)\r\n            </small>\r\n\r\n            {/* Top-up Status Alert */}\r\n            {formData.optionPoolPercent && formData.optionPoolPercent_post && (\r\n              <div className=\"mt-2\">\r\n                {parseFloat(formData.optionPoolPercent_post) > parseFloat(formData.optionPoolPercent) ? (\r\n                  <div className=\"alert alert-warning py-2 mb-0\" style={{ fontSize: '0.85em' }}>\r\n                    <i className=\"bi bi-exclamation-triangle-fill me-2\"></i>\r\n                    <strong>Top-up needed:</strong> Expanding pool from {formData.optionPoolPercent}% to {formData.optionPoolPercent_post}%\r\n                    <br />\r\n                    <small className=\"text-muted\">\r\n                      Additional option shares will be created\r\n                      {calculatedValues.newOptionShares > 0 && (\r\n                        <> (+{calculatedValues.newOptionShares.toLocaleString()} shares)</>\r\n                      )}\r\n                    </small>\r\n                  </div>\r\n                ) : parseFloat(formData.optionPoolPercent_post) === parseFloat(formData.optionPoolPercent) ? (\r\n                  <div className=\"alert alert-info py-2 mb-0\" style={{ fontSize: '0.85em' }}>\r\n                    <i className=\"bi bi-info-circle-fill me-2\"></i>\r\n                    <strong>No change:</strong> Maintaining {formData.optionPoolPercent}% pool\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"alert alert-success py-2 mb-0\" style={{ fontSize: '0.85em' }}>\r\n                    <i className=\"bi bi-check-circle-fill me-2\"></i>\r\n                    <strong>No top-up needed:</strong> Existing {formData.optionPoolPercent}% pool is sufficient\r\n                    <br />\r\n                    <small className=\"text-muted\">\r\n                      No additional option shares will be created\r\n                    </small>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav\r\n            isCollapsed={isCollapsed}\r\n            setIsCollapsed={setIsCollapsed}\r\n          />\r\n          <div\r\n            className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}\r\n          >\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n              <div className=\"container-fluid\">\r\n                <div className=\"d-flex flex-column gap-4\">\r\n                  {errorMsg && (\r\n                    <Alertpopup\r\n                      message={errorMsg}\r\n                      onClose={() => seterrorMsg(\"\")}\r\n                    />\r\n                  )}\r\n                  {messageAll && (\r\n                    <div\r\n                      className={`flex items-center justify-between gap-3 shadow-lg ${errr ? \"error_pop\" : \"success_pop\"\r\n                        }`}\r\n                    >\r\n                      <div className=\"d-flex align-items-center gap-2\">\r\n                        <span className=\"d-block\">{messageAll}</span>\r\n                      </div>\r\n\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"close_btnCros\"\r\n                        onClick={() => setmessageAll(\"\")}\r\n                      >\r\n                        \r\n                      </button>\r\n                    </div>\r\n                  )}\r\n\r\n                  {successMsg && (\r\n                    // <Alertpopupsuccess\r\n                    //   message={successMsg}\r\n                    //   onClose={() => setsuccessMsg(\"\")}\r\n                    // />\r\n                    <DangerAlertPopup\r\n                      message={successMsg}\r\n                      onConfirm={handleConfirm}\r\n                      onCancel={() => {\r\n                        setsuccessMsg(\"\");\r\n                      }}\r\n                    />\r\n                  )}\r\n                  {isLoading && (\r\n                    <div\r\n                      style={{\r\n                        position: 'fixed',\r\n                        top: 0,\r\n                        left: 0,\r\n                        width: '100%',\r\n                        height: '100%',\r\n                        backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                        zIndex: 9999,\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center'\r\n                      }}\r\n                    >\r\n                      <div\r\n                        style={{\r\n                          display: 'flex',\r\n                          justifyContent: 'center',\r\n                          alignItems: 'center',\r\n                          minHeight: '100vh'\r\n                        }}\r\n                      >\r\n                        <div\r\n                          class=\"spinner-border spinner-border_loader text-success\"\r\n                          style={{ width: '3rem', height: '3rem' }}\r\n                          role=\"status\"\r\n                        >\r\n                          <span className=\"visually-hidden\">Loading...</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n                    <div className=\"pb-3 bar_design\">\r\n                      <h4 className=\"h5 mb-0\">\r\n                        {id ? \"Edit Record Round\" : \"Create New Record Round\"}\r\n                      </h4>\r\n                    </div>\r\n                    {/* <div className=\"d-flex gap-2\">\r\n                      <button className=\"close_btn w-fit\">Save Draft</button>\r\n                      <button\r\n                        className=\"global_btn w-fit\"\r\n                        onClick={handleSubmit}\r\n                      >\r\n                        Create Round\r\n                      </button>\r\n                    </div> */}\r\n                  </div>\r\n\r\n                  <div className=\"mb-4 dashboard_card\">\r\n                    <div class=\"progress-container pt-3\">\r\n                      <div class=\"progress-info\">\r\n                        <div class=\"progress-label\">Progress</div>\r\n                        <div class=\"progress-value\">\r\n                          {progressWidth}% Complete\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"progress-bar\">\r\n                        <div\r\n                          class=\"progress-fill\"\r\n                          style={{ width: `${progressWidth}%` }}\r\n                        ></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Section Navigation */}\r\n                  <div className=\"mb-4 \">\r\n                    <div className=\"d-flex flex-wrap gap-2\">\r\n                      {sections.map((section, index) => (\r\n                        <button\r\n                          key={section.id}\r\n                          className={`btn ${activeSection === section.id\r\n                            ? \"select_btn_active\"\r\n                            : \"select_btn\"\r\n                            } rounded-pill`}\r\n\r\n                        >\r\n                          {section.title}\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Form Sections */}\r\n                  <form method=\"post\" action=\"javascript:void(0)\">\r\n                    <div className=\"from_quation\">\r\n                      {/* Share Class Section */}\r\n                      {activeSection === \"shareclass\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">{isFirstRound ? \"Round 0 - Company Incorporation\" : \"Share Class\"}</h3>\r\n                          {formData.dateroundclosed && shouldShowAlert(formData.dateroundclosed) && (\r\n                            <div className=\"alert-message text-danger p-3 mb-4 border rounded bg-white\">\r\n                              <strong>Note:</strong> Start by entering your company's original ownership (who owned which shares at registration). Then add future investment rounds. This keeps your cap table accurate and makes future funding easier.\r\n                            </div>\r\n                          )}\r\n                          {isFirstRound && (\r\n                            <div className=\"alert alert-info mb-4\">\r\n                              <strong>Welcome!</strong> Let's start with your company's incorporation details. This will be your Round 0 - the foundation of your cap table.\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"mb-4\">\r\n                            <label className=\"form-label fw-semibold\">\r\n                              Name of Round <span className=\"text-danger fs-5\">*</span>\r\n                              {errors.nameOfRound && (\r\n                                <div className=\"text-danger small mt-1 is-invalid\">\r\n                                  <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                  {errors.nameOfRound}\r\n                                </div>\r\n                              )}\r\n                            </label>\r\n                            <input\r\n                              type=\"text\"\r\n                              placeholder=\"Enter round name (e.g., Series A, Seed Round)\"\r\n                              value={formData.nameOfRound}\r\n                              onChange={(e) => handleInputChange(\"nameOfRound\", e.target.value)}\r\n                              className={`form-control ${errors.nameOfRound ? \"is-invalid\" : \"\"}`}\r\n                              maxLength={30}\r\n\r\n                            />\r\n                            <div className=\"form-text\">\r\n                              {formData.nameOfRound.length}/30 characters\r\n                            </div>\r\n                          </div>\r\n\r\n                          {isFirstRound && (\r\n                            <div className=\"round-zero-fields\">\r\n                              {/* Founder Allocation Section */}\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Founder Share Allocation <span className=\"text-danger fs-5\">*</span>\r\n                                  {errors.founders && (\r\n                                    <div className=\"text-danger small mt-1\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.founders}\r\n                                    </div>\r\n                                  )}\r\n                                </label>\r\n\r\n                                {foundersData.map((founder, index) => (\r\n                                  <div key={index} className=\"founder-allocation mb-4 p-3 border rounded\">\r\n                                    <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n                                      <h6 className=\"mb-0\">Founder {index + 1}</h6>\r\n                                      {founderCount > 1 && (\r\n                                        <button\r\n                                          type=\"button\"\r\n                                          className=\"btn btn-sm btn-outline-danger\"\r\n                                          onClick={() => removeFounder(index)}\r\n                                        >\r\n                                          Remove\r\n                                        </button>\r\n                                      )}\r\n                                    </div>\r\n\r\n                                    <div className=\"row\">\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">\r\n                                          First Name <span className=\"text-danger\">*</span>\r\n                                        </label>\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          className={`form-control ${errors[`founder_${index}_firstName`] ? 'is-invalid' : ''}`}\r\n                                          placeholder=\"First Name\"\r\n                                          value={founder.firstName}\r\n                                          onChange={(e) => {\r\n                                            updateFounderData(index, 'firstName', e.target.value);\r\n                                            // Clear error when user starts typing\r\n                                            if (errors[`founder_${index}_firstName`]) {\r\n                                              setErrors(prev => ({\r\n                                                ...prev,\r\n                                                [`founder_${index}_firstName`]: \"\"\r\n                                              }));\r\n                                            }\r\n                                          }}\r\n                                        />\r\n                                        {errors[`founder_${index}_firstName`] && (\r\n                                          <div className=\"text-danger small mt-1\">\r\n                                            <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                            {errors[`founder_${index}_firstName`]}\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">\r\n                                          Last Name <span className=\"text-danger\">*</span>\r\n                                        </label>\r\n                                        <input\r\n                                          type=\"text\"\r\n                                          className={`form-control ${errors[`founder_${index}_lastName`] ? 'is-invalid' : ''}`}\r\n                                          placeholder=\"Last Name\"\r\n                                          value={founder.lastName}\r\n                                          onChange={(e) => {\r\n                                            updateFounderData(index, 'lastName', e.target.value);\r\n                                            // Clear error when user starts typing\r\n                                            if (errors[`founder_${index}_lastName`]) {\r\n                                              setErrors(prev => ({\r\n                                                ...prev,\r\n                                                [`founder_${index}_lastName`]: \"\"\r\n                                              }));\r\n                                            }\r\n                                          }}\r\n                                        />\r\n                                        {errors[`founder_${index}_lastName`] && (\r\n                                          <div className=\"text-danger small mt-1\">\r\n                                            <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                            {errors[`founder_${index}_lastName`]}\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">\r\n                                          Email <span className=\"text-danger\">*</span>\r\n                                        </label>\r\n                                        <input\r\n                                          type=\"email\"\r\n                                          className={`form-control ${errors[`founder_${index}_email`] ? 'is-invalid' : ''}`}\r\n                                          placeholder=\"Email\"\r\n                                          value={founder.email}\r\n                                          onChange={(e) => {\r\n                                            updateFounderData(index, 'email', e.target.value);\r\n                                            // Clear error when user starts typing\r\n                                            if (errors[`founder_${index}_email`]) {\r\n                                              setErrors(prev => ({\r\n                                                ...prev,\r\n                                                [`founder_${index}_email`]: \"\"\r\n                                              }));\r\n                                            }\r\n                                          }}\r\n                                        />\r\n                                        {errors[`founder_${index}_email`] && (\r\n                                          <div className=\"text-danger small mt-1\">\r\n                                            <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                            {errors[`founder_${index}_email`]}\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">\r\n                                          Phone\r\n                                        </label>\r\n                                        <input\r\n                                          type=\"tel\"\r\n                                          className=\"form-control\"\r\n                                          placeholder=\"Phone\"\r\n                                          value={founder.phone}\r\n                                          onChange={(e) => updateFounderData(index, 'phone', e.target.value)}\r\n                                        />\r\n                                      </div>\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">\r\n                                          Shares Allocated <span className=\"text-danger\">*</span>\r\n                                        </label>\r\n                                        <NumericFormat\r\n                                          className={`form-control ${errors[`founder_${index}_shares`] ? 'is-invalid' : ''}`}\r\n                                          placeholder=\"e.g., 500\"\r\n                                          value={founder.shares || ''}\r\n                                          onValueChange={(values) => {\r\n                                            updateFounderData(index, 'shares', values.value);\r\n                                            if (errors[`founder_${index}_shares`]) {\r\n                                              setErrors(prev => ({\r\n                                                ...prev,\r\n                                                [`founder_${index}_shares`]: \"\"\r\n                                              }));\r\n                                            }\r\n                                          }}\r\n                                          thousandSeparator={true}\r\n\r\n                                          allowNegative={false}\r\n                                          decimalScale={2}\r\n                                          fixedDecimalScale={true}\r\n                                        />\r\n                                        {errors[`founder_${index}_shares`] && (\r\n                                          <div className=\"text-danger small mt-1\">\r\n                                            <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                            {errors[`founder_${index}_shares`]}\r\n                                          </div>\r\n                                        )}\r\n                                      </div>\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">Share Type</label>\r\n                                        <select\r\n                                          className=\"form-control\"\r\n                                          value={founder.shareType}\r\n                                          onChange={(e) => updateFounderData(index, 'shareType', e.target.value)}\r\n                                        >\r\n                                          <option value=\"common\">Common Shares</option>\r\n                                          <option value=\"preferred\">Preferred Shares</option>\r\n                                          <option value=\"other\">Other</option>\r\n                                        </select>\r\n                                      </div>\r\n\r\n                                      {/* Custom Share Type Input - NEW */}\r\n                                      {founder.shareType === 'other' && (\r\n                                        <div className=\"col-md-6 mb-3\">\r\n                                          <label className=\"form-label\">Specify Share Type</label>\r\n                                          <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter custom share type\"\r\n                                            value={founder.customShareType || ''}\r\n                                            onChange={(e) => updateFounderData(index, 'customShareType', e.target.value)}\r\n                                          />\r\n                                        </div>\r\n                                      )}\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">Share Class</label>\r\n                                        <select\r\n                                          className=\"form-control\"\r\n                                          value={founder.shareClass}\r\n                                          onChange={(e) => updateFounderData(index, 'shareClass', e.target.value)}\r\n                                        >\r\n                                          <option value=\"Class A\">Class A</option>\r\n                                          <option value=\"Class B\">Class B</option>\r\n                                          <option value=\"Class C\">Class C</option>\r\n\r\n                                        </select>\r\n                                      </div>\r\n\r\n                                      {/* Custom Share Class Input */}\r\n                                      {founder.shareClass === 'other' && (\r\n                                        <div className=\"col-md-3 mb-3\">\r\n                                          <label className=\"form-label\">Specify Share Class</label>\r\n                                          <input\r\n                                            type=\"text\"\r\n                                            className=\"form-control\"\r\n                                            placeholder=\"Enter custom share class\"\r\n                                            value={founder.customShareClass || ''}\r\n                                            onChange={(e) => updateFounderData(index, 'customShareClass', e.target.value)}\r\n                                          />\r\n                                        </div>\r\n                                      )}\r\n\r\n                                      <div className=\"col-md-3 mb-3\">\r\n                                        <label className=\"form-label\">Voting Rights</label>\r\n                                        <select\r\n                                          className=\"form-control\"\r\n                                          value={founder.voting}\r\n                                          onChange={(e) => updateFounderData(index, 'voting', e.target.value)}\r\n                                        >\r\n                                          <option value=\"voting\">Voting</option>\r\n                                          <option value=\"non-voting\">Non-Voting</option>\r\n                                        </select>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                ))}\r\n\r\n                                <button\r\n                                  type=\"button\"\r\n                                  className=\"btn btn-outline-primary btn-sm\"\r\n                                  onClick={addFounder}\r\n                                >\r\n                                  + Add Another Founder\r\n                                </button>\r\n                              </div>\r\n\r\n                              {/* Currency and Price Per Share */}\r\n                              <div className=\"row\">\r\n                                <div className=\"col-md-6 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Currency <span className=\"text-danger fs-5\">*</span>\r\n                                    {errors.currency && (\r\n                                      <div className=\"text-danger small mt-1\">\r\n                                        <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                        {errors.currency}\r\n                                      </div>\r\n                                    )}\r\n                                  </label>\r\n                                  <select\r\n                                    className={`form-control ${errors.currency ? 'is-invalid' : ''}`}\r\n                                    value={formData.currency}\r\n                                    onChange={(e) => {\r\n                                      handleInputChange(\"currency\", e.target.value);\r\n                                      if (errors.currency) {\r\n                                        setErrors(prev => ({ ...prev, currency: \"\" }));\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    <option value=\"\">-- Select Currency --</option>\r\n                                    {countrySymbolList.map((item) => (\r\n                                      <option\r\n                                        key={item.id}\r\n                                        value={`${item.currency_code} ${item.currency_symbol}`}\r\n                                      >\r\n                                        {item.currency_code} {item.currency_symbol}\r\n                                      </option>\r\n                                    ))}\r\n                                  </select>\r\n                                </div>\r\n\r\n                                <div className=\"col-md-6 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Price Per Share at Incorporation\r\n                                    {formData.currency && ` (${formData.currency.split(' ')[1]})`}\r\n                                    <span className=\"text-danger fs-5\">*</span>\r\n                                    {errors.pricePerShare && (\r\n                                      <div className=\"text-danger small mt-1\">\r\n                                        <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                        {errors.pricePerShare}\r\n                                      </div>\r\n                                    )}\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    step=\"0.001\"\r\n                                    className={`form-control ${errors.pricePerShare ? 'is-invalid' : ''}`}\r\n                                    placeholder={`e.g., 0.001 ${formData.currency ? formData.currency.split(' ')[1] : ''}`}\r\n                                    value={formData.pricePerShare || ''}\r\n                                    onChange={(e) => {\r\n                                      handleInputChange(\"pricePerShare\", e.target.value);\r\n                                      if (errors.pricePerShare) {\r\n                                        setErrors(prev => ({ ...prev, pricePerShare: \"\" }));\r\n                                      }\r\n                                    }}\r\n                                  />\r\n                                  <div className=\"form-text\">\r\n                                    This is the par value from your incorporation documents\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Round 0 Calculations Display */}\r\n                              <div className=\"calculation-results p-3 bg-light rounded mb-4\">\r\n                                <h6>Round 0 Calculations</h6>\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-md-4\">\r\n                                    <strong>Total Shares:</strong> {calculateTotalShares().toLocaleString()}\r\n                                  </div>\r\n                                  <div className=\"col-md-4\">\r\n                                    <strong>Total Value:</strong> {formData.currency ? formData.currency.split(' ')[1] : '$'}{calculateTotalValue()}\r\n                                  </div>\r\n                                  <div className=\"col-md-4\">\r\n                                    <strong>Founder Count:</strong> {founderCount}\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Ownership Breakdown */}\r\n                                {calculateTotalShares() > 0 && (\r\n                                  <div className=\"mt-3\">\r\n                                    <strong>Ownership Breakdown:</strong>\r\n                                    <ul className=\"mb-0 mt-2\">\r\n                                      {calculateOwnershipPercentages().map((item, index) => (\r\n                                        <li key={index}>\r\n                                          {item.founder}: {item.percentage}%\r\n                                        </li>\r\n                                      ))}\r\n                                    </ul>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Founder Details Table */}\r\n                              {calculateTotalShares() > 0 && (\r\n                                <div className=\"mt-3\">\r\n                                  <strong>Founder Details:</strong>\r\n                                  <div className=\"table-responsive mt-2\">\r\n                                    <table className=\"table table-sm table-bordered\">\r\n                                      <thead>\r\n                                        <tr>\r\n                                          <th>Founder</th>\r\n                                          <th>Number of Shares</th>\r\n                                          <th>Price Per Share</th>\r\n                                          <th>Ownership %</th>\r\n                                          <th>Share Type</th>\r\n                                          <th>Share Class</th>\r\n                                          <th>Voting Rights</th>\r\n                                          <th>Value</th>\r\n                                        </tr>\r\n                                      </thead>\r\n                                      <tbody>\r\n                                        {foundersData.map((founder, index) => {\r\n                                          const shares = parseInt(founder.shares) || 0;\r\n                                          const percentage = calculateTotalShares() > 0\r\n                                            ? ((shares / calculateTotalShares()) * 100).toFixed(1)\r\n                                            : '0.0';\r\n\r\n                                          // Display share type - show custom if available\r\n                                          const displayShareType = founder.shareType === 'other' && founder.customShareType\r\n                                            ? founder.customShareType\r\n                                            : (founder.shareType === 'common' ? 'Common' : 'Preferred');\r\n\r\n                                          // Display share class - show custom if available\r\n                                          const displayShareClass = founder.customShareClass\r\n                                            ? founder.customShareClass\r\n                                            : (founder.shareClass || 'Class A');\r\n\r\n                                          return (\r\n                                            <tr key={index}>\r\n                                              <td>{founder.firstName} {founder.lastName}</td>\r\n                                              <td>{shares.toLocaleString()}</td>\r\n                                              <td>\r\n                                                {formData.currency ? formData.currency.split(' ')[1] : '$'}\r\n                                                {formData.pricePerShare || '0.00'}\r\n                                              </td>\r\n                                              <td>{percentage}%</td>\r\n                                              <td>{displayShareType}</td>\r\n                                              <td>{displayShareClass}</td>\r\n                                              <td>{founder.voting === 'voting' ? 'Voting' : 'Non-Voting'}</td>\r\n                                              <td>{formData.currency ? formData.currency.split(' ')[1] : '$'}{calculateFounderValue(shares)}</td>\r\n                                            </tr>\r\n                                          );\r\n                                        })}\r\n                                        {/* Total Row */}\r\n                                        <tr className=\"table-secondary fw-bold\">\r\n                                          <td colSpan=\"2\">Total</td>\r\n                                          <td>{formData.currency ? formData.currency.split(' ')[1] : '$'}{formData.pricePerShare || '0.00'}</td>\r\n                                          <td>100%</td>\r\n                                          <td colSpan=\"3\"></td>\r\n                                          <td>{formData.currency ? formData.currency.split(' ')[1] : '$'}{calculateTotalValue()}</td>\r\n                                        </tr>\r\n                                      </tbody>\r\n                                    </table>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Share Class Options for Round 1+ */}\r\n                          {/* Share Class Options for Round 1+ */}\r\n                          {!isFirstRound && (\r\n                            <div className=\"mb-4\">\r\n                              <label className=\"form-label fw-semibold\">\r\n                                Funding Rounds <span className=\"text-danger fs-5\">*</span>\r\n                                {errors.shareClassType && (\r\n                                  <div className=\"text-danger small mt-1 is-invalid\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.shareClassType}\r\n                                  </div>\r\n                                )}\r\n                              </label>\r\n\r\n                              <select\r\n                                className={`form-control ${errors.shareClassType ? \"is-invalid\" : \"\"}`}\r\n                                value={selected}\r\n                                onChange={(e) => {\r\n                                  const value = e.target.value;\r\n                                  if (value && value !== \"default\") {\r\n                                    setSelected(value);\r\n                                    handleInputChange(\r\n                                      \"shareClassType\",\r\n                                      value === \"OTHER\" ? formData.shareclassother : value\r\n                                    );\r\n                                  }\r\n                                }}\r\n                              >\r\n                                <option value=\"default\" disabled>-- Select Funding Round --</option>\r\n\r\n                                {/* Seed Rounds */}\r\n                                <optgroup label=\"Seed Rounds\">\r\n                                  <option value=\"Pre-Seed\">Pre-Seed</option>\r\n                                  <option value=\"Seed\">Seed</option>\r\n                                  <option value=\"Post-Seed\">Post-Seed</option>\r\n                                </optgroup>\r\n\r\n                                {/* Series Rounds */}\r\n                                <optgroup label=\"Series Rounds\">\r\n                                  <option value=\"Series A\">Series A</option>\r\n                                  <option value=\"Series A Extension\">Series A Extension</option>\r\n                                  <option value=\"Series B\">Series B</option>\r\n                                  <option value=\"Series B Extension\">Series B Extension</option>\r\n                                  <option value=\"Series C\">Series C</option>\r\n                                  <option value=\"Series C Extension\">Series C Extension</option>\r\n                                  <option value=\"Series D\">Series D</option>\r\n                                  <option value=\"Series D Extension\">Series D Extension</option>\r\n                                </optgroup>\r\n\r\n                                {/* Other Rounds */}\r\n                                <optgroup label=\"Other Rounds\">\r\n                                  <option value=\"Bridge Round\">Bridge Round</option>\r\n                                  <option value=\"Advisor Shares\">Advisor Shares</option>\r\n                                  <option value=\"OTHER\">OTHER</option>\r\n                                </optgroup>\r\n                              </select>\r\n\r\n                              {errors.shareClassType && (\r\n                                <div className=\"text-danger small mt-1\">\r\n                                  <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                  {errors.shareClassType}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Conditional Field for OTHER option */}\r\n                          {!isFirstRound && selected === \"OTHER\" && (\r\n                            <div className=\"mb-4\">\r\n                              <label className=\"form-label fw-semibold\">\r\n                                Custom Share Class Name\r\n                              </label>\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder=\"Enter custom share class name\"\r\n                                value={formData.shareclassother}\r\n                                onChange={(e) => handleInputChange(\"shareclassother\", e.target.value)}\r\n                                className={`form-control ${errors.shareclassother ? \"is-invalid\" : \"\"}`}\r\n                                maxLength={30}\r\n                              />\r\n                              <div className=\"form-text\">\r\n                                {formData.shareclassother.length}/30 characters\r\n                              </div>\r\n                              {errors.shareclassother && (\r\n                                <div className=\"text-danger small\">\r\n                                  <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                  {errors.shareclassother}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* Conditional Field for OTHER option (only for Round 1+) */}\r\n\r\n\r\n                          {/* Next Button with Validation */}\r\n                          <div className=\"d-flex justify-content-end\">\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                const newErrors = {};\r\n\r\n                                // Common validation for both rounds\r\n                                if (!formData.nameOfRound.trim()) {\r\n                                  newErrors.nameOfRound = \"This field is required\";\r\n                                }\r\n\r\n                                if (isFirstRound) {\r\n                                  // ROUND 0 VALIDATION\r\n\r\n                                  // Validate price per share\r\n                                  if (!formData.pricePerShare || parseFloat(formData.pricePerShare) <= 0) {\r\n                                    newErrors.pricePerShare = \"Valid price per share is required\";\r\n                                  }\r\n\r\n                                  // Validate currency\r\n                                  if (!formData.currency || formData.currency.trim() === \"\") {\r\n                                    newErrors.currency = \"Currency selection is required\";\r\n                                  }\r\n\r\n                                  // Validate founder allocations\r\n                                  let hasFounderShares = false;\r\n                                  let totalShares = 0;\r\n                                  let hasValidShares = false;\r\n\r\n                                  foundersData.forEach((founder, index) => {\r\n                                    const shares = parseInt(founder.shares) || 0;\r\n\r\n                                    // Validate first name\r\n                                    if (!founder.firstName || founder.firstName.trim() === \"\") {\r\n                                      newErrors[`founder_${index}_firstName`] = \"First name is required\";\r\n                                    }\r\n\r\n                                    // Validate last name\r\n                                    if (!founder.lastName || founder.lastName.trim() === \"\") {\r\n                                      newErrors[`founder_${index}_lastName`] = \"Last name is required\";\r\n                                    }\r\n\r\n                                    // Validate email\r\n                                    if (!founder.email || founder.email.trim() === \"\") {\r\n                                      newErrors[`founder_${index}_email`] = \"Email is required\";\r\n                                    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(founder.email)) {\r\n                                      newErrors[`founder_${index}_email`] = \"Please enter a valid email address\";\r\n                                    }\r\n\r\n                                    // Validate shares\r\n                                    if (!founder.shares || founder.shares.trim() === \"\") {\r\n                                      newErrors[`founder_${index}_shares`] = \"Shares allocated is required\";\r\n                                    } else if (shares <= 0) {\r\n                                      newErrors[`founder_${index}_shares`] = \"Shares must be greater than 0\";\r\n                                    } else if (isNaN(shares)) {\r\n                                      newErrors[`founder_${index}_shares`] = \"Please enter a valid number\";\r\n                                    } else {\r\n                                      hasFounderShares = true;\r\n                                      totalShares += shares;\r\n                                      hasValidShares = true;\r\n                                    }\r\n\r\n                                    // Validate custom share type if \"other\" is selected\r\n                                    if (founder.shareType === 'other' && (!founder.customShareType || founder.customShareType.trim() === \"\")) {\r\n                                      newErrors[`founder_${index}_customShareType`] = \"Please specify the share type\";\r\n                                    }\r\n\r\n                                    // Validate custom share class if \"other\" is selected\r\n                                    if (founder.shareClass === 'other' && (!founder.customShareClass || founder.customShareClass.trim() === \"\")) {\r\n                                      newErrors[`founder_${index}_customShareClass`] = \"Please specify the share class\";\r\n                                    }\r\n                                  });\r\n\r\n                                  // Check if at least one founder has shares\r\n                                  if (!hasFounderShares) {\r\n                                    newErrors.founders = \"At least one founder must have shares allocated\";\r\n                                  }\r\n\r\n                                  // Check if total shares is zero\r\n                                  if (totalShares === 0 && hasValidShares) {\r\n                                    newErrors.founders = \"Total shares must be greater than 0\";\r\n                                  }\r\n\r\n                                  // Check if all founders have valid share allocations\r\n                                  const allFoundersHaveShares = foundersData.every(founder => {\r\n                                    const shares = parseInt(founder.shares) || 0;\r\n                                    return shares > 0;\r\n                                  });\r\n\r\n                                  if (!allFoundersHaveShares && hasFounderShares) {\r\n                                    newErrors.founders = \"All founders must have shares allocated\";\r\n                                  }\r\n\r\n                                } else {\r\n                                  // ROUND 1+ VALIDATION\r\n                                  if (selected === \"default\") {\r\n                                    newErrors.shareClassType = \"Please select a funding round\";\r\n                                  }\r\n\r\n                                  if (selected === \"OTHER\" && !formData.shareclassother.trim()) {\r\n                                    newErrors.shareclassother = \"This field is required\";\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\"\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n\r\n                                  // For Round 0, auto-set some values\r\n                                  if (isFirstRound) {\r\n                                    handleInputChange(\"issuedshares\", calculateTotalShares().toString());\r\n                                    handleInputChange(\"roundStatus\", \"CLOSED\");\r\n                                    handleInputChange(\"shareClassType\", \"Common Shares\");\r\n                                    setSelected(\"Founder Shares (Family and Friends)\");\r\n                                  }\r\n\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {/* Investment Instrument Section */}\r\n                      {activeSection === \"instrument\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\"shareclass\", \"description\"]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          {/* ROUND 0 - Skip this section entirely */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"text-center py-5\">\r\n                              <div className=\"alert alert-info\">\r\n                                <strong>Round 0 - No Investment Instrument</strong>\r\n                                <p className=\"mb-0 mt-2\">\r\n                                  This is the incorporation round with founder shares only.\r\n                                  No external investment instruments are involved.\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"d-flex justify-content-between pt-3 border-top gap-2\">\r\n                                <button\r\n                                  className=\"close_btn w-fit\"\r\n                                  onClick={() => navigateToSection('prev')}\r\n                                >\r\n                                  <i className=\"bi bi-arrow-left me-2\"></i>Back\r\n                                </button>\r\n                                <button\r\n                                  className=\"global_btn w-fit\"\r\n                                  onClick={() => navigateToSection('next')}\r\n                                >\r\n                                  Continue to Next Section\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Show instrument selection */\r\n                            <>\r\n                              <h3 className=\"h5 mb-4 text-gray-800\">Investment Instrument</h3>\r\n\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold d-flex align-items-center\">\r\n                                  Select Investment Instrument Type\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div className=\"tooltip-text tool-test-white text-white\" role=\"tooltip\">\r\n                                      <strong>Description:</strong> The type of equity issued.\r\n                                      Common classes include \"Common Stock\" for founders/employees\r\n                                      and \"Preferred\" shares for investors.\r\n                                    </div>\r\n                                  </span>\r\n                                  <span className=\"text-danger fs-5 ms-1\">*</span>\r\n                                  {errors.instrumentType && (\r\n                                    <span className=\"text-danger small ms-2\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.instrumentType}\r\n                                    </span>\r\n                                  )}\r\n                                </label>\r\n\r\n                                {/* Instrument Selection */}\r\n                                <div className=\"row mt-3\">\r\n                                  {instrumentOptions.map((opt) => (\r\n                                    <div key={opt.value} className=\"col-md-6 mb-3\">\r\n                                      <div\r\n                                        className={`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${formData.instrumentType === opt.value ? \"bg-light\" : \"border-gray-300\"\r\n                                          } ${errors.instrumentType ? \"border-danger\" : \"\"}`}\r\n                                        onClick={() => {\r\n                                          handleInputChange(\"instrumentType\", opt.value);\r\n\r\n                                          //  NEW: Agar Preferred Equity nahi hai, toh liquidation preferences clear karo\r\n                                          if (opt.value !== \"Preferred Equity\") {\r\n                                            handleInputChange(\"liquidation\", []);\r\n                                            handleInputChange(\"liquidationpreferences\", \"\");\r\n                                            handleInputChange(\"liquidationOther\", \"\");\r\n                                          }\r\n\r\n                                          if (opt.value !== \"OTHER\") handleInputChange(\"customInstrument\", \"\");\r\n                                          if (errors.instrumentType || errors.customInstrument) {\r\n                                            setErrors((prev) => ({\r\n                                              ...prev,\r\n                                              instrumentType: \"\",\r\n                                              customInstrument: \"\",\r\n                                            }));\r\n                                          }\r\n                                        }}\r\n                                      >\r\n                                        <div className=\"form-check\">\r\n                                          <input\r\n                                            type=\"radio\"\r\n                                            name=\"instrumentType\"\r\n                                            value={opt.value}\r\n                                            checked={formData.instrumentType === opt.value}\r\n                                            onChange={() => {\r\n                                              handleInputChange(\"instrumentType\", opt.value);\r\n\r\n                                              //  NEW: Agar Preferred Equity nahi hai, toh liquidation preferences clear karo\r\n                                              if (opt.value !== \"Preferred Equity\") {\r\n                                                handleInputChange(\"liquidation\", []);\r\n                                                handleInputChange(\"liquidationpreferences\", \"\");\r\n                                                handleInputChange(\"liquidationOther\", \"\");\r\n                                              }\r\n\r\n                                              if (opt.value !== \"OTHER\") handleInputChange(\"customInstrument\", \"\");\r\n                                              if (errors.instrumentType || errors.customInstrument) {\r\n                                                setErrors((prev) => ({\r\n                                                  ...prev,\r\n                                                  instrumentType: \"\",\r\n                                                  customInstrument: \"\",\r\n                                                }));\r\n                                              }\r\n                                            }}\r\n                                            className=\"form-check-input\"\r\n                                          />\r\n                                          <label className=\"form-check-label fw-medium\">\r\n                                            {opt.label}\r\n                                          </label>\r\n                                        </div>\r\n                                        <p className=\"text-muted small mb-0 mt-2\">\r\n                                          {opt.description}\r\n                                        </p>\r\n                                      </div>\r\n                                    </div>\r\n                                  ))}\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Instrument Specific Details */}\r\n                              {/* {formData.instrumentType === \"Common Stock\" && (\r\n                                <div className=\"mt-3 p-3 border rounded bg-light\">\r\n                                  <h5>Common Stock Details</h5>\r\n                                  <label className=\"form-label\">\r\n                                    Company Valuation <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control mb-3 ${errors.common_stock_valuation ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.common_stock_valuation || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"common_stock_valuation\", e.target.value)}\r\n                                    placeholder=\"Enter company valuation\"\r\n                                  />\r\n                                  {errors.common_stock_valuation && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.common_stock_valuation}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <div className=\"form-check mb-3\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      className=\"form-check-input\"\r\n                                      id=\"hasWarrants\"\r\n                                      checked={formData.hasWarrants || false}\r\n                                      onChange={(e) => handleInputChange(\"hasWarrants\", e.target.checked)}\r\n                                    />\r\n                                    <label className=\"form-check-label\" htmlFor=\"hasWarrants\">\r\n                                      Add Warrants (optional)\r\n                                    </label>\r\n                                  </div>\r\n\r\n                                  {formData.hasWarrants && (\r\n                                    <>\r\n                                      <label className=\"form-label\">Exercise Price (Strike Price)</label>\r\n                                      <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.exercisePrice || \"\"}\r\n                                        onChange={(e) => handleInputChange(\"exercisePrice\", e.target.value)}\r\n                                        placeholder=\"Enter exercise price\"\r\n                                      />\r\n\r\n                                      <label className=\"form-label\">Expiration Date</label>\r\n                                      <input\r\n                                        type=\"date\"\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.expirationDate || \"\"}\r\n                                        onChange={(e) => handleInputChange(\"expirationDate\", e.target.value)}\r\n                                      />\r\n\r\n                                      <label className=\"form-label\">Warrant Ratio</label>\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.warrantRatio || \"\"}\r\n                                        onChange={(e) => handleInputChange(\"warrantRatio\", e.target.value)}\r\n                                        placeholder=\"e.g., 1:1\"\r\n                                      />\r\n\r\n                                      <label className=\"form-label\">Type of Warrant</label>\r\n                                      <select\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.warrantType || \"CALL\"}\r\n                                        onChange={(e) => handleInputChange(\"warrantType\", e.target.value)}\r\n                                      >\r\n                                        <option value=\"CALL\">Call Warrant (buy shares)</option>\r\n                                        <option value=\"PUT\">Put Warrant (sell shares)</option>\r\n                                      </select>\r\n                                    </>\r\n                                  )}\r\n                                </div>\r\n                              )} */}\r\n\r\n                              {formData.instrumentType === \"Preferred Equity\" && (\r\n                                <div className=\"mt-3 p-3 border rounded bg-light\">\r\n                                  <h5>Preferred Equity Details</h5>\r\n\r\n                                  {/* Company Valuation */}\r\n                                  <label className=\"form-label\">\r\n                                    Company Valuation <span className=\"text-danger\">*</span>\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter company valuation\"\r\n                                    value={formData.preferred_valuation || \"\"}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"preferred_valuation\", values.value);\r\n\r\n                                      if (errors.preferred_valuation) {\r\n                                        setErrors((prev) => ({\r\n                                          ...prev,\r\n                                          preferred_valuation: \"\",\r\n                                        }));\r\n                                      }\r\n                                    }}\r\n                                    className={`form-control mb-3 ${errors.preferred_valuation ? \"is-invalid\" : \"\"}`}\r\n                                  />\r\n\r\n                                  {errors.preferred_valuation && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.preferred_valuation}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* Warrants Checkbox */}\r\n                                  <div className=\"form-check mb-3\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      className=\"form-check-input\"\r\n                                      id=\"hasWarrants_preferred\"\r\n                                      checked={formData.hasWarrants_preferred || false}\r\n                                      onChange={(e) => {\r\n                                        const checked = e.target.checked;\r\n                                        handleInputChange(\"hasWarrants_preferred\", checked);\r\n\r\n                                        // Reset warrant fields if unchecked\r\n                                        if (!checked) {\r\n                                          handleInputChange(\"warrant_coverage_percentage\", \"\");\r\n                                          handleInputChange(\"warrant_exercise_type\", \"next_round\");\r\n                                          handleInputChange(\"warrant_adjustment_percent\", \"\");\r\n                                          handleInputChange(\"warrant_adjustment_direction\", \"decrease\");\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                    <label className=\"form-check-label\" htmlFor=\"hasWarrants_preferred\">\r\n                                      Add Warrants (optional)\r\n                                    </label>\r\n                                  </div>\r\n\r\n                                  {/* WARRANT DETAILS SECTION */}\r\n                                  {formData.hasWarrants_preferred && (\r\n                                    <div className=\"border-top pt-3 mt-3\">\r\n                                      <h6>Warrant Details</h6>\r\n\r\n                                      {/*  WARRANT COVERAGE PERCENTAGE (Required by Client) */}\r\n                                      <div className=\"row mb-3\">\r\n                                        <div className=\"col-md-6\">\r\n                                          <label className=\"form-label\">\r\n                                            Warrant Coverage Percentage (%) <span className=\"text-danger\">*</span>\r\n                                          </label>\r\n                                          <div className=\"input-group\">\r\n                                            <input\r\n                                              type=\"number\"\r\n                                              className=\"form-control\"\r\n                                              value={formData.warrant_coverage_percentage || \"\"}\r\n                                              onChange={(e) => handleInputChange(\"warrant_coverage_percentage\", e.target.value)}\r\n                                              placeholder=\"e.g., 20\"\r\n                                              min=\"0\"\r\n                                              max=\"100\"\r\n                                              step=\"0.1\"\r\n                                            />\r\n                                            <span className=\"input-group-text\">%</span>\r\n                                          </div>\r\n                                          <small className=\"text-muted\">\r\n                                            Percentage of investment amount that can be converted to warrants\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n\r\n                                      {/*  EXERCISE PRICE TYPE (Client Requirement - Next Round Price  %) */}\r\n                                      <div className=\"row mb-3\">\r\n                                        <div className=\"col-md-12\">\r\n                                          <label className=\"form-label\">Exercise Price Calculation</label>\r\n                                          <div className=\"border rounded p-3 bg-white\">\r\n\r\n                                            <div className=\"mb-3\">\r\n                                              <div className=\"form-text\">\r\n                                                <i className=\"bi bi-info-circle me-1\"></i>\r\n                                                <strong>Warrants will exercise at:</strong> Next Priced Round Share Price  Adjustment %\r\n                                              </div>\r\n                                            </div>\r\n\r\n                                            {/* Adjustment Input */}\r\n                                            <div className=\"row\">\r\n                                              <div className=\"col-md-6\">\r\n                                                <label className=\"form-label\">Adjustment Percentage</label>\r\n                                                <div className=\"input-group\">\r\n                                                  <select\r\n                                                    className=\"form-select\"\r\n                                                    style={{ width: \"120px\" }}\r\n                                                    value={formData.warrant_adjustment_direction || \"decrease\"}\r\n                                                    onChange={(e) => handleInputChange(\"warrant_adjustment_direction\", e.target.value)}\r\n                                                  >\r\n                                                    <option value=\"decrease\">Decrease by</option>\r\n                                                    <option value=\"increase\">Increase by</option>\r\n                                                  </select>\r\n                                                  <input\r\n                                                    type=\"number\"\r\n                                                    className=\"form-control\"\r\n                                                    value={formData.warrant_adjustment_percent || \"\"}\r\n                                                    onChange={(e) => handleInputChange(\"warrant_adjustment_percent\", e.target.value)}\r\n                                                    placeholder=\"e.g., 20\"\r\n                                                    min=\"0\"\r\n                                                    max=\"100\"\r\n                                                    step=\"0.1\"\r\n                                                  />\r\n                                                  <span className=\"input-group-text\">%</span>\r\n                                                </div>\r\n                                              </div>\r\n                                              <div className=\"col-md-6\">\r\n                                                <label className=\"form-label\">Example Calculation</label>\r\n                                                <div className=\"form-control bg-light\">\r\n                                                  {formData.warrant_adjustment_percent ? (\r\n                                                    <small>\r\n                                                      If next round price = $10 and adjustment = {formData.warrant_adjustment_percent}% {formData.warrant_adjustment_direction === \"decrease\" ? \"decrease\" : \"increase\"}<br />\r\n                                                       Exercise price = ${formData.warrant_adjustment_direction === \"decrease\" ? (10 * (1 - formData.warrant_adjustment_percent / 100)).toFixed(2) : (10 * (1 + formData.warrant_adjustment_percent / 100)).toFixed(2)}\r\n                                                    </small>\r\n                                                  ) : (\r\n                                                    <small className=\"text-muted\">Enter adjustment % to see example</small>\r\n                                                  )}\r\n                                                </div>\r\n                                              </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"mt-2\">\r\n                                              <div className=\"alert alert-info small mb-0\">\r\n                                                <i className=\"bi bi-lightbulb me-1\"></i>\r\n                                                <strong>Note:</strong> Warrant exercise price will be automatically calculated when the next priced equity round is created.\r\n                                              </div>\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n\r\n                                      {/*  EXPIRATION DATE (Optional) */}\r\n                                      <div className=\"row mb-3\">\r\n                                        <div className=\"col-md-6\">\r\n                                          <label className=\"form-label\">Expiration Date (Optional)</label>\r\n                                          <input\r\n                                            type=\"date\"\r\n                                            className=\"form-control\"\r\n                                            value={formData.expirationDate_preferred || \"\"}\r\n                                            onChange={(e) => handleInputChange(\"expirationDate_preferred\", e.target.value)}\r\n                                          />\r\n                                          <small className=\"text-muted\">If not specified, warrants expire in 10 years</small>\r\n                                        </div>\r\n                                      </div>\r\n\r\n                                      {/*  WARRANT TYPE (Only Call Warrant as per Client) */}\r\n                                      <div className=\"mb-3\">\r\n                                        <label className=\"form-label\">Type of Warrant</label>\r\n                                        <div className=\"border rounded p-3 bg-white\">\r\n                                          <div className=\"form-check\">\r\n                                            <input\r\n                                              className=\"form-check-input\"\r\n                                              type=\"radio\"\r\n                                              name=\"warrantType_preferred\"\r\n                                              id=\"warrantTypeCall\"\r\n                                              value=\"CALL\"\r\n                                              checked={(formData.warrantType_preferred || \"CALL\") === \"CALL\"}\r\n                                              onChange={(e) => handleInputChange(\"warrantType_preferred\", e.target.value)}\r\n                                            />\r\n                                            <label className=\"form-check-label fw-bold\" htmlFor=\"warrantTypeCall\">\r\n                                              Call Warrant (Investor can BUY shares in next round)\r\n                                            </label>\r\n                                            <div className=\"form-text ms-4\">\r\n                                              This is the standard structure per client requirements.\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                          <div className=\"form-check mt-2\">\r\n                                            <input\r\n                                              className=\"form-check-input\"\r\n                                              type=\"radio\"\r\n                                              name=\"warrantType_preferred\"\r\n                                              id=\"warrantTypePut\"\r\n                                              value=\"PUT\"\r\n                                              checked={formData.warrantType_preferred === \"PUT\"}\r\n                                              onChange={(e) => handleInputChange(\"warrantType_preferred\", e.target.value)}\r\n                                              disabled\r\n                                            />\r\n                                            <label className=\"form-check-label text-muted\" htmlFor=\"warrantTypePut\">\r\n                                              Put Warrant (Not allowed per client requirements)\r\n                                            </label>\r\n                                            <div className=\"form-text ms-4 text-danger\">\r\n                                              <i className=\"bi bi-exclamation-triangle me-1\"></i>\r\n                                              Put warrants are not included in client specifications.\r\n                                            </div>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n\r\n                                      {/*  SUMMARY OF WARRANT TERMS */}\r\n                                      <div className=\"alert alert-success\">\r\n                                        <h6 className=\"fw-bold\">\r\n                                          <i className=\"bi bi-check-circle me-2\"></i>\r\n                                          Warrant Summary\r\n                                        </h6>\r\n                                        <ul className=\"mb-0 small\">\r\n                                          <li>Coverage: {formData.warrant_coverage_percentage || \"___\"}% of investment amount</li>\r\n                                          <li>\r\n                                            Exercise: At next priced round price\r\n                                            {formData.warrant_adjustment_percent ?\r\n                                              ` ${formData.warrant_adjustment_direction === \"decrease\" ? \"minus\" : \"plus\"} ${formData.warrant_adjustment_percent}%`\r\n                                              : \"\"}\r\n                                          </li>\r\n                                          <li>Shares calculated automatically when next round is created</li>\r\n                                          <li>Warrants will dilute existing shareholders upon exercise</li>\r\n                                        </ul>\r\n                                      </div>\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n\r\n                              {formData.instrumentType === \"Safe\" && (\r\n                                <div className=\"mt-3 p-3 border rounded bg-light\">\r\n                                  <h5>SAFE Details</h5>\r\n                                  <label className=\"form-label\">\r\n                                    Valuation Cap <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    className={`form-control mb-3 ${errors.valuationCap ? \"is-invalid\" : \"\"}`}\r\n                                    placeholder=\"Enter valuation cap\"\r\n                                    value={formData.valuationCap || \"\"}\r\n                                    thousandSeparator={true}\r\n                                    allowNegative={false}\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale={true}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"valuationCap\", values.value);\r\n\r\n                                      if (errors.valuationCap) {\r\n                                        setErrors(prev => ({\r\n                                          ...prev,\r\n                                          valuationCap: \"\"\r\n                                        }));\r\n                                      }\r\n                                    }}\r\n                                  />\r\n\r\n                                  {errors.valuationCap && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.valuationCap}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <label className=\"form-label\">\r\n                                    Conversion Discount: (%) <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control mb-3 ${errors.discountRate ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.discountRate || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"discountRate\", e.target.value)}\r\n                                    placeholder=\"Enter Conversion Discount: (10-25%)\"\r\n                                  />\r\n                                  {errors.discountRate && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.discountRate}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* <label className=\"form-label\">\r\n                                    SAFE Type <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <div className=\"form-check mb-2\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      className=\"form-check-input\"\r\n                                      id=\"preMoney\"\r\n                                      name=\"safeType\"\r\n                                      value=\"PRE_MONEY\"\r\n                                      checked={formData.safeType === \"PRE_MONEY\"}\r\n                                      onChange={(e) => handleInputChange(\"safeType\", e.target.value)}\r\n                                    />\r\n                                    <label className=\"form-check-label\" htmlFor=\"preMoney\">\r\n                                      Pre-Money SAFE\r\n                                    </label>\r\n                                  </div>\r\n                                  <div className=\"form-check mb-3\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      className=\"form-check-input\"\r\n                                      id=\"postMoney\"\r\n                                      name=\"safeType\"\r\n                                      value=\"POST_MONEY\"\r\n                                      checked={formData.safeType === \"POST_MONEY\"}\r\n                                      onChange={(e) => handleInputChange(\"safeType\", e.target.value)}\r\n                                    />\r\n                                    <label className=\"form-check-label\" htmlFor=\"postMoney\">\r\n                                      Post-Money SAFE\r\n                                    </label>\r\n                                  </div> */}\r\n                                  {/* {errors.safeType && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.safeType}\r\n                                    </div>\r\n                                  )} */}\r\n                                </div>\r\n                              )}\r\n\r\n                              {formData.instrumentType === \"Convertible Note\" && (\r\n                                <div className=\"mt-3 p-3 border rounded bg-light\">\r\n                                  <h5>Convertible Note Details</h5>\r\n                                  <label className=\"form-label\">\r\n                                    Valuation Cap <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter valuation cap\"\r\n                                    value={formData.valuationCap_note || \"\"}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"valuationCap_note\", values.value);\r\n\r\n                                      if (errors.valuationCap_note) {\r\n                                        setErrors((prev) => ({\r\n                                          ...prev,\r\n                                          valuationCap_note: \"\",\r\n                                        }));\r\n                                      }\r\n                                    }}\r\n                                    className={`form-control mb-3 ${errors.valuationCap_note ? \"is-invalid\" : \"\"}`}\r\n                                  />\r\n\r\n\r\n                                  {errors.valuationCap_note && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.valuationCap_note}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <label className=\"form-label\">\r\n                                    Conversion Discount  (%) <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control mb-3 ${errors.discountRate_note ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.discountRate_note || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"discountRate_note\", e.target.value)}\r\n                                    placeholder=\"Enter Conversion Discount (1030%)\"\r\n                                  />\r\n                                  {errors.discountRate_note && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.discountRate_note}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <label className=\"form-label\">Maturity Date</label>\r\n                                  <input\r\n                                    type=\"date\"\r\n                                    className={`form-control mb-3 ${errors.maturityDate ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.maturityDate || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"maturityDate\", e.target.value)}\r\n                                  />\r\n                                  {errors.maturityDate && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.maturityDate}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <label className=\"form-label\">Interest Rate (%)</label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control mb-3 ${errors.interestRate_note ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.interestRate_note || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"interestRate_note\", e.target.value)}\r\n                                    placeholder=\"Enter annual interest rate\"\r\n                                  />\r\n                                  {errors.interestRate_note && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.interestRate_note}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  {/* <label className=\"form-label\">\r\n                                    Convertible Trigger <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <select\r\n                                    className={`form-control mb-3 ${errors.convertibleTrigger ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.convertibleTrigger || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"convertibleTrigger\", e.target.value)}\r\n                                  >\r\n                                    <option value=\"\">Select trigger event</option>\r\n                                    <option value=\"QUALIFIED_FINANCING\">Qualified Equity Financing</option>\r\n                                    <option value=\"ACQUISITION_IPO\">Acquisition or IPO</option>\r\n                                    <option value=\"MATURITY_DATE\">Reaching Maturity Date</option>\r\n                                  </select>\r\n                                  {errors.convertibleTrigger && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.convertibleTrigger}\r\n                                    </div>\r\n                                  )} */}\r\n                                </div>\r\n                              )}\r\n\r\n                              {formData.instrumentType === \"Venture/Bank DEBT\" && (\r\n                                <div className=\"mt-3 p-3 border rounded bg-light\">\r\n                                  <h5>Venture/Bank Debt Details</h5>\r\n                                  <label className=\"form-label\">\r\n                                    Interest Rate (%) <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control mb-3 ${errors.interestRate ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.interestRate || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"interestRate\", e.target.value)}\r\n                                    placeholder=\"Enter interest rate\"\r\n                                  />\r\n                                  {errors.interestRate && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.interestRate}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <label className=\"form-label\">\r\n                                    Repayment Schedule (months) <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"number\"\r\n                                    className={`form-control mb-3 ${errors.repaymentSchedule ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.repaymentSchedule || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"repaymentSchedule\", e.target.value)}\r\n                                    placeholder=\"Enter repayment schedule in months\"\r\n                                  />\r\n                                  {errors.repaymentSchedule && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.repaymentSchedule}\r\n                                    </div>\r\n                                  )}\r\n\r\n                                  <div className=\"form-check mb-3\">\r\n                                    <input\r\n                                      type=\"checkbox\"\r\n                                      className=\"form-check-input\"\r\n                                      id=\"hasWarrants_Bank\"\r\n                                      checked={formData.hasWarrants_Bank || false}\r\n                                      onChange={(e) => handleInputChange(\"hasWarrants_Bank\", e.target.checked)}\r\n                                    />\r\n                                    <label className=\"form-check-label\" htmlFor=\"hasWarrants_Bank\">\r\n                                      Add Warrants (optional)\r\n                                    </label>\r\n                                  </div>\r\n\r\n                                  {formData.hasWarrants_Bank && (\r\n                                    <>\r\n                                      <label className=\"form-label\">Exercise Price (Strike Price)</label>\r\n                                      <input\r\n                                        type=\"number\"\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.exercisePrice_bank || \"\"}\r\n                                        onChange={(e) => handleInputChange(\"exercisePrice_bank\", e.target.value)}\r\n                                        placeholder=\"Enter exercise price\"\r\n                                      />\r\n\r\n                                      <label className=\"form-label\">Expiration Date</label>\r\n                                      <input\r\n                                        type=\"date\"\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.exercisedate_bank || \"\"}\r\n                                        onChange={(e) => handleInputChange(\"exercisedate_bank\", e.target.value)}\r\n                                      />\r\n\r\n                                      <label className=\"form-label\">Warrant Ratio</label>\r\n                                      <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.warrantRatio_bank || \"\"}\r\n                                        onChange={(e) => handleInputChange(\"warrantRatio_bank\", e.target.value)}\r\n                                        placeholder=\"e.g., 1:1\"\r\n                                      />\r\n\r\n                                      <label className=\"form-label\">Type of Warrant</label>\r\n                                      <select\r\n                                        className=\"form-control mb-3\"\r\n                                        value={formData.warrantType_bank || \"CALL\"}\r\n                                        onChange={(e) => handleInputChange(\"warrantType_bank\", e.target.value)}\r\n                                      >\r\n                                        <option value=\"CALL\">Call Warrant (buy shares)</option>\r\n                                        <option value=\"PUT\">Put Warrant (sell shares)</option>\r\n                                      </select>\r\n                                    </>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n\r\n                              {/* Conditional OTHER input */}\r\n                              {formData.instrumentType === \"OTHER\" && (\r\n                                <div className=\"mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Custom Investment Instrument Name\r\n                                    <span className=\"text-danger fs-5 ms-1\">*</span>\r\n                                  </label>\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    placeholder=\"Enter custom investment instrument name\"\r\n                                    value={formData.customInstrument || \"\"}\r\n                                    onChange={(e) => handleInputChange(\"customInstrument\", e.target.value)}\r\n                                    className={`form-control ${errors.customInstrument ? \"is-invalid\" : \"\"}`}\r\n                                    maxLength={30}\r\n                                  />\r\n                                  <div className=\"form-text\">\r\n                                    {formData.customInstrument ? formData.customInstrument.length : 0}/30 characters\r\n                                  </div>\r\n                                  {errors.customInstrument && (\r\n                                    <div className=\"text-danger small\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.customInstrument}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n\r\n                              {/* Navigation buttons */}\r\n                              <div className=\"d-flex justify-content-between pt-3 border-top gap-2\">\r\n                                <button\r\n                                  className=\"close_btn w-fit\"\r\n                                  onClick={() => navigateToSection('prev')}\r\n                                >\r\n                                  <i className=\"bi bi-arrow-left me-2\"></i>Back\r\n                                </button>\r\n                                <button\r\n                                  className=\"global_btn w-fit\"\r\n                                  onClick={() => {\r\n                                    const newErrors = {};\r\n\r\n                                    // Validate instrument type\r\n                                    if (!formData.instrumentType) {\r\n                                      newErrors.instrumentType = \"Please select an investment instrument type\";\r\n                                    }\r\n\r\n                                    if (formData.instrumentType === \"OTHER\") {\r\n                                      if (!formData.customInstrument) {\r\n                                        newErrors.customInstrument = \"This field is required\";\r\n                                      }\r\n                                    }\r\n\r\n                                    // Conditional validations per instrument\r\n                                    switch (formData.instrumentType) {\r\n                                      // case \"Common Stock\":\r\n                                      //   if (!formData.common_stock_valuation || Number(formData.common_stock_valuation) <= 0) {\r\n                                      //     newErrors.common_stock_valuation = \"Company valuation is required and must be greater than 0\";\r\n                                      //   }\r\n                                      //   break;\r\n                                      case \"Preferred Equity\":\r\n                                        if (!formData.preferred_valuation || Number(formData.preferred_valuation) <= 0) {\r\n                                          newErrors.preferred_valuation = \"Company Valuation is required and must be greater than 0\";\r\n                                        }\r\n                                        break;\r\n                                      case \"Safe\":\r\n                                        if (!formData.valuationCap) newErrors.valuationCap = \"This field is required\";\r\n                                        if (!formData.discountRate) newErrors.discountRate = \"This field is required\";\r\n                                        //if (!formData.safeType) newErrors.safeType = \"This field is required\";\r\n                                        break;\r\n                                      case \"Convertible Note\":\r\n                                        if (!formData.valuationCap_note) newErrors.valuationCap_note = \"This field is required\";\r\n                                        if (!formData.discountRate_note) newErrors.discountRate_note = \"This field is required\";\r\n                                        if (!formData.maturityDate) newErrors.maturityDate = \"This field is required\";\r\n                                        if (!formData.interestRate_note) newErrors.interestRate_note = \"This field is required\";\r\n                                        //if (!formData.convertibleTrigger) newErrors.convertibleTrigger = \"This field is required\";\r\n                                        break;\r\n                                      case \"Venture/Bank DEBT\":\r\n                                        if (!formData.repaymentSchedule) newErrors.repaymentSchedule = \"This field is required\";\r\n                                        if (!formData.interestRate) newErrors.interestRate = \"This field is required\";\r\n                                        break;\r\n                                      default:\r\n                                        break;\r\n                                    }\r\n\r\n                                    if (Object.keys(newErrors).length === 0) {\r\n                                      setErrors({});\r\n                                      navigateToSection('next');\r\n                                    } else {\r\n                                      setErrors(newErrors);\r\n                                      setTimeout(() => {\r\n                                        const firstErrorElement = document.querySelector(\".is-invalid\");\r\n                                        if (firstErrorElement) {\r\n                                          firstErrorElement.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n                                        }\r\n                                      }, 100);\r\n                                    }\r\n                                  }}\r\n                                >\r\n                                  Save and Continue\r\n                                </button>\r\n                              </div>\r\n                            </>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                      {/* Description Section */}\r\n                      {activeSection === \"description\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          {/* Show previous section data */}\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <div className=\"mb-4\">\r\n                            <label className=\"form-label fw-semibold\">\r\n                              Description{\" \"}\r\n                              <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                <img\r\n                                  className=\"blackdark\"\r\n                                  width=\"15\"\r\n                                  height=\"15\"\r\n                                  src=\"/assets/user/images/question.png\"\r\n                                  alt=\"Tip\"\r\n                                />\r\n                                <div\r\n                                  className=\"tooltip-text tool-test-white text-white\"\r\n                                  role=\"tooltip\"\r\n                                >\r\n                                  <strong>What it is:</strong> A strategic\r\n                                  summary that links the equity class to its\r\n                                  purpose, issuance context, and recipient\r\n                                  group.\r\n                                  <br />\r\n                                  <strong>Why it matters:</strong> Investors use\r\n                                  this to understand the logic behind each\r\n                                  class, e.g. who holds it, under what\r\n                                  conditions it was granted.\r\n                                  <br />\r\n                                  <strong>How to fill it:</strong> Detail the\r\n                                  rationale and stakeholders behind issuance.\r\n                                  Think of this as the \"why\" behind the class.\r\n                                  For example:\r\n                                  <br /> Reserved for key hires under Employee\r\n                                  Stock Option Pool\r\n                                  <br /> Issued to seed investors during SAFE\r\n                                  conversion in 2022\r\n                                  <br /> Created for strategic Gulf partner\r\n                                  with board observer rights\r\n                                </div>\r\n                              </span>\r\n                              <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                            </label>\r\n                            <textarea\r\n                              placeholder=\"Enter the strategic description of your round...\"\r\n                              className={`textarea_input ${errors.description ? \"is-invalid\" : \"\"\r\n                                }`}\r\n                              rows=\"6\"\r\n                              value={formData.description}\r\n                              onChange={(e) => {\r\n                                handleInputChange(\r\n                                  \"description\",\r\n                                  e.target.value\r\n                                );\r\n                                if (errors.description)\r\n                                  setErrors((prev) => ({\r\n                                    ...prev,\r\n                                    description: \"\",\r\n                                  }));\r\n                              }}\r\n                            />\r\n                            {errors.description && (\r\n                              <div className=\"text-danger small mt-1\">\r\n                                <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                {errors.description}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div className=\"d-flex justify-content-between pt-3 w-100 border-top gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              <i className=\"bi bi-arrow-left me-2\"></i>Back\r\n                            </button>\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                if (!formData.description) {\r\n                                  setErrors({\r\n                                    ...errors,\r\n                                    description: \"This field is required\",\r\n                                  });\r\n                                } else {\r\n                                  setErrors({ ...errors, description: \"\" });\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n\r\n\r\n                      {/* Round Size Section */}\r\n                      {activeSection === \"roundsize\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">\r\n                            {isFirstRound ? \"Round 0 - Company Valuation\" : \"Round Size\"}\r\n                          </h3>\r\n\r\n                          {/* ROUND 0 - Show different content */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"round-zero-content\">\r\n                              <div className=\"alert alert-info mb-4\">\r\n                                <strong>Round 0 Information:</strong> This is your company's incorporation round.\r\n                                The valuation is based on the share allocation and price per share from your incorporation documents.\r\n                              </div>\r\n\r\n                              {/* Round 0 Valuation Display */}\r\n                              <div className=\"calculation-results p-4 border rounded bg-light mb-4\">\r\n                                <h5>Round 0 - Incorporation Valuation</h5>\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Total Shares Issued:</strong> {calculateTotalShares().toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Price Per Share:</strong> ${formData.pricePerShare || '0.00'}\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Total Company Value:</strong> ${calculateTotalValue()}\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Number of Founders:</strong> {founderCount}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Note about Round 0 valuation */}\r\n                                <div className=\"alert alert-warning mt-3 mb-0\">\r\n                                  <small>\r\n                                    <strong>Note:</strong> This valuation is for incorporation purposes only and will not carry over to future investment rounds.\r\n                                    Each subsequent round will calculate its own price per share based on investment size and pre-money valuation.\r\n                                  </small>\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Round 0 specific information */}\r\n                              <div className=\"mt-4 p-3 bg-light rounded\">\r\n                                <h6>About Round 0 Valuation:</h6>\r\n                                <ul className=\"mb-0\">\r\n                                  <li>Based on incorporation documents and initial share allocation</li>\r\n                                  <li>Price per share is the par value from your incorporation</li>\r\n                                  <li>This valuation represents the initial capital contribution by founders</li>\r\n                                  <li>Future rounds will calculate price per share based on investment and valuation inputs</li>\r\n                                </ul>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Show original round size fields */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"row align-items-start\">\r\n                                {/* Investment Amount */}\r\n                                <div className=\"col-md-5 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Investment Amount{\" \"}({CurrDisplay})\r\n                                    <span className=\"text-danger fs-5 ms-1\">*</span>\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator={true}\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale={true}\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter amount\"\r\n                                    value={formData.roundsize}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"roundsize\", values.value);\r\n                                      if (errors.roundsize) {\r\n                                        setErrors((prev) => ({\r\n                                          ...prev,\r\n                                          roundsize: \"\",\r\n                                        }));\r\n                                      }\r\n                                    }}\r\n                                    className={`textarea_input ${errors.roundsize ? \"is-invalid\" : \"\"}`}\r\n                                  />\r\n                                  {errors.roundsize && (\r\n                                    <div className=\"text-danger small mt-1\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.roundsize}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n\r\n                                {/* Currency */}\r\n                                <div className=\"col-md-2 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Currency <span className=\"text-danger fs-5 ms-1\">*</span>\r\n                                  </label>\r\n                                  <select\r\n                                    className={`textarea_input ${errors.currency ? \"is-invalid\" : \"\"}`}\r\n                                    value={formData.currency}\r\n                                    onChange={(e) => {\r\n                                      handleInputChange(\"currency\", e.target.value);\r\n                                      if (errors.currency) {\r\n                                        setErrors((prev) => ({\r\n                                          ...prev,\r\n                                          currency: \"\",\r\n                                        }));\r\n                                      }\r\n                                    }}\r\n                                  >\r\n                                    <option value=\"\">-- Select Currency --</option>\r\n                                    {countrySymbolList.map((item) => (\r\n                                      <option\r\n                                        key={item.id}\r\n                                        value={`${item.currency_code} ${item.currency_symbol}`}\r\n                                      >\r\n                                        {item.currency_code} {item.currency_symbol}\r\n                                      </option>\r\n                                    ))}\r\n                                  </select>\r\n                                  {errors.currency && (\r\n                                    <div className=\"text-danger small mt-1\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.currency}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                                <div className=\"col-md-5 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Investor Post-Money Ownership(%)\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator={true}\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale={true} disabled\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter investor post-money ownership\"\r\n                                    value={formData.investorPostMoney || \"\"}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"investorPostMoney\", values.value);\r\n                                      if (errors.investorPostMoney) {\r\n                                        setErrors((prev) => ({\r\n                                          ...prev,\r\n                                          investorPostMoney: \"\",\r\n                                        }));\r\n                                      }\r\n                                    }}\r\n                                    className={`form-control ${errors.investorPostMoney ? \"is-invalid\" : \"\"}`}\r\n                                  />\r\n                                  {errors.investorPostMoney && (\r\n                                    <div className=\"text-danger small mt-1\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.investorPostMoney}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n\r\n\r\n\r\n                                <div className=\"col-md-6 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">{formData.instrumentType === \"Convertible Note\" || formData.instrumentType === \"Safe\" ? \"Company Value\" : \"Pre-Money Valuation\"} {\" \"} ({CurrDisplay})</label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter pre-money valuation\"\r\n                                    value={formData.pre_money}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"pre_money\", values.value);\r\n                                      setFormData((prev) => ({\r\n                                        ...prev,\r\n                                        isPostEntered: false,\r\n                                      }));\r\n                                    }}\r\n                                    className=\"textarea_input\"\r\n                                  />\r\n                                </div>\r\n\r\n\r\n\r\n                                <div className=\"col-md-6 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">Post-Money Valuation{\" \"}({CurrDisplay})</label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator\r\n                                    decimalScale={2} disabled\r\n                                    fixedDecimalScale\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter post-money valuation\"\r\n                                    value={formData.post_money}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"post_money\", values.value);\r\n                                      setFormData((prev) => ({\r\n                                        ...prev,\r\n                                        isPostEntered: true,\r\n                                      }));\r\n                                    }}\r\n                                    className=\"textarea_input\"\r\n                                  />\r\n                                </div>\r\n\r\n                                {/* Option Pool Percentage */}\r\n                                <OptionPoolFields />\r\n                                {/* {(selected !== \"Pre-Seed\" && selected !== \"Seed\" && selected !== \"Post-Seed\" && selected !== \"Advisor Shares\") ? (\r\n                                  <div className=\"col-md-6 mb-4\">\r\n                                    <label className=\"form-label fw-semibold\">\r\n                                      Post-Money Option Pool (%){\" \"}\r\n                                      <i className=\"bi bi-info-circle text-muted ms-1\"\r\n                                        title=\"Option pool created AFTER this investment round (dilutes all shareholders including new investors)\">\r\n                                      </i>\r\n                                      \r\n                                    </label>\r\n                                    <NumericFormat\r\n                                      suffix=\"%\"\r\n                                      decimalScale={2}\r\n                                      fixedDecimalScale\r\n                                      allowNegative={false}\r\n                                      placeholder={selected.includes(\"Series\") ? \"e.g. 20 (Required)\" : \"e.g. 20 (Optional)\"}\r\n                                      value={formData.optionPoolPercent_post}\r\n                                      onValueChange={(values) => {\r\n                                        handleInputChange(\"optionPoolPercent_post\", values.value);\r\n                                      }}\r\n                                      className={`textarea_input ${errors.optionPoolPercent_post ? 'is-invalid' : ''}`}\r\n                                      disabled={selected === \"Pre-Seed\" || selected === \"Seed\" || selected === \"Post-Seed\" || selected === \"Advisor Shares\"}\r\n                                    />\r\n                                    {errors.optionPoolPercent_post && (\r\n                                      <div className=\"text-danger small mt-1\">\r\n                                        <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                        {errors.optionPoolPercent_post}\r\n                                      </div>\r\n                                    )}\r\n                                    \r\n                                  </div>\r\n                                ) : (\r\n                                  \r\n                                  <div className=\"col-md-6 mb-4\">\r\n                                    <div className=\"alert alert-info p-3\">\r\n                                      <div className=\"d-flex align-items-center\">\r\n                                        <i className=\"bi bi-info-circle me-2 fs-5\"></i>\r\n                                        <div>\r\n                                          <strong>Post-Money Option Pool Information</strong>\r\n                                          <p className=\"mb-0 small\">\r\n                                            For {selected || \"early-stage\"} rounds, only Pre-Money Option Pool is applicable.\r\n                                            <br />\r\n                                            Post-Money Option Pool is typically used from Series A onwards.\r\n                                          </p>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                )} */}\r\n                                {/* <div className=\"col-md-6 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Post-Money Option Pool (%){\" \"}\r\n                                    <i className=\"bi bi-info-circle text-muted ms-1\"\r\n                                      title=\"Option pool created AFTER this investment round (dilutes all shareholders including new investors)\">\r\n                                    </i>\r\n\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    suffix=\"%\"\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale\r\n                                    allowNegative={false}\r\n                                    placeholder={selected.includes(\"Series\") ? \"e.g. 20 (Required)\" : \"e.g. 20 (Optional)\"}\r\n                                    value={formData.optionPoolPercent_post}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"optionPoolPercent_post\", values.value);\r\n                                    }}\r\n                                    className={`textarea_input ${errors.optionPoolPercent_post ? 'is-invalid' : ''}`}\r\n                                    disabled={selected === \"Pre-Seed\" || selected === \"Seed\" || selected === \"Post-Seed\" || selected === \"Advisor Shares\"}\r\n                                  />\r\n                                  {errors.optionPoolPercent_post && (\r\n                                    <div className=\"text-danger small mt-1\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.optionPoolPercent_post}\r\n                                    </div>\r\n                                  )}\r\n                                 \r\n                                </div> */}\r\n                                <div className=\"col-md-6 mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Total Shares Issued in this Round{\" \"}\r\n                                    <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                      <img\r\n                                        className=\"blackdark\"\r\n                                        width=\"15\"\r\n                                        height=\"15\"\r\n                                        src=\"/assets/user/images/question.png\"\r\n                                        alt=\"Tip\"\r\n                                      />\r\n                                      <div className=\"tooltip-text tool-test-white text-white\" role=\"tooltip\">\r\n                                        The number of shares in an early-stage company represents the total units of\r\n                                        ownership authorized, issued, or outstanding across the cap table...\r\n                                      </div>\r\n                                    </span>\r\n                                  </label>\r\n                                  <NumericFormat\r\n                                    thousandSeparator={true}\r\n                                    decimalScale={2}\r\n                                    fixedDecimalScale={true}\r\n                                    allowNegative={false}\r\n                                    placeholder=\"Enter # of shares\"\r\n                                    value={formData.issuedshares}\r\n                                    onValueChange={(values) => {\r\n                                      handleInputChange(\"issuedshares\", values.value);\r\n                                      if (errors.issuedshares) {\r\n                                        setErrors((prev) => ({ ...prev, issuedshares: \"\" }));\r\n                                      }\r\n                                    }}\r\n                                    className=\"textarea_input\"\r\n                                  />\r\n                                </div>\r\n\r\n\r\n                              </div>\r\n                              {/* <div className=\"calculation-results mt-4 p-4 border rounded bg-light\">\r\n                                <h5 className=\"mb-3\">Round Calculations</h5>\r\n\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Share Price:</strong> {CurrDisplay} {calculatedValues.sharePrice || '0.0000'}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>New Shares Issued:</strong> {calculatedValues.newSharesIssued.toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Post-Money Valuation:</strong> {CurrDisplay} {calculatedValues.postMoneyValuation || '0.00'}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Investor Ownership:</strong> {calculatedValues.investorOwnershipPercent || '0.00'}%\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  <div className=\"col-md-6\">\r\n                                    \r\n                                    {selected?.includes(\"Series\") && formData.optionPoolPercent_post && (\r\n                                      <>\r\n                                        <div className=\"mb-2\">\r\n                                          <strong>Existing Option Pool:</strong> {calculatedValues.existingOptionPoolPercent}%\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                          <strong>Target Option Pool:</strong> {formData.optionPoolPercent_post}%\r\n                                        </div>\r\n\r\n                                        {calculatedValues.doc4Action === 'TOP_UP' ? (\r\n                                          <div className=\"alert alert-warning p-2 mb-2\">\r\n                                            <small>\r\n                                              <i className=\"bi bi-exclamation-triangle me-1\"></i>\r\n                                              <strong>TOP-UP REQUIRED</strong><br />\r\n                                              Need to increase from {calculatedValues.existingOptionPoolPercent}% to {formData.optionPoolPercent_post}%<br />\r\n                                              New option shares: {calculatedValues.newOptionShares.toLocaleString()}\r\n                                            </small>\r\n                                          </div>\r\n                                        ) : calculatedValues.doc4Action === 'NO_ACTION' ? (\r\n                                          <div className=\"alert alert-success p-2 mb-2\">\r\n                                            <small>\r\n                                              <i className=\"bi bi-check-circle me-1\"></i>\r\n                                              <strong>NO ACTION NEEDED</strong><br />\r\n                                              Existing pool ({calculatedValues.existingOptionPoolPercent}%) is sufficient\r\n                                            </small>\r\n                                          </div>\r\n                                        ) : null}\r\n                                      </>\r\n                                    )}\r\n\r\n                                    \r\n                                    {selected === \"Seed\" || selected === \"Pre-Seed\" ? (\r\n                                      <div className=\"mb-2\">\r\n                                        <strong>Employee Option Pool:</strong> {calculatedValues.employeeOptionShares.toLocaleString()} shares\r\n                                      </div>\r\n                                    ) : null}\r\n                                  </div>\r\n                                </div>\r\n                              </div> */}\r\n\r\n                              {/* Investment Round Information */}\r\n                              {/* <div className=\"alert alert-info mt-3\">\r\n                                <strong>Investment Round 1:</strong> This represents your Pre-Seed or Seed round.\r\n                                <br />\r\n                                <span className=\"small text-muted\">\r\n                                  {formData.isPostEntered\r\n                                    ? \"Post-Money is entered; Pre-Money auto-calculated.\"\r\n                                    : \"Pre-Money is entered; Post-Money auto-calculated.\"}\r\n                                </span>\r\n                              </div> */}\r\n                            </div>\r\n\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                // Validate before proceeding\r\n                                const newErrors = {};\r\n\r\n                                if (isFirstRound) {\r\n                                  // ROUND 0 VALIDATION - No validation needed for round size in Round 0\r\n                                  // Round 0 doesn't have traditional round size, it's calculated from share allocation\r\n                                } else {\r\n                                  // OTHER ROUNDS VALIDATION\r\n                                  if (!formData.roundsize || formData.roundsize.trim() === \"\") {\r\n                                    newErrors.roundsize = \"Round amount is required\";\r\n                                  } else if (parseFloat(formData.roundsize) <= 0) {\r\n                                    newErrors.roundsize = \"Round amount must be greater than 0\";\r\n                                  }\r\n\r\n                                  if (!formData.currency || formData.currency.trim() === \"\") {\r\n                                    newErrors.currency = \"Currency selection is required\";\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Additional sections would follow the same pattern */}\r\n                      {/* Issued Shares Section */}\r\n                      {activeSection === \"issuedshares\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">\r\n                            {isFirstRound ? \"Round 0 - Share Allocation Summary\" : \"\"}\r\n                          </h3>\r\n\r\n                          {/* ROUND 0 - Show different content */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"round-zero-summary\">\r\n                              <div className=\"alert alert-info mb-4\">\r\n                                <strong>Round 0 Summary</strong> - This is your company's incorporation round.\r\n                                The shares have already been allocated to founders in the previous section.\r\n                              </div>\r\n\r\n                              {/* Display Round 0 Calculations */}\r\n                              <div className=\"calculation-results p-4 border rounded bg-light\">\r\n                                <h5>Round 0 - Incorporation Summary</h5>\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Total Shares Issued:</strong> {calculateTotalShares().toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Price Per Share:</strong> {formData.currency ? formData.currency.split(' ')[1] : '$'}{formData.pricePerShare || '0.00'}\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Total Company Value:</strong> {formData.currency ? formData.currency.split(' ')[1] : '$'}{calculateTotalValue()}\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Currency:</strong> {formData.currency || 'CAD $'}\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Number of Founders:</strong> {founderCount}\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Round Status:</strong> <span className=\"text-success\">COMPLETED</span>\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Round Type:</strong> Incorporation Round\r\n                                    </div>\r\n                                    <div className=\"mb-3\">\r\n                                      <strong>Round Date:</strong> {new Date().toLocaleDateString()}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Founder Ownership Breakdown */}\r\n\r\n\r\n                                {/* Additional Statistics */}\r\n                                {calculateTotalShares() > 0 && (\r\n                                  <div className=\"mt-4 p-3 bg-white rounded border\">\r\n                                    <h6>Round 0 Statistics:</h6>\r\n                                    <div className=\"row text-center\">\r\n                                      <div className=\"col-md-3\">\r\n                                        <small className=\"text-muted\">Average Shares per Founder</small>\r\n                                        <div className=\"fw-bold\">\r\n                                          {Math.round(calculateTotalShares() / founderCount).toLocaleString()}\r\n                                        </div>\r\n                                      </div>\r\n                                      <div className=\"col-md-3\">\r\n                                        <small className=\"text-muted\">Largest Ownership</small>\r\n                                        <div className=\"fw-bold\">\r\n                                          {Math.max(...foundersData.map(f => {\r\n                                            const shares = parseInt(f.shares) || 0;\r\n                                            return calculateTotalShares() > 0 ? (shares / calculateTotalShares()) * 100 : 0;\r\n                                          })).toFixed(1)}%\r\n                                        </div>\r\n                                      </div>\r\n                                      <div className=\"col-md-3\">\r\n                                        <small className=\"text-muted\">Smallest Ownership</small>\r\n                                        <div className=\"fw-bold\">\r\n                                          {Math.min(...foundersData.map(f => {\r\n                                            const shares = parseInt(f.shares) || 0;\r\n                                            return calculateTotalShares() > 0 ? (shares / calculateTotalShares()) * 100 : 0;\r\n                                          })).toFixed(1)}%\r\n                                        </div>\r\n                                      </div>\r\n                                      <div className=\"col-md-3\">\r\n                                        <small className=\"text-muted\">Voting Founders</small>\r\n                                        <div className=\"fw-bold\">\r\n                                          {foundersData.filter(f => f.voting === 'voting').length} / {founderCount}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Round 0 specific information */}\r\n                              <div className=\"mt-4 p-3 bg-light rounded\">\r\n                                <h6>About Round 0 (Incorporation Round):</h6>\r\n                                <ul className=\"mb-0\">\r\n                                  <li>This round represents the initial share allocation at company incorporation</li>\r\n                                  <li>Shares are allocated to founders based on the incorporation documents</li>\r\n                                  <li>Round 0 is automatically considered \"COMPLETED\" as it happens at company formation</li>\r\n                                  <li>This forms the foundation of your cap table for future investment rounds</li>\r\n                                  <li>The valuation shown is for incorporation purposes only and will not carry over to future rounds</li>\r\n                                  <li>Each subsequent investment round will calculate its own price per share</li>\r\n                                </ul>\r\n                              </div>\r\n\r\n                              {/* Important Notes */}\r\n                              <div className=\"alert alert-warning mt-3\">\r\n                                <strong>Important:</strong> This Round 0 data will serve as the foundation for your cap table.\r\n                                Make sure all information is accurate before proceeding.\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* REGULAR INVESTMENT ROUND - Show original fields */\r\n                            <div className=\"row\">\r\n\r\n                              <div className=\"col-md-12 mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Is this round closed or active?{\" \"}\r\n                                  <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                </label>\r\n\r\n                                {/* Radio buttons */}\r\n                                <div className=\"form-check\">\r\n                                  <input\r\n                                    className=\"form-check-input\"\r\n                                    type=\"radio\"\r\n                                    name=\"roundStatus\"\r\n                                    id=\"roundClosed\"\r\n                                    value=\"CLOSED\"\r\n                                    checked={formData.roundStatus === \"CLOSED\"}\r\n                                    onChange={(e) => handleInputChange(\"roundStatus\", e.target.value)}\r\n                                  />\r\n                                  <label className=\"form-check-label\" htmlFor=\"roundClosed\">\r\n                                    CLOSED\r\n                                  </label>\r\n                                </div>\r\n                                <div className=\"form-check mb-3\">\r\n                                  <input\r\n                                    className=\"form-check-input\"\r\n                                    type=\"radio\"\r\n                                    name=\"roundStatus\"\r\n                                    id=\"roundActive\"\r\n                                    value=\"ACTIVE\"\r\n                                    checked={formData.roundStatus === \"ACTIVE\"}\r\n                                    onChange={(e) => handleInputChange(\"roundStatus\", e.target.value)}\r\n                                  />\r\n                                  <label className=\"form-check-label\" htmlFor=\"roundActive\">\r\n                                    ACTIVE\r\n                                  </label>\r\n                                </div>\r\n\r\n                                {errors.roundStatus && (\r\n                                  <div className=\"text-danger small\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.roundStatus}\r\n                                  </div>\r\n                                )}\r\n\r\n                                {/* Conditional rendering if CLOSED */}\r\n                                {formData.roundStatus === \"CLOSED\" && (\r\n                                  <>\r\n                                    <label className=\"form-label fw-semibold\">\r\n                                      Date Round Closed{\" \"}\r\n                                      <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                    </label>\r\n                                    <input\r\n                                      type=\"text\"\r\n                                      placeholder=\"MM/DD/YYYY\"\r\n                                      value={formData.dateroundclosed || \"\"}\r\n                                      onChange={(e) => {\r\n                                        handleInputChange(\"dateroundclosed\", e.target.value);\r\n                                        if (errors.dateroundclosed) {\r\n                                          setErrors((prev) => ({ ...prev, dateroundclosed: \"\" }));\r\n                                        }\r\n                                      }}\r\n                                      className={`form-control ${errors.dateroundclosed ? \"is-invalid\" : \"\"}`}\r\n                                    />\r\n                                    {errors.dateroundclosed && (\r\n                                      <div className=\"text-danger small mt-1\">\r\n                                        <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                        {errors.dateroundclosed}\r\n                                      </div>\r\n                                    )}\r\n                                    <div className=\"form-text mb-3\">Calendar: MM / DD / YYYY</div>\r\n                                  </>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                // For Round 0, no validation needed for these fields\r\n                                if (isFirstRound) {\r\n                                  navigateToSection('next');\r\n                                  return;\r\n                                }\r\n\r\n                                // Original validation for investment rounds\r\n                                const newErrors = {};\r\n\r\n                                // Validate round status selection\r\n                                if (!formData.roundStatus) {\r\n                                  newErrors.roundStatus = \"Please select CLOSED or ACTIVE\";\r\n                                }\r\n\r\n                                // Validate dateroundclosed only if CLOSED\r\n                                if (formData.roundStatus === \"CLOSED\") {\r\n                                  const dateRegex = /^(0[1-9]|1[0-2])\\/(0[1-9]|[12]\\d|3[01])\\/\\d{4}$/; // MM/DD/YYYY\r\n                                  const inputValue = formData.dateroundclosed;\r\n\r\n                                  if (!inputValue) {\r\n                                    newErrors.dateroundclosed = \"This field is required\";\r\n                                  } else if (!dateRegex.test(inputValue)) {\r\n                                    newErrors.dateroundclosed = \"Enter a valid date (MM/DD/YYYY)\";\r\n                                  } else {\r\n                                    const [month, day, year] = inputValue.split(\"/\").map(Number);\r\n                                    const inputDate = new Date(year, month - 1, day);\r\n                                    const today = new Date();\r\n                                    today.setHours(0, 0, 0, 0);\r\n\r\n                                    if (inputDate < today) {\r\n                                      newErrors.dateroundclosed = \"Date cannot be in the past\";\r\n                                    }\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid, .border-danger\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Placeholder for remaining sections - would implement similarly */}\r\n                      {activeSection === \"rights\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">\r\n                            {isFirstRound ? \"Round 0 - Founder Rights & Preferences\" : \"Rights Associated with this Share Class\"}\r\n                          </h3>\r\n\r\n                          {/* ROUND 0 - Founder Rights */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"round-zero-content\">\r\n                              <div className=\"alert alert-info mb-4\">\r\n                                <strong>Round 0 Information:</strong> These are the rights and preferences for founder shares as per your incorporation documents.\r\n                              </div>\r\n\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Founder Share Rights & Preferences{\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>For Round 0 (Founder Shares):</strong> Describe the rights and preferences\r\n                                      for founder shares as outlined in your incorporation documents. This typically includes\r\n                                      voting rights, dividend preferences, transfer restrictions, and any special founder protections.\r\n                                      <br />\r\n                                      <strong>Common Founder Rights:</strong>\r\n                                      <br /> Full voting rights on major company decisions\r\n                                      <br /> Right to receive dividends if declared\r\n                                      <br /> Pre-emptive rights to maintain ownership percentage\r\n                                      <br /> Founder vesting schedules (if applicable)\r\n                                      <br /> Transfer restrictions and right of first refusal\r\n                                    </div>\r\n                                  </span>\r\n                                </label>\r\n                                <textarea\r\n                                  placeholder=\"Describe the rights and preferences for founder shares as per incorporation documents (e.g., voting rights, dividend preferences, transfer restrictions)\"\r\n                                  className=\"textarea_input\"\r\n                                  rows=\"4\"\r\n                                  value={formData.rights}\r\n                                  onChange={(e) => handleInputChange(\"rights\", e.target.value)}\r\n                                />\r\n                                <div className=\"form-text\">\r\n                                  Example: \"Founders hold common shares with full voting rights, pre-emptive rights to maintain ownership percentage, and standard transfer restrictions as per the shareholders agreement.\"\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Common Founder Rights Information */}\r\n                              <div className=\"common-rights-info p-3 bg-light rounded mb-4\">\r\n                                <h6>Common Founder Rights in Round 0:</h6>\r\n                                <ul className=\"mb-0 small\">\r\n                                  <li><strong>Voting Rights:</strong> Typically full voting rights on major decisions</li>\r\n                                  <li><strong>Dividend Rights:</strong> Right to receive dividends if company declares them</li>\r\n                                  <li><strong>Pre-emptive Rights:</strong> Right to participate in future rounds to maintain ownership</li>\r\n                                  <li><strong>Transfer Restrictions:</strong> Limitations on selling shares without board approval</li>\r\n                                  <li><strong>Founder Vesting:</strong> Shares may be subject to vesting schedule</li>\r\n                                </ul>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Investor Rights */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Rights Associated with this Share Class{\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>What it is:</strong> Specifies the negotiated powers and entitlements that\r\n                                      holders of this class enjoy  it's the fine print investors care about.\r\n                                      <br />\r\n                                      <strong>Why it matters:</strong> This defines control dynamics, dividend rights, conversion\r\n                                      triggers, redemption clauses, anti-dilution, etc. It's the architecture of deal terms.\r\n                                      <br />\r\n                                      <strong>How to fill it:</strong> Reference exact clauses from investor agreements (term\r\n                                      sheets or subscription documents) and simplify into readable but accurate summaries.\r\n                                      <br /> Non-cumulative dividends at 6% annually\r\n                                      <br /> Automatic conversion on qualified financing &gt;$5M\r\n                                      <br /> Protective provisions for mergers, board expansion, and budget approvals\r\n                                      <br /> Anti-dilution protection (full-ratchet or weighted-average)\r\n                                      <br /> Redemption rights after 5 years\r\n                                      <br /> Pre-emptive rights for future rounds\r\n                                    </div>\r\n                                  </span>\r\n                                  <span className=\"text-danger fs-5 ms-1\">*</span>\r\n                                </label>\r\n                                <textarea\r\n                                  placeholder=\"Describe the rights and preferences for this share class (e.g., dividend rights, conversion triggers, protective provisions)\"\r\n                                  className={`textarea_input ${errors.rights ? \"is-invalid\" : \"\"}`}\r\n                                  rows=\"4\"\r\n                                  value={formData.rights}\r\n                                  onChange={(e) => {\r\n                                    handleInputChange(\"rights\", e.target.value);\r\n                                    if (errors.rights) {\r\n                                      setErrors((prev) => ({\r\n                                        ...prev,\r\n                                        rights: \"\",\r\n                                      }));\r\n                                    }\r\n                                  }}\r\n                                />\r\n                                {errors.rights && (\r\n                                  <div className=\"text-danger small mt-1\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.rights}\r\n                                  </div>\r\n                                )}\r\n                                <div className=\"form-text\">\r\n                                  Be specific about dividend preferences, conversion rights, protective provisions, and any special rights.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Common Investor Rights Information */}\r\n                              {/* <div className=\"common-rights-info p-3 bg-light rounded mb-4\">\r\n                                <h6>Common Investor Rights in Investment Rounds:</h6>\r\n                                <ul className=\"mb-0 small\">\r\n                                  <li><strong>Dividend Preferences:</strong> Cumulative/non-cumulative, participation rights</li>\r\n                                  <li><strong>Conversion Rights:</strong> Automatic or voluntary conversion triggers</li>\r\n                                  <li><strong>Protective Provisions:</strong> Veto rights on major decisions</li>\r\n                                  <li><strong>Anti-dilution:</strong> Full-ratchet or weighted-average protection</li>\r\n                                  <li><strong>Liquidation Preference:</strong> Multiple and participation rights</li>\r\n                                  <li><strong>Redemption Rights:</strong> Option to sell back shares after certain period</li>\r\n                                </ul>\r\n                              </div> */}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                // Validate before proceeding\r\n                                const newErrors = {};\r\n\r\n                                if (isFirstRound) {\r\n                                  // ROUND 0 VALIDATION - Rights are optional for founder shares\r\n                                  // No validation needed, can be empty\r\n                                } else {\r\n                                  // OTHER ROUNDS VALIDATION - Rights are important for investors\r\n                                  if (!formData.rights || formData.rights.trim() === \"\") {\r\n                                    newErrors.rights = \"Please describe the rights associated with this share class\";\r\n                                  } else if (formData.rights.trim().length < 10) {\r\n                                    newErrors.rights = \"Please provide more detailed description of rights\";\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n\r\n                                  // Navigate to appropriate next section\r\n                                  if (isFirstRound) {\r\n                                    navigateToSection('next'); // Skip liquidation for Round 0\r\n                                  } else {\r\n                                    navigateToSection('next');\r\n                                  }\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {activeSection === \"liquidation\" && !isFirstRound && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                              \"rights\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">Liquidation Preference</h3>\r\n\r\n                          {/* ROUND 0 - Skip this section entirely */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"text-center py-5\">\r\n                              <div className=\"alert alert-info\">\r\n                                <strong>Round 0 - No Liquidation Preference</strong>\r\n                                <p className=\"mb-0 mt-2\">\r\n                                  This is the incorporation round with founder shares only.\r\n                                  Liquidation preferences typically apply to investor rounds only.\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"mt-4\">\r\n                                <button\r\n                                  className=\"global_btn\"\r\n                                  onClick={() => navigateToSection('next')}\r\n                                >\r\n                                  Continue to Next Section\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Show liquidation preference fields */\r\n                            <>\r\n                              {/* Liquidation Preferences Section - Only for Preferred Equity */}\r\n                              {formData.instrumentType === \"Preferred Equity\" && (\r\n                                <div className=\"investment-round-content\">\r\n                                  <div className=\"mb-4\">\r\n                                    <label className=\"form-label fw-semibold\">\r\n                                      Liquidation Preference Details{\" \"}\r\n                                      <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                        <img\r\n                                          className=\"blackdark\"\r\n                                          width=\"15\"\r\n                                          height=\"15\"\r\n                                          src=\"/assets/user/images/question.png\"\r\n                                          alt=\"Tip\"\r\n                                        />\r\n                                        <div\r\n                                          className=\"tooltip-text tool-test-white text-white\"\r\n                                          role=\"tooltip\"\r\n                                        >\r\n                                          <strong>Note from Meeting:</strong> Liquidation preferences only apply to Preferred Stock in priced rounds.\r\n                                          <br />\r\n                                          <strong>For SAFEs/Convertible Notes:</strong> They get liquidation preferences ONLY when they convert to Preferred Stock.\r\n                                          <br />\r\n                                          <strong>For Common Stock/Venture Debt:</strong> No liquidation preferences apply.\r\n                                        </div>\r\n                                      </span>\r\n                                    </label>\r\n                                    <textarea\r\n                                      placeholder=\"Describe the liquidation preference terms (e.g., 1x non-participating preference, senior to common shares)\"\r\n                                      className=\"textarea_input\"\r\n                                      rows=\"4\"\r\n                                      value={formData.liquidationpreferences}\r\n                                      onChange={(e) =>\r\n                                        handleInputChange(\"liquidationpreferences\", e.target.value)\r\n                                      }\r\n                                    />\r\n                                    <div className=\"form-text\">\r\n                                      Example: \"Investors receive 1x liquidation preference, non-participating, pari passu with other preferred shares.\"\r\n                                      <br />\r\n                                      <small className=\"text-muted\">\r\n                                        <i>Note: This section only appears for Preferred Equity rounds as per meeting guidelines.</i>\r\n                                      </small>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  {/* Rest of your liquidation preferences UI remains same */}\r\n                                  <div className=\"row mt-3\">\r\n                                    <div className=\"col-md-6\">\r\n                                      {/* Multiple Preferences Component */}\r\n                                      <div className=\"liquidation-group mb-4\">\r\n                                        <h6 className=\"fw-semibold mb-3 border-bottom pb-2\">Preference Multiple</h6>\r\n                                        <div className=\"row\">\r\n                                          {liquidationOptions.multiplePreferences.map((opt) => (\r\n                                            <div key={opt.value} className=\"col-12 mb-3\">\r\n                                              <div\r\n                                                className={`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${formData?.liquidation?.includes(opt.value)\r\n                                                  ? \"bg-light border-primary\"\r\n                                                  : \"border-gray-300\"\r\n                                                  } ${errors.liquidation ? \"is-invalid\" : \"\"}`}\r\n                                                onClick={() => {\r\n                                                  let updatedSelection = [...(formData?.liquidation || [])];\r\n\r\n                                                  // Remove ALL participation rights when selecting a multiple preference\r\n                                                  const allParticipationRights = liquidationOptions.participationRights\r\n                                                    .map(o => o.value);\r\n\r\n                                                  // Remove all participation rights\r\n                                                  updatedSelection = updatedSelection.filter(v => !allParticipationRights.includes(v));\r\n\r\n                                                  // Remove other multiple preferences when one is selected\r\n                                                  const otherMultiples = liquidationOptions.multiplePreferences\r\n                                                    .map(o => o.value)\r\n                                                    .filter(v => v !== opt.value);\r\n\r\n                                                  updatedSelection = updatedSelection.filter(v => !otherMultiples.includes(v));\r\n\r\n                                                  // Remove N/A and OTHER if selecting a preference\r\n                                                  updatedSelection = updatedSelection.filter(v => v !== \"N/A\" && v !== \"OTHER\");\r\n\r\n                                                  if (updatedSelection.includes(opt.value)) {\r\n                                                    updatedSelection = updatedSelection.filter(v => v !== opt.value);\r\n                                                  } else {\r\n                                                    updatedSelection.push(opt.value);\r\n                                                  }\r\n\r\n                                                  handleInputChange(\"liquidation\", updatedSelection);\r\n\r\n                                                  if (errors.liquidation) {\r\n                                                    setErrors((prev) => ({\r\n                                                      ...prev,\r\n                                                      liquidation: \"\",\r\n                                                    }));\r\n                                                  }\r\n                                                }}\r\n                                              >\r\n                                                <div className=\"form-check\">\r\n                                                  <input\r\n                                                    type=\"radio\"\r\n                                                    name=\"multiplePreference\"\r\n                                                    value={opt.value}\r\n                                                    checked={formData?.liquidation?.includes(opt.value) || false}\r\n                                                    onChange={() => { }}\r\n                                                    className=\"form-check-input\"\r\n                                                  />\r\n                                                  <label className=\"form-check-label fw-medium\">\r\n                                                    {opt.label}\r\n                                                  </label>\r\n                                                </div>\r\n                                                <p className=\"text-muted small mb-0 mt-2\">\r\n                                                  {opt.description}\r\n                                                </p>\r\n                                              </div>\r\n                                            </div>\r\n                                          ))}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    <div className=\"col-md-6\">\r\n                                      {/* Participation Rights Component */}\r\n                                      <div className=\"liquidation-group mb-4\">\r\n                                        <h6 className=\"fw-semibold mb-3 border-bottom pb-2\">Participation Rights</h6>\r\n                                        <div className=\"row\">\r\n                                          {liquidationOptions.participationRights.map((opt) => (\r\n                                            <div key={opt.value} className=\"col-12 mb-3\">\r\n                                              <div\r\n                                                className={`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${formData?.liquidation?.includes(opt.value)\r\n                                                  ? \"bg-light border-primary\"\r\n                                                  : \"border-gray-300\"\r\n                                                  } ${errors.liquidation ? \"is-invalid\" : \"\"}`}\r\n                                                onClick={() => {\r\n                                                  let updatedSelection = [...(formData?.liquidation || [])];\r\n\r\n                                                  if (opt.value === \"N/A\") {\r\n                                                    updatedSelection = [\"N/A\"];\r\n                                                  } else {\r\n                                                    // Remove ALL multiple preferences when selecting a participation right\r\n                                                    const allMultiples = liquidationOptions.multiplePreferences\r\n                                                      .map(o => o.value);\r\n\r\n                                                    // Remove all multiple preferences\r\n                                                    updatedSelection = updatedSelection.filter(v => !allMultiples.includes(v));\r\n\r\n                                                    // Remove N/A and OTHER if selecting participation right\r\n                                                    updatedSelection = updatedSelection.filter(v => v !== \"N/A\" && v !== \"OTHER\");\r\n\r\n                                                    // For participation rights, allow multiple selection except for N/A\r\n                                                    if (updatedSelection.includes(opt.value)) {\r\n                                                      updatedSelection = updatedSelection.filter(v => v !== opt.value);\r\n                                                    } else {\r\n                                                      updatedSelection.push(opt.value);\r\n                                                    }\r\n                                                  }\r\n\r\n                                                  handleInputChange(\"liquidation\", updatedSelection);\r\n\r\n                                                  if (errors.liquidation) {\r\n                                                    setErrors((prev) => ({\r\n                                                      ...prev,\r\n                                                      liquidation: \"\",\r\n                                                    }));\r\n                                                  }\r\n                                                }}\r\n                                              >\r\n                                                <div className=\"form-check\">\r\n                                                  <input\r\n                                                    type=\"checkbox\"\r\n                                                    name=\"participationRights\"\r\n                                                    value={opt.value}\r\n                                                    checked={formData?.liquidation?.includes(opt.value) || false}\r\n                                                    onChange={() => { }}\r\n                                                    className=\"form-check-input\"\r\n                                                  />\r\n                                                  <label className=\"form-check-label fw-medium\">\r\n                                                    {opt.label}\r\n                                                  </label>\r\n                                                </div>\r\n                                                <p className=\"text-muted small mb-0 mt-2\">\r\n                                                  {opt.description}\r\n                                                </p>\r\n                                              </div>\r\n                                            </div>\r\n                                          ))}\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n\r\n                                    {/* Rest of the code remains same... */}\r\n                                  </div>\r\n\r\n                                  {/* Liquidation Preference Information */}\r\n                                  <div className=\"alert alert-info mt-4\">\r\n                                    <strong>Understanding Liquidation Preferences (For Preferred Equity Only):</strong>\r\n                                    <ul className=\"mb-0 mt-2 small\">\r\n                                      <li><strong>Applies to:</strong> Preferred Stock only (not Common Stock, SAFEs, or Venture Debt)</li>\r\n                                      <li><strong>SAFE/Convertible Notes:</strong> Get preferences only when they convert to Preferred Stock</li>\r\n                                      <li><strong>1x Preference:</strong> Basic protection - get investment back first</li>\r\n                                      <li><strong>Multiple Preference:</strong> Get 2x, 3x, etc. of investment back first</li>\r\n                                      <li><strong>Participating:</strong> Get preference amount AND share remaining proceeds</li>\r\n                                      <li><strong>Non-Participating:</strong> Choose between preference OR converting to common shares</li>\r\n                                      <li><strong>Capped Participating:</strong> Participation stops at a certain multiple</li>\r\n                                    </ul>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                            </>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                // For Round 0, skip validation and navigate directly\r\n                                if (isFirstRound) {\r\n                                  navigateToSection('next');\r\n                                  return;\r\n                                }\r\n\r\n                                // Validate before proceeding for other rounds\r\n                                const newErrors = {};\r\n\r\n                                // Check if at least one liquidation option is selected\r\n                                if (formData.liquidation.length === 0) {\r\n                                  newErrors.liquidation = \"Please select a liquidation preference type\";\r\n                                }\r\n\r\n                                // Check if OTHER is selected but the text input is empty\r\n                                if (formData.liquidation.includes(\"OTHER\")) {\r\n                                  if (!formData.liquidationOther || !formData.liquidationOther.trim()) {\r\n                                    newErrors.liquidationOther = \"This field is required\";\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to the first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid, .border-danger\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  // Clear errors if validation passes\r\n                                  setErrors({});\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {activeSection === \"convertible\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                              \"rights\",\r\n                              \"liquidation\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">\r\n                            {isFirstRound ? \"Round 0 - Share Convertibility\" : \"Convertible Features\"}\r\n                          </h3>\r\n\r\n                          {/* ROUND 0 - Founder Share Convertibility */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"round-zero-content\">\r\n                              <div className=\"alert alert-info mb-4\">\r\n                                <strong>Round 0 Information:</strong> Founder shares are typically common shares\r\n                                and may have specific conversion terms in your incorporation documents.\r\n                              </div>\r\n\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Are Founder Shares Convertible?{\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>For Round 0 (Founder Shares):</strong> Indicate if founder shares\r\n                                      can be converted to other share classes, typically to preferred shares\r\n                                      during future investment rounds.\r\n                                      <br />\r\n                                      <strong>Common Scenarios:</strong>\r\n                                      <br /> <strong>No:</strong> Founder shares remain as common shares\r\n                                      <br /> <strong>Yes:</strong> Founder shares can convert to preferred shares\r\n                                      under specific conditions (rare)\r\n                                      <br />\r\n                                      <strong>Note:</strong> Most founder shares are common shares and do not convert.\r\n                                      Conversion typically applies to investor instruments like convertible notes or SAFEs.\r\n                                    </div>\r\n                                  </span>\r\n                                </label>\r\n                                <div className=\"d-flex gap-3\">\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"convertible\"\r\n                                      value=\"Yes\"\r\n                                      checked={formData.convertible === \"Yes\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"convertible\", \"Yes\");\r\n                                        if (errors.convertible) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            convertible: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className=\"form-check-input\"\r\n                                    />\r\n                                    <label className=\"form-check-label\">Yes</label>\r\n                                  </div>\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"convertible\"\r\n                                      value=\"No\"\r\n                                      checked={formData.convertible === \"No\" || formData.convertible === \"\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"convertible\", \"No\");\r\n                                        if (errors.convertible) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            convertible: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className=\"form-check-input\"\r\n                                    />\r\n                                    <label className=\"form-check-label\">No</label>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"form-text\">\r\n                                  Most founder shares are common shares and are not convertible. Select \"No\" unless your incorporation documents specify otherwise.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Show conversion details only if Yes for Round 0 */}\r\n                              {formData.convertible === \"Yes\" && (\r\n                                <div className=\"mb-4 p-3 border rounded bg-light\">\r\n                                  <h6>Founder Share Conversion Details</h6>\r\n                                  <div className=\"mb-3\">\r\n                                    <label className=\"form-label fw-semibold\">\r\n                                      Conversion Conditions\r\n                                    </label>\r\n                                    <textarea\r\n                                      placeholder=\"Describe the conditions under which founder shares can convert (e.g., automatic conversion upon qualified financing, voluntary conversion option)\"\r\n                                      className=\"textarea_input\"\r\n                                      rows=\"3\"\r\n                                      value={formData.convertibleType || \"\"}\r\n                                      onChange={(e) => handleInputChange(\"convertibleType\", e.target.value)}\r\n                                    />\r\n                                    <div className=\"form-text\">\r\n                                      Example: \"Founder common shares automatically convert to Series A preferred shares upon closing of a $1M+ financing round.\"\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n\r\n                              {/* Round 0 Convertibility Information */}\r\n                              <div className=\"alert alert-warning mt-3\">\r\n                                <strong>Note about Founder Share Convertibility:</strong>\r\n                                <ul className=\"mb-0 mt-2 small\">\r\n                                  <li>Founder shares are typically common shares and remain as common shares</li>\r\n                                  <li>Conversion features are more common for investor instruments (SAFEs, convertible notes)</li>\r\n                                  <li>If your incorporation documents don't mention conversion, select \"No\"</li>\r\n                                  <li>Consult your legal advisor if unsure about conversion terms</li>\r\n                                </ul>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Investor Convertible Features */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Shares are convertible{\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>What it is:</strong> Indicate the conditions under which the security,\r\n                                      typically a convertible note or SAFE, automatically or optionally converts into\r\n                                      another class of shares, most commonly Common Stock.\r\n                                      <br />\r\n                                      <strong>Why it matters:</strong> Impacts equity dilution, IPO readiness, and\r\n                                      governance transitions. This is key in modelling cap table evolution.\r\n                                      <br />\r\n                                      <strong>How to fill it:</strong> Yes/No + trigger mechanisms (voluntary, automatic, conditional)\r\n                                      <br />\r\n                                      <strong>Common Convertible Instruments:</strong>\r\n                                      <br /> <strong>Convertible Notes:</strong> Debt that converts to equity\r\n                                      <br /> <strong>SAFEs:</strong> Simple Agreement for Future Equity\r\n                                      <br /> <strong>Preferred Stock:</strong> May convert to common upon IPO\r\n                                    </div>\r\n                                  </span>{\" \"}\r\n                                  <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                </label>\r\n                                <div className=\"d-flex gap-3\">\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"convertible\"\r\n                                      value=\"Yes\"\r\n                                      checked={formData.convertible === \"Yes\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"convertible\", \"Yes\");\r\n                                        if (errors.convertible) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            convertible: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className={`form-check-input ${errors.convertible ? \"is-invalid\" : \"\"}`}\r\n                                    />\r\n                                    <label className=\"form-check-label\">Yes</label>\r\n                                  </div>\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"convertible\"\r\n                                      value=\"No\"\r\n                                      checked={formData.convertible === \"No\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"convertible\", \"No\");\r\n                                        if (errors.convertible) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            convertible: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className={`form-check-input ${errors.convertible ? \"is-invalid\" : \"\"}`}\r\n                                    />\r\n                                    <label className=\"form-check-label\">No</label>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {errors.convertible && (\r\n                                  <div className=\"text-danger small mt-1\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.convertible}\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Show only if YES for investment rounds */}\r\n                              {formData.convertible === \"Yes\" && (\r\n                                <div className=\"mb-4\">\r\n                                  <label className=\"form-label fw-semibold\">\r\n                                    Convertible Type{\" \"}\r\n                                    <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                  </label>\r\n                                  <div className=\"row mt-2\">\r\n                                    {[\"Voluntary\", \"Automatic\", \"Conditional\"].map((opt) => (\r\n                                      <div key={opt} className=\"col-md-4 mb-3\">\r\n                                        <div\r\n                                          className={`form-check-card p-3 border rounded-3 cursor-pointer h-100 ${formData.convertibleType === opt\r\n                                            ? \"bg-light\"\r\n                                            : errors.convertibleType\r\n                                              ? \"border-danger\"\r\n                                              : \"border-gray-300\"\r\n                                            }`}\r\n                                          onClick={() => {\r\n                                            handleInputChange(\"convertibleType\", opt);\r\n                                            if (errors.convertibleType) {\r\n                                              setErrors((prev) => ({\r\n                                                ...prev,\r\n                                                convertibleType: \"\",\r\n                                              }));\r\n                                            }\r\n                                          }}\r\n                                        >\r\n                                          <div className=\"form-check\">\r\n                                            <input\r\n                                              type=\"radio\"\r\n                                              name=\"convertibleType\"\r\n                                              value={opt}\r\n                                              checked={formData.convertibleType === opt}\r\n                                              onChange={() => {\r\n                                                handleInputChange(\"convertibleType\", opt);\r\n                                                if (errors.convertibleType) {\r\n                                                  setErrors((prev) => ({\r\n                                                    ...prev,\r\n                                                    convertibleType: \"\",\r\n                                                  }));\r\n                                                }\r\n                                              }}\r\n                                              className=\"form-check-input\"\r\n                                            />\r\n                                            <label className=\"form-check-label fw-medium\">\r\n                                              {opt}\r\n                                            </label>\r\n                                          </div>\r\n                                          <p className=\"text-muted small mb-0 mt-2\">\r\n                                            {opt === \"Voluntary\" && \"Investor chooses when to convert\"}\r\n                                            {opt === \"Automatic\" && \"Automatic conversion upon specific triggers\"}\r\n                                            {opt === \"Conditional\" && \"Conversion based on meeting certain conditions\"}\r\n                                          </p>\r\n                                        </div>\r\n                                      </div>\r\n                                    ))}\r\n                                  </div>\r\n\r\n                                  {errors.convertibleType && (\r\n                                    <div className=\"text-danger small mt-1\">\r\n                                      <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                      {errors.convertibleType}\r\n                                    </div>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                const newErrors = {};\r\n\r\n                                if (isFirstRound) {\r\n                                  // ROUND 0 VALIDATION - Convertible is optional for founder shares\r\n                                  // No validation needed, can be empty or \"No\"\r\n                                  if (formData.convertible === \"Yes\" && !formData.convertibleType) {\r\n                                    newErrors.convertibleType = \"Please describe the conversion conditions\";\r\n                                  }\r\n                                } else {\r\n                                  // OTHER ROUNDS VALIDATION - Convertible is important for investors\r\n                                  if (!formData.convertible) {\r\n                                    newErrors.convertible = \"Please select Yes or No\";\r\n                                  }\r\n                                  if (formData.convertible === \"Yes\" && !formData.convertibleType) {\r\n                                    newErrors.convertibleType = \"Please select Voluntary, Automatic or Conditional\";\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid, .border-danger\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n\r\n                                  if (isFirstRound) {\r\n                                    navigateToSection('next'); // Skip term sheet and subscription for Round 0\r\n                                  } else {\r\n                                    navigateToSection('next');\r\n                                  }\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {activeSection === \"voting\" && !isFirstRound && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                              \"rights\",\r\n                              \"liquidation\",\r\n                              \"convertible\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">\r\n                            {isFirstRound ? \"Round 0 - Founder Voting Rights\" : \"Shareholders Voting Rights\"}\r\n                          </h3>\r\n\r\n                          {/* ROUND 0 - Founder Voting Rights */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"round-zero-content\">\r\n                              <div className=\"alert alert-info mb-4\">\r\n                                <strong>Round 0 Information:</strong> Founder shares typically have voting rights as per your incorporation documents.\r\n                              </div>\r\n\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Do Founder Shares Have Voting Rights?{\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>For Round 0 (Founder Shares):</strong> Indicate whether founder shares\r\n                                      carry voting rights for company decisions, board appointments, and major corporate actions.\r\n                                      <br />\r\n                                      <strong>Common Founder Voting Rights:</strong>\r\n                                      <br /> <strong>Yes:</strong> Founders can vote on major company decisions\r\n                                      <br /> <strong>No:</strong> Founders have non-voting shares (rare for founders)\r\n                                      <br />\r\n                                      <strong>Typical Scenario:</strong> Most founder shares have full voting rights\r\n                                      allowing participation in key decisions like:\r\n                                      <br /> Board of directors elections\r\n                                      <br /> Major corporate transactions\r\n                                      <br /> Approval of future funding rounds\r\n                                      <br /> Changes to company bylaws\r\n                                    </div>\r\n                                  </span>\r\n                                </label>\r\n                                <div className=\"d-flex gap-3\">\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"voting\"\r\n                                      value=\"Yes\"\r\n                                      checked={formData.voting === \"Yes\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"voting\", \"Yes\");\r\n                                        if (errors.voting) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            voting: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className=\"form-check-input\"\r\n                                    />\r\n                                    <label className=\"form-check-label\">Yes</label>\r\n                                  </div>\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"voting\"\r\n                                      value=\"No\"\r\n                                      checked={formData.voting === \"No\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"voting\", \"No\");\r\n                                        if (errors.voting) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            voting: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className=\"form-check-input\"\r\n                                    />\r\n                                    <label className=\"form-check-label\">No</label>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"form-text\">\r\n                                  Most founder shares have voting rights. Select \"Yes\" unless your incorporation documents specify non-voting shares.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Founder Voting Details */}\r\n                              {formData.voting === \"Yes\" && (\r\n                                <div className=\"mb-4 p-3 border rounded bg-light\">\r\n                                  <h6>Founder Voting Rights Details</h6>\r\n                                  <div className=\"mb-3\">\r\n                                    <label className=\"form-label\">\r\n                                      Voting Power Distribution\r\n                                    </label>\r\n                                    <div className=\"table-responsive\">\r\n                                      <table className=\"table table-sm table-bordered\">\r\n                                        <thead>\r\n                                          <tr>\r\n                                            <th>Founder</th>\r\n                                            <th>Shares</th>\r\n                                            <th>Voting Power</th>\r\n                                          </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                          {foundersData.map((founder, index) => {\r\n                                            const shares = parseInt(founder.shares) || 0;\r\n                                            const totalShares = calculateTotalShares();\r\n                                            const votingPercentage = totalShares > 0 ? ((shares / totalShares) * 100).toFixed(1) : '0.0';\r\n                                            return (\r\n                                              <tr key={index}>\r\n                                                <td>Founder {index + 1}</td>\r\n                                                <td>{shares.toLocaleString()}</td>\r\n                                                <td>{votingPercentage}%</td>\r\n                                              </tr>\r\n                                            );\r\n                                          })}\r\n                                        </tbody>\r\n                                      </table>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n\r\n                              {/* Round 0 Voting Information */}\r\n                              <div className=\"alert alert-warning mt-3\">\r\n                                <strong>About Founder Voting Rights:</strong>\r\n                                <ul className=\"mb-0 mt-2 small\">\r\n                                  <li>Founder voting rights are typically proportional to share ownership</li>\r\n                                  <li>Each share usually equals one vote (one-share-one-vote principle)</li>\r\n                                  <li>Voting rights allow participation in major corporate decisions</li>\r\n                                  <li>Some decisions may require supermajority votes for extra protection</li>\r\n                                </ul>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Investor Voting Rights */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold\">\r\n                                  Shareholders Voting Rights{\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>What it is:</strong> Determines how much influence equity holders\r\n                                      wield in company decisions, including board appointments, strategic pivots,\r\n                                      and future fundraising.\r\n                                      <br />\r\n                                      <strong>Why it matters:</strong> Control rights shape governance  founders\r\n                                      often trade economic upside for retaining voting control. Investors may\r\n                                      require protective provisions and veto rights.\r\n                                      <br />\r\n                                      <strong>Investor Voting Scenarios:</strong>\r\n                                      <br /> <strong>Yes:</strong> Investors have voting rights (common for preferred shares)\r\n                                      <br /> <strong>No:</strong> Investors have non-voting shares (rare for equity investors)\r\n                                      <br /> <strong>Protective Provisions:</strong> Veto rights on specific major decisions\r\n                                      <br /> <strong>Board Seats:</strong> Right to appoint board directors\r\n                                    </div>\r\n                                  </span>{\" \"}\r\n                                  <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                </label>\r\n                                <div className=\"d-flex gap-3\">\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"voting\"\r\n                                      value=\"Yes\"\r\n                                      checked={formData.voting === \"Yes\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"voting\", \"Yes\");\r\n                                        if (errors.voting) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            voting: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className={`form-check-input ${errors.voting ? \"is-invalid\" : \"\"}`}\r\n                                    />\r\n                                    <label className=\"form-check-label\">Yes</label>\r\n                                  </div>\r\n                                  <div className=\"form-check\">\r\n                                    <input\r\n                                      type=\"radio\"\r\n                                      name=\"voting\"\r\n                                      value=\"No\"\r\n                                      checked={formData.voting === \"No\"}\r\n                                      onChange={() => {\r\n                                        handleInputChange(\"voting\", \"No\");\r\n                                        if (errors.voting) {\r\n                                          setErrors((prev) => ({\r\n                                            ...prev,\r\n                                            voting: \"\",\r\n                                          }));\r\n                                        }\r\n                                      }}\r\n                                      className={`form-check-input ${errors.voting ? \"is-invalid\" : \"\"}`}\r\n                                    />\r\n                                    <label className=\"form-check-label\">No</label>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {errors.voting && (\r\n                                  <div className=\"text-danger small mt-1\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.voting}\r\n                                  </div>\r\n                                )}\r\n\r\n                                {/* Additional voting details for investment rounds */}\r\n                                {formData.voting === \"Yes\" && (\r\n                                  <div className=\"mt-3 p-3 bg-light rounded\">\r\n                                    <h6>Investor Voting Rights Details</h6>\r\n                                    <div className=\"form-text\">\r\n                                      <strong>Common Investor Voting Rights Include:</strong>\r\n                                      <br />\r\n                                      <div className=\"alert alert-warning p-2 mt-2 mb-2\">\r\n                                        <strong className=\"d-block text-center\">\r\n                                          <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n                                          Please connect with your Legal Council and make sure that all your voting rights of this round are included in term sheet as subscription document\r\n                                        </strong>\r\n                                      </div>\r\n                                      <ul className=\"mb-0 mt-2\">\r\n                                        <li>May included Election of board directors</li>\r\n                                        <li>May included Approval of major corporate transactions</li>\r\n                                        <li>May included Changes to company charter or bylaws</li>\r\n                                        <li>May included Issuance of new equity securities</li>\r\n                                        <li>May included Approval of annual budgets</li>\r\n                                      </ul>\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n\r\n                              {/* Investor Voting Information */}\r\n                              {/* <div className=\"alert alert-info mt-3\">\r\n                                <strong>Note about Investor Voting Rights:</strong>\r\n                                <ul className=\"mb-0 mt-2 small\">\r\n                                  <li>Preferred shareholders typically have voting rights on as-converted basis</li>\r\n                                  <li>Some voting matters may require separate class votes</li>\r\n                                  <li>Protective provisions often give veto rights on key decisions</li>\r\n                                  <li>Voting agreements may pool votes for board representation</li>\r\n                                </ul>\r\n                              </div> */}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                const newErrors = {};\r\n\r\n                                if (isFirstRound) {\r\n                                  // ROUND 0 VALIDATION - Voting rights are important but default to \"Yes\"\r\n                                  // No strict validation needed as most founder shares have voting rights\r\n                                  if (!formData.voting) {\r\n                                    // Auto-set to \"Yes\" if not selected (most common case)\r\n                                    handleInputChange(\"voting\", \"Yes\");\r\n                                  }\r\n                                } else {\r\n                                  // OTHER ROUNDS VALIDATION - Voting rights are required for investor shares\r\n                                  if (!formData.voting) {\r\n                                    newErrors.voting = \"Please select Yes or No\";\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\".is-invalid, .border-danger\");\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n\r\n                                  // Navigate to appropriate next section\r\n                                  if (isFirstRound) {\r\n                                    navigateToSection('next'); // Skip term sheet and subscription for Round 0\r\n                                  } else {\r\n                                    navigateToSection('next');\r\n                                  }\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {activeSection === \"termsheet\" && !isFirstRound && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                              \"rights\",\r\n                              \"liquidation\",\r\n                              \"convertible\",\r\n                              \"voting\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">Investment Documents - Term Sheet</h3>\r\n\r\n                          {/* ROUND 0 - Skip this section entirely */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"text-center py-5\">\r\n                              <div className=\"alert alert-info\">\r\n                                <strong>Round 0 - No Term Sheet Required</strong>\r\n                                <p className=\"mb-0 mt-2\">\r\n                                  This is the incorporation round with founder shares only.\r\n                                  Term sheets are typically used for investor funding rounds.\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"mt-4\">\r\n                                <button\r\n                                  className=\"global_btn\"\r\n                                  onClick={() => navigateToSection('next')}\r\n                                >\r\n                                  Continue to Notes Section\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Show term sheet upload */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold d-flex align-items-center\">\r\n                                  Upload Your Term Sheet(s){\" \"}\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      A term sheet is a non-binding document that sets the stage for an investment\r\n                                      by outlining the essential terms of the deal: valuation, share type, governance\r\n                                      rights, investor protections, and expected post-money ownership. It is the\r\n                                      'strategic handshake' between founders and investors before drafting legal documents.\r\n                                      <br />\r\n                                      <br />\r\n                                      <strong>Key Elements in Term Sheets:</strong>\r\n                                      <br /> Valuation (pre-money and post-money)\r\n                                      <br /> Investment amount and share price\r\n                                      <br /> Liquidation preferences\r\n                                      <br /> Voting rights and protective provisions\r\n                                      <br /> Board composition\r\n                                      <br /> Anti-dilution provisions\r\n                                      <br /> Dividend preferences\r\n                                    </div>\r\n                                  </span>\r\n                                  <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                </label>\r\n\r\n                                <input\r\n                                  type=\"file\"\r\n                                  multiple\r\n                                  accept=\".pdf,.doc,.docx,.txt\"\r\n                                  onChange={(e) => {\r\n                                    handleInputChange(\r\n                                      \"termsheetFile\",\r\n                                      Array.from(e.target.files)\r\n                                    );\r\n                                    if (errors.termsheetFile) {\r\n                                      setErrors((prev) => ({\r\n                                        ...prev,\r\n                                        termsheetFile: \"\",\r\n                                      }));\r\n                                    }\r\n                                  }}\r\n                                  className={`textarea_input ${errors.termsheetFile ? \"is-invalid\" : \"\"}`}\r\n                                />\r\n\r\n                                {/* Show selected file names */}\r\n                                {formData.termsheetFile && formData.termsheetFile.length > 0 && (\r\n                                  <div className=\"mt-2\">\r\n                                    <strong>Selected Files:</strong>\r\n                                    <ul className=\"small text-muted mt-1 mb-0\">\r\n                                      {formData.termsheetFile.map((file, index) => (\r\n                                        <li key={index}>\r\n                                          <strong>{file.name}</strong>\r\n                                        </li>\r\n                                      ))}\r\n                                    </ul>\r\n                                  </div>\r\n                                )}\r\n\r\n                                {errors.termsheetFile && (\r\n                                  <div className=\"text-danger small mt-1\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.termsheetFile}\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"form-text\">\r\n                                  Supported formats: PDF, DOC, DOCX, TXT. Maximum file size: 10MB per file.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Term Sheet Information */}\r\n                              {/* <div className=\"alert alert-info mt-3\">\r\n                                <strong>About Term Sheets:</strong>\r\n                                <ul className=\"mb-0 mt-2 small\">\r\n                                  <li>Term sheets are non-binding but set the framework for the deal</li>\r\n                                  <li>They outline key economic and control terms</li>\r\n                                  <li>Typically negotiated between company and lead investor</li>\r\n                                  <li>Forms the basis for legal documentation</li>\r\n                                  <li>Exclusivity periods are common in term sheets</li>\r\n                                </ul>\r\n                              </div> */}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                // For Round 0, skip validation and navigate directly to notes\r\n                                if (isFirstRound) {\r\n                                  navigateToSection('next');\r\n                                  return;\r\n                                }\r\n\r\n                                // Validate before proceeding for other rounds\r\n                                const newErrors = {};\r\n\r\n                                if (!formData.termsheetFile || formData.termsheetFile.length === 0) {\r\n                                  newErrors.termsheetFile = \"Please upload at least one term sheet file\";\r\n                                } else {\r\n                                  // Validate file types and sizes\r\n                                  const validExtensions = [\"pdf\", \"doc\", \"docx\", \"txt\"];\r\n                                  const maxSize = 10 * 1024 * 1024; // 10MB\r\n\r\n                                  for (const file of formData.termsheetFile) {\r\n                                    const fileExtension = file.name.split(\".\").pop().toLowerCase();\r\n\r\n                                    //  Validate extension\r\n                                    if (!validExtensions.includes(fileExtension)) {\r\n                                      newErrors.termsheetFile =\r\n                                        \"Invalid file type. Please upload PDF, DOC, DOCX, or TXT files only\";\r\n                                      break;\r\n                                    }\r\n\r\n                                    //  Validate file size\r\n                                    if (file.size > maxSize) {\r\n                                      newErrors.termsheetFile = `File ${file.name} exceeds 10MB size limit`;\r\n                                      break;\r\n                                    }\r\n                                  }\r\n                                }\r\n\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\r\n                                      \".is-invalid, .border-danger\"\r\n                                    );\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      {activeSection === \"subscription\" && !isFirstRound && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                              \"rights\",\r\n                              \"liquidation\",\r\n                              \"convertible\",\r\n                              \"voting\",\r\n                              \"termsheet\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">Investment Documents - Subscription</h3>\r\n\r\n                          {/* ROUND 0 - Skip this section entirely */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"text-center py-5\">\r\n                              <div className=\"alert alert-info\">\r\n                                <strong>Round 0 - No Subscription Documents Required</strong>\r\n                                <p className=\"mb-0 mt-2\">\r\n                                  This is the incorporation round with founder shares only.\r\n                                  Subscription documents are used for investor funding rounds.\r\n                                </p>\r\n                              </div>\r\n                              <div className=\"mt-4\">\r\n                                <button\r\n                                  className=\"global_btn\"\r\n                                  onClick={() => navigateToSection('next')}\r\n                                >\r\n                                  Continue to Notes Section\r\n                                </button>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Show subscription document upload */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold d-flex align-items-center\">\r\n                                  Upload Your Subscription Documents\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      Subscription documents are the formal, legally binding agreements that an investor\r\n                                      signs to purchase equity in a company after a term sheet has been agreed upon.\r\n                                      These include the Subscription Agreement, which outlines how many shares the\r\n                                      investor is buying, at what price, and under what terms.\r\n                                      <br />\r\n                                      <br />\r\n                                      <strong>Common Subscription Documents:</strong>\r\n                                      <br /> <strong>Subscription Agreement:</strong> Primary investment contract\r\n                                      <br /> <strong>Shareholders' Agreement:</strong> Governance and rights\r\n                                      <br /> <strong>Investor Rights Agreement:</strong> Information and registration rights\r\n                                      <br /> <strong>Board Consent:</strong> Formal board approval of the round\r\n                                      <br /> <strong>Side Letters:</strong> Special terms for specific investors\r\n                                      <br />\r\n                                      <br />\r\n                                      These documents legally commit the investor to the deal and obligate the company\r\n                                      to issue shares in exchange for capital.\r\n                                    </div>\r\n                                  </span>\r\n                                  <span style={{ color: \"var(--primary)\" }}>*</span>\r\n                                </label>\r\n\r\n                                <input\r\n                                  type=\"file\"\r\n                                  multiple\r\n                                  accept=\".pdf,.doc,.docx,.txt\"\r\n                                  onChange={(e) => {\r\n                                    handleInputChange(\r\n                                      \"subscriptiondocument\",\r\n                                      Array.from(e.target.files)\r\n                                    );\r\n                                    if (errors.subscriptiondocument) {\r\n                                      setErrors((prev) => ({\r\n                                        ...prev,\r\n                                        subscriptiondocument: \"\",\r\n                                      }));\r\n                                    }\r\n                                  }}\r\n                                  className={`textarea_input ${errors.subscriptiondocument ? \"is-invalid\" : \"\"}`}\r\n                                />\r\n\r\n                                {/* Show selected file names */}\r\n                                {formData.subscriptiondocument && formData.subscriptiondocument.length > 0 && (\r\n                                  <div className=\"mt-2\">\r\n                                    <strong>Selected Files:</strong>\r\n                                    <ul className=\"small text-muted mt-1 mb-0\">\r\n                                      {formData.subscriptiondocument.map((file, index) => (\r\n                                        <li key={index}>\r\n                                          <strong>{file.name}</strong>\r\n                                        </li>\r\n                                      ))}\r\n                                    </ul>\r\n                                  </div>\r\n                                )}\r\n\r\n                                {errors.subscriptiondocument && (\r\n                                  <div className=\"text-danger small mt-1\">\r\n                                    <i className=\"bi bi-exclamation-circle me-1\"></i>\r\n                                    {errors.subscriptiondocument}\r\n                                  </div>\r\n                                )}\r\n\r\n                                <div className=\"form-text\">\r\n                                  Upload all relevant subscription documents. Supported formats: PDF, DOC, DOCX, TXT. Maximum file size: 10MB per file.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Subscription Documents Information */}\r\n                              {/* <div className=\"alert alert-info mt-3\">\r\n                                <strong>About Subscription Documents:</strong>\r\n                                <ul className=\"mb-0 mt-2 small\">\r\n                                  <li>These are legally binding contracts that finalize the investment</li>\r\n                                  <li>Typically include representations, warranties, and covenants</li>\r\n                                  <li>Must be signed by both company and investors</li>\r\n                                  <li>Funds are transferred upon execution of these documents</li>\r\n                                  <li>Shares are issued after documents are fully executed</li>\r\n                                </ul>\r\n                              </div> */}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              onClick={() => {\r\n                                // For Round 0, skip validation and navigate directly to notes\r\n                                if (isFirstRound) {\r\n                                  navigateToSection('next');\r\n                                  return;\r\n                                }\r\n\r\n                                // Validate before proceeding for other rounds\r\n                                const newErrors = {};\r\n\r\n                                if (\r\n                                  !formData.subscriptiondocument ||\r\n                                  formData.subscriptiondocument.length === 0\r\n                                ) {\r\n                                  newErrors.subscriptiondocument =\r\n                                    \"Please upload at least one subscription document\";\r\n                                } else {\r\n                                  // Validate file extensions and sizes safely\r\n                                  const validExtensions = [\"pdf\", \"doc\", \"docx\", \"txt\"];\r\n                                  const maxSize = 10 * 1024 * 1024; // 10MB\r\n\r\n                                  for (const file of formData.subscriptiondocument) {\r\n                                    const fileName = file?.name || \"\";\r\n                                    const fileExtension = fileName.split(\".\").pop()?.toLowerCase() || \"\";\r\n\r\n                                    //  Validate extension instead of MIME type\r\n                                    if (!validExtensions.includes(fileExtension)) {\r\n                                      newErrors.subscriptiondocument =\r\n                                        \"Invalid file type. Please upload PDF, DOC, DOCX, or TXT files only\";\r\n                                      break;\r\n                                    }\r\n\r\n                                    //  Validate file size\r\n                                    if (file.size > maxSize) {\r\n                                      newErrors.subscriptiondocument = `File ${file.name} exceeds 10MB size limit`;\r\n                                      break;\r\n                                    }\r\n                                  }\r\n                                }\r\n\r\n                                //  Handle validation result\r\n                                if (Object.keys(newErrors).length > 0) {\r\n                                  setErrors(newErrors);\r\n\r\n                                  // Scroll to first error\r\n                                  setTimeout(() => {\r\n                                    const firstErrorElement = document.querySelector(\r\n                                      \".is-invalid, .border-danger\"\r\n                                    );\r\n                                    if (firstErrorElement) {\r\n                                      firstErrorElement.scrollIntoView({\r\n                                        behavior: \"smooth\",\r\n                                        block: \"center\",\r\n                                      });\r\n                                    }\r\n                                  }, 100);\r\n                                } else {\r\n                                  setErrors({});\r\n                                  navigateToSection('next');\r\n                                }\r\n                              }}\r\n                            >\r\n                              Save and Continue\r\n                            </button>\r\n\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {activeSection === \"notes\" && (\r\n                        <div className=\"section-content p-4 border rounded-3 shadow-sm bg-white\">\r\n                          <PreviousSection\r\n                            formData={formData}\r\n                            otherText={otherText}\r\n                            selected={selected}\r\n                            visibleFields={[\r\n                              \"shareclass\",\r\n                              \"description\",\r\n                              \"instrument\",\r\n                              \"roundsize\",\r\n                              \"issuedshares\",\r\n                              \"rights\",\r\n                              \"liquidation\",\r\n                              \"convertible\",\r\n                              \"voting\",\r\n                              \"termsheet\",\r\n                              \"subscription\",\r\n                            ]}\r\n                            isFirstRound={isFirstRound}\r\n                            foundersData={foundersData}\r\n                            calculateTotalShares={calculateTotalShares}\r\n                            calculateTotalValue={calculateTotalValue}\r\n                            founderCount={founderCount}\r\n                          />\r\n\r\n                          <h3 className=\"h5 mb-4 text-gray-800\">\r\n                            {isFirstRound ? \"Round 0 - Additional Notes\" : \"General Notes About the Round\"}\r\n                          </h3>\r\n\r\n                          {/* ROUND 0 - Founder Round Notes */}\r\n                          {isFirstRound ? (\r\n                            <div className=\"round-zero-content\">\r\n                              <div className=\"alert alert-info mb-4\">\r\n                                <strong>Round 0 Information:</strong> Add any additional notes about your company's incorporation and founder share allocation.\r\n                              </div>\r\n\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold d-flex align-items-center\">\r\n                                  Incorporation & Founder Notes\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>For Round 0 (Founder Shares):</strong> Add any additional information\r\n                                      about your company's incorporation that wasn't captured in previous sections.\r\n                                      <br />\r\n                                      <br />\r\n                                      <strong>What to include:</strong>\r\n                                      <br /> Special founder arrangements or vesting schedules\r\n                                      <br /> Notes about the incorporation process or timeline\r\n                                      <br /> Any unique terms from your incorporation documents\r\n                                      <br /> Future plans for the company\r\n                                      <br /> Additional context about founder relationships\r\n                                      <br /> Any restrictions or special conditions on founder shares\r\n                                    </div>\r\n                                  </span>\r\n                                </label>\r\n\r\n                                <textarea\r\n                                  placeholder=\"Enter any additional notes about company incorporation, founder arrangements, or special terms from your incorporation documents...\"\r\n                                  className=\"textarea_input\"\r\n                                  rows=\"6\"\r\n                                  value={formData.generalnotes}\r\n                                  onChange={(e) =>\r\n                                    handleInputChange(\"generalnotes\", e.target.value)\r\n                                  }\r\n                                />\r\n                                <div className=\"form-text\">\r\n                                  This information helps provide context for your company's founding and initial share structure.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Round 0 Summary Display */}\r\n                              <div className=\"calculation-results p-4 border rounded bg-light mb-4\">\r\n                                <h5>Round 0 - Incorporation Summary</h5>\r\n                                <div className=\"row\">\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Total Shares:</strong> {calculateTotalShares().toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Price Per Share:</strong> ${formData.pricePerShare || '0.00'}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Total Value:</strong> ${calculateTotalValue()}\r\n                                    </div>\r\n                                  </div>\r\n                                  <div className=\"col-md-6\">\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Founders:</strong> {founderCount}\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Share Type:</strong> Common Shares\r\n                                    </div>\r\n                                    <div className=\"mb-2\">\r\n                                      <strong>Voting Rights:</strong> {formData.voting === \"Yes\" ? \"Yes\" : \"No\"}\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Round 0 Completion Information */}\r\n                              <div className=\"alert alert-success mt-3\">\r\n                                <strong>Ready to Complete Round 0</strong>\r\n                                <p className=\"mb-0 mt-2\">\r\n                                  You've successfully entered all the information for your company's incorporation round.\r\n                                  This will serve as the foundation for your cap table and future investment rounds.\r\n                                </p>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            /* OTHER ROUNDS - Investment Round Notes */\r\n                            <div className=\"investment-round-content\">\r\n                              <div className=\"mb-4\">\r\n                                <label className=\"form-label fw-semibold d-flex align-items-center\">\r\n                                  General Notes About the Round\r\n                                  <span className=\"tooltip-icon ms-2\" tabIndex={0}>\r\n                                    <img\r\n                                      className=\"blackdark\"\r\n                                      width=\"15\"\r\n                                      height=\"15\"\r\n                                      src=\"/assets/user/images/question.png\"\r\n                                      alt=\"Tip\"\r\n                                    />\r\n                                    <div\r\n                                      className=\"tooltip-text tool-test-white text-white\"\r\n                                      role=\"tooltip\"\r\n                                    >\r\n                                      <strong>For Investment Rounds:</strong> Add any additional information,\r\n                                      context, or special considerations about this funding round that weren't\r\n                                      captured in previous sections.\r\n                                      <br />\r\n                                      <br />\r\n                                      <strong>What to include:</strong>\r\n                                      <br /> Background on investor negotiations\r\n                                      <br /> Special terms or side agreements\r\n                                      <br /> Timeline and process notes\r\n                                      <br /> Key people involved in the round\r\n                                      <br /> Future plans tied to this funding\r\n                                      <br /> Any unusual or noteworthy aspects of the deal\r\n                                      <br /> Conditions precedent or subsequent\r\n                                    </div>\r\n                                  </span>\r\n                                </label>\r\n\r\n                                <textarea\r\n                                  placeholder=\"Enter any additional notes about the investment round, investor relationships, special terms, or context that would be helpful for future reference...\"\r\n                                  className=\"textarea_input\"\r\n                                  rows=\"6\"\r\n                                  value={formData.generalnotes}\r\n                                  onChange={(e) =>\r\n                                    handleInputChange(\"generalnotes\", e.target.value)\r\n                                  }\r\n                                />\r\n                                <div className=\"form-text\">\r\n                                  These notes will be stored with your round information for future reference and reporting.\r\n                                </div>\r\n                              </div>\r\n\r\n                              {/* Investment Round Summary Information */}\r\n                              {/* <div className=\"alert alert-info mt-3\">\r\n                                <strong>About Investment Round Notes:</strong>\r\n                                <ul className=\"mb-0 mt-2 small\">\r\n                                  <li>Notes are searchable and can be referenced in future rounds</li>\r\n                                  <li>Include any verbal agreements or understandings not in documents</li>\r\n                                  <li>Document the rationale behind key deal terms</li>\r\n                                  <li>Note any investor relationships or strategic considerations</li>\r\n                                  <li>Record any conditions or milestones tied to the investment</li>\r\n                                </ul>\r\n                              </div> */}\r\n                            </div>\r\n                          )}\r\n\r\n                          <div className=\"d-flex justify-content-between gap-2\">\r\n                            <button\r\n                              className=\"close_btn w-fit\"\r\n                              onClick={() => navigateToSection('prev')}\r\n                            >\r\n                              Back\r\n                            </button>\r\n\r\n                            <button\r\n                              className=\"global_btn w-fit\"\r\n                              type=\"button\"\r\n                              onClick={() => {\r\n                                // For both Round 0 and other rounds, proceed to review\r\n                                // Notes are optional, so no validation needed\r\n                                handleReviewpage();\r\n                              }}\r\n                            >\r\n                              {isFirstRound ? \"Complete Round 0\" : \"Save and Review\"}\r\n                            </button>\r\n                          </div>\r\n\r\n                          {/* Progress indicator for Round 0 */}\r\n                          {isFirstRound && (\r\n                            <div className=\"mt-4 pt-3 border-top\">\r\n                              <div className=\"progress\" style={{ height: \"8px\" }}>\r\n                                <div\r\n                                  className=\"progress-bar bg-success\"\r\n                                  role=\"progressbar\"\r\n                                  style={{ width: \"100%\" }}\r\n                                  aria-valuenow={100}\r\n                                  aria-valuemin={0}\r\n                                  aria-valuemax={100}\r\n                                >\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"d-flex justify-content-between mt-2 small text-muted\">\r\n                                <span>Round 0 Setup</span>\r\n                                <span>100% Complete</span>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n\r\n                      {/* Add similar sections for the remaining form fields */}\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </SectionWrapper>\r\n          </div>\r\n        </div >\r\n      </div >\r\n    </Wrapper >\r\n  );\r\n}"],"names":["Recordround","apiUrlRound","API_BASE_URL","apiURLInvestor","countrySymbolList","setCountrysymbollist","useState","CurrencySymbol","setCurrencySymbol","CurrDisplay","setCurrDisplay","errorMsg","seterrorMsg","successMsg","setsuccessMsg","activeSection","setActiveSection","storedUsername","localStorage","getItem","messageAll","setmessageAll","errr","seterrr","userLogin","JSON","parse","id","useParams","ClientIP","setClientIP","records","setrecords","navigate","useNavigate","errors","setErrors","liquidationOther","nameOfRound","shareClassType","shareclassother","instrumentType","customInstrument","issuedshares","dateroundclosed","liquidation","convertible","convertibleType","voting","termsheetFile","subscriptiondocument","common_stock_valuation","preferred_valuation","valuationCap","discountRate","interestRate","repaymentSchedule","hasWarrants_Bank","valuationCap_note","discountRate_note","maturityDate","interestRate_note","exercisedate_bank","pricePerShare","founders","formData","setFormData","liquidationpreferences","description","roundsize","currency","rights","generalnotes","hasWarrants","exercisePrice","expirationDate","warrantRatio","warrantType","hasWarrants_preferred","exercisePrice_preferred","expirationDate_preferred","warrantRatio_preferred","warrantType_preferred","exercisePrice_bank","warrantRatio_bank","warrantType_bank","roundStatus","pre_money","post_money","optionPoolPercent","optionPoolPercent_post","existingShares","isPostEntered","investorPostMoney","isCalculationSource","lastUpdatedField","isFirstRound","setIsFirstRound","founderCount","setFounderCount","foundersData","setFoundersData","shares","shareType","apiURLSignature","apiURLAiFile","existingSharesUse","setexistingSharesUse","useEffect","getAuthorizedSignature","handleCheckPayemt","getexistingShares","async","checkData","axios","post","company_id","companies","headers","Accept","data","results","pricePerShareFromDB","parsedFounderData","foundersDataFromDB","totalShares","console","log","length","rawFounderData","founder_data","startsWith","endsWith","slice","replace","err","error","Array","isArray","parseFloat","totalshares","prev","warn","role","user_id","approve","res","subscriptionActive","updateAlreadySubmitted","lastUpdateDate","getrecords","generateRes","document","title","getEditrecordlist","Editrecords","setEditrecords","getData","round_type","handleInputChange","setSelected","setFirstStepCompleted","instrumentData","instrument_type_data","rawData","updatedFormData","map","file","name","parsed","split","v","trim","filter","field","value","calculateFounderValue","toFixed","selected","otherText","setOtherText","isReviewing","setIsReviewing","fetch","json","ip","getIP","firstStepCompleted","navigateToSection","direction","currentIndex","sections","findIndex","section","getSections","selectedOption","splice","totalSections","activeIndex","progressWidth","Math","round","liquidationOptions","multiplePreferences","label","group","participationRights","otherOptions","localeFormat","setLocaleFormat","getallcountrySymbolList","getcountrySymbolLocal","respo","countryCode","setCountryCode","code","country_code","countryData","find","country","currency_symbol","locale","getLocaleFromCountryCode","isLoading","setIsLoading","checkIfFirstRound","hasExistingRounds","roundCount","updateFounderData","index","updated","calculateTotalShares","reduce","total","founder","parseInt","calculateTotalValue","calculateOwnershipPercentages","percentage","previousRoundOptionPool","setPreviousRoundOptionPool","preMoney","roundSize","postMoneyPool","existing","toLocaleString","isSeriesRound","includes","postMoney","investorOwnershipPercent","sharePrice","newSharesIssued","totalPostShares","newOptionShares","existingOptionPoolPercent","doc4Action","existingOptionShares","foundersSeedShares","foundersSeedPercent","totalNewShares","requiredOptionShares","max","foundersSeedActual","optionPoolActual","investorActual","preMoneyPool","employeeOptionShares","totalPreInvestmentShares","newPostMoney","newInvestorOwnership","newIssuedShares","toString","newSharePrice","setCalculatedValues","postMoneyValuation","setTimeout","calculatedValues","autoFillFromPreviousRound","current_round_id","success","previousData","poolPercent","poolValue","isNaN","OptionPoolFields","_jsxs","className","children","_jsx","style","fontSize","_Fragment","type","readOnly","backgroundColor","cursor","fontWeight","NumericFormat","suffix","decimalScale","fixedDecimalScale","allowNegative","placeholder","onValueChange","values","isCollapsed","setIsCollapsed","Wrapper","ModuleSideNav","TopBar","SectionWrapper","Alertpopup","message","onClose","onClick","DangerAlertPopup","onConfirm","formDataToSend","FormData","append","founderData","totalValue","ownershipBreakdown","stringify","join","forEach","warrant_coverage_percentage","warrant_adjustment_direction","warrant_adjustment_percent","_err$response","_err$response$data","response","handleSubmit","onCancel","position","top","left","width","height","zIndex","display","justifyContent","alignItems","minHeight","class","method","action","dateStr","monthStr","dayStr","yearStr","month","day","year","Date","shouldShowAlert","onChange","e","target","maxLength","_","i","removeFounder","firstName","lastName","email","phone","thousandSeparator","customShareType","shareClass","customShareClass","addFounder","item","currency_code","step","displayShareType","displayShareClass","colSpan","disabled","newErrors","hasFounderShares","hasValidShares","test","every","Object","keys","firstErrorElement","querySelector","scrollIntoView","behavior","block","PreviousSection","visibleFields","tabIndex","src","alt","opt","checked","htmlFor","min","color","Number","rows","toLocaleDateString","f","dateRegex","inputValue","inputDate","today","setHours","_formData$liquidation","_formData$liquidation2","updatedSelection","allParticipationRights","o","otherMultiples","push","_formData$liquidation3","_formData$liquidation4","allMultiples","votingPercentage","multiple","accept","from","files","validExtensions","maxSize","fileExtension","pop","toLowerCase","size","_fileName$split$pop"],"sourceRoot":""}