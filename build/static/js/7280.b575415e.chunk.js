"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[7280],{67280:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var t=a(65043),o=a(82527),r=a(97899),n=a(58786),l=a(68125),i=a(7118),c=a(73002),d=a(41680),p=a(88306),m=a(85e3),x=a(26907),u=a(60184),h=a(86213),g=a(73216),f=a(70579);const b=function(){const{id:e}=(0,g.g)();document.title="Company Detail - Admin";const s="https://capavate.com/api/admin/adminall/",[a,b]=(0,t.useState)(""),[j,y]=(0,t.useState)(""),[v,N]=(0,t.useState)(""),[_,w]=(0,t.useState)(""),[C,S]=((0,g.Zp)(),(0,t.useState)("")),[A,k]=(0,t.useState)("");(0,t.useEffect)((()=>{L()}),[]);const L=async()=>{let a={company_id:e};try{var t=(await h.A.post(s+"totalDocs",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;b(t.total_docs),y(t.total_signatory),S(t.total_investor),k(t.total_shared_reports),w(t.company_name)}catch(o){o.response||(o.request?console.error("Request data:",o.request):console.error("Error message:",o.message))}},[R,q]=(0,t.useState)([]),[T,D]=(0,t.useState)([]),[E,z]=(0,t.useState)("");function I(e){const s=new Date(e);if(isNaN(s))return"";const a=s.getDate(),t=["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()],o=s.getFullYear();return`${t} ${a}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(a)}, ${o}`}const[B,F]=(0,t.useState)(!1),[J,O]=(0,t.useState)(""),W=()=>{F(!1),O("")},$=[{name:"First Name",selector:e=>e.first_name,sortable:!0},{name:"Last Name",selector:e=>e.last_name,sortable:!0},{name:"Email",selector:e=>e.signatory_email,sortable:!0},{name:"Phone",selector:e=>e.signatory_phone,sortable:!0},{name:"Role",selector:e=>e.signatory_role,sortable:!0,cell:e=>(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,f.jsx)("span",{children:e.signatory_role}),(0,f.jsx)(m.Ay,{onClick:()=>(e=>{O(e.signature_role),F(!0)})(e),type:"primary",icon:(0,f.jsx)(u.Ny1,{}),size:"small",children:"View"})]})},{name:"Joined",selector:e=>e.access_status,sortable:!0,cell:e=>{var s,a;const t=e.access_status?e.access_status.charAt(0).toUpperCase()+e.access_status.slice(1):"",o="pending"===(null===(s=e.access_status)||void 0===s?void 0:s.toLowerCase())?"red":"active"===(null===(a=e.access_status)||void 0===a?void 0:a.toLowerCase())?"green":"black";return(0,f.jsx)("span",{style:{color:o},children:t})}}],H=R.filter((e=>{const s=E.toLowerCase();return(e.document_name||"").toLowerCase().includes(s)||I(e.created_at).toLowerCase().includes(s)||(e.download||"").toLowerCase().includes(s)}));(0,t.useEffect)((()=>{M()}),[]);const M=async()=>{let a={company_id:e};try{var t=(await h.A.post(s+"getcompanySignatory",a,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;q(t)}catch(o){o.response||(o.request?console.error("Request data:",o.request):console.error("Error message:",o.message))}},[P,Y]=(0,t.useState)([]),[U,V]=(0,t.useState)([]),[Z,G]=(0,t.useState)(!1),K=(P.filter((e=>{const s=E.toLowerCase();return(e.document_name||"").toLowerCase().includes(s)||I(e.created_at).toLowerCase().includes(s)||(e.download||"").toLowerCase().includes(s)})),{table:{style:{overflow:"visible",minWidth:"100%",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)",borderRadius:"12px",border:"1px solid #e5e7eb"}},headCells:{style:{backgroundColor:"#f9fafb",fontWeight:"600",fontSize:"13px",color:"#374151",textTransform:"uppercase",letterSpacing:"0.5px",padding:"16px 12px",borderBottom:"2px solid #e5e7eb"}},cells:{style:{padding:"14px 12px",fontSize:"14px",color:"#1f2937",backgroundColor:"#ffffff"}},rows:{style:{fontSize:"14px",fontWeight:"500",minHeight:"56px",transition:"background-color 0.15s ease","&:not(:last-of-type)":{borderBottom:"1px solid #f3f4f6"},"&:hover":{backgroundColor:"#f9fafb",cursor:"pointer"}},stripedStyle:{backgroundColor:"#fafafa"}},pagination:{style:{backgroundColor:"#f9fafb",padding:"14px 16px",borderTop:"1px solid #e5e7eb",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",fontSize:"14px",color:"#6b7280"},pageButtonsStyle:{borderRadius:"6px",height:"36px",width:"36px",padding:"8px",margin:"0 4px",cursor:"pointer",transition:"all 0.2s",backgroundColor:"transparent",fill:"#6b7280","&:disabled":{cursor:"not-allowed",fill:"#d1d5db"},"&:hover:not(:disabled)":{backgroundColor:"#e5e7eb",fill:"#374151"}}}}),[Q,X]=(0,t.useState)(null),[ee,se]=(0,t.useState)([]),ae=[{name:"First Name",selector:e=>e.first_name,sortable:!0},{name:"Last Name",selector:e=>e.last_name,sortable:!0},{name:"Email",selector:e=>e.email,sortable:!0},{name:"Phone",selector:e=>e.phone,sortable:!0},{name:"Register",selector:e=>e.is_register,sortable:!0,cell:e=>{const s="Yes"===e.is_register||"yes"===e.is_register;return(0,f.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,f.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 12px",borderRadius:"6px",fontSize:"13px",fontWeight:"500",backgroundColor:s?"#dcfce7":"#fee2e2",color:s?"#166534":"#991b1b",border:"1px solid "+(s?"#bbf7d0":"#fecaca")},children:[(0,f.jsx)("span",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:s?"#22c55e":"#ef4444"}}),e.is_register]})})}}],te=ee.filter((e=>{const s=E.toLowerCase();return(e.first_name||"").toLowerCase().includes(s)||(e.last_name||"").toLowerCase().includes(s)||(e.email||"").toLowerCase().includes(s)||(e.phone||"").toLowerCase().includes(s)||(e.is_register||"").toLowerCase().includes(s)}));(0,t.useEffect)((()=>{oe()}),[]);const oe=async()=>{let s={company_id:e};try{var a=(await h.A.post("https://capavate.com/api/admin/company/getcompanyInvestor",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;se(a)}catch(t){t.response||(t.request?console.error("Request data:",t.request):console.error("Error message:",t.message))}};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,f.jsx)(o.A,{}),(0,f.jsxs)("div",{className:"d-flex flex-column gap-0 dashboard_padding w-100",children:[(0,f.jsx)(r.A,{}),(0,f.jsx)("section",{className:"dashboard_adminh",children:(0,f.jsx)("div",{className:"container-xl",children:(0,f.jsxs)("div",{className:"row gy-4",children:[(0,f.jsx)("div",{className:"col-12",children:(0,f.jsx)("h2",{children:v.company_name})}),(0,f.jsx)("div",{className:"col-12",children:(0,f.jsxs)("div",{className:"row gy-4",children:[(0,f.jsx)(l.A,{id:e}),(0,f.jsx)("div",{className:"col-md-4",children:(0,f.jsxs)("div",{className:"d-flex align-items-center gap-2 dashmain_box",children:[(0,f.jsx)("div",{className:"icon_img",children:(0,f.jsx)(i.A,{})}),(0,f.jsxs)("div",{className:"d-flex flex-column gap-0",children:[(0,f.jsx)("h4",{children:"Total Signatory"}),(0,f.jsx)("p",{children:j})]})]})}),(0,f.jsx)("div",{className:"col-md-4",children:(0,f.jsxs)("div",{className:"d-flex align-items-center gap-2 dashmain_box",children:[(0,f.jsx)("div",{className:"icon_img",children:(0,f.jsx)(c.A,{})}),(0,f.jsxs)("div",{className:"d-flex flex-column gap-0",children:[(0,f.jsx)("h4",{children:"Total Docs"}),(0,f.jsx)("p",{children:a})]})]})}),(0,f.jsx)("div",{className:"col-md-4",children:(0,f.jsxs)("div",{className:"d-flex align-items-center gap-2 dashmain_box",children:[(0,f.jsx)("div",{className:"icon_img",children:(0,f.jsx)(d.A,{})}),(0,f.jsxs)("div",{className:"d-flex flex-column gap-0",children:[(0,f.jsx)("h4",{children:"Total Investor"}),(0,f.jsx)("p",{children:ee.length})]})]})}),(0,f.jsx)("div",{className:"col-md-4",children:(0,f.jsxs)("div",{className:"d-flex align-items-center gap-2 dashmain_box",children:[(0,f.jsx)("div",{className:"icon_img",children:(0,f.jsx)(p.A,{})}),(0,f.jsxs)("div",{className:"d-flex flex-column gap-0",children:[(0,f.jsx)("h4",{children:"Shared Reports"}),(0,f.jsx)("p",{children:A})]})]})})]})}),(0,f.jsx)("div",{className:"col-12",children:(0,f.jsxs)("div",{className:"card p-3",children:[(0,f.jsx)("h5",{className:"mb-3",children:"All Signatory"}),(0,f.jsx)("div",{className:"d-flex  flex-column justify-content-between align-items-start tb-box",children:(0,f.jsx)(n.Ay,{columns:$,data:H,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0,customStyles:K,className:"custom-scrollbar custome-icon datatb-report",noDataComponent:(0,f.jsx)("div",{className:"text-center py-2",children:(0,f.jsx)("span",{children:"No users found"})})})})]})}),(0,f.jsx)("div",{className:"col-12",children:(0,f.jsxs)("div",{className:"card p-3",children:[(0,f.jsx)("h5",{className:"mb-3",children:"Investors"}),(0,f.jsxs)("div",{className:"d-flex  flex-column justify-content-between align-items-start tb-box",children:[(0,f.jsx)("style",{children:"\n                        .datatb-report {\n                          overflow: visible !important;\n                        }\n                      "}),(0,f.jsx)(n.Ay,{columns:ae,data:te,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0,customStyles:K,className:"custom-scrollbar custome-icon datatb-report",noDataComponent:(0,f.jsx)("div",{className:"text-center py-2",children:(0,f.jsx)("span",{children:"No users found"})})})]})]})})]})})})]})]})}),(0,f.jsx)(x.A,{title:"Signatory Role",visible:B,onOk:W,onCancel:W,okText:"Close",children:(0,f.jsx)("p",{children:J||"No role assigned"})})]})}}}]);
//# sourceMappingURL=7280.b575415e.chunk.js.map