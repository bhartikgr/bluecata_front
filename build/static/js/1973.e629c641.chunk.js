/*! For license information please see 1973.e629c641.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[1973],{1346:(e,s,a)=>{a.d(s,{A:()=>m});var l=a(5043),t=a(1462),n=a(6213),r=a(793),c=a(8908),i=a(4117),o=a(2862),d=a(579);const m=e=>{let{isOpen:s,onClose:a,children:m,Inrefresh:u}=e;const[h,g]=(0,l.useState)(null),[x,p]=(0,l.useState)(!1),[f,j]=(0,l.useState)(""),[v,N]=(0,l.useState)(""),[k,b]=(0,l.useState)(""),[w,y]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),[A,_]=(0,l.useState)(""),[L,$]=(0,l.useState)(""),[F,E]=(0,l.useState)(""),[I,q]=(0,l.useState)(null),[J,M]=(0,l.useState)(!1),[T,D]=(0,l.useState)("");const{t:R}=(0,i.Bd)(),O=(0,l.useRef)(null);(0,l.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),o.A.language!==e&&o.A.changeLanguage(e)}),[o.A,R]);const z=e=>new Promise(((s,a)=>{const l=new FileReader;l.onload=function(l){const t=new Image;t.onload=function(){const l=document.createElement("canvas");l.width=t.width,l.height=t.height;l.getContext("2d").drawImage(t,0,0),l.toBlob((l=>{if(l){const a=new File([l],e.name.replace(/\.\w+$/,".png"),{type:"image/png",lastModified:(new Date).getTime()});s(a)}else a(new Error("Failed to convert image."))}),"image/png",1)},t.onerror=a,t.src=l.target.result},l.onerror=a,l.readAsDataURL(e)})),B=["arse","arsehead","arsehole","ass","ass hole","asshole","bastard","bitch","bloody","bollocks","brotherfucker","bugger","bullshit","child-fucker","Christ on a bike","Christ on a cracker","cock","cocksucker","crap","cunt","dammit","damn","damned","damn it","dick","dick-head","dickhead","dumb ass","dumb-ass","dumbass","dyke","faggot","father-fucker","fatherfucker","fuck","fucker","fucking","god dammit","goddammit","God damn","god damn","goddamn","Goddamn","goddamned","goddamnit","godsdamn","holy shit","horseshit","in shit","jackarse","jack-ass","jackass","Jesus Christ","Jesus fuck","Jesus Harold Christ","Jesus H. Christ","Jesus, Mary and Joseph","Jesus wept","kike","mother fucker","mother-fucker","motherfucker","nigga","nigra","pigfucker","piss","prick","pussy","shit","shit ass","shite","sibling fucker","sisterfuck","sisterfucker","slut","son of a bitch","son of a whore","spastic","sweet Jesus","twat","wanker"],P=()=>{j(""),D(""),N(""),b(""),g(null),E(""),p(!1),O.current&&(O.current.value="")};(0,l.useEffect)((()=>{s||(j(""),D(""),N(""),b(""),g(null),E(""),p(!1),O.current&&(O.current.value=""))}),[s]);return s?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&(a(),P())},children:[w&&(0,d.jsx)(r.A,{message:A}),S&&(0,d.jsx)(c.A,{message:L}),(0,d.jsxs)("div",{className:"popup-content col-lg-5 col-md-7",children:[(0,d.jsx)("button",{className:"close-button",onClick:a,children:"\xd7 "}),(0,d.jsxs)("div",{className:"cneventup  d-flex flex-column gap-4",children:[(0,d.jsx)("h3",{children:`${R("Create_new_froum")}`}),(0,d.jsx)("form",{action:"javascript:void(0)",onSubmit:async e=>{e.preventDefault(),p(!0);const s=localStorage.getItem("userLogin"),l=s?JSON.parse(s):null;try{const e=new FormData;e.append("name",f),e.append("description",k),e.append("category",""),e.append("forum_section",v),e.append("user_id",l.id),e.append("fileType","forum"),e.append("image",h);const s=await n.A.post("https://backend.amourette.no/api/profile/forumSave",e,{headers:{"Content-Type":"multipart/form-data"}});u(),p(!1),y(!0),_(s.data.message),setTimeout((()=>{C(!1),y(!1),a()}),800),console.log("Event created:",s.data),q(null),j(""),b(""),g(null)}catch(t){p(!1),C(!0),setTimeout((()=>{C(!1),a()}),800),$("Error creating esssvent:",t)}},children:(0,d.jsxs)("div",{className:"row gy-4",children:[(0,d.jsx)("div",{className:"col-md-4",children:(0,d.jsxs)("div",{className:"uploadfile rel bgload",children:[(0,d.jsx)("input",{type:"file",ref:O,required:!0,accept:"image/*",name:"image",onChange:async e=>{const s=e.target.files[0];if(s){if(!s.type.startsWith("image/"))return E("Please upload a valid image file."),void g(null);if(s.size>2097152)return E("File size must be less than 2 MB."),void g(null);if(!["image/jpeg","image/png","image/gif"].includes(s.type))try{const e=await z(s);return E(""),void g(e)}catch(a){return console.error("Image conversion failed:",a),E("Failed to convert image."),void g(null)}E(""),g(s)}},className:"fileload"}),(0,d.jsx)("div",{className:"upload_image",children:h&&(0,d.jsx)("img",{className:"w-100 h-100",src:URL.createObjectURL(h),alt:"Selected"})}),(0,d.jsx)("div",{className:"inload",style:{height:"100px"},children:(0,d.jsxs)("div",{children:[(0,d.jsx)(t.Kh2,{style:{fontSize:"24px"}}),(0,d.jsxs)("h3",{style:{fontSize:"14px"},children:[`${R("upload_image")}`," *"]})]})}),F&&(0,d.jsx)("p",{className:"text-danger",children:F})]})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("input",{type:"text",value:f,required:!0,onChange:e=>{const s=e.target.value;j(s);const a=B.some((e=>s.toLowerCase().includes(e.toLowerCase())));M(!!a)},placeholder:`${R("Forumtitle")}`})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsxs)("select",{name:"forum_section",id:"",required:!0,value:v,onChange:e=>{N(e.target.value)},children:[(0,d.jsx)("option",{value:"",children:"--Choose Section *--"}),(0,d.jsx)("option",{value:"sexuality",children:"Sexuality"}),(0,d.jsx)("option",{value:"writer forum",children:"Writer's Forum"}),(0,d.jsx)("option",{value:"photo forum",children:"Photo Forum"}),(0,d.jsx)("option",{value:"underground",children:"Under Ground"}),(0,d.jsx)("option",{value:"general",children:"General"}),(0,d.jsx)("option",{value:"feedback",children:"Amourette"})]})}),(0,d.jsx)("div",{className:"col-12",children:(0,d.jsx)("textarea",{name:"",id:"",value:k,onChange:e=>{const s=e.target.value;b(s);const a=B.some((e=>s.toLowerCase().includes(e.toLowerCase())));M(!!a)},rows:"5",placeholder:`${R("Forum_description")}`})}),(0,d.jsxs)("div",{className:"col-12",children:[J&&(0,d.jsx)("span",{className:"text-danger",style:{fontSize:"14px"},children:`${R("Your_message_contain")}`}),x&&(0,d.jsx)("div",{className:"spinner-border text-success date-load",role:"status",children:(0,d.jsxs)("span",{className:"visually-hidden",children:[`${R("loading")}`,"..."]})}),(0,d.jsx)("button",{type:"submit",children:`${R("create_new_forum")}`})]})]})})]})]})]})}):null}},1973:(e,s,a)=>{a.r(s),a.d(s,{default:()=>b});var l=a(5043),t=a(3625),n=a(5442),r=a(6571),c=a(5475),i=a(5700),o=a(1346),d=a(2425),m=a(6213),u=a(5455),h=a(4117),g=a(2862),x=a(3216),p=a(4562),f=a(5273),j=a(448),v=a(1775),N=a(5446),k=a(579);const b=function(){const{slug:e}=(0,x.g)();var s="https://backend.amourette.no/api/profile/";const[b,w]=(0,l.useState)(0),[y,S]=(0,l.useState)(""),[C,A]=(0,l.useState)(""),[_,L]=(0,l.useState)([]),[$,F]=(0,l.useState)([]),[E,I]=(0,l.useState)(""),[q,J]=(0,l.useState)([]),M=e=>{w(e)},T=(e,s)=>{A(e),I(s)},[D,R]=(0,l.useState)(!1);(0,l.useEffect)((()=>{console.log(e,"rrrrrrrrrrr")}),[e]),(0,l.useEffect)((()=>{const e=localStorage.getItem("userLogin");e&&JSON.parse(e);O()}),[]);const O=async()=>{const e=localStorage.getItem("userLogin");let s={user_id:(e?JSON.parse(e):null).id};try{const e=(await m.A.post("https://backend.amourette.no/api/members/getAllfriends",s,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results.map((e=>e.id));console.log(e),console.log("fg"),L(e);await z(e)}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}},z=async a=>{const l=localStorage.getItem("userLogin");let t={user_id:[...a,(l?JSON.parse(l):null).id],search:e};try{var n=(await m.A.post(s+"getAllforum",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data;F(n.results),J(n.results)}catch(r){r.response||(r.request?console.error("Request data:",r.request):console.error("Error message:",r.message))}},B=e=>{if(!e)return null;const s=new Date(e);if(isNaN(s.getTime()))return console.error("Invalid date:",e),"Invalid date";const a=new Date(s.getTime()-36e5),l=(new Date).getTime()-a.getTime(),t=Math.floor(l/1e3),n=Math.floor(t/60),r=Math.floor(n/60),c=Math.floor(r/24),i=Math.floor(c/7),o=Math.floor(c/30),d=Math.floor(c/365);return 0===t?"Just now":t<60?1===t?"1 second ago":`${t} seconds ago`:n<60?1===n?"1 minute ago":`${n} minutes ago`:r<24?1===r?"1 hour ago":`${r} hours ago`:1===c?"Yesterday":c<7?`${c} days ago`:i<4?1===i?"1 week ago":`${i} weeks ago`:o<12?1===o?"1 month ago":`${o} months ago`:1===d?"1 year ago":`${d} years ago`},[P,G]=(0,l.useState)([]),Y=e=>{const{value:s,checked:a}=e.target;G(a?e=>[...e,s]:e=>e.filter((e=>e!==s)))};(0,l.useEffect)((()=>{P.length>0?(async()=>{const e=localStorage.getItem("userLogin"),a=e?JSON.parse(e):null,l=[..._,a.id].join(", ");let t={search:P,user_ids:l};console.log(t);try{var n=(await m.A.post(s+"getAllforumSearch",t,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;console.log(n),F(n)}catch(r){r.response||(r.request?console.error("Request data:",r.request):console.error("Error message:",r.message))}})():F(q)}),[P]);const{t:H}=(0,h.Bd)();return(0,l.useEffect)((()=>{const e=localStorage.getItem("language")||"en";console.log("language"),console.log(e),g.A.language!==e&&g.A.changeLanguage(e)}),[g.A,H]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(i.A,{}),(0,k.jsx)("section",{className:"alleventsbox d-block gapy",children:(0,k.jsx)("div",{className:"container-lg",children:(0,k.jsxs)("div",{className:"row gy-4",children:[(0,k.jsx)("div",{className:"col-md-3 sticky-md-top h-100  evleft",children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-3 searchleftfilter scroll_bar pe-2 ",children:[(0,k.jsx)("h1",{children:H("Forum")}),(0,k.jsx)("div",{className:"filtersearch",children:(0,k.jsx)("form",{action:"",children:(0,k.jsx)("input",{type:"text",value:y,onInput:e=>(async e=>{S(e);const a=localStorage.getItem("userLogin"),l=a?JSON.parse(a):null,t=[..._,l.id].join(", ");let n={search:e,category:P,user_ids:t,search2:""};console.log(n);try{var r=(await m.A.post(s+"getAllforumSearch",n,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.results;console.log(r),F(r)}catch(c){c.response||(c.request?console.error("Request data:",c.request):console.error("Error message:",c.message))}})(e.target.value),placeholder:"search forums"})})}),(0,k.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,k.jsxs)(c.N_,{to:"/dashboard",className:"d-flex gap-3 align-items-center listoficons",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"userpic userpic_main ofit rounded-circle ratio-unset overflow-hidden",children:(0,k.jsx)(d.A,{stroke:1,className:"w-100 h-100 main_homei"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h4",{children:H("Home")})})]}),(0,k.jsxs)(c.N_,{to:"/forumsection",className:"d-flex gap-2 align-items-center filterlist ",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:t,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:"Forum section"})})]}),(0,k.jsxs)(c.N_,{to:"/allforums",className:"d-flex gap-2 align-items-center filterlist "+(void 0===e?"active":""),onClick:()=>M(0),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:t,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("All_forum")})})]}),(0,k.jsxs)(c.N_,{to:"/forums",className:"d-flex gap-2 align-items-center filterlist ",onClick:()=>M(1),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:n,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("Your_forum")})})]}),(0,k.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(2===b?"active":""),onClick:()=>M(2),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:r,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("Discover_new")})})]}),(0,k.jsx)("div",{className:"newebentbtn d-block",children:(0,k.jsx)("button",{type:"button",onClick:()=>{R(!0),document.body.style.overflowY="hidden"},children:H("Create_new_froum")})}),(0,k.jsx)("hr",{className:"linehr"}),(0,k.jsxs)("div",{className:"d-flex flex-column gap-3 categorieslist",children:[(0,k.jsx)("h6",{children:H("Categories")}),(0,k.jsx)("div",{className:"d-flex flex-column gap-2",children:(0,k.jsxs)("div",{className:"listbox d-flex flex-column gap-3",children:[(0,k.jsxs)("label",{className:"cbox",children:[H("Drinks"),(0,k.jsx)("input",{type:"checkbox",name:"labels",value:"Drinks",onClick:Y}),(0,k.jsx)("span",{className:"checkmark"})]}),(0,k.jsxs)("label",{className:"cbox",children:[H("Fetish"),(0,k.jsx)("input",{type:"checkbox",name:"labels",value:"Fetish",onClick:Y}),(0,k.jsx)("span",{className:"checkmark"})]}),(0,k.jsxs)("label",{className:"cbox",children:[H("Meetups"),(0,k.jsx)("input",{type:"checkbox",name:"labels",value:"Meetups",onClick:Y}),(0,k.jsx)("span",{className:"checkmark"})]}),(0,k.jsxs)("label",{className:"cbox",children:[H("Love"),(0,k.jsx)("input",{type:"checkbox",name:"labels",value:"Love",onClick:Y}),(0,k.jsx)("span",{className:"checkmark"})]}),(0,k.jsxs)("label",{className:"cbox",children:[H("Party"),(0,k.jsx)("input",{type:"checkbox",name:"labels",value:"Party",onClick:Y}),(0,k.jsx)("span",{className:"checkmark"})]})]})}),(0,k.jsxs)("div",{className:"d-flex flex-column gap-2",children:[(0,k.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(0===C?"active":""),onClick:()=>T(0,"general"),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:p,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("General")})})]}),(0,k.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(1===b?"active":""),onClick:()=>T(1,""),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:f,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("Fetish")})})]}),(0,k.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(2===b?"active":""),onClick:()=>T(2,""),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:j,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("Party")})})]}),(0,k.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(3===b?"active":""),onClick:()=>T(3,""),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:v,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("Stories")})})]}),(0,k.jsxs)("button",{type:"button",className:"d-flex gap-2 align-items-center filterlist "+(4===b?"active":""),onClick:()=>T(4,"feedback"),children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"eventicon fulw",children:(0,k.jsx)("img",{src:N,alt:"eventicon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h3",{children:H("Feedback")})})]})]})]})]})]})}),(0,k.jsx)("div",{className:"col-md-9",children:(0,k.jsx)("div",{className:"row gy-4",children:(0,k.jsx)("div",{className:"col-12",children:(0,k.jsx)("div",{className:"d-flex flex-column gap-3",children:0===$.length?(0,k.jsx)("div",{className:"text-center",children:(0,k.jsx)("h4",{children:H("No_forum_found")})}):$.map(((e,s)=>(0,k.jsxs)(c.N_,{to:`/singleforums/${e.slug}`,className:"formen d-flex flex-column flex-md-row gap-2 ps-md-0 ",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsxs)("div",{className:"fromimg ofit rounded-2 overflow-hidden",children:[e.image?(0,k.jsx)("img",{src:e.image,alt:"userimag"}):(0,k.jsx)("img",{className:"w-100 h-100",src:a(7123),alt:"userpic"}),(0,k.jsx)("img",{src:e.image,alt:"userimag"})]})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsxs)("div",{className:"d-flex flex-column gap-2 p-3",children:[(0,k.jsx)("h3",{className:"formall",children:e.name})," ",(0,k.jsx)("h4",{children:B(e.date)})," ",(0,k.jsxs)("p",{className:"formall",children:[e.description," "]}),(0,k.jsx)("div",{className:"d-flex justify-content-end mt-auto",children:(0,k.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,k.jsxs)(c.N_,{to:`/singleforums/${e.slug}`,className:"d-flex gap-2 align-items-center memform",children:[(0,k.jsx)("div",{className:"flex-shrink-0",children:(0,k.jsx)("div",{className:"iconforum fulw",children:(0,k.jsx)("img",{src:u,alt:"foricon"})})}),(0,k.jsx)("div",{className:"flex-grow-1",children:(0,k.jsx)("h6",{children:e.total_comments})})]})})})]})})]},s)))})})})})]})})}),(0,k.jsx)(o.A,{isOpen:D,onClose:()=>{R(!1),document.body.style.overflowY="auto"},Inrefresh:async()=>{O()}})]})}},4562:(e,s,a)=>{e.exports=a.p+"static/media/ca1.54dc743f7264beb6e34d.png"},5273:(e,s,a)=>{e.exports=a.p+"static/media/ca2.8758b08dbd8ff583322f.png"},448:(e,s,a)=>{e.exports=a.p+"static/media/ca3.0f027f68db9cc3817b80.png"},1775:(e,s,a)=>{e.exports=a.p+"static/media/ca4.bfdf24c45563be913102.png"},5446:(e,s,a)=>{e.exports=a.p+"static/media/ca5.ccb32359c110a0576fe2.png"},3625:(e,s,a)=>{e.exports=a.p+"static/media/ev1.c139f534f6b2d0f4efe4.png"},5442:(e,s,a)=>{e.exports=a.p+"static/media/ev2.dbb5ba26d46537e3b09e.png"},6571:(e,s,a)=>{e.exports=a.p+"static/media/ev3.f6a69b811c047b8c1d3e.png"},4648:(e,s,a)=>{a.d(s,{A:()=>n});var l=a(5043),t={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const n=(e,s,a,n)=>{const r=(0,l.forwardRef)(((a,r)=>{let{color:c="currentColor",size:i=24,stroke:o=2,title:d,className:m,children:u,...h}=a;return(0,l.createElement)("svg",{ref:r,...t[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${s}`,m].join(" "),..."filled"===e?{fill:c}:{strokeWidth:o,stroke:c},...h},[d&&(0,l.createElement)("title",{key:"svg-title"},d),...n.map((e=>{let[s,a]=e;return(0,l.createElement)(s,a)})),...Array.isArray(u)?u:[u]])}));return r.displayName=`${a}`,r}},2425:(e,s,a)=>{a.d(s,{A:()=>l});var l=(0,a(4648).A)("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]])}}]);
//# sourceMappingURL=1973.e629c641.chunk.js.map