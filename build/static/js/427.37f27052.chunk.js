"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[427],{37022:(e,t,o)=>{o.d(t,{A:()=>a});var n=o(65043),r=o(70579);const a=function(e){let{message:t,onConfirm:o,onCancel:a}=e;const s=(0,n.useRef)(null),l=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&a(),"Enter"===e.key&&o()};return document.addEventListener("keydown",e),l.current.focus(),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}}),[o,a]),(0,r.jsxs)("div",{className:"modal-backdrop",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,opacity:0,animation:"fadeIn 0.3s ease-out forwards",backdropFilter:"blur(4px)",WebkitBackdropFilter:"blur(4px)"},onClick:a,children:[(0,r.jsxs)("div",{ref:s,className:"modal-content",style:{backgroundColor:"white",padding:"2rem",borderRadius:"12px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.15), 0 0 10px rgba(220, 53, 69, 0.2)",maxWidth:"450px",width:"90%",transform:"scale(0.9) translateY(-20px)",animation:"scaleIn 0.3s ease-out forwards",border:"1px solid rgba(220, 53, 69, 0.2)"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"modal-icon",style:{textAlign:"center",marginBottom:"1.5rem"},children:(0,r.jsx)("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"#dc3545"},children:(0,r.jsx)("path",{d:"M12 9V14M12 17V17.01M5.07183 19H18.9282C20.4678 19 21.4301 17.3333 20.6603 16L13.7321 4C12.9623 2.66667 11.0378 2.66667 10.268 4L3.33978 16C2.56998 17.3333 3.53223 19 5.07183 19Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.jsx)("h3",{className:"modal-title",style:{textAlign:"center",margin:"0 0 1rem 0",color:"#dc3545",fontSize:"1.5rem",fontWeight:"600"},children:"Confirm Action"}),(0,r.jsx)("p",{className:"modal-message",style:{textAlign:"center",margin:"0 0 2rem 0",color:"#495057",fontSize:"1rem",lineHeight:"1.5"},children:t}),(0,r.jsxs)("div",{className:"modal-actions",style:{display:"flex",justifyContent:"center",gap:"1rem"},children:[(0,r.jsx)("button",{type:"button",className:"btn-cancel",onClick:a,style:{padding:"0.75rem 1.5rem",backgroundColor:"#f8f9fa",color:"#495057",border:"1px solid #dee2e6",borderRadius:"6px",fontWeight:"500",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px"},onMouseOver:e=>{e.target.style.backgroundColor="#e9ecef",e.target.style.transform="translateY(-2px)"},onMouseOut:e=>{e.target.style.backgroundColor="#f8f9fa",e.target.style.transform="translateY(0)"},children:"Cancel"}),(0,r.jsx)("button",{type:"button",className:"btn-confirm",ref:l,onClick:o,style:{padding:"0.75rem 1.5rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",fontWeight:"500",fontSize:"1rem",cursor:"pointer",transition:"all 0.2s ease",minWidth:"100px",boxShadow:"0 4px 6px rgba(220, 53, 69, 0.3)"},onMouseOver:e=>{e.target.style.backgroundColor="#bd2130",e.target.style.transform="translateY(-2px)",e.target.style.boxShadow="0 6px 8px rgba(220, 53, 69, 0.4)"},onMouseOut:e=>{e.target.style.backgroundColor="#dc3545",e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 4px 6px rgba(220, 53, 69, 0.3)"},children:"Confirm"})]})]}),(0,r.jsx)("style",{children:"\n          @keyframes fadeIn {\n            from { opacity: 0; }\n            to { opacity: 1; }\n          }\n          \n          @keyframes scaleIn {\n            from { \n              transform: scale(0.9) translateY(-20px);\n              opacity: 0;\n            }\n            to { \n              transform: scale(1) translateY(0);\n              opacity: 1;\n            }\n          }\n          \n          .btn-cancel:focus, .btn-confirm:focus {\n            outline: 2px solid #3d8bfd;\n            outline-offset: 2px;\n          }\n        "})]})}},70427:(e,t,o)=>{o.r(t),o.d(t,{default:()=>f});var n=o(65043),r=o(94060),a=o(58786),s=o(44710),l=(o(38421),o(53579)),i=o(27836),c=o(86213),d=o(35475),p=o(37022),u=o(60184),m=o(25581),g=o(70579);function f(){const e=localStorage.getItem("SignatoryLoginData"),t=JSON.parse(e),o=m.J+"api/user/accesslogs/",[f,x]=(0,n.useState)([]),[h,y]=(0,n.useState)(""),[b,v]=(0,n.useState)("");document.title="Logs Page",(0,n.useEffect)((()=>{w()}),[]);const w=async()=>{const e={company_id:t.companies[0].id};try{const t=await c.A.post(o+"getCompanyLogs",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});console.log(t.data.results),x(t.data.results)}catch(n){console.error("Error generating summary",n)}},j=[{name:"Module",selector:e=>e.module||"-",sortable:!0},{name:"Action",selector:e=>e.action||"-",sortable:!0},{name:"Entity Name / Details",selector:e=>e.entity_type,sortable:!1},{name:"Date",selector:e=>A(e.created_at),sortable:!0},{name:"Country Name",selector:e=>e.country_name||"-",sortable:!1},{name:"IP Address",selector:e=>e.ip_address||"-",sortable:!1},{name:"Action",cell:e=>{let t="#";return"company-profile"===e.module?t="/company-profile":"investorReport"===e.module?t="/investor-report":"dataroom"===e.module?t="/dataroom":"capital_round"===e.module?t="/record-round-list":"investorlist"===e.module?t="/investorlist":"Authorized Signature"===e.module?t="/authorized-signature":"package-subscription"===e.module&&(t="/package-subscription"),(0,g.jsxs)("div",{className:"d-flex gap-2",children:[(0,g.jsxs)(d.N_,{to:t,className:"icon_btn green_clr",children:[(0,g.jsx)(u.Ny1,{})," View"]}),(0,g.jsxs)("button",{type:"button",onClick:()=>C(e.id),className:"icon_btn red_clr",children:[(0,g.jsx)(u.qbC,{})," Delete"]})]})},ignoreRowClick:!0,allowOverflow:!0,button:!0,width:"200px"}],C=async e=>{y(e),v("Are you sure? You want to delete this log")},[k,S]=(0,n.useState)(""),N=f.filter((e=>{var t,o,n;let r=e.details;if("string"===typeof r)try{r=JSON.parse(r)}catch(a){r={}}return[e.module||"",e.action||"",(null===(t=r)||void 0===t?void 0:t.company_name)||(null===(o=r)||void 0===o?void 0:o.entity_name)||(null===(n=r)||void 0===n?void 0:n.document_name)||"",e.ip_address||"",A(e.created_at)||"",e.update_date||"",e.version||"",e.download||""].some((e=>e.toString().toLowerCase().includes(k.toLowerCase())))}));function A(e){const t=new Date(e);if(isNaN(t))return"";const o=t.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getFullYear();let a=t.getHours();const s=t.getMinutes().toString().padStart(2,"0"),l=(t.getSeconds().toString().padStart(2,"0"),a>=12?"PM":"AM");return a%=12,a=a||12,`${n} ${o}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(o)}, ${r} ${a}:${s} ${l}`}const[_,M]=(0,n.useState)(!1);return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(l.mO,{children:(0,g.jsx)("div",{className:"fullpage d-block",children:(0,g.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,g.jsx)(s.A,{isCollapsed:_,setIsCollapsed:M}),(0,g.jsxs)("div",{className:"global_view "+(_?"global_view_col":""),children:[b&&(0,g.jsx)(p.A,{message:b,onConfirm:async()=>{const e={id:h};try{await c.A.post(o+"deleteLogs",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});w(),v("")}catch(t){console.error("Error generating summary",t)}},onCancel:()=>{v("")}}),(0,g.jsx)(r.A,{}),(0,g.jsx)(l.$K,{className:"d-block p-md-4 p-3",children:(0,g.jsx)("div",{className:"container-fluid",children:(0,g.jsxs)(i.zP,{className:"d-flex flex-column gap-2",children:[(0,g.jsxs)("div",{className:"titleroom flex-wrap gap-3 d-flex justify-content-between align-items-center  pb-3",children:[(0,g.jsx)("div",{className:"pb-3 bar_design",children:(0,g.jsx)("h4",{className:"h5 mb-0",children:"Activity Logs"})}),(0,g.jsx)("div",{className:"d-flex gap-2",children:(0,g.jsx)("input",{type:"search",placeholder:"Search Here...",className:"form-control",value:k,onChange:e=>S(e.target.value),style:{padding:"10px 15px",width:"100%",maxWidth:"300px",fontSize:"14px",borderRadius:"10px"}})})]}),(0,g.jsx)("div",{className:"d-flex flex-column overflow-auto justify-content-between align-items-start tb-box",children:(0,g.jsx)(a.Ay,{customStyles:{table:{style:{border:"1px solid #dee2e6",borderRadius:"12px",overflow:"auto"}},headCells:{style:{backgroundColor:"#efefef",fontWeight:"600",fontSize:"0.8rem",color:"#000",textTransform:"uppercase",whiteSpace:"nowrap"}},cells:{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},rows:{style:{fontSize:"0.8rem",fontWeight:"500"},stripedStyle:{backgroundColor:"#fff"}},pagination:{style:{marginTop:"15px",backgroundColor:"#fafafa",padding:"12px 16px"}}},conditionalRowStyles:[{when:e=>!0,style:{"&:hover":{backgroundColor:"var(--lightRed)"}}}],columns:j,className:"datatb-report",data:N,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0})})]})})})]})]})})})})}}}]);
//# sourceMappingURL=427.37f27052.chunk.js.map