"use strict";(self.webpackChunkkeiretsuproject=self.webpackChunkkeiretsuproject||[]).push([[1929],{1929:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});var n=l(65043),t=l(94060),a=l(44710),d=(l(38421),l(53579)),i=l(86213),r=l(73216),o=l(25581),c=l(6058),m=l(76361),h=l(59042),x=l(70579);function u(){var e,s,l,m,h,u,v,j,p,b,N,y,g,f,_,w,S,C,F,P,k,$,A,T,I,O,R,D,M,V,L,E,U,B,W,z,J,Y,q,H,G,K,Z,Q,X,ee,se,le,ne,te,ae,de,ie,re,oe,ce,me,he,xe,ue,ve,je,pe,be,Ne,ye,ge,fe,_e,we,Se,Ce,Fe,Pe,ke,$e,Ae,Te,Ie,Oe,Re,De,Me,Ve,Le,Ee,Ue,Be,We,ze,Je,Ye,qe,He,Ge,Ke,Ze,Qe,Xe,es;const{id:ss}=(0,r.g)(),ls=(0,r.Zp)(),ns=`${o.J}api/user/capitalround/`,ts=localStorage.getItem("SignatoryLoginData"),as=ts?JSON.parse(ts):null,[ds,is]=(0,n.useState)(!0),[rs,os]=(0,n.useState)(null),[cs,ms]=(0,n.useState)({pre_money:{items:[],totals:{}},post_money:{items:[],totals:{}}}),[hs,xs]=(0,n.useState)(null),[us,vs]=(0,n.useState)([]),[js,ps]=(0,n.useState)({}),[bs,Ns]=(0,n.useState)(null),[ys,gs]=(0,n.useState)(null),[fs,_s]=(0,n.useState)(null),[ws,Ss]=(0,n.useState)("pre-money"),[Cs,Fs]=(0,n.useState)(!1),[Ps,ks]=(0,n.useState)(null),[$s,As]=(0,n.useState)([]),Ts=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const l=(null===s||void 0===s?void 0:s.trim().split(" ")[0])||"USD",n=["USD","CAD","EUR","GBP","INR","AUD","JPY"].includes(l.toUpperCase())?l.toUpperCase():"USD";try{return new Intl.NumberFormat("en-US",{style:"currency",currency:n,minimumFractionDigits:2,maximumFractionDigits:2}).format(e||0)}catch(rs){return`${n} ${parseFloat(e||0).toFixed(2)}`}},Is=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const l=(null===s||void 0===s?void 0:s.trim().split(" ")[0])||"USD",n=["USD","CAD","EUR","GBP","INR","AUD","JPY"].includes(l.toUpperCase())?l.toUpperCase():"USD";try{const s=parseFloat(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:n,minimumFractionDigits:3,maximumFractionDigits:3}).format(s)}catch(rs){return`${n} ${(parseFloat(e)||0).toFixed(3)}`}},Os=e=>e||0===e?`${parseFloat(e).toFixed(2)}%`:"0.00%",Rs=e=>e||0===e?new Intl.NumberFormat("en-US").format(e):"0",Ds=(0,n.useCallback)((async()=>{if(!ss||!as)return os("Missing required parameters"),void is(!1);is(!0),os(null);const e={company_id:as.companies[0].id,round_id:ss};try{const a=await i.A.post(ns+"getRoundCapTableSingleRecord",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});if(a.data.success){var s,l,n,t;const e=a.data.cap_table||{pre_money:{items:[],totals:{}},post_money:{items:[],totals:{}}};if(console.log(a.data),ms(e),ks(a.data.conversion_status),xs(a.data.round||null),vs(a.data.pending_conversions||[]),ps(a.data.calculations||{}),As(a.data.conversions||[]),Bs(a.data),(null===e||void 0===e||null===(s=e.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l.length)>0){const s={labels:e.pre_money.items.map((e=>e.name)),datasets:[{label:"Shares",data:e.pre_money.items.map((e=>e.shares)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4"],borderWidth:1}]};gs(s)}if((null===e||void 0===e||null===(n=e.post_money)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.length)>0){const s={labels:e.post_money.items.map((e=>e.name)),datasets:[{label:"Shares",data:e.post_money.items.map((e=>e.shares)),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4"],borderWidth:1}]};_s(s)}}else os(a.data.message||"Failed to load cap table")}catch(r){var a,d;os((null===(a=r.response)||void 0===a||null===(d=a.data)||void 0===d?void 0:d.message)||"Error loading cap table data"),console.error("API Error:",r)}finally{is(!1)}}),[ss,as,ns]),Ms="Safe"===(null===hs||void 0===hs?void 0:hs.instrument)||"Convertible Note"===(null===hs||void 0===hs?void 0:hs.instrument),Vs=!0===(null===Ps||void 0===Ps?void 0:Ps.is_converted),Ls=("Safe"===(null===hs||void 0===hs?void 0:hs.instrument)&&0===(null===hs||void 0===hs?void 0:hs.issued_shares)&&(null===hs||void 0===hs||hs.type),null===hs||void 0===hs||hs.instrument,"Round 0"===(null===hs||void 0===hs?void 0:hs.type));let Es="",Us="";Ms?Vs?(Es=null===hs||void 0===hs?void 0:hs.share_price,Us=Ps.converted_shares):(Es="N/A",Us="N/A"):(Es=null===hs||void 0===hs?void 0:hs.share_price,Us=null===hs||void 0===hs?void 0:hs.issued_shares);const Bs=e=>{if(!e.cap_table||!e.round)return;const s=e.cap_table.pre_money,l=e.cap_table.post_money,n=e.round,t=parseFloat(n.pre_money)||0,a=t+(parseFloat(n.investment)||0),d=s.totals.total_shares||0,i=l.totals.total_shares||0,r=d>0?t/d:0,o=i>0?a/i:0,c=s.items.filter((e=>"founder"===e.type)).reduce(((e,s)=>e+s.shares),0),m=c*r,h=c*o,x=l.items.filter((e=>"investor"===e.type)).reduce(((e,s)=>e+s.shares),0)*o,u=l.totals.total_option_pool||0;Ns({founderValuePre:m,founderValuePost:h,investorValue:x,optionPoolValue:u*o,sharePricePre:r,sharePricePost:o,totalSharesPre:d,totalSharesPost:i})};(0,n.useEffect)((()=>{Ds()}),[]);const Ws=(e=>{const s=e.filter((e=>"founder"===e.type));if(0===s.length)return{largest:0,smallest:0,votingCount:0,totalFounders:0};const l=s.map((e=>parseFloat(e.percentage||0))),n=Math.max(...l),t=Math.min(...l);s.filter((e=>"voting"===e.voting||!0===e.voting||"yes"===e.voting)).length;return{largest:n.toFixed(1),smallest:t.toFixed(1),votingCount:s.length,totalFounders:s.length}})((null===cs||void 0===cs||null===(e=cs.pre_money)||void 0===e?void 0:e.items)||[]),zs=(e=>{const s=e.filter((e=>"founder"===e.type));if(0===s.length)return{largest:0,smallest:0,votingCount:0,totalFounders:0};const l=s.map((e=>parseFloat(e.percentage||0))),n=Math.max(...l),t=Math.min(...l);s.filter((e=>"voting"===e.voting||"non-voting"===e.voting||!0===e.voting||"yes"===e.voting)).length;return{largest:n.toFixed(1),smallest:t.toFixed(1),votingCount:s.length,totalFounders:s.length}})((null===cs||void 0===cs||null===(s=cs.post_money)||void 0===s?void 0:s.items)||[]);return ds?(0,x.jsx)(d.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:Cs,setIsCollapsed:Fs}),(0,x.jsxs)("div",{className:"global_view "+(Cs?"global_view_col":""),children:[(0,x.jsx)(t.A,{}),(0,x.jsx)(d.$K,{className:"d-block p-md-4 p-3",children:(0,x.jsxs)("div",{className:"text-center py-5",children:[(0,x.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,x.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,x.jsx)("p",{className:"mt-3",children:"Loading Cap Table Data..."})]})})]})]})})}):rs&&!hs?(0,x.jsx)(d.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:Cs,setIsCollapsed:Fs}),(0,x.jsxs)("div",{className:"global_view "+(Cs?"global_view_col":""),children:[(0,x.jsx)(t.A,{}),(0,x.jsx)(d.$K,{className:"d-block p-md-4 p-3",children:(0,x.jsxs)("div",{className:"alert alert-danger",children:[(0,x.jsx)("h5",{children:"Error Loading Cap Table"}),(0,x.jsx)("p",{children:rs}),(0,x.jsx)("button",{className:"btn btn-primary",onClick:()=>ls(-1),children:"Go Back"}),(0,x.jsx)("button",{className:"btn btn-secondary ms-2",onClick:Ds,children:"Try Again"})]})})]})]})})}):(0,x.jsx)(d.mO,{children:(0,x.jsx)("div",{className:"fullpage d-block",children:(0,x.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,x.jsx)(a.A,{isCollapsed:Cs,setIsCollapsed:Fs}),(0,x.jsxs)("div",{className:"global_view "+(Cs?"global_view_col":""),children:[(0,x.jsx)(t.A,{}),(0,x.jsxs)(d.$K,{className:"d-block p-md-4 p-3",children:[rs&&(0,x.jsxs)("div",{className:"alert alert-danger mb-4",children:[(0,x.jsx)("i",{className:"bi bi-exclamation-triangle me-2"}),rs]}),hs&&(0,x.jsxs)("div",{className:"card mb-4",children:[(0,x.jsx)("div",{className:"card-header bg-primary text-white",children:(0,x.jsxs)("h4",{className:"mb-0",children:["Round: ",hs.name]})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Type:"})," ","Round 0"===(null===hs||void 0===hs?void 0:hs.type)?(0,x.jsx)("span",{children:"Incorporation Round 0"}):(0,x.jsx)("span",{children:null===hs||void 0===hs?void 0:hs.instrument})]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Status:"}),(0,x.jsx)("span",{className:`badge ${"CLOSED"===hs.status?"bg-success":"bg-warning"} ms-2`,children:hs.status||"ACTIVE"})]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Date of Incorporation:"})," ",(Js=hs.incorporation_date,(Js?/^\d{4}$/.test(Js)?Js:function(e){const s=new Date(e);if(isNaN(s))return"";const l=s.getDate(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],t=s.getFullYear();let a=s.getHours();const d=s.getMinutes().toString().padStart(2,"0"),i=(s.getSeconds().toString().padStart(2,"0"),a>=12?"PM":"AM");return a%=12,a=a||12,`${n} ${l}${(e=>{if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(l)}, ${t} ${a}:${d} ${i}`}(Js):"Not provided")||"Not specified")]})]}),"Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Pre-Money:"})," ",Ts(hs.pre_money,hs.currency)]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Investment:"})," ",Ts(hs.investment,hs.currency)]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Post-Money:"})," ",Ts(hs.post_money,hs.currency)]})]}),(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Share Price:"})," ",Ms&&!Vs?"N/A":Is(Es,null===hs||void 0===hs?void 0:hs.currency)]}),(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Issued Shares:"})," ",Ms&&!Vs?"N/A":Rs(Us)]}),Ms&&(0,x.jsxs)("p",{children:[(0,x.jsx)("strong",{children:"Status:"})," ",(0,x.jsx)("span",{className:Vs?"text-success":"text-warning",children:(null===Ps||void 0===Ps?void 0:Ps.message)||(Vs?"\u2705 Converted":"\u23f3 Not Converted")})]}),Ms&&Vs&&(0,x.jsx)("div",{className:"mt-2 p-2 bg-light rounded",children:(0,x.jsxs)("small",{children:[(0,x.jsx)("strong",{children:"Converted in:"})," Round ",Ps.converted_in_round," (",Ps.converted_round_name,")",(0,x.jsx)("br",{}),(0,x.jsx)("strong",{children:"Conversion Price:"})," ",Is(Ps.conversion_price,null===hs||void 0===hs?void 0:hs.currency),(0,x.jsx)("br",{}),(0,x.jsx)("strong",{children:"Converted Shares:"})," ",Rs(Ps.converted_shares)]})}),"Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsx)("p",{children:(()=>{const e="Common Stock"===(null===hs||void 0===hs?void 0:hs.instrument)||"Preferred Equity"===(null===hs||void 0===hs?void 0:hs.instrument),s=parseFloat((null===hs||void 0===hs?void 0:hs.option_pool_percent)||0),l=parseFloat((null===hs||void 0===hs?void 0:hs.option_pool_percent_post)||0);return e?(0,x.jsxs)(x.Fragment,{children:[s>0&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("strong",{children:"Option Pool:"})," ",(0,x.jsx)("span",{className:"fw-bold text-success",children:Os(s)}),(0,x.jsx)("br",{})]}),(0,x.jsx)("strong",{children:"Target Post-Money Option Pool:"})," ",(0,x.jsx)("span",{className:"fw-bold text-primary",children:Os(l)})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("strong",{children:"Option Pool:"})," ",(0,x.jsx)("span",{className:"fw-bold text-success",children:Os(l)})]})})()})]})]})})]}),(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsxs)("ul",{className:"nav nav-tabs gap-1",children:["Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("pre-money"===ws?"active":""),onClick:()=>Ss("pre-money"),children:"Pre-Money Cap Table"})}),"Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("post-money"===ws?"active":""),onClick:()=>Ss("post-money"),children:"Post-Money Cap Table"})}),"Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("summary"===ws?"active":""),onClick:()=>Ss("summary"),children:"Chat & Analysis"})}),us.length>0&&(0,x.jsx)("li",{className:"nav-item bg-primary",children:(0,x.jsx)("button",{className:"nav-link text-white backcolor "+("pending"===ws?"active":""),onClick:()=>Ss("pending"),children:"Pending Conversions"})})]})}),"pre-money"===ws&&"Round 0"===(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header bg-light",children:"Round 0"===(null===hs||void 0===hs?void 0:hs.type)?(0,x.jsx)("h5",{className:"mb-0",children:"Incorporation Capitalization Table"}):(0,x.jsx)("h5",{className:"mb-0",children:"Pre-Money Capitalization Table"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive mt-4",children:(0,x.jsxs)("table",{className:"table table-striped table-hover",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Shareholder"}),(0,x.jsx)("th",{className:"text-end",children:"Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,x.jsx)("th",{className:"text-end",children:"Currency Value"}),(0,x.jsx)("th",{children:"Details"})]})}),(0,x.jsxs)("tbody",{children:[null===cs||void 0===cs||null===(l=cs.pre_money)||void 0===l||null===(m=l.items)||void 0===m?void 0:m.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-info me-2",children:e.founder_code||`F${s+1}`})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:e.name}),e.email&&(0,x.jsx)("div",{className:"small text-muted",children:e.email})]}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares)>0?Number(e.shares).toLocaleString():e.shares}),(0,x.jsxs)("td",{className:"text-end fw-bold text-primary",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-primary",children:Ts(e.pre_money_display_value||e.value,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Type: ",e.share_type||"common",(0,x.jsx)("br",{}),"Voting: ",e.voting||"voting"]})})]},`founder-${s}`))),((e,s,l,n)=>{const t=(null===cs||void 0===cs||null===(e=cs.pre_money)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.filter((e=>"option_pool"===e.type)))||[];if(0===t.length)return null;const a=t.reduce(((e,s)=>e+(s.shares||0)),0),d=(null===cs||void 0===cs||null===(l=cs.pre_money)||void 0===l||null===(n=l.totals)||void 0===n?void 0:n.total_shares)||0,i=d>0?(a/d*100).toFixed(2):"0.00",r=parseFloat(null===hs||void 0===hs?void 0:hs.pre_money)||0,o=d>0?a/d*r:0,c=t.map((e=>e.round_name||`Round ${e.round_id}`)).join(", ");return(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"O"})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:"Employee Option Pool"}),t.length>1&&(0,x.jsxs)("div",{className:"small text-muted",children:["Combined from: ",c]})]}),(0,x.jsx)("td",{className:"text-end",children:Number(a).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-warning",children:[i,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-warning",children:Ts(o,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:1===t.length?(0,x.jsxs)(x.Fragment,{children:["From ",t[0].round_name||`Round ${t[0].round_id}`]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{children:["Total pools: ",t.length]}),(0,x.jsx)("div",{className:"text-muted",children:t.map(((e,s)=>{var l;return(0,x.jsxs)("span",{children:[s>0&&" + ",null===(l=e.shares)||void 0===l?void 0:l.toLocaleString()," shares"]},s)}))})]})})})]},"option-pool-combined")})(),null===cs||void 0===cs||null===(h=cs.pre_money)||void 0===h||null===(u=h.items)||void 0===u?void 0:u.filter((e=>"investor"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-success",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-success me-2",children:"I"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-success",children:Ts(e.pre_money_display_value||e.value,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:e.round_name})})]},`investor-${s}`))),null===cs||void 0===cs||null===(v=cs.pre_money)||void 0===v||null===(j=v.items)||void 0===j?void 0:j.filter((e=>"pending"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-warning",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"\u23f3"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0.00%"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Investment: ",Ts(e.investment,null===hs||void 0===hs?void 0:hs.currency),e.discount_rate>0&&(0,x.jsxs)("div",{children:["Discount: ",e.discount_rate,"%"]}),e.valuation_cap>0&&(0,x.jsxs)("div",{children:["Cap: ",Ts(e.valuation_cap,null===hs||void 0===hs?void 0:hs.currency)]}),e.interest_rate>0&&(0,x.jsxs)("div",{children:["Interest: ",e.interest_rate,"%"]})]})})]},`pending-${s}`)))]}),(0,x.jsxs)("tfoot",{className:"table-light",children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{colSpan:"2",children:"TOTAL"}),(0,x.jsx)("th",{className:"text-end",children:Number(null===cs||void 0===cs||null===(p=cs.pre_money)||void 0===p||null===(b=p.totals)||void 0===b?void 0:b.total_shares).toLocaleString()}),(0,x.jsx)("th",{className:"text-end",children:"100%"}),(0,x.jsx)("th",{className:"text-end fw-bold text-primary",children:Ts(null===cs||void 0===cs||null===(N=cs.pre_money)||void 0===N||null===(y=N.totals)||void 0===y?void 0:y.total_value,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("th",{})]}),(null===cs||void 0===cs||null===(g=cs.pre_money)||void 0===g||null===(f=g.totals)||void 0===f?void 0:f.original_round_0_value)>0&&(0,x.jsx)("tr",{className:"small text-muted",children:(0,x.jsxs)("td",{colSpan:"6",className:"text-end",children:["Original Round 0 Value: ",Ts(cs.pre_money.totals.original_round_0_value,null===hs||void 0===hs?void 0:hs.currency)]})})]})]})})})]}),"pre-money"===ws&&"Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header bg-light",children:"Round 0"===(null===hs||void 0===hs?void 0:hs.type)?(0,x.jsx)("h5",{className:"mb-0",children:"Incorporation Capitalization Table"}):(0,x.jsx)("h5",{className:"mb-0",children:"Pre-Money Capitalization Table"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive mt-4",children:(0,x.jsxs)("table",{className:"table table-striped table-hover",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"#"}),(0,x.jsx)("th",{children:"Shareholder"}),(0,x.jsx)("th",{className:"text-end",children:"Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,x.jsx)("th",{className:"text-end",children:"Currency Value"}),(0,x.jsx)("th",{children:"Details"})]})}),(0,x.jsxs)("tbody",{children:[null===cs||void 0===cs||null===(_=cs.pre_money)||void 0===_||null===(w=_.items)||void 0===w?void 0:w.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-info me-2",children:e.founder_code||`F${s+1}`})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:e.name}),e.email&&(0,x.jsx)("div",{className:"small text-muted",children:e.email})]}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-primary",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-primary",children:Ts(e.pre_money_display_value||e.value,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Type: ",e.share_type||"common",(0,x.jsx)("br",{}),"Voting: ",e.voting||"voting"]})})]},`founder-${s}`))),((e,s,l,n)=>{const t=(null===cs||void 0===cs||null===(e=cs.pre_money)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.filter((e=>"option_pool"===e.type)))||[];if(0===t.length)return null;const a=t.reduce(((e,s)=>e+(s.shares||0)),0),d=(null===cs||void 0===cs||null===(l=cs.pre_money)||void 0===l||null===(n=l.totals)||void 0===n?void 0:n.total_shares)||0,i=d>0?(a/d*100).toFixed(2):"0.00",r=parseFloat(null===hs||void 0===hs?void 0:hs.pre_money)||0,o=d>0?a/d*r:0,c=t.map((e=>e.round_name||`Round ${e.round_id}`)).join(", ");return(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"O"})}),(0,x.jsxs)("td",{children:[(0,x.jsx)("strong",{children:"Employee Option Pool"}),t.length>1&&(0,x.jsxs)("div",{className:"small text-muted",children:["Combined from: ",c]})]}),(0,x.jsx)("td",{className:"text-end",children:Number(a).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-warning",children:[i,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-warning",children:Ts(o,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:1===t.length?(0,x.jsxs)(x.Fragment,{children:["From ",t[0].round_name||`Round ${t[0].round_id}`]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{children:["Total pools: ",t.length]}),(0,x.jsx)("div",{className:"text-muted",children:t.map(((e,s)=>{var l;return(0,x.jsxs)("span",{children:[s>0&&" + ",null===(l=e.shares)||void 0===l?void 0:l.toLocaleString()," shares"]},s)}))})]})})})]},"option-pool-combined")})(),null===cs||void 0===cs||null===(S=cs.pre_money)||void 0===S||null===(C=S.items)||void 0===C?void 0:C.filter((e=>"investor"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-success",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-success me-2",children:"I"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end fw-bold text-success",children:Ts(e.pre_money_display_value||e.value,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{children:(0,x.jsx)("small",{children:e.round_name})})]},`investor-${s}`))),null===cs||void 0===cs||null===(F=cs.pre_money)||void 0===F||null===(P=F.items)||void 0===P?void 0:P.filter((e=>"pending"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-warning",children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge bg-warning me-2",children:"\u23f3"})}),(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0.00%"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"\u2014"}),(0,x.jsx)("td",{children:(0,x.jsxs)("small",{children:["Investment: ",Ts(e.investment,null===hs||void 0===hs?void 0:hs.currency),e.discount_rate>0&&(0,x.jsxs)("div",{children:["Discount: ",e.discount_rate,"%"]}),e.valuation_cap>0&&(0,x.jsxs)("div",{children:["Cap: ",Ts(e.valuation_cap,null===hs||void 0===hs?void 0:hs.currency)]}),e.interest_rate>0&&(0,x.jsxs)("div",{children:["Interest: ",e.interest_rate,"%"]})]})})]},`pending-${s}`)))]}),(0,x.jsxs)("tfoot",{className:"table-light",children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{colSpan:"2",children:"TOTAL"}),(0,x.jsx)("th",{className:"text-end",children:Number(null===cs||void 0===cs||null===(k=cs.pre_money)||void 0===k||null===($=k.totals)||void 0===$?void 0:$.total_shares).toLocaleString()}),(0,x.jsx)("th",{className:"text-end",children:"100%"}),(0,x.jsx)("th",{className:"text-end fw-bold text-primary",children:Ts(null===cs||void 0===cs||null===(A=cs.pre_money)||void 0===A||null===(T=A.totals)||void 0===T?void 0:T.pre_money_valuation,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("th",{})]}),(null===cs||void 0===cs||null===(I=cs.pre_money)||void 0===I||null===(O=I.totals)||void 0===O?void 0:O.original_round_0_value)>0&&(0,x.jsx)("tr",{className:"small text-muted",children:(0,x.jsxs)("td",{colSpan:"6",className:"text-end",children:["Original Round 0 Value: ",Ts(cs.pre_money.totals.original_round_0_value,null===hs||void 0===hs?void 0:hs.currency)]})})]})]})})})]}),"post-money"===ws&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header bg-light",children:[(0,x.jsxs)("h5",{className:"mb-0",children:[(null===hs||void 0===hs?void 0:hs.instrument)||"Common Stock"," at Post-",(null===hs||void 0===hs?void 0:hs.shareClassType)||"Investment"," Investor"]}),(0,x.jsxs)("small",{className:"text-muted",children:["After ",Ts(null===hs||void 0===hs?void 0:hs.investment,null===hs||void 0===hs?void 0:hs.currency)," investment",(null===$s||void 0===$s?void 0:$s.length)>0?` with ${$s.length} convertible instruments conversion`:""]})]}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-striped table-hover",children:[(0,x.jsx)("thead",{className:"table-light",children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Shareholder"}),(0,x.jsx)("th",{children:"Type"}),(0,x.jsx)("th",{className:"text-end",children:"Common Shares"}),(0,x.jsx)("th",{className:"text-end",children:"New Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Total Shares"}),(0,x.jsx)("th",{className:"text-end",children:"Ownership %"}),(0,x.jsx)("th",{className:"text-end",children:"Currency Value"})]})}),(0,x.jsxs)("tbody",{children:[null===cs||void 0===cs||null===(R=cs.post_money)||void 0===R||null===(D=R.items)||void 0===D?void 0:D.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:e.name})}),(0,x.jsx)("td",{children:"Founder"}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-primary",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:Ts(e.value,null===hs||void 0===hs?void 0:hs.currency)})]},`founder-${s}`))),((e,s)=>{const l=null===cs||void 0===cs||null===(e=cs.post_money)||void 0===e||null===(s=e.items)||void 0===s?void 0:s.find((e=>"option_pool"===e.type));return l?(0,x.jsxs)("tr",{className:"table-info",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Employee Option Pool"})}),(0,x.jsx)("td",{children:"Options Pool"}),(0,x.jsx)("td",{className:"text-end",children:Number(l.existing_shares||0).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end text-success fw-bold",children:["+",Number(l.new_shares||0).toLocaleString()]}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(l.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold text-warning",children:[l.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:Ts(l.value,null===hs||void 0===hs?void 0:hs.currency)})]},"option-pool"):null})(),null===cs||void 0===cs||null===(M=cs.post_money)||void 0===M||null===(V=M.items)||void 0===V?void 0:V.filter((e=>"investor"===e.type&&"Seed Investors"===e.name)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-secondary",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Seed Investors"})}),(0,x.jsx)("td",{children:"Investor"}),(0,x.jsx)("td",{className:"text-end",children:Number(e.shares).toLocaleString()}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:Ts(e.value,null===hs||void 0===hs?void 0:hs.currency)})]},`seed-${s}`))),null===cs||void 0===cs||null===(L=cs.post_money)||void 0===L||null===(E=L.items)||void 0===E?void 0:E.filter((e=>"investor"===e.type&&e.is_new_investment)).map(((e,s)=>(0,x.jsxs)("tr",{className:"table-success",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Common Stock Investors"})}),(0,x.jsx)("td",{children:e.instrument_type||"Investor"}),(0,x.jsx)("td",{className:"text-end text-muted",children:"0"}),(0,x.jsxs)("td",{className:"text-end text-success fw-bold",children:["+",Number(e.shares).toLocaleString()]}),(0,x.jsx)("td",{className:"text-end fw-bold",children:Number(e.shares).toLocaleString()}),(0,x.jsxs)("td",{className:"text-end fw-bold",children:[e.percentage,"%"]}),(0,x.jsx)("td",{className:"text-end",children:Ts(e.value,null===hs||void 0===hs?void 0:hs.currency)})]},`new-${s}`)))]}),(0,x.jsxs)("tfoot",{className:"table-light fw-bold",children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{colSpan:"4",children:"TOTAL"}),(0,x.jsx)("td",{className:"text-end fs-5",children:Number(null===cs||void 0===cs||null===(U=cs.post_money)||void 0===U||null===(B=U.totals)||void 0===B?void 0:B.total_shares).toLocaleString()}),(0,x.jsx)("td",{className:"text-end fs-5",children:"100%"}),(0,x.jsx)("td",{className:"text-end fs-5 text-primary",children:Ts(null===cs||void 0===cs||null===(W=cs.post_money)||void 0===W||null===(z=W.totals)||void 0===z?void 0:z.total_value,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{})]}),(0,x.jsx)("tr",{className:"small text-muted",children:(0,x.jsxs)("td",{colSpan:"8",className:"text-end pt-2",children:[(0,x.jsxs)("span",{className:"me-3",children:["Pre-Money: ",Ts(null===hs||void 0===hs?void 0:hs.pre_money,null===hs||void 0===hs?void 0:hs.currency)]}),(0,x.jsxs)("span",{className:"me-3",children:["Investment: ",Ts(null===hs||void 0===hs?void 0:hs.investment,null===hs||void 0===hs?void 0:hs.currency)]}),(0,x.jsxs)("span",{className:"me-3",children:["Post-Money: ",Ts(null===hs||void 0===hs?void 0:hs.post_money,null===hs||void 0===hs?void 0:hs.currency)]}),(0,x.jsxs)("span",{children:["Share Price: ",Is(null===hs||void 0===hs?void 0:hs.share_price,null===hs||void 0===hs?void 0:hs.currency)]})]})})]})]})})})]}),Ls&&(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,x.jsxs)("div",{className:"card-header bg-white border-0 d-flex justify-content-between align-items-center py-3",children:[(0,x.jsxs)("div",{children:[(0,x.jsxs)("h5",{className:"mb-0 fw-bold text-dark",children:[(0,x.jsx)("i",{className:"bi bi-pie-chart-fill text-primary me-2"}),"Founder Ownership Distribution - Round 0"]}),(0,x.jsx)("p",{className:"text-muted mb-0 small",children:"Initial share allocation at incorporation"})]}),(0,x.jsxs)("span",{className:"badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill",children:[(0,x.jsx)("i",{className:"bi bi-shield me-1"}),Rs((null===cs||void 0===cs||null===(J=cs.pre_money)||void 0===J||null===(Y=J.totals)||void 0===Y?void 0:Y.total_shares)||0)," Total Shares"]})]}),(0,x.jsx)("div",{className:"card-body p-4",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-7",children:(0,x.jsx)("div",{style:{height:"400px",position:"relative"},children:(0,x.jsx)(c.Fq,{data:{labels:cs.pre_money.items.filter((e=>"founder"===e.type)).map((e=>e.founder_code?`${e.founder_code} - ${e.name}`:e.name||`Founder ${cs.pre_money.items.indexOf(e)+1}`)),datasets:[{data:cs.pre_money.items.filter((e=>"founder"===e.type)).map((e=>e.shares)),backgroundColor:["#4e73df","#1cc88a","#36b9cc","#f6c23e","#e74a3b","#6f42c1","#fd7e14","#20c9a6","#858796","#5a5c69","#2c9faf","#b58df1"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{datalabels:{display:function(e){const s=e.dataset,l=s.data.reduce(((e,s)=>e+s),0);return s.data[e.dataIndex]/l*100>=5},formatter:function(e,s){return`${(e/s.dataset.data.reduce(((e,s)=>e+s),0)*100).toFixed(1)}%`},color:"#ffffff",font:{weight:"bold",size:13},textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:8,backgroundColor:"rgba(0,0,0,0.4)",borderRadius:6},legend:{position:"bottom",labels:{padding:20,usePointStyle:!0,pointStyle:"circle",font:{size:12,weight:"500"},generateLabels:function(e){const s=e.data;return s.labels.length&&s.datasets.length?s.labels.map(((l,n)=>{var t,a;const d=s.datasets[0].data[n],i=s.datasets[0].data.reduce(((e,s)=>e+s),0),r=i>0?(d/i*100).toFixed(1):0,o=null===cs||void 0===cs||null===(t=cs.pre_money)||void 0===t||null===(a=t.items)||void 0===a?void 0:a[n];let c=l,m="";return o&&(m=` (${Rs(o.shares)} shares)`),{text:`${c}${m} - ${r}%`,fillStyle:s.datasets[0].backgroundColor[n],strokeStyle:s.datasets[0].backgroundColor[n],lineWidth:1,hidden:e.getDatasetMeta(0).data[n].hidden,index:n,fontColor:"#2c3e50"}})):[]}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",titleColor:"#ffffff",bodyColor:"#ffffff",borderColor:"rgba(255,255,255,0.2)",borderWidth:1,cornerRadius:8,padding:12,displayColors:!0,callbacks:{label:function(e){var s,l;const n=e.label||"",t=e.parsed||0,a=e.dataset.data.reduce(((e,s)=>e+s),0),d=a>0?(t/a*100).toFixed(2):0,i=e.dataIndex,r=null===cs||void 0===cs||null===(s=cs.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[i];return[`\ud83d\udcca ${n}`,`Shares: ${Rs(t)}`,`Ownership: ${d}%`,`Value: ${Ts((null===r||void 0===r?void 0:r.value)||0,null===hs||void 0===hs?void 0:hs.currency)}`,`Price/Share: ${Is((null===r||void 0===r?void 0:r.share_price)||.01,null===hs||void 0===hs?void 0:hs.currency)}`]},title:function(e){var s,l;const n=e[0].dataIndex,t=null===cs||void 0===cs||null===(s=cs.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];return"founder"===(null===t||void 0===t?void 0:t.type)?`\ud83d\udc64 Founder: ${t.founder_code||""} ${t.name}`.trim():e[0].label}}}}}})})}),(0,x.jsx)("div",{className:"col-md-5",children:(0,x.jsxs)("div",{className:"bg-light bg-opacity-50 rounded-3 p-4 h-100",children:[(0,x.jsxs)("h6",{className:"fw-bold mb-3 d-flex align-items-center",children:[(0,x.jsx)("i",{className:"bi bi-people-fill me-2 text-primary"}),"Founder Details & Ownership"]}),(0,x.jsx)("div",{className:"founder-list",style:{maxHeight:"320px",overflowY:"auto"},children:null===cs||void 0===cs||null===(q=cs.pre_money)||void 0===q||null===(H=q.items)||void 0===H?void 0:H.filter((e=>"founder"===e.type)).map(((e,s)=>{const l=cs.pre_money.totals.total_shares||1,n=((e.shares||0)/l*100).toFixed(1),t=["#4e73df","#1cc88a","#36b9cc","#f6c23e","#e74a3b"],a=t[s%t.length];return(0,x.jsxs)("div",{className:"d-flex align-items-center mb-3 p-3 bg-white rounded-3 shadow-sm",children:[(0,x.jsx)("div",{className:"me-3 flex-shrink-0 d-flex align-items-center justify-content-center rounded-circle",style:{width:"48px",height:"48px",backgroundColor:`${a}20`,color:a,fontSize:"18px",fontWeight:"bold"},children:e.founder_code||`F${s+1}`}),(0,x.jsxs)("div",{className:"flex-grow-1",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,x.jsx)("span",{className:"fw-semibold",children:e.name}),(0,x.jsxs)("span",{className:"badge",style:{backgroundColor:a,color:"white"},children:[n,"%"]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center small",children:[(0,x.jsxs)("span",{className:"text-muted",children:[Rs(e.shares||0)," shares"]}),e.email&&(0,x.jsx)("span",{className:"text-muted text-truncate",style:{maxWidth:"150px"},children:e.email})]}),(0,x.jsx)("div",{className:"progress mt-2",style:{height:"6px",backgroundColor:"#e9ecef"},children:(0,x.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:`${n}%`,backgroundColor:a,transition:"width 0.3s ease"},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"})}),(0,x.jsxs)("div",{className:"d-flex mt-2 small text-muted",children:[(0,x.jsxs)("span",{className:"me-3",children:[(0,x.jsx)("i",{className:"bi bi-tag me-1"}),e.share_type||"common"]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("i",{className:"bi bi-check-circle me-1"}),e.voting||"voting"]})]})]})]},s)}))}),(0,x.jsx)("div",{className:"mt-3 pt-3 border-top",children:(0,x.jsx)("div",{className:"bg-white rounded-3 p-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-6",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Founders"}),(0,x.jsx)("span",{className:"fw-bold h5 mb-0",children:(null===cs||void 0===cs||null===(G=cs.pre_money)||void 0===G||null===(K=G.items)||void 0===K?void 0:K.filter((e=>"founder"===e.type)).length)||0})]})}),(0,x.jsx)("div",{className:"col-6",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Shares"}),(0,x.jsx)("span",{className:"fw-bold h5 mb-0",children:Rs((null===cs||void 0===cs||null===(Z=cs.pre_money)||void 0===Z||null===(Q=Z.totals)||void 0===Q?void 0:Q.total_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-6 mt-2",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Share Price"}),(0,x.jsx)("span",{className:"fw-bold text-primary",children:Is((null===hs||void 0===hs?void 0:hs.share_price)||.01,null===hs||void 0===hs?void 0:hs.currency)})]})}),(0,x.jsx)("div",{className:"col-6 mt-2",children:(0,x.jsxs)("div",{className:"d-flex flex-column",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Value"}),(0,x.jsx)("span",{className:"fw-bold text-success",children:Ts((null===cs||void 0===cs||null===(X=cs.pre_money)||void 0===X||null===(ee=X.totals)||void 0===ee?void 0:ee.total_value)||0,null===hs||void 0===hs?void 0:hs.currency)})]})})]})})})]})})]})})]})})}),"summary"===ws&&bs&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header bg-light",children:[(0,x.jsx)("h5",{className:"mb-0",children:"CPAVATE Calculation Summary"}),(0,x.jsx)("small",{className:"text-muted",children:"Detailed breakdown based on CPAVATE formulas"})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row mb-4",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Pre-Money Valuation"}),(0,x.jsx)("h4",{className:"card-title text-primary",children:Ts(js.pre_money_valuation,null===hs||void 0===hs?void 0:hs.currency)})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Investment"}),(0,x.jsx)("h4",{className:"card-title text-success",children:Ts(null===hs||void 0===hs?void 0:hs.investment,null===hs||void 0===hs?void 0:hs.currency)})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"Post-Money Valuation"}),(0,x.jsx)("h4",{className:"card-title text-info",children:Ts(js.post_money_valuation,null===hs||void 0===hs?void 0:hs.currency)})]})})})]}),(0,x.jsxs)("div",{className:"row mb-4",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h6",{className:"mb-0",children:"Share Price Calculation"})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Pre-Money Share Price:"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Ts(js.pre_money_valuation,null===hs||void 0===hs?void 0:hs.currency)," \xf7 ",Rs(bs.totalSharesPre)," shares =",(0,x.jsx)("strong",{className:"ms-2",children:Is(bs.sharePricePre,null===hs||void 0===hs?void 0:hs.currency)})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Post-Money Share Price:"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Ts(js.post_money_valuation,null===hs||void 0===hs?void 0:hs.currency)," \xf7 ",Rs(bs.totalSharesPost)," shares =",(0,x.jsx)("strong",{className:"ms-2",children:Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)})]})]})]})]})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h6",{className:"mb-0",children:"Shareholder Values"})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Founder Value (Pre-Money):"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Rs(cs.pre_money.totals.total_founders)," shares \xd7 ",Is(bs.sharePricePre,null===hs||void 0===hs?void 0:hs.currency)," =",(0,x.jsx)("strong",{className:"ms-2 text-primary",children:Ts(bs.founderValuePre,null===hs||void 0===hs?void 0:hs.currency)})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Founder Value (Post-Money):"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Rs(cs.post_money.totals.total_founders)," shares \xd7 ",Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)," =",(0,x.jsx)("strong",{className:"ms-2 text-success",children:Ts(bs.founderValuePost,null===hs||void 0===hs?void 0:hs.currency)})]})]}),(0,x.jsxs)("div",{className:"mb-3",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Investor Value (Post-Money):"})}),(0,x.jsxs)("p",{className:"mb-0",children:[Rs(cs.post_money.totals.total_investors)," shares \xd7 ",Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)," =",(0,x.jsx)("strong",{className:"ms-2 text-warning",children:Ts(bs.investorValue,null===hs||void 0===hs?void 0:hs.currency)})]})]})]})]})})]}),(0,x.jsxs)("div",{className:"card mb-4",children:[(0,x.jsx)("div",{className:"card-header",children:(0,x.jsx)("h6",{className:"mb-0",children:"Detailed Ownership Breakdown"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-sm",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Shareholder Type"}),(0,x.jsx)("th",{className:"text-end",children:"Shares"}),(0,x.jsx)("th",{className:"text-end",children:"% Ownership"}),(0,x.jsx)("th",{className:"text-end",children:"Value (Post-Money)"}),(0,x.jsx)("th",{className:"text-end",children:"Value per Share"})]})}),(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Founders"})}),(0,x.jsx)("td",{className:"text-end",children:Rs(cs.post_money.totals.total_founders)}),(0,x.jsx)("td",{className:"text-end",children:Os(cs.post_money.totals.total_founders/bs.totalSharesPost*100)}),(0,x.jsx)("td",{className:"text-end text-primary",children:Ts(bs.founderValuePost,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{className:"text-end",children:Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Investors"})}),(0,x.jsx)("td",{className:"text-end",children:Rs(cs.post_money.totals.total_investors)}),(0,x.jsx)("td",{className:"text-end",children:Os(cs.post_money.totals.total_investors/bs.totalSharesPost*100)}),(0,x.jsx)("td",{className:"text-end text-success",children:Ts(bs.investorValue,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{className:"text-end",children:Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"Option Pool"})}),(0,x.jsx)("td",{className:"text-end",children:Rs(cs.post_money.totals.total_option_pool)}),(0,x.jsx)("td",{className:"text-end",children:Os(cs.post_money.totals.total_option_pool/bs.totalSharesPost*100)}),(0,x.jsx)("td",{className:"text-end text-warning",children:Ts(bs.optionPoolValue,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{className:"text-end",children:Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("tr",{className:"table-active",children:[(0,x.jsx)("td",{children:(0,x.jsx)("strong",{children:"TOTAL"})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:Rs(bs.totalSharesPost)})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:"100%"})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:Ts(bs.totalSharesPost*bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)})}),(0,x.jsx)("td",{className:"text-end",children:(0,x.jsx)("strong",{children:Is(bs.sharePricePost,null===hs||void 0===hs?void 0:hs.currency)})})]})]})]})})})]}),(ys||fs)&&(0,x.jsxs)("div",{className:"row",children:[ys&&(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,x.jsx)("h6",{className:"mb-0",children:"Pre-Money Distribution"}),(0,x.jsxs)("span",{className:"badge bg-primary",children:["Total: ",Rs((null===cs||void 0===cs||null===(se=cs.pre_money)||void 0===se||null===(le=se.totals)||void 0===le?void 0:le.total_shares)||0)," shares"]})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",style:{height:"300px"},children:(0,x.jsx)(c.Fq,{data:ys,options:{responsive:!0,maintainAspectRatio:!1,cutout:"50%",plugins:{datalabels:{display:function(e){const s=e.dataset,l=s.data.reduce(((e,s)=>e+s),0);return s.data[e.dataIndex]/l*100>=3},formatter:function(e,s){return(e/s.dataset.data.reduce(((e,s)=>e+s),0)*100).toFixed(1)+"%"},color:"#000",font:{weight:"bold",size:16},textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:6},legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#333",borderWidth:1,cornerRadius:6,padding:12,displayColors:!0,callbacks:{label:function(e){const s=e.label||"",l=e.parsed||0,n=e.dataset.data.reduce(((e,s)=>e+s),0),t=n>0?(l/n*100).toFixed(2):0,a=(null===hs||void 0===hs?void 0:hs.share_price)||0,d=l*a;return[`${s}`,`Shares: ${Rs(l)}`,`Ownership: ${t}%`,`Value: ${Ts(d,null===hs||void 0===hs?void 0:hs.currency)}`,`Price/Share: ${Is(a,null===hs||void 0===hs?void 0:hs.currency)}`]},title:function(e){var s,l;const n=e[0].dataIndex,t=null===cs||void 0===cs||null===(s=cs.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];return"founder"===(null===t||void 0===t?void 0:t.type)?`\ud83d\udc64 Founder: ${t.name}`:"investor"===(null===t||void 0===t?void 0:t.type)?` Investor: ${t.name}`:"option_pool"===(null===t||void 0===t?void 0:t.type)?`\ud83d\udcca Option Pool: ${t.name}`:e[0].label}}}}}})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"chart-legend-permanent h-100",children:[(0,x.jsx)("h6",{className:"mb-3 text-center fw-semibold",children:"Ownership Distribution"}),(0,x.jsx)("div",{className:"legend-list",style:{maxHeight:"240px",overflowY:"auto"},children:null===cs||void 0===cs||null===(ne=cs.pre_money)||void 0===ne||null===(te=ne.items)||void 0===te?void 0:te.map(((e,s)=>{const l=cs.pre_money.totals.total_shares||1,n=((e.shares||0)/l*100).toFixed(1),t=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4","#6A0572","#118AB2","#06D6A0","#FFD166"],a=t[s%t.length];let d=e.name;return"founder"===e.type&&e.founder_code?d=`${e.founder_code} - ${e.name}`:("investor"===e.type||"option_pool"===e.type)&&(d=`\ud83d\udc64 ${e.name}`),(0,x.jsxs)("div",{className:"legend-item d-flex align-items-center mb-2 p-2 border rounded",children:[(0,x.jsx)("div",{className:"legend-color me-2 flex-shrink-0",style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:a,border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),(0,x.jsxs)("div",{className:"legend-text flex-grow-1",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsx)("small",{className:"fw-semibold text-truncate",style:{maxWidth:"100px"},children:d}),(0,x.jsxs)("span",{className:"badge bg-primary ms-2",children:[n,"%"]})]}),(0,x.jsxs)("small",{className:"text-muted d-block",children:[Rs(e.shares||0)," shares"]}),"founder"===e.type&&e.email&&(0,x.jsx)("small",{className:"text-muted d-block",children:e.email})]})]},s)}))}),(0,x.jsxs)("div",{className:"legend-total mt-3 pt-3 border-top",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Shares:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Rs((null===cs||void 0===cs||null===(ae=cs.pre_money)||void 0===ae||null===(de=ae.totals)||void 0===de?void 0:de.total_shares)||0)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"Share Price:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Is((null===hs||void 0===hs?void 0:hs.share_price)||0,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Value:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Ts((null===cs||void 0===cs||null===(ie=cs.pre_money)||void 0===ie||null===(re=ie.totals)||void 0===re?void 0:re.total_value)||0,null===hs||void 0===hs?void 0:hs.currency)})]})]})]})})]}),(0,x.jsx)("div",{className:"mt-3",children:(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Shares"})}),(0,x.jsx)("h6",{className:"mb-0",children:Rs((null===cs||void 0===cs||null===(oe=cs.pre_money)||void 0===oe||null===(ce=oe.totals)||void 0===ce?void 0:ce.total_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Share Price"})}),(0,x.jsx)("h6",{className:"mb-0",children:Is((null===hs||void 0===hs?void 0:hs.share_price)||0,null===hs||void 0===hs?void 0:hs.currency)})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Value"})}),(0,x.jsx)("h6",{className:"mb-0",children:Ts((null===cs||void 0===cs||null===(me=cs.pre_money)||void 0===me||null===(he=me.totals)||void 0===he?void 0:he.total_value)||0,null===hs||void 0===hs?void 0:hs.currency)})]})})]})})]})]})}),fs&&(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,x.jsx)("h6",{className:"mb-0",children:"Post-Money Distribution"}),(0,x.jsxs)("span",{className:"badge bg-success",children:["Total: ",Rs((null===cs||void 0===cs||null===(xe=cs.post_money)||void 0===xe||null===(ue=xe.totals)||void 0===ue?void 0:ue.total_shares)||0)," shares"]})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-12",style:{height:"300px"},children:(0,x.jsx)(c.Fq,{data:fs,options:{responsive:!0,maintainAspectRatio:!1,cutout:"50%",plugins:{datalabels:{display:function(e){const s=e.dataset,l=s.data.reduce(((e,s)=>e+s),0);return s.data[e.dataIndex]/l*100>=3},formatter:function(e,s){return(e/s.dataset.data.reduce(((e,s)=>e+s),0)*100).toFixed(1)+"%"},color:"#000",font:{weight:"bold",size:16},textShadow:"1px 1px 2px rgba(0,0,0,0.8)",padding:6},legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#333",borderWidth:1,cornerRadius:6,padding:12,displayColors:!0,callbacks:{label:function(e){const s=e.label||"",l=e.parsed||0,n=e.dataset.data.reduce(((e,s)=>e+s),0),t=n>0?(l/n*100).toFixed(2):0,a=(null===hs||void 0===hs?void 0:hs.share_price)||0,d=l*a;return[`${s}`,`Shares: ${Rs(l)}`,`Ownership: ${t}%`,`Value: ${Ts(d,null===hs||void 0===hs?void 0:hs.currency)}`,`Price/Share: ${Is(a,null===hs||void 0===hs?void 0:hs.currency)}`]},title:function(e){var s,l;const n=e[0].dataIndex,t=null===cs||void 0===cs||null===(s=cs.post_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];if(t){if("founder"===t.type)return`\ud83d\udc64 Founder: ${t.name}`;if("investor"===t.type)return` Investor: ${t.name}`;if("option_pool"===t.type)return`\ud83d\udcca Option Pool: ${t.name}`}return e[0].label}}}}}})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"chart-legend-permanent h-100",children:[(0,x.jsx)("h6",{className:"mb-3 text-center fw-semibold",children:"Ownership Distribution"}),(0,x.jsx)("div",{className:"legend-list",style:{maxHeight:"240px",overflowY:"auto"},children:null===cs||void 0===cs||null===(ve=cs.post_money)||void 0===ve||null===(je=ve.items)||void 0===je?void 0:je.map(((e,s)=>{const l=cs.post_money.totals.total_shares||1,n=((e.shares||0)/l*100).toFixed(1),t=["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#8AC926","#1982C4","#6A0572","#118AB2","#06D6A0","#FFD166"],a=t[s%t.length];let d=e.name,i="";return"founder"===e.type?(i="\ud83d\udc64 ",e.founder_code&&(d=`${e.founder_code} - ${e.name}`)):"investor"===e.type?(i="\ud83d\udc64 ",e.is_converted?d=`\ud83d\udd04 ${e.name} (Converted)`:e.is_new_investment&&(d=`\ud83c\udd95 ${e.name}`)):"option_pool"===e.type?i="\ud83d\udc64 ":"pending"===e.type&&(i="\u23f3 "),(0,x.jsxs)("div",{className:"legend-item d-flex align-items-center mb-2 p-2 border rounded",children:[(0,x.jsx)("div",{className:"legend-color me-2 flex-shrink-0",style:{width:"14px",height:"14px",borderRadius:"50%",backgroundColor:a,border:"2px solid #fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}}),(0,x.jsxs)("div",{className:"legend-text flex-grow-1",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("small",{className:"fw-semibold text-truncate",style:{maxWidth:"100px"},children:[i,d]}),(0,x.jsxs)("span",{className:"badge bg-success ms-2",children:[n,"%"]})]}),(0,x.jsxs)("small",{className:"text-muted d-block",children:[Rs(e.shares||0)," shares",e.new_shares>0&&(0,x.jsxs)("span",{className:"text-success ms-2",children:["(+",Rs(e.new_shares),")"]})]}),e.round_name&&"Founding Share Allocation"!==e.round_name&&(0,x.jsx)("small",{className:"text-muted d-block",children:e.round_name})]})]},s)}))}),(0,x.jsxs)("div",{className:"legend-total mt-3 pt-3 border-top",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Shares:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Rs((null===cs||void 0===cs||null===(pe=cs.post_money)||void 0===pe||null===(be=pe.totals)||void 0===be?void 0:be.total_shares)||0)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"New Shares:"}),(0,x.jsxs)("small",{className:"fw-semibold text-success",children:["+",Rs((null===cs||void 0===cs||null===(Ne=cs.post_money)||void 0===Ne||null===(ye=Ne.totals)||void 0===ye?void 0:ye.total_new_shares)||0)]})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,x.jsx)("small",{className:"text-muted",children:"Share Prissce:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Is((null===hs||void 0===hs?void 0:hs.share_price)||0,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,x.jsx)("small",{className:"text-muted",children:"Total Value:"}),(0,x.jsx)("small",{className:"fw-semibold",children:Ts((null===cs||void 0===cs||null===(ge=cs.post_money)||void 0===ge||null===(fe=ge.totals)||void 0===fe?void 0:fe.total_value)||0,null===hs||void 0===hs?void 0:hs.currency)})]})]})]})})]}),(0,x.jsxs)("div",{className:"mt-3",children:[(0,x.jsxs)("div",{className:"row",children:[(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Shares"})}),(0,x.jsx)("h6",{className:"mb-0",children:Rs((null===cs||void 0===cs||null===(_e=cs.post_money)||void 0===_e||null===(we=_e.totals)||void 0===we?void 0:we.total_shares)||0)})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"New Shares"})}),(0,x.jsxs)("h6",{className:"mb-0 text-success",children:["+",Rs((null===cs||void 0===cs||null===(Se=cs.post_money)||void 0===Se||null===(Ce=Se.totals)||void 0===Ce?void 0:Ce.total_new_shares)||0)]})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Share Price"})}),(0,x.jsx)("h6",{className:"mb-0",children:(0,x.jsx)("p",{children:Ms&&!Vs?"N/A":Is(Es,null===hs||void 0===hs?void 0:hs.currency)})})]})}),(0,x.jsx)("div",{className:"col-md-3",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Total Value"})}),(0,x.jsx)("h6",{className:"mb-0",children:Ts((null===cs||void 0===cs||null===(Fe=cs.post_money)||void 0===Fe||null===(Pe=Fe.totals)||void 0===Pe?void 0:Pe.total_value)||0,null===hs||void 0===hs?void 0:hs.currency)})]})})]}),(0,x.jsxs)("div",{className:"row mt-3",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Founders"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"rounded-circle bg-info me-2",style:{width:"10px",height:"10px"}}),(0,x.jsx)("h6",{className:"mb-0",children:Os((null===cs||void 0===cs||null===(ke=cs.post_money)||void 0===ke||null===($e=ke.totals)||void 0===$e?void 0:$e.total_founders)/(null===cs||void 0===cs||null===(Ae=cs.post_money)||void 0===Ae||null===(Te=Ae.totals)||void 0===Te?void 0:Te.total_shares)*100||0)})]})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Investors"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"rounded-circle bg-success me-2",style:{width:"10px",height:"10px"}}),(0,x.jsx)("h6",{className:"mb-0",children:Os((null===cs||void 0===cs||null===(Ie=cs.post_money)||void 0===Ie||null===(Oe=Ie.totals)||void 0===Oe?void 0:Oe.total_investors)/(null===cs||void 0===cs||null===(Re=cs.post_money)||void 0===Re||null===(De=Re.totals)||void 0===De?void 0:De.total_shares)*100||0)})]})]})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsxs)("div",{className:"text-center",children:[(0,x.jsx)("p",{className:"mb-1 text-muted",children:(0,x.jsx)("small",{children:"Option Pool"})}),(0,x.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,x.jsx)("div",{className:"rounded-circle bg-warning me-2",style:{width:"10px",height:"10px"}}),(0,x.jsx)("h6",{className:"mb-0",children:Os((null===cs||void 0===cs||null===(Me=cs.post_money)||void 0===Me||null===(Ve=Me.totals)||void 0===Ve?void 0:Ve.total_option_pool)/(null===cs||void 0===cs||null===(Le=cs.post_money)||void 0===Le||null===(Ee=Le.totals)||void 0===Ee?void 0:Ee.total_shares)*100||0)})]})]})})]})]})]})]})}),(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,x.jsx)("h6",{className:"mb-0",children:"Ownership Percentage Comparison"}),(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{className:"badge bg-primary me-2",children:"Pre-Money"}),(0,x.jsx)("span",{className:"badge bg-danger",children:"Post-Money"})]})]}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)("div",{style:{height:"400px"},children:(0,x.jsx)(c.yP,{data:{labels:(null===cs||void 0===cs||null===(Ue=cs.pre_money)||void 0===Ue||null===(Be=Ue.items)||void 0===Be?void 0:Be.map((e=>{const s=e.name||"";return s.length>20?s.substring(0,20)+"...":s})))||[],datasets:[{label:"Pre-Money %",data:(null===cs||void 0===cs||null===(We=cs.pre_money)||void 0===We||null===(ze=We.items)||void 0===ze?void 0:ze.map((e=>{const s=cs.pre_money.totals.total_shares||1;return parseFloat(((e.shares||0)/s*100).toFixed(1))})))||[],backgroundColor:"#4e73df",borderColor:"#4e73df",borderWidth:2,borderRadius:5,barThickness:30,maxBarThickness:30,categoryPercentage:.5,barPercentage:1},{label:"Post-Money %",data:(null===cs||void 0===cs||null===(Je=cs.post_money)||void 0===Je||null===(Ye=Je.items)||void 0===Ye?void 0:Ye.map((e=>{const s=cs.post_money.totals.total_shares||1;return parseFloat(((e.shares||0)/s*100).toFixed(1))})))||[],backgroundColor:"#e74a3b",borderColor:"#e74a3b",borderWidth:2,borderRadius:5,barThickness:30,maxBarThickness:30,categoryPercentage:.5,barPercentage:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:12,padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:"#333",borderWidth:1,cornerRadius:6,padding:12,displayColors:!0,callbacks:{label:function(e){var s,l,n,t;const a=e.dataset.label||"",d=e.parsed.y||0,i=e.dataIndex,r=null===cs||void 0===cs||null===(s=cs.pre_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[i],o=null===cs||void 0===cs||null===(n=cs.post_money)||void 0===n||null===(t=n.items)||void 0===t?void 0:t[i];let c=`${a}: ${d}%`;if(r&&o){const e=r.shares||0,s=(o.shares||0)-e;0!==s&&(c+=`\nShares Change: ${s>0?"+":""}${Rs(s)}`)}return c},afterLabel:function(e){var s,l;const n=e.dataIndex,t=null===cs||void 0===cs||null===(s=cs.post_money)||void 0===s||null===(l=s.items)||void 0===l?void 0:l[n];return null!==t&&void 0!==t&&t.type?`Type: ${t.type.charAt(0).toUpperCase()+t.type.slice(1)}`:""}}},datalabels:{display:!0,formatter:function(e){return e+"%"},color:"#fff",font:{weight:"bold",size:10},anchor:"center",align:"center"}},scales:{x:{grid:{display:!1},title:{display:!0,text:"Stakeholders",font:{size:12,weight:"bold"}}},y:{beginAtZero:!0,max:100,ticks:{callback:function(e){return e+"%"},stepSize:10},title:{display:!0,text:"Ownership Percentage",font:{size:12,weight:"bold"}},grid:{color:"rgba(0, 0, 0, 0.05)"}}}}})}),(0,x.jsxs)("div",{className:"row mt-4",children:[(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body text-center",children:[(0,x.jsx)("h6",{className:"text-muted mb-2",children:"Total Stakeholders"}),(0,x.jsx)("h3",{className:"mb-0",children:(null===cs||void 0===cs||null===(qe=cs.pre_money)||void 0===qe||null===(He=qe.items)||void 0===He?void 0:He.length)||0}),(0,x.jsx)("small",{className:"text-muted",children:"Same in Pre & Post"})]})})}),(0,x.jsx)("div",{className:"col-md-6",children:(0,x.jsx)("div",{className:"card bg-light",children:(0,x.jsxs)("div",{className:"card-body text-center",children:[(0,x.jsx)("h6",{className:"text-muted mb-2",children:"Largest Change"}),(0,x.jsx)("h3",{className:"mb-0",children:((e,s)=>{let l=0;return null!==cs&&void 0!==cs&&null!==(e=cs.pre_money)&&void 0!==e&&e.items&&null!==cs&&void 0!==cs&&null!==(s=cs.post_money)&&void 0!==s&&s.items&&cs.pre_money.items.forEach(((e,s)=>{const n=cs.post_money.items[s];if(e&&n){const s=cs.pre_money.totals.total_shares||1,t=cs.post_money.totals.total_shares||1,a=e.shares/s*100,d=n.shares/t*100,i=Math.abs(d-a);i>l&&(l=i)}})),`${l.toFixed(1)}%`})()}),(0,x.jsx)("small",{className:"text-muted",children:"Maximum percentage change"})]})})})]})]})]})})]})]})]}),"pending"===ws&&us.length>0&&(0,x.jsxs)("div",{className:"card",children:[(0,x.jsxs)("div",{className:"card-header bg-warning",children:[(0,x.jsx)("h5",{className:"mb-0",children:"Pending Conversions"}),(0,x.jsx)("small",{className:"text-white",children:"SAFE/Convertible Notes waiting to convert"})]}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsx)("div",{className:"table-responsive",children:(0,x.jsxs)("table",{className:"table table-striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:"Instrument"}),(0,x.jsx)("th",{children:"Round"}),(0,x.jsx)("th",{className:"text-end",children:"Investment"}),(0,x.jsx)("th",{className:"text-end",children:"Conversion Price"}),(0,x.jsx)("th",{className:"text-end",children:"Potential Shares"}),(0,x.jsx)("th",{children:"Discount"}),(0,x.jsx)("th",{children:"Valuation Cap"})]})}),(0,x.jsx)("tbody",{children:us.map(((e,s)=>{var l,n;const t={instrument:e.instrument_type||e.instrument,round_name:e.round_name,investment:e.investment_amount||e.investment,conversion_price:e.share_price||e.conversion_price,potential_shares:e.estimated_shares||e.potential_shares,discount_rate:(null===(l=e.instrument_data)||void 0===l?void 0:l.discountRate_note)||e.discount_rate,valuation_cap:(null===(n=e.instrument_data)||void 0===n?void 0:n.valuationCap_note)||e.valuation_cap};return(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:"badge "+("Safe"===t.instrument?"bg-primary":"bg-info"),children:t.instrument})}),(0,x.jsx)("td",{children:t.round_name}),(0,x.jsx)("td",{className:"text-end",children:Ts(t.investment,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{className:"text-end",children:Ts(t.conversion_price,null===hs||void 0===hs?void 0:hs.currency)}),(0,x.jsx)("td",{className:"text-end",children:Rs(t.potential_shares)}),(0,x.jsxs)("td",{children:[t.discount_rate,"%"]}),(0,x.jsx)("td",{children:Ts(t.valuation_cap,null===hs||void 0===hs?void 0:hs.currency)})]},s)}))})]})})})]}),"Round 0"===(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,x.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,x.jsxs)("h6",{className:"mb-0 fw-bold text-dark",children:[(0,x.jsx)("i",{className:"bi bi-pie-chart-fill text-primary me-2"}),"Ownership Distribution Statistics"]})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row text-center",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-arrow-up-short text-primary fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Largest Ownership"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-primary",children:[Ws.largest,"%"]})]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-info bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-arrow-down-short text-info fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Smallest Ownership"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-info",children:[Ws.smallest,"%"]})]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-people-fill text-success fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Founders"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-success",children:[Ws.votingCount," / ",Ws.totalFounders]})]})]})})})]}),Ws.totalFounders>0&&(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,x.jsx)("span",{className:"small text-muted",children:"Ownership Distribution"}),(0,x.jsxs)("span",{className:"small fw-bold",children:[Ws.largest,"% Max | ",Ws.smallest,"% Min"]})]}),(0,x.jsx)("div",{className:"progress",style:{height:"8px"},children:null===cs||void 0===cs||null===(Ge=cs.pre_money)||void 0===Ge||null===(Ke=Ge.items)||void 0===Ke?void 0:Ke.filter((e=>"founder"===e.type)).map(((e,s)=>{const l=parseFloat(e.percentage||0),n=["#4e73df","#1cc88a","#36b9cc","#f6c23e","#e74a3b"],t=n[s%n.length];return(0,x.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:`${l}%`,backgroundColor:t,borderRight:s<Ws.totalFounders-1?"2px solid #fff":"none"},"aria-valuenow":l,"aria-valuemin":"0","aria-valuemax":"100",title:`${e.name}: ${l}%`},s)}))}),(0,x.jsx)("div",{className:"d-flex justify-content-between mt-2 small text-muted",children:null===cs||void 0===cs||null===(Ze=cs.pre_money)||void 0===Ze||null===(Qe=Ze.items)||void 0===Qe?void 0:Qe.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsx)("span",{className:"text-truncate",style:{maxWidth:"100px"},children:e.founder_code||`F${s+1}`},s)))})]})]})]})})}),"post-money"===ws&&(0,x.jsx)("div",{className:"row mb-4",children:(0,x.jsx)("div",{className:"col-md-12",children:(0,x.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,x.jsx)("div",{className:"card-header bg-white border-0 py-3",children:(0,x.jsxs)("h6",{className:"mb-0 fw-bold text-dark",children:[(0,x.jsx)("i",{className:"bi bi-pie-chart-fill text-primary me-2"}),"Founder Ownership Statistics"]})}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsxs)("div",{className:"row text-center",children:[(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-arrow-up-short text-primary fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Largest Founder Ownership"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-primary",children:[zs.largest,"%"]})]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-info bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-arrow-down-short text-info fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Smallest Founder Ownership"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-info",children:[zs.smallest,"%"]})]})]})})}),(0,x.jsx)("div",{className:"col-md-4",children:(0,x.jsx)("div",{className:"p-3",children:(0,x.jsxs)("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[(0,x.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-3 me-2",children:(0,x.jsx)("i",{className:"bi bi-people-fill text-success fs-4"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("small",{className:"text-muted d-block",children:"Founders"}),(0,x.jsxs)("h3",{className:"mb-0 fw-bold text-success",children:[zs.votingCount," / ",zs.totalFounders]})]})]})})})]}),(0,x.jsx)("div",{className:"mt-4 pt-3 border-top",children:(0,x.jsx)("div",{className:"row",children:null===cs||void 0===cs||null===(Xe=cs.post_money)||void 0===Xe||null===(es=Xe.items)||void 0===es?void 0:es.filter((e=>"founder"===e.type)).map(((e,s)=>(0,x.jsxs)("div",{className:"col-md-4 mb-2",children:[(0,x.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,x.jsxs)("span",{className:"text-muted",children:[e.founder_code||`F${s+1}`," - ",e.name]}),(0,x.jsx)("span",{className:"fw-bold",children:Os(e.percentage)})]}),(0,x.jsx)("div",{className:"progress mt-1",style:{height:"4px"},children:(0,x.jsx)("div",{className:"progress-bar",style:{width:`${e.percentage}%`,backgroundColor:0===s?"#4e73df":1===s?"#1cc88a":2===s?"#36b9cc":"#f6c23e"}})})]},s)))})})]})]})})}),"Round 0"!==(null===hs||void 0===hs?void 0:hs.type)&&(0,x.jsxs)("div",{className:"card mt-4",children:[(0,x.jsx)("div",{className:"card-header bg-light",children:(0,x.jsx)("h6",{className:"mb-0",children:"Valuation Summary"})}),(0,x.jsx)("div",{className:"card-body",children:(0,x.jsxs)("div",{className:"row gy-3",children:[(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Pre-Money Valuation"})}),(0,x.jsx)("h4",{children:Ts(js.pre_money_valuation,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Investment"})}),(0,x.jsx)("h4",{className:"text-success",children:Ts(null===hs||void 0===hs?void 0:hs.investment,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Post-Money Valuation"})}),(0,x.jsx)("h4",{className:"text-info",children:Ts(js.post_money_valuation,null===hs||void 0===hs?void 0:hs.currency)})]}),(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Total Shares Outstanding"})}),(0,x.jsx)("h4",{children:Rs(js.total_shares_outstanding)})]}),(0,x.jsxs)("div",{className:"col-md-4",children:[(0,x.jsx)("p",{className:"mb-1",children:(0,x.jsx)("strong",{children:"Share Price"})}),(0,x.jsx)("h4",{children:Ms&&!Vs?"N/A":Is(Es,null===hs||void 0===hs?void 0:hs.currency)})]})]})})]}),(0,x.jsxs)("div",{className:"mt-4",children:[(0,x.jsxs)("button",{className:"btn btn-secondary",onClick:()=>ls(-1),children:[(0,x.jsx)("i",{className:"bi bi-arrow-left me-2"}),"Back to Rounds List"]}),(0,x.jsxs)("button",{className:"btn btn-primary ms-2",onClick:Ds,children:[(0,x.jsx)("i",{className:"bi bi-arrow-clockwise me-2"}),"Refresh Data"]})]})]})]})]})})});var Js}m.t1.register(m.PP,m.kc,m.E8,m.hE,m.m_,m.s$,m.Bs,h.A)}}]);
//# sourceMappingURL=1929.a3711145.chunk.js.map