{"version":3,"file":"static/js/1929.0eac14cf.chunk.js","mappings":"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","sources":["pages/User/Investor/RecordRoundCaptable.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport TopBar from \"../../../components/Users/TopBar\";\r\nimport ModuleSideNav from \"../../../components/Users/ModuleSideNav.jsx\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport {\r\n  SectionWrapper,\r\n  Wrapper,\r\n} from \"../../../components/Styles/MainHeadStyles.js\";\r\nimport axios from \"axios\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { API_BASE_URL } from \"../../../config/config.js\";\r\nimport { Pie, Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement\r\n} from 'chart.js';\r\nimport ChartDataLabels from 'chartjs-plugin-datalabels';\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  ArcElement,\r\n  ChartDataLabels\r\n);\r\n\r\nexport default function RecordRoundCaptable() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const API_URL_CAPTABLE = `${API_BASE_URL}api/user/capitalround/`;\r\n\r\n  const storedUsername = localStorage.getItem(\"SignatoryLoginData\");\r\n  const userLogin = storedUsername ? JSON.parse(storedUsername) : null;\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [capTableData, setCapTableData] = useState({\r\n    pre_money: { items: [], totals: {} },\r\n    post_money: { items: [], totals: {} }\r\n  });\r\n  const [roundData, setRoundData] = useState(null);\r\n  const [pendingConversions, setPendingConversions] = useState([]);\r\n  const [calculations, setCalculations] = useState({});\r\n  const [summaryDetails, setSummaryDetails] = useState(null);\r\n\r\n  // Chart states\r\n  const [preMoneyChartData, setPreMoneyChartData] = useState(null);\r\n  const [postMoneyChartData, setPostMoneyChartData] = useState(null);\r\n\r\n  const [activeTab, setActiveTab] = useState(\"pre-money\");\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  const [conversionStatus, setConversionStatus] = useState(null);\r\n  const [conversionData, setConversionData] = useState([]); //  ADD THIS LINE\r\n  // Format currency function\r\n  const formatCurrency = (amount, currency = 'USD') => {\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2,\r\n      }).format(amount || 0);\r\n    } catch (error) {\r\n      return `${currencyCode} ${parseFloat(amount || 0).toFixed(2)}`;\r\n    }\r\n  };\r\n\r\n  const formatCurrencyNotRound = (amount, currency = 'USD') => {\r\n    const cleanCurrency = currency?.trim().split(\" \")[0] || \"USD\";\r\n    const validCurrencies = [\"USD\", \"CAD\", \"EUR\", \"GBP\", \"INR\", \"AUD\", \"JPY\"];\r\n    const currencyCode = validCurrencies.includes(cleanCurrency.toUpperCase())\r\n      ? cleanCurrency.toUpperCase()\r\n      : \"USD\";\r\n\r\n    try {\r\n      const numAmount = parseFloat(amount) || 0;\r\n      return new Intl.NumberFormat(\"en-US\", {\r\n        style: \"currency\",\r\n        currency: currencyCode,\r\n        minimumFractionDigits: 3,\r\n        maximumFractionDigits: 3,\r\n      }).format(numAmount);\r\n    } catch (error) {\r\n      return `${currencyCode} ${(parseFloat(amount) || 0).toFixed(3)}`;\r\n    }\r\n  };\r\n\r\n  const formatPercentage = (value) => {\r\n    if (!value && value !== 0) return '0.00%';\r\n    return `${parseFloat(value).toFixed(2)}%`;\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    if (!num && num !== 0) return '0';\r\n    return new Intl.NumberFormat('en-US').format(num);\r\n  };\r\n\r\n  // Data fetching function\r\n  const getCapTableData = useCallback(async () => {\r\n    if (!id || !userLogin) {\r\n      setError(\"Missing required parameters\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    const formData = {\r\n      company_id: userLogin.companies[0].id,\r\n      round_id: id,\r\n    };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        API_URL_CAPTABLE + \"getRoundCapTableSingleRecord\",\r\n        formData,\r\n        {\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n\r\n      if (res.data.success) {\r\n        const capTable = res.data.cap_table || {\r\n          pre_money: { items: [], totals: {} },\r\n          post_money: { items: [], totals: {} }\r\n        };\r\n        console.log(res.data)\r\n        setCapTableData(capTable);\r\n        setConversionStatus(res.data.conversion_status);\r\n        setRoundData(res.data.round || null);\r\n        setPendingConversions(res.data.pending_conversions || []);\r\n        setCalculations(res.data.calculations || {});\r\n        setConversionData(res.data.conversions || []);\r\n        // Calculate summary details based on CPAVATE formulas\r\n        calculateSummaryDetails(res.data);\r\n\r\n        // Prepare chart data\r\n        if (capTable?.pre_money?.items?.length > 0) {\r\n          const preMoneyData = {\r\n            labels: capTable.pre_money.items.map(item => item.name),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.pre_money.items.map(item => item.shares),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPreMoneyChartData(preMoneyData);\r\n        }\r\n\r\n        if (capTable?.post_money?.items?.length > 0) {\r\n          const postMoneyData = {\r\n            labels: capTable.post_money.items.map(item => item.name),\r\n            datasets: [\r\n              {\r\n                label: 'Shares',\r\n                data: capTable.post_money.items.map(item => item.shares),\r\n                backgroundColor: [\r\n                  '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                  '#9966FF', '#FF9F40', '#8AC926', '#1982C4'\r\n                ],\r\n                borderWidth: 1\r\n              }\r\n            ]\r\n          };\r\n          setPostMoneyChartData(postMoneyData);\r\n        }\r\n      } else {\r\n        setError(res.data.message || \"Failed to load cap table\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || \"Error loading cap table data\");\r\n      console.error(\"API Error:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, userLogin, API_URL_CAPTABLE]);\r\n\r\n  const isUnpricedRound = roundData?.instrument === 'Safe' || roundData?.instrument === 'Convertible Note';\r\n  const isConverted = conversionStatus?.is_converted === true;\r\n  const isSeedRound = roundData?.instrument === 'Safe' && roundData?.issued_shares === 0 && roundData?.type !== 'Round 0';\r\n  const isSeriesA = roundData?.instrument === 'Preferred Equity';\r\n  const isRound0 = roundData?.type === 'Round 0';\r\n\r\n  //  DISPLAY VALUES\r\n  let displaySharePrice = '';\r\n  let displayIssuedShares = '';\r\n\r\n  if (isUnpricedRound) {\r\n    if (isConverted) {\r\n      displaySharePrice = roundData?.share_price;\r\n      displayIssuedShares = conversionStatus.converted_shares;\r\n    } else {\r\n      displaySharePrice = 'N/A';\r\n      displayIssuedShares = 'N/A';\r\n    }\r\n  } else {\r\n    displaySharePrice = roundData?.share_price;\r\n    displayIssuedShares = roundData?.issued_shares;\r\n  }\r\n\r\n  // Calculate summary details based on CPAVATE formulas\r\n  const calculateSummaryDetails = (data) => {\r\n    if (!data.cap_table || !data.round) return;\r\n\r\n    const preMoneyTable = data.cap_table.pre_money;\r\n    const postMoneyTable = data.cap_table.post_money;\r\n    const round = data.round;\r\n\r\n    const preMoneyVal = parseFloat(round.pre_money) || 0;\r\n    const investment = parseFloat(round.investment) || 0;\r\n    const postMoneyVal = preMoneyVal + investment;\r\n\r\n    const totalSharesPre = preMoneyTable.totals.total_shares || 0;\r\n    const totalSharesPost = postMoneyTable.totals.total_shares || 0;\r\n\r\n    const sharePricePre = totalSharesPre > 0 ? preMoneyVal / totalSharesPre : 0;\r\n    const sharePricePost = totalSharesPost > 0 ? postMoneyVal / totalSharesPost : 0;\r\n\r\n    const founderShares = preMoneyTable.items.filter(item => item.type === 'founder').reduce((sum, item) => sum + item.shares, 0);\r\n    const founderValuePre = founderShares * sharePricePre;\r\n    const founderValuePost = founderShares * sharePricePost;\r\n\r\n    const investorShares = postMoneyTable.items.filter(item => item.type === 'investor').reduce((sum, item) => sum + item.shares, 0);\r\n    const investorValue = investorShares * sharePricePost;\r\n\r\n    const optionPoolShares = postMoneyTable.totals.total_option_pool || 0;\r\n    const optionPoolValue = optionPoolShares * sharePricePost;\r\n\r\n    setSummaryDetails({\r\n      founderValuePre: founderValuePre,\r\n      founderValuePost: founderValuePost,\r\n      investorValue: investorValue,\r\n      optionPoolValue: optionPoolValue,\r\n      sharePricePre: sharePricePre,\r\n      sharePricePost: sharePricePost,\r\n      totalSharesPre: totalSharesPre,\r\n      totalSharesPost: totalSharesPost,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCapTableData();\r\n  }, []);\r\n\r\n  function formatCurrentDate(input) {\r\n    const date = new Date(input);\r\n    if (isNaN(date)) return \"\";\r\n\r\n    const months = [\r\n      \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\",\r\n      \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n    ];\r\n\r\n    const day = date.getDate();\r\n    const month = months[date.getMonth()];\r\n    const year = date.getFullYear();\r\n\r\n    const getOrdinal = (n) => {\r\n      if (n >= 11 && n <= 13) return \"th\";\r\n      switch (n % 10) {\r\n        case 1: return \"st\";\r\n        case 2: return \"nd\";\r\n        case 3: return \"rd\";\r\n        default: return \"th\";\r\n      }\r\n    };\r\n\r\n    let hours = date.getHours();\r\n    const minutes = date.getMinutes().toString().padStart(2, \"0\");\r\n    const seconds = date.getSeconds().toString().padStart(2, \"0\");\r\n    const ampm = hours >= 12 ? \"PM\" : \"AM\";\r\n\r\n    hours = hours % 12;\r\n    hours = hours ? hours : 12;\r\n\r\n    return `${month} ${day}${getOrdinal(day)}, ${year} ${hours}:${minutes} ${ampm}`;\r\n  }\r\n  const formatIncorporationDate = (value) => {\r\n    if (!value) return \"Not provided\";\r\n\r\n    // Only year\r\n    if (/^\\d{4}$/.test(value)) {\r\n      return value;\r\n    }\r\n\r\n    // Full date\r\n    return formatCurrentDate(value);\r\n  };\r\n\r\n  // ============================================\r\n  // Add this function in your component before return\r\n  // ============================================\r\n\r\n  const getOwnershipStats = (items) => {\r\n    const founders = items.filter(item => item.type === 'founder');\r\n\r\n    if (founders.length === 0) {\r\n      return { largest: 0, smallest: 0, votingCount: 0, totalFounders: 0 };\r\n    }\r\n\r\n    const percentages = founders.map(f => parseFloat(f.percentage || 0));\r\n    const largest = Math.max(...percentages);\r\n    const smallest = Math.min(...percentages);\r\n\r\n    const votingCount = founders.filter(f =>\r\n      f.voting === 'voting' || f.voting === true || f.voting === 'yes'\r\n    ).length;\r\n\r\n    return {\r\n      largest: largest.toFixed(1),\r\n      smallest: smallest.toFixed(1),\r\n      votingCount: founders.length,\r\n      totalFounders: founders.length\r\n    };\r\n  };\r\n\r\n  // Use it\r\n  const stats = getOwnershipStats(capTableData?.pre_money?.items || []);\r\n\r\n\r\n  const getPostMoneyOwnershipStats = (items) => {\r\n    // Filter only founder items from post-money table\r\n    const founders = items.filter(item => item.type === 'founder');\r\n\r\n    if (founders.length === 0) {\r\n      return {\r\n        largest: 0,\r\n        smallest: 0,\r\n        votingCount: 0,\r\n        totalFounders: 0\r\n      };\r\n    }\r\n\r\n    // Get all ownership percentages as numbers\r\n    const percentages = founders.map(f => parseFloat(f.percentage || 0));\r\n\r\n    // Find largest and smallest\r\n    const largest = Math.max(...percentages);\r\n    const smallest = Math.min(...percentages);\r\n\r\n    // Count founders with voting rights\r\n    const votingCount = founders.filter(f =>\r\n      f.voting === 'voting' || f.voting === 'non-voting' || f.voting === true || f.voting === 'yes'\r\n    ).length;\r\n\r\n    return {\r\n      largest: largest.toFixed(1),\r\n      smallest: smallest.toFixed(1),\r\n      votingCount: founders.length,\r\n      totalFounders: founders.length\r\n    };\r\n  };\r\n\r\n  // Use it in your component\r\n  const postStats = getPostMoneyOwnershipStats(capTableData?.post_money?.items || []);\r\n  const calculateMOIC = (value, investment) => {\r\n    if (!investment || investment === 0 || !value) return null;\r\n    return value / investment;\r\n  };\r\n  // Render loading state\r\n  if (loading) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav isCollapsed={isCollapsed} setIsCollapsed={setIsCollapsed} />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"text-center py-5\">\r\n                  <div className=\"spinner-border text-primary\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                  </div>\r\n                  <p className=\"mt-3\">Loading Cap Table Data...</p>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  // Render error state\r\n  if (error && !roundData) {\r\n    return (\r\n      <Wrapper>\r\n        <div className=\"fullpage d-block\">\r\n          <div className=\"d-flex align-items-start gap-0\">\r\n            <ModuleSideNav isCollapsed={isCollapsed} setIsCollapsed={setIsCollapsed} />\r\n            <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n              <TopBar />\r\n              <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n                <div className=\"alert alert-danger\">\r\n                  <h5>Error Loading Cap Table</h5>\r\n                  <p>{error}</p>\r\n                  <button className=\"btn btn-primary\" onClick={() => navigate(-1)}>Go Back</button>\r\n                  <button className=\"btn btn-secondary ms-2\" onClick={getCapTableData}>Try Again</button>\r\n                </div>\r\n              </SectionWrapper>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div className=\"fullpage d-block\">\r\n        <div className=\"d-flex align-items-start gap-0\">\r\n          <ModuleSideNav isCollapsed={isCollapsed} setIsCollapsed={setIsCollapsed} />\r\n          <div className={`global_view ${isCollapsed ? \"global_view_col\" : \"\"}`}>\r\n            <TopBar />\r\n            <SectionWrapper className=\"d-block p-md-4 p-3\">\r\n\r\n              {error && (\r\n                <div className=\"alert alert-danger mb-4\">\r\n                  <i className=\"bi bi-exclamation-triangle me-2\"></i>\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Round Header */}\r\n              {roundData && (\r\n                <div className=\"card mb-4\">\r\n                  <div className=\"card-header bg-primary text-white\">\r\n                    <h4 className=\"mb-0\">Round: {roundData.name}</h4>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p>\r\n                          <strong>Type:</strong>{' '}\r\n                          {roundData?.type === 'Round 0' ? (\r\n                            <span>Incorporation Round 0</span>\r\n                          ) : (\r\n                            <span>{roundData?.instrument}</span>\r\n                          )}\r\n                        </p>\r\n                        <p><strong>Status:</strong>\r\n                          <span className={`badge ${roundData.status === 'CLOSED' ? 'bg-success' : 'bg-warning'} ms-2`}>\r\n                            {roundData.status || 'ACTIVE'}\r\n                          </span>\r\n                        </p>\r\n                        <p><strong>Date of Incorporation:</strong> {formatIncorporationDate(roundData.incorporation_date) || 'Not specified'}</p>\r\n                      </div>\r\n                      {roundData?.type !== 'Round 0' && (\r\n                        <div className=\"col-md-4\">\r\n                          <p><strong>Pre-Money:</strong> {formatCurrency(roundData.pre_money, roundData.currency)}</p>\r\n                          <p><strong>Investment:</strong> {formatCurrency(roundData.investment, roundData.currency)}</p>\r\n                          <p><strong>Post-Money:</strong> {formatCurrency(roundData.post_money, roundData.currency)}</p>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"col-md-4\">\r\n                        <p><strong>Share Price:</strong> {\r\n                          isUnpricedRound && !isConverted\r\n                            ? 'N/A'\r\n                            : formatCurrencyNotRound(displaySharePrice, roundData?.currency)\r\n                        }</p>\r\n                        <p><strong>Issued Shares:</strong> {\r\n                          isUnpricedRound && !isConverted\r\n                            ? 'N/A'\r\n                            : formatNumber(displayIssuedShares)\r\n                        }</p>\r\n                        {isUnpricedRound && (\r\n                          <p>\r\n                            <strong>Status:</strong>{' '}\r\n                            <span className={isConverted ? 'text-success' : 'text-warning'}>\r\n                              {conversionStatus?.message || (isConverted ? ' Converted' : ' Not Converted')}\r\n                            </span>\r\n                          </p>\r\n                        )}\r\n                        {isUnpricedRound && isConverted && (\r\n                          <div className=\"mt-2 p-2 bg-light rounded\">\r\n                            <small>\r\n                              <strong>Converted in:</strong> Round {conversionStatus.converted_in_round} ({conversionStatus.converted_round_name})<br />\r\n                              <strong>Conversion Price:</strong> {formatCurrencyNotRound(conversionStatus.conversion_price, roundData?.currency)}<br />\r\n                              <strong>Converted Shares:</strong> {formatNumber(conversionStatus.converted_shares)}\r\n                            </small>\r\n                          </div>\r\n                        )}\r\n                        {/*  OPTION POOL HEADING - DYNAMIC BASED ON ROUND TYPE */}\r\n                        {roundData?.type !== 'Round 0' && (\r\n                          <p>\r\n                            <strong>\r\n                              {(() => {\r\n                                const isPricedRound = roundData?.instrument === 'Common Stock' ||\r\n                                  roundData?.instrument === 'Preferred Equity';\r\n\r\n                                if (isPricedRound) {\r\n                                  //  PRICED ROUND - Show target option pool\r\n                                  return 'Target Post-Money Option Pool:';\r\n                                } else {\r\n                                  //  UNPRICED ROUND - Show option pool created now\r\n                                  return 'Option Pool Created:';\r\n                                }\r\n                              })()}\r\n                            </strong>{' '}\r\n                            {(() => {\r\n                              const isPricedRound = roundData?.instrument === 'Common Stock' ||\r\n                                roundData?.instrument === 'Preferred Equity';\r\n\r\n                              if (isPricedRound) {\r\n                                //  PRICED ROUND - Show TARGET option pool\r\n                                const targetPool = parseFloat(roundData.option_pool_percent_post || 0);\r\n                                const existingPool = parseFloat(roundData.option_pool_percent || 0);\r\n\r\n                                return (\r\n                                  <>\r\n                                    <span className=\"fw-bold text-primary\">{formatPercentage(targetPool)}</span>\r\n\r\n                                  </>\r\n                                );\r\n                              } else {\r\n                                //  UNPRICED ROUND - Show option pool created NOW\r\n                                const newPool = parseFloat(roundData.option_pool_percent_post || 0);\r\n                                return <span className=\"fw-bold text-success\">{formatPercentage(newPool)}</span>;\r\n                              }\r\n                            })()}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Tab Navigation */}\r\n              <div className=\"mb-4\">\r\n                <ul className=\"nav nav-tabs gap-1\">\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'pre-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pre-money')}\r\n                      >\r\n                        Pre-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'post-money' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('post-money')}\r\n                      >\r\n                        Post-Money Cap Table\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {roundData?.type !== 'Round 0' && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'summary' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('summary')}\r\n                      >\r\n                        Chat & Analysis\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                  {pendingConversions.length > 0 && (\r\n                    <li className=\"nav-item bg-primary\">\r\n                      <button\r\n                        className={`nav-link text-white backcolor ${activeTab === 'pending' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('pending')}\r\n                      >\r\n                        Pending Conversions\r\n                      </button>\r\n                    </li>\r\n                  )}\r\n                </ul>\r\n              </div>\r\n              {/* ========== PRE-MONEY CAP TABLE - FIXED ========== */}\r\n              {activeTab === 'pre-money' && roundData?.type === 'Round 0' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    {roundData?.type === 'Round 0' ? (\r\n                      <h5 className=\"mb-0\">Incorporation Capitalization Table</h5>\r\n                    ) : (\r\n                      <h5 className=\"mb-0\">Pre-Money Capitalization Table</h5>\r\n                    )}\r\n\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive mt-4\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-end\">Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                            <th>Details</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {/* Founders - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'founder')\r\n                            .map((item, index) => (\r\n                              <tr key={`founder-${index}`}>\r\n                                <td><span className=\"badge bg-info me-2\">{item.founder_code || `F${index + 1}`}</span></td>\r\n                                <td>\r\n                                  <strong>{item.name}</strong>\r\n                                  {item.email && <div className=\"small text-muted\">{item.email}</div>}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-primary\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-primary\">\r\n                                  {/*  FIX: Use pre_money_display_value instead of value */}\r\n                                  {formatCurrency(item.pre_money_display_value || item.value, roundData?.currency)}\r\n                                </td>\r\n                                <td>\r\n                                  <small>Type: {item.share_type || 'common'}<br />Voting: {item.voting || 'voting'}</small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Option Pool - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {/* Option Pool - SINGLE ENTRY (all option pools combined) */}\r\n                          {(() => {\r\n                            // Get all option pool items\r\n                            const optionItems = capTableData?.pre_money?.items\r\n                              ?.filter(item => item.type === 'option_pool') || [];\r\n\r\n                            if (optionItems.length === 0) return null;\r\n\r\n                            // Calculate total option shares\r\n                            const totalOptionShares = optionItems.reduce((sum, item) => sum + (item.shares || 0), 0);\r\n\r\n                            // Calculate weighted average percentage\r\n                            const totalShares = capTableData?.pre_money?.totals?.total_shares || 0;\r\n                            const optionPercentage = totalShares > 0\r\n                              ? ((totalOptionShares / totalShares) * 100).toFixed(2)\r\n                              : '0.00';\r\n\r\n                            // Calculate total value\r\n                            const preMoneyVal = parseFloat(roundData?.pre_money) || 0;\r\n                            const optionValue = totalShares > 0\r\n                              ? (totalOptionShares / totalShares) * preMoneyVal\r\n                              : 0;\r\n\r\n                            // Get creation details\r\n                            const createdInRounds = optionItems\r\n                              .map(item => item.round_name || `Round ${item.round_id}`)\r\n                              .join(', ');\r\n\r\n                            return (\r\n                              <tr key=\"option-pool-combined\" className=\"table-info\">\r\n                                <td><span className=\"badge bg-warning me-2\">O</span></td>\r\n                                <td>\r\n                                  <strong>Employee Option Pool</strong>\r\n                                  {optionItems.length > 1 && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Combined from: {createdInRounds}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(totalOptionShares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-warning\">{optionPercentage}%</td>\r\n                                <td className=\"text-end fw-bold text-warning\">\r\n                                  {formatCurrency(optionValue, roundData?.currency)}\r\n                                </td>\r\n                                <td>\r\n                                  <small>\r\n                                    {optionItems.length === 1 ? (\r\n                                      <>From {optionItems[0].round_name || `Round ${optionItems[0].round_id}`}</>\r\n                                    ) : (\r\n                                      <>\r\n                                        <div>Total pools: {optionItems.length}</div>\r\n                                        <div className=\"text-muted\">\r\n                                          {optionItems.map((item, i) => (\r\n                                            <span key={i}>\r\n                                              {i > 0 && ' + '}\r\n                                              {item.shares?.toLocaleString()} shares\r\n                                            </span>\r\n                                          ))}\r\n                                        </div>\r\n                                      </>\r\n                                    )}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })()}\r\n\r\n                          {/* Investors in Pre-Money (if any) */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'investor')\r\n                            .map((item, index) => (\r\n                              <tr key={`investor-${index}`} className=\"table-success\">\r\n                                <td><span className=\"badge bg-success me-2\">I</span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-success\">\r\n                                  {formatCurrency(item.pre_money_display_value || item.value, roundData?.currency)}\r\n                                </td>\r\n                                <td><small>{item.round_name}</small></td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Pending Instruments */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'pending')\r\n                            .map((item, index) => (\r\n                              <tr key={`pending-${index}`} className=\"table-warning\">\r\n                                <td><span className=\"badge bg-warning me-2\"></span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td className=\"text-end text-muted\">0.00%</td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td>\r\n                                  <small>\r\n                                    Investment: {formatCurrency(item.investment, roundData?.currency)}\r\n                                    {item.discount_rate > 0 && <div>Discount: {item.discount_rate}%</div>}\r\n                                    {item.valuation_cap > 0 && <div>Cap: {formatCurrency(item.valuation_cap, roundData?.currency)}</div>}\r\n                                    {item.interest_rate > 0 && <div>Interest: {item.interest_rate}%</div>}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th colSpan=\"2\">TOTAL</th>\r\n                            <th className=\"text-end\">{Number(capTableData?.pre_money?.totals?.total_shares).toLocaleString()}</th>\r\n                            <th className=\"text-end\">100%</th>\r\n                            <th className=\"text-end fw-bold text-primary\">\r\n                              {formatCurrency(capTableData?.pre_money?.totals?.total_value, roundData?.currency)}\r\n                            </th>\r\n                            <th></th>\r\n                          </tr>\r\n                          {/* Optional: Show original Round 0 value for reference */}\r\n                          {capTableData?.pre_money?.totals?.original_round_0_value > 0 && (\r\n                            <tr className=\"small text-muted\">\r\n                              <td colSpan=\"6\" className=\"text-end\">\r\n                                Original Round 0 Value: {formatCurrency(capTableData.pre_money.totals.original_round_0_value, roundData?.currency)}\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {activeTab === 'pre-money' && roundData?.type !== 'Round 0' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    {roundData?.type === 'Round 0' ? (\r\n                      <h5 className=\"mb-0\">Incorporation Capitalization Table</h5>\r\n                    ) : (\r\n                      <h5 className=\"mb-0\">Pre-Money Capitalization Table</h5>\r\n                    )}\r\n\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive mt-4\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>#</th>\r\n                            <th>Shareholder</th>\r\n                            <th className=\"text-end\">Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                            <th>Details</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {/* Founders - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'founder')\r\n                            .map((item, index) => (\r\n                              <tr key={`founder-${index}`}>\r\n                                <td><span className=\"badge bg-info me-2\">{item.founder_code || `F${index + 1}`}</span></td>\r\n                                <td>\r\n                                  <strong>{item.name}</strong>\r\n                                  {item.email && <div className=\"small text-muted\">{item.email}</div>}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-primary\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-primary\">\r\n                                  {/*  FIX: Use pre_money_display_value instead of value */}\r\n                                  {formatCurrency(item.pre_money_display_value || item.value, roundData?.currency)}\r\n                                </td>\r\n                                <td>\r\n                                  <small>Type: {item.share_type || 'common'}<br />Voting: {item.voting || 'voting'}</small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Option Pool - PRE-MONEY DISPLAY VALUE use karo */}\r\n                          {/* Option Pool - SINGLE ENTRY (all option pools combined) */}\r\n                          {(() => {\r\n                            // Get all option pool items\r\n                            const optionItems = capTableData?.pre_money?.items\r\n                              ?.filter(item => item.type === 'option_pool') || [];\r\n\r\n                            if (optionItems.length === 0) return null;\r\n\r\n                            // Calculate total option shares\r\n                            const totalOptionShares = optionItems.reduce((sum, item) => sum + (item.shares || 0), 0);\r\n\r\n                            // Calculate weighted average percentage\r\n                            const totalShares = capTableData?.pre_money?.totals?.total_shares || 0;\r\n                            const optionPercentage = totalShares > 0\r\n                              ? ((totalOptionShares / totalShares) * 100).toFixed(2)\r\n                              : '0.00';\r\n\r\n                            // Calculate total value\r\n                            const preMoneyVal = parseFloat(roundData?.pre_money) || 0;\r\n                            const optionValue = totalShares > 0\r\n                              ? (totalOptionShares / totalShares) * preMoneyVal\r\n                              : 0;\r\n\r\n                            // Get creation details\r\n                            const createdInRounds = optionItems\r\n                              .map(item => item.round_name || `Round ${item.round_id}`)\r\n                              .join(', ');\r\n\r\n                            return (\r\n                              <tr key=\"option-pool-combined\" className=\"table-info\">\r\n                                <td><span className=\"badge bg-warning me-2\">O</span></td>\r\n                                <td>\r\n                                  <strong>Employee Option Pool</strong>\r\n                                  {optionItems.length > 1 && (\r\n                                    <div className=\"small text-muted\">\r\n                                      Combined from: {createdInRounds}\r\n                                    </div>\r\n                                  )}\r\n                                </td>\r\n                                <td className=\"text-end\">{Number(totalOptionShares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-warning\">{optionPercentage}%</td>\r\n                                <td className=\"text-end fw-bold text-warning\">\r\n                                  {formatCurrency(optionValue, roundData?.currency)}\r\n                                </td>\r\n                                <td>\r\n                                  <small>\r\n                                    {optionItems.length === 1 ? (\r\n                                      <>From {optionItems[0].round_name || `Round ${optionItems[0].round_id}`}</>\r\n                                    ) : (\r\n                                      <>\r\n                                        <div>Total pools: {optionItems.length}</div>\r\n                                        <div className=\"text-muted\">\r\n                                          {optionItems.map((item, i) => (\r\n                                            <span key={i}>\r\n                                              {i > 0 && ' + '}\r\n                                              {item.shares?.toLocaleString()} shares\r\n                                            </span>\r\n                                          ))}\r\n                                        </div>\r\n                                      </>\r\n                                    )}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            );\r\n                          })()}\r\n\r\n                          {/* Investors in Pre-Money (if any) */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'investor')\r\n                            .map((item, index) => (\r\n                              <tr key={`investor-${index}`} className=\"table-success\">\r\n                                <td><span className=\"badge bg-success me-2\">I</span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end\">{item.percentage}%</td>\r\n                                <td className=\"text-end fw-bold text-success\">\r\n                                  {formatCurrency(item.pre_money_display_value || item.value, roundData?.currency)}\r\n                                </td>\r\n                                <td><small>{item.round_name}</small></td>\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* Pending Instruments */}\r\n                          {capTableData?.pre_money?.items\r\n                            ?.filter(item => item.type === 'pending')\r\n                            .map((item, index) => (\r\n                              <tr key={`pending-${index}`} className=\"table-warning\">\r\n                                <td><span className=\"badge bg-warning me-2\"></span></td>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td className=\"text-end text-muted\">0.00%</td>\r\n                                <td className=\"text-end text-muted\"></td>\r\n                                <td>\r\n                                  <small>\r\n                                    Investment: {formatCurrency(item.investment, roundData?.currency)}\r\n                                    {item.discount_rate > 0 && <div>Discount: {item.discount_rate}%</div>}\r\n                                    {item.valuation_cap > 0 && <div>Cap: {formatCurrency(item.valuation_cap, roundData?.currency)}</div>}\r\n                                    {item.interest_rate > 0 && <div>Interest: {item.interest_rate}%</div>}\r\n                                  </small>\r\n                                </td>\r\n                              </tr>\r\n                            ))}\r\n                        </tbody>\r\n                        <tfoot className=\"table-light\">\r\n                          <tr>\r\n                            <th colSpan=\"2\">TOTAL</th>\r\n                            <th className=\"text-end\">{Number(capTableData?.pre_money?.totals?.total_shares).toLocaleString()}</th>\r\n                            <th className=\"text-end\">100%</th>\r\n                            <th className=\"text-end fw-bold text-primary\">\r\n                              {formatCurrency(capTableData?.pre_money?.totals?.pre_money_valuation, roundData?.currency)}\r\n                            </th>\r\n                            <th></th>\r\n                          </tr>\r\n                          {/* Optional: Show original Round 0 value for reference */}\r\n                          {capTableData?.pre_money?.totals?.original_round_0_value > 0 && (\r\n                            <tr className=\"small text-muted\">\r\n                              <td colSpan=\"6\" className=\"text-end\">\r\n                                Original Round 0 Value: {formatCurrency(capTableData.pre_money.totals.original_round_0_value, roundData?.currency)}\r\n                              </td>\r\n                            </tr>\r\n                          )}\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* ========== POST-MONEY CAP TABLE - FIXED ========== */}\r\n              {activeTab === 'post-money' && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">{roundData?.instrument || 'Common Stock'} at Post-{roundData?.shareClassType || 'Investment'} Investor</h5>\r\n                    <small className=\"text-muted\">\r\n                      After {formatCurrency(roundData?.investment, roundData?.currency)} investment\r\n                      {conversionData?.length > 0 ? ` with ${conversionData.length} convertible instruments conversion` : ''}\r\n                    </small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped table-hover\">\r\n                        <thead className=\"table-light\">\r\n                          <tr>\r\n                            <th>Shareholder</th>\r\n                            <th>Type</th>\r\n                            <th className=\"text-end\">Common Shares</th>\r\n                            <th className=\"text-end\">New Shares</th>\r\n                            <th className=\"text-end\">Total Shares</th>\r\n                            <th className=\"text-end\">Ownership %</th>\r\n                            <th className=\"text-end\">Currency Value</th>\r\n                            {/* <th>Investment / Conversion</th> */}\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {/* Founders - DYNAMIC */}\r\n                          {capTableData?.post_money?.items\r\n                            ?.filter(item => item.type === 'founder')\r\n                            .map((item, index) => (\r\n                              <tr key={`founder-${index}`}>\r\n                                <td><strong>{item.name}</strong></td>\r\n                                <td>Founder</td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end text-muted\">0</td>\r\n                                <td className=\"text-end fw-bold\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-primary\">{item.percentage}%</td>\r\n                                <td className=\"text-end\">{formatCurrency(item.value, roundData?.currency)}</td>\r\n                                {/* <td><small className=\"text-muted\"></small></td> */}\r\n                              </tr>\r\n                            ))}\r\n                          {/* Option Pool - DYNAMIC SINGLE ENTRY */}\r\n                          {(() => {\r\n                            const optionItem = capTableData?.post_money?.items?.find(item => item.type === 'option_pool');\r\n                            if (!optionItem) return null;\r\n\r\n                            return (\r\n                              <tr key=\"option-pool\" className=\"table-info\">\r\n                                <td><strong>Employee Option Pool</strong></td>\r\n                                <td>Options Pool</td>\r\n                                <td className=\"text-end\">{Number(optionItem.existing_shares || 0).toLocaleString()}</td>\r\n                                <td className=\"text-end text-success fw-bold\">+{Number(optionItem.new_shares || 0).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold\">{Number(optionItem.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold text-warning\">{optionItem.percentage}%</td>\r\n                                <td className=\"text-end\">{formatCurrency(optionItem.value, roundData?.currency)}</td>\r\n                                {/* <td>\r\n                                  <small>\r\n                                    {optionItem.new_shares > 0 && `New: ${Number(optionItem.new_shares).toLocaleString()}`}\r\n                                    {optionItem.existing_shares > 0 && optionItem.new_shares > 0 && <br />}\r\n                                    {optionItem.existing_shares > 0 && `Existing: ${Number(optionItem.existing_shares).toLocaleString()}`}\r\n                                  </small>\r\n                                </td> */}\r\n                              </tr>\r\n                            );\r\n                          })()}\r\n                          {/* Seed Investors - DYNAMIC */}\r\n                          {capTableData?.post_money?.items\r\n                            ?.filter(item => item.type === 'investor' && item.name === 'Seed Investors')\r\n                            .map((item, index) => (\r\n                              <tr key={`seed-${index}`} className=\"table-secondary\">\r\n                                <td><strong>Seed Investors</strong></td>\r\n                                <td>Investor</td>\r\n                                <td className=\"text-end\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end text-muted\">0</td>\r\n                                <td className=\"text-end fw-bold\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end\">{item.percentage}%</td>\r\n                                <td className=\"text-end\">{formatCurrency(item.value, roundData?.currency)}</td>\r\n                                {/* <td><small>From previous round</small></td> */}\r\n                              </tr>\r\n                            ))}\r\n\r\n                          {/* New Investors - DYNAMIC */}\r\n                          {capTableData?.post_money?.items\r\n                            ?.filter(item => item.type === 'investor' && item.is_new_investment)\r\n                            .map((item, index) => (\r\n                              <tr key={`new-${index}`} className=\"table-success\">\r\n                                <td><strong>Common Stock Investors</strong></td>\r\n                                <td>{item.instrument_type || 'Investor'}</td>\r\n                                <td className=\"text-end text-muted\">0</td>\r\n                                <td className=\"text-end text-success fw-bold\">+{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold\">{Number(item.shares).toLocaleString()}</td>\r\n                                <td className=\"text-end fw-bold\">{item.percentage}%</td>\r\n                                <td className=\"text-end\">{formatCurrency(item.value, roundData?.currency)}</td>\r\n                                {/* <td>\r\n                                  <small>\r\n                                    {formatCurrency(item.investment, roundData?.currency)}\r\n                                    <br />at {formatCurrencyNotRound(item.share_price, roundData?.currency)}/share\r\n                                  </small>\r\n                                </td> */}\r\n                              </tr>\r\n                            ))}\r\n\r\n\r\n                        </tbody>\r\n\r\n                        {/* Totals Footer - DYNAMIC */}\r\n                        <tfoot className=\"table-light fw-bold\">\r\n                          <tr>\r\n                            <td colSpan=\"4\">TOTAL</td>\r\n                            <td className=\"text-end fs-5\">{Number(capTableData?.post_money?.totals?.total_shares).toLocaleString()}</td>\r\n                            <td className=\"text-end fs-5\">100%</td>\r\n                            <td className=\"text-end fs-5 text-primary\">\r\n                              {formatCurrency(capTableData?.post_money?.totals?.total_value, roundData?.currency)}\r\n                            </td>\r\n                            <td></td>\r\n                          </tr>\r\n                          <tr className=\"small text-muted\">\r\n                            <td colSpan=\"8\" className=\"text-end pt-2\">\r\n                              <span className=\"me-3\">Pre-Money: {formatCurrency(roundData?.pre_money, roundData?.currency)}</span>\r\n                              <span className=\"me-3\">Investment: {formatCurrency(roundData?.investment, roundData?.currency)}</span>\r\n                              <span className=\"me-3\">Post-Money: {formatCurrency(roundData?.post_money, roundData?.currency)}</span>\r\n                              <span>Share Price: {formatCurrencyNotRound(roundData?.share_price, roundData?.currency)}</span>\r\n                            </td>\r\n                          </tr>\r\n                        </tfoot>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* ========== ROUND 0 PIE CHART - EXACTLY AS YOUR CODE ========== */}\r\n              {isRound0 && (\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"card border-0 shadow-sm\">\r\n                      <div className=\"card-header bg-white border-0 d-flex justify-content-between align-items-center py-3\">\r\n                        <div>\r\n                          <h5 className=\"mb-0 fw-bold text-dark\">\r\n                            <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                            Founder Ownership Distribution - Round 0\r\n                          </h5>\r\n                          <p className=\"text-muted mb-0 small\">Initial share allocation at incorporation</p>\r\n                        </div>\r\n                        <span className=\"badge bg-primary bg-opacity-10 text-primary px-3 py-2 rounded-pill\">\r\n                          <i className=\"bi bi-shield me-1\"></i>\r\n                          {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)} Total Shares\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"card-body p-4\">\r\n                        <div className=\"row\">\r\n                          {/* Left Column - Pie Chart */}\r\n                          <div className=\"col-md-7\">\r\n                            <div style={{ height: '400px', position: 'relative' }}>\r\n                              <Pie\r\n                                data={{\r\n                                  labels: capTableData.pre_money.items\r\n                                    .filter(item => item.type === 'founder')\r\n                                    .map(item => {\r\n                                      if (item.founder_code) {\r\n                                        return `${item.founder_code} - ${item.name}`;\r\n                                      }\r\n                                      return item.name || `Founder ${capTableData.pre_money.items.indexOf(item) + 1}`;\r\n                                    }),\r\n                                  datasets: [\r\n                                    {\r\n                                      data: capTableData.pre_money.items\r\n                                        .filter(item => item.type === 'founder')\r\n                                        .map(item => item.shares),\r\n                                      backgroundColor: [\r\n                                        '#4e73df', '#1cc88a', '#36b9cc', '#f6c23e',\r\n                                        '#e74a3b', '#6f42c1', '#fd7e14', '#20c9a6',\r\n                                        '#858796', '#5a5c69', '#2c9faf', '#b58df1'\r\n                                      ],\r\n                                      borderWidth: 2,\r\n                                      borderColor: '#ffffff',\r\n                                    }\r\n                                  ]\r\n                                }}\r\n                                options={{\r\n                                  responsive: true,\r\n                                  maintainAspectRatio: false,\r\n                                  cutout: '60%',\r\n                                  plugins: {\r\n                                    datalabels: {\r\n                                      display: function (context) {\r\n                                        const dataset = context.dataset;\r\n                                        const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                        const currentValue = dataset.data[context.dataIndex];\r\n                                        const percentage = (currentValue / total) * 100;\r\n                                        return percentage >= 5;\r\n                                      },\r\n                                      formatter: function (value, context) {\r\n                                        const dataset = context.dataset;\r\n                                        const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                        const percentage = ((value / total) * 100).toFixed(1);\r\n                                        return `${percentage}%`;\r\n                                      },\r\n                                      color: '#ffffff',\r\n                                      font: { weight: 'bold', size: 13 },\r\n                                      textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                      padding: 8,\r\n                                      backgroundColor: 'rgba(0,0,0,0.4)',\r\n                                      borderRadius: 6,\r\n                                    },\r\n                                    legend: {\r\n                                      position: 'bottom',\r\n                                      labels: {\r\n                                        padding: 20,\r\n                                        usePointStyle: true,\r\n                                        pointStyle: 'circle',\r\n                                        font: { size: 12, weight: '500' },\r\n                                        generateLabels: function (chart) {\r\n                                          const data = chart.data;\r\n                                          if (data.labels.length && data.datasets.length) {\r\n                                            return data.labels.map((label, i) => {\r\n                                              const value = data.datasets[0].data[i];\r\n                                              const total = data.datasets[0].data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : 0;\r\n                                              const item = capTableData?.pre_money?.items?.[i];\r\n                                              let displayLabel = label;\r\n                                              let sharesInfo = '';\r\n                                              if (item) {\r\n                                                sharesInfo = ` (${formatNumber(item.shares)} shares)`;\r\n                                              }\r\n                                              return {\r\n                                                text: `${displayLabel}${sharesInfo} - ${percentage}%`,\r\n                                                fillStyle: data.datasets[0].backgroundColor[i],\r\n                                                strokeStyle: data.datasets[0].backgroundColor[i],\r\n                                                lineWidth: 1,\r\n                                                hidden: chart.getDatasetMeta(0).data[i].hidden,\r\n                                                index: i,\r\n                                                fontColor: '#2c3e50'\r\n                                              };\r\n                                            });\r\n                                          }\r\n                                          return [];\r\n                                        }\r\n                                      }\r\n                                    },\r\n                                    tooltip: {\r\n                                      backgroundColor: 'rgba(0, 0, 0, 0.85)',\r\n                                      titleColor: '#ffffff',\r\n                                      bodyColor: '#ffffff',\r\n                                      borderColor: 'rgba(255,255,255,0.2)',\r\n                                      borderWidth: 1,\r\n                                      cornerRadius: 8,\r\n                                      padding: 12,\r\n                                      displayColors: true,\r\n                                      callbacks: {\r\n                                        label: function (context) {\r\n                                          const label = context.label || '';\r\n                                          const value = context.parsed || 0;\r\n                                          const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                          const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n                                          const itemIndex = context.dataIndex;\r\n                                          const item = capTableData?.pre_money?.items?.[itemIndex];\r\n                                          return [\r\n                                            ` ${label}`,\r\n                                            `Shares: ${formatNumber(value)}`,\r\n                                            `Ownership: ${percentage}%`,\r\n                                            `Value: ${formatCurrency(item?.value || 0, roundData?.currency)}`,\r\n                                            `Price/Share: ${formatCurrencyNotRound(item?.share_price || 0.01, roundData?.currency)}`\r\n                                          ];\r\n                                        },\r\n                                        title: function (tooltipItems) {\r\n                                          const index = tooltipItems[0].dataIndex;\r\n                                          const item = capTableData?.pre_money?.items?.[index];\r\n                                          if (item?.type === 'founder') {\r\n                                            return ` Founder: ${item.founder_code || ''} ${item.name}`.trim();\r\n                                          }\r\n                                          return tooltipItems[0].label;\r\n                                        }\r\n                                      }\r\n                                    }\r\n                                  }\r\n                                }}\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                          {/* Right Column - Founder Details */}\r\n                          <div className=\"col-md-5\">\r\n                            <div className=\"bg-light bg-opacity-50 rounded-3 p-4 h-100\">\r\n                              <h6 className=\"fw-bold mb-3 d-flex align-items-center\">\r\n                                <i className=\"bi bi-people-fill me-2 text-primary\"></i>\r\n                                Founder Details & Ownership\r\n                              </h6>\r\n                              <div className=\"founder-list\" style={{ maxHeight: '320px', overflowY: 'auto' }}>\r\n                                {capTableData?.pre_money?.items\r\n                                  ?.filter(item => item.type === 'founder')\r\n                                  .map((item, index) => {\r\n                                    const totalShares = capTableData.pre_money.totals.total_shares || 1;\r\n                                    const percentage = ((item.shares || 0) / totalShares * 100).toFixed(1);\r\n                                    const colors = ['#4e73df', '#1cc88a', '#36b9cc', '#f6c23e', '#e74a3b'];\r\n                                    const color = colors[index % colors.length];\r\n                                    return (\r\n                                      <div key={index} className=\"d-flex align-items-center mb-3 p-3 bg-white rounded-3 shadow-sm\">\r\n                                        <div\r\n                                          className=\"me-3 flex-shrink-0 d-flex align-items-center justify-content-center rounded-circle\"\r\n                                          style={{\r\n                                            width: '48px',\r\n                                            height: '48px',\r\n                                            backgroundColor: `${color}20`,\r\n                                            color: color,\r\n                                            fontSize: '18px',\r\n                                            fontWeight: 'bold'\r\n                                          }}\r\n                                        >\r\n                                          {item.founder_code || `F${index + 1}`}\r\n                                        </div>\r\n                                        <div className=\"flex-grow-1\">\r\n                                          <div className=\"d-flex justify-content-between align-items-center mb-1\">\r\n                                            <span className=\"fw-semibold\">{item.name}</span>\r\n                                            <span className=\"badge\" style={{ backgroundColor: color, color: 'white' }}>\r\n                                              {percentage}%\r\n                                            </span>\r\n                                          </div>\r\n                                          <div className=\"d-flex justify-content-between align-items-center small\">\r\n                                            <span className=\"text-muted\">\r\n                                              {formatNumber(item.shares || 0)} shares\r\n                                            </span>\r\n                                            {item.email && (\r\n                                              <span className=\"text-muted text-truncate\" style={{ maxWidth: '150px' }}>\r\n                                                {item.email}\r\n                                              </span>\r\n                                            )}\r\n                                          </div>\r\n                                          <div className=\"progress mt-2\" style={{ height: '6px', backgroundColor: '#e9ecef' }}>\r\n                                            <div\r\n                                              className=\"progress-bar\"\r\n                                              role=\"progressbar\"\r\n                                              style={{\r\n                                                width: `${percentage}%`,\r\n                                                backgroundColor: color,\r\n                                                transition: 'width 0.3s ease'\r\n                                              }}\r\n                                              aria-valuenow={percentage}\r\n                                              aria-valuemin=\"0\"\r\n                                              aria-valuemax=\"100\"\r\n                                            />\r\n                                          </div>\r\n                                          <div className=\"d-flex mt-2 small text-muted\">\r\n                                            <span className=\"me-3\">\r\n                                              <i className=\"bi bi-tag me-1\"></i>\r\n                                              {item.share_type || 'common'}\r\n                                            </span>\r\n                                            <span>\r\n                                              <i className=\"bi bi-check-circle me-1\"></i>\r\n                                              {item.voting || 'voting'}\r\n                                            </span>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    );\r\n                                  })}\r\n                              </div>\r\n                              <div className=\"mt-3 pt-3 border-top\">\r\n                                <div className=\"bg-white rounded-3 p-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-6\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Total Founders</small>\r\n                                        <span className=\"fw-bold h5 mb-0\">\r\n                                          {capTableData?.pre_money?.items?.filter(item => item.type === 'founder').length || 0}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Total Shares</small>\r\n                                        <span className=\"fw-bold h5 mb-0\">\r\n                                          {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6 mt-2\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Share Price</small>\r\n                                        <span className=\"fw-bold text-primary\">\r\n                                          {formatCurrencyNotRound(roundData?.share_price || 0.01, roundData?.currency)}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-6 mt-2\">\r\n                                      <div className=\"d-flex flex-column\">\r\n                                        <small className=\"text-muted\">Total Value</small>\r\n                                        <span className=\"fw-bold text-success\">\r\n                                          {formatCurrency(capTableData?.pre_money?.totals?.total_value || 0, roundData?.currency)}\r\n                                        </span>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* CPAVATE Summary Tab - Keep as is */}\r\n              {activeTab === 'summary' && summaryDetails && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h5 className=\"mb-0\">CPAVATE Calculation Summary</h5>\r\n                    <small className=\"text-muted\">Detailed breakdown based on CPAVATE formulas</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    {/* Key Metrics */}\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Pre-Money Valuation</h6>\r\n                            <h4 className=\"card-title text-primary\">{formatCurrency(calculations.pre_money_valuation, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Investment</h6>\r\n                            <h4 className=\"card-title text-success\">{formatCurrency(roundData?.investment, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <div className=\"card bg-light\">\r\n                          <div className=\"card-body\">\r\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Post-Money Valuation</h6>\r\n                            <h4 className=\"card-title text-info\">{formatCurrency(calculations.post_money_valuation, roundData?.currency)}</h4>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Share Details */}\r\n                    <div className=\"row mb-4\">\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"card\">\r\n                          <div className=\"card-header\">\r\n                            <h6 className=\"mb-0\">Share Price Calculation</h6>\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Pre-Money Share Price:</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatCurrency(calculations.pre_money_valuation, roundData?.currency)}  {formatNumber(summaryDetails.totalSharesPre)} shares =\r\n                                <strong className=\"ms-2\">{formatCurrencyNotRound(summaryDetails.sharePricePre, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Post-Money Share Price:</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatCurrency(calculations.post_money_valuation, roundData?.currency)}  {formatNumber(summaryDetails.totalSharesPost)} shares =\r\n                                <strong className=\"ms-2\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-md-6\">\r\n                        <div className=\"card\">\r\n                          <div className=\"card-header\">\r\n                            <h6 className=\"mb-0\">Shareholder Values</h6>\r\n                          </div>\r\n                          <div className=\"card-body\">\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Founder Value (Pre-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.pre_money.totals.total_founders)} shares  {formatCurrencyNotRound(summaryDetails.sharePricePre, roundData?.currency)} =\r\n                                <strong className=\"ms-2 text-primary\">{formatCurrency(summaryDetails.founderValuePre, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Founder Value (Post-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.post_money.totals.total_founders)} shares  {formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)} =\r\n                                <strong className=\"ms-2 text-success\">{formatCurrency(summaryDetails.founderValuePost, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                              <p className=\"mb-1\"><strong>Investor Value (Post-Money):</strong></p>\r\n                              <p className=\"mb-0\">\r\n                                {formatNumber(capTableData.post_money.totals.total_investors)} shares  {formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)} =\r\n                                <strong className=\"ms-2 text-warning\">{formatCurrency(summaryDetails.investorValue, roundData?.currency)}</strong>\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Detailed Breakdown */}\r\n                    <div className=\"card mb-4\">\r\n                      <div className=\"card-header\">\r\n                        <h6 className=\"mb-0\">Detailed Ownership Breakdown</h6>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"table-responsive\">\r\n                          <table className=\"table table-sm\">\r\n                            <thead>\r\n                              <tr>\r\n                                <th>Shareholder Type</th>\r\n                                <th className=\"text-end\">Shares</th>\r\n                                <th className=\"text-end\">% Ownership</th>\r\n                                <th className=\"text-end\">Value (Post-Money)</th>\r\n                                <th className=\"text-end\">Value per Share</th>\r\n                              </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                              <tr>\r\n                                <td><strong>Founders</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_founders)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_founders / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-primary\">{formatCurrency(summaryDetails.founderValuePost, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td><strong>Investors</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_investors)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_investors / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-success\">{formatCurrency(summaryDetails.investorValue, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</td>\r\n                              </tr>\r\n                              <tr>\r\n                                <td><strong>Option Pool</strong></td>\r\n                                <td className=\"text-end\">{formatNumber(capTableData.post_money.totals.total_option_pool)}</td>\r\n                                <td className=\"text-end\">{formatPercentage(\r\n                                  (capTableData.post_money.totals.total_option_pool / summaryDetails.totalSharesPost) * 100\r\n                                )}</td>\r\n                                <td className=\"text-end text-warning\">{formatCurrency(summaryDetails.optionPoolValue, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</td>\r\n                              </tr>\r\n                              <tr className=\"table-active\">\r\n                                <td><strong>TOTAL</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatNumber(summaryDetails.totalSharesPost)}</strong></td>\r\n                                <td className=\"text-end\"><strong>100%</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatCurrency(summaryDetails.totalSharesPost * summaryDetails.sharePricePost, roundData?.currency)}</strong></td>\r\n                                <td className=\"text-end\"><strong>{formatCurrencyNotRound(summaryDetails.sharePricePost, roundData?.currency)}</strong></td>\r\n                              </tr>\r\n                            </tbody>\r\n                          </table>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Charts */}\r\n                    {(preMoneyChartData || postMoneyChartData) && (\r\n                      <div className=\"row\">\r\n                        {/* Pre-Money Chart */}\r\n                        {preMoneyChartData && (\r\n                          <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                              <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                <h6 className=\"mb-0\">Pre-Money Distribution</h6>\r\n                                <span className=\"badge bg-primary\">\r\n                                  Total: {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)} shares\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                  {/* Chart - Left Side */}\r\n                                  <div className=\"col-md-12\" style={{ height: '300px' }}>\r\n                                    <Pie\r\n                                      data={preMoneyChartData}\r\n                                      options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        cutout: '50%',\r\n                                        plugins: {\r\n                                          datalabels: {\r\n                                            display: function (context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const currentValue = dataset.data[context.dataIndex];\r\n                                              const percentage = (currentValue / total) * 100;\r\n                                              return percentage >= 3; // Only show for slices >= 3%\r\n                                            },\r\n                                            formatter: function (value, context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = ((value / total) * 100).toFixed(1);\r\n                                              return percentage + '%';\r\n                                            },\r\n                                            color: '#000',\r\n                                            font: {\r\n                                              weight: 'bold',\r\n                                              size: 16\r\n                                            },\r\n                                            textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                            padding: 6\r\n                                          },\r\n                                          legend: {\r\n                                            display: false\r\n                                          },\r\n                                          tooltip: {\r\n                                            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                            titleColor: '#fff',\r\n                                            bodyColor: '#fff',\r\n                                            borderColor: '#333',\r\n                                            borderWidth: 1,\r\n                                            cornerRadius: 6,\r\n                                            padding: 12,\r\n                                            displayColors: true,\r\n                                            callbacks: {\r\n                                              label: function (context) {\r\n                                                const label = context.label || '';\r\n                                                const value = context.parsed || 0;\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n\r\n                                                const sharePrice = roundData?.share_price || 0;\r\n                                                const valueAmount = value * sharePrice;\r\n\r\n                                                return [\r\n                                                  `${label}`,\r\n                                                  `Shares: ${formatNumber(value)}`,\r\n                                                  `Ownership: ${percentage}%`,\r\n                                                  `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                  `Price/Share: ${formatCurrencyNotRound(sharePrice, roundData?.currency)}`\r\n                                                ];\r\n                                              },\r\n                                              title: function (tooltipItems) {\r\n                                                const index = tooltipItems[0].dataIndex;\r\n                                                const item = capTableData?.pre_money?.items?.[index];\r\n                                                if (item?.type === 'founder') {\r\n                                                  return ` Founder: ${item.name}`;\r\n                                                } else if (item?.type === 'investor') {\r\n                                                  return ` Investor: ${item.name}`;\r\n                                                } else if (item?.type === 'option_pool') {\r\n                                                  return ` Option Pool: ${item.name}`;\r\n                                                }\r\n                                                return tooltipItems[0].label;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  {/* Custom Legend with Permanent Percentage - Right Side */}\r\n                                  <div className=\"col-md-12\">\r\n                                    <div className=\"chart-legend-permanent h-100\">\r\n                                      <h6 className=\"mb-3 text-center fw-semibold\">Ownership Distribution</h6>\r\n                                      <div className=\"legend-list\" style={{ maxHeight: '240px', overflowY: 'auto' }}>\r\n                                        {capTableData?.pre_money?.items?.map((item, index) => {\r\n                                          const total = capTableData.pre_money.totals.total_shares || 1;\r\n                                          const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                          const colors = [\r\n                                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                                            '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                                            '#6A0572', '#118AB2', '#06D6A0', '#FFD166'\r\n                                          ];\r\n                                          const color = colors[index % colors.length];\r\n\r\n                                          // Get display name\r\n                                          let displayName = item.name;\r\n                                          if (item.type === 'founder' && item.founder_code) {\r\n                                            displayName = `${item.founder_code} - ${item.name}`;\r\n                                          } else if (item.type === 'investor') {\r\n                                            displayName = ` ${item.name}`;\r\n                                          } else if (item.type === 'option_pool') {\r\n                                            displayName = ` ${item.name}`;\r\n                                          }\r\n\r\n                                          return (\r\n                                            <div key={index} className=\"legend-item d-flex align-items-center mb-2 p-2 border rounded\">\r\n                                              <div\r\n                                                className=\"legend-color me-2 flex-shrink-0\"\r\n                                                style={{\r\n                                                  width: '14px',\r\n                                                  height: '14px',\r\n                                                  borderRadius: '50%',\r\n                                                  backgroundColor: color,\r\n                                                  border: '2px solid #fff',\r\n                                                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                                }}\r\n                                              ></div>\r\n                                              <div className=\"legend-text flex-grow-1\">\r\n                                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                  <small className=\"fw-semibold text-truncate\" style={{ maxWidth: '100px' }}>\r\n                                                    {displayName}\r\n                                                  </small>\r\n                                                  <span className=\"badge bg-primary ms-2\">\r\n                                                    {percentage}%\r\n                                                  </span>\r\n                                                </div>\r\n                                                <small className=\"text-muted d-block\">\r\n                                                  {formatNumber(item.shares || 0)} shares\r\n                                                </small>\r\n                                                {item.type === 'founder' && item.email && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    {item.email}\r\n                                                  </small>\r\n                                                )}\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        })}\r\n                                      </div>\r\n\r\n                                      {/* Total Summary */}\r\n                                      <div className=\"legend-total mt-3 pt-3 border-top\">\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Total Shares:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Share Price:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                          <small className=\"text-muted\">Total Value:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrency(capTableData?.pre_money?.totals?.total_value || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Chart Statistics */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Shares</small></p>\r\n                                        <h6 className=\"mb-0\">{formatNumber(capTableData?.pre_money?.totals?.total_shares || 0)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Share Price</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Value</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrency(capTableData?.pre_money?.totals?.total_value || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {/* Post-Money Chart */}\r\n                        {postMoneyChartData && (\r\n                          <div className=\"col-md-6\">\r\n                            <div className=\"card\">\r\n                              <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                                <h6 className=\"mb-0\">Post-Money Distribution</h6>\r\n                                <span className=\"badge bg-success\">\r\n                                  Total: {formatNumber(capTableData?.post_money?.totals?.total_shares || 0)} shares\r\n                                </span>\r\n                              </div>\r\n                              <div className=\"card-body\">\r\n                                <div className=\"row\">\r\n                                  {/* Chart - Left Side */}\r\n                                  <div className=\"col-md-12\" style={{ height: '300px' }}>\r\n                                    <Pie\r\n                                      data={postMoneyChartData}\r\n                                      options={{\r\n                                        responsive: true,\r\n                                        maintainAspectRatio: false,\r\n                                        cutout: '50%',\r\n                                        plugins: {\r\n                                          datalabels: {\r\n                                            display: function (context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const currentValue = dataset.data[context.dataIndex];\r\n                                              const percentage = (currentValue / total) * 100;\r\n                                              return percentage >= 3; // Only show for slices >= 3%\r\n                                            },\r\n                                            formatter: function (value, context) {\r\n                                              const dataset = context.dataset;\r\n                                              const total = dataset.data.reduce((a, b) => a + b, 0);\r\n                                              const percentage = ((value / total) * 100).toFixed(1);\r\n                                              return percentage + '%';\r\n                                            },\r\n                                            color: '#000',\r\n                                            font: {\r\n                                              weight: 'bold',\r\n                                              size: 16\r\n                                            },\r\n                                            textShadow: '1px 1px 2px rgba(0,0,0,0.8)',\r\n                                            padding: 6\r\n                                          },\r\n                                          legend: {\r\n                                            display: false\r\n                                          },\r\n                                          tooltip: {\r\n                                            backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                            titleColor: '#fff',\r\n                                            bodyColor: '#fff',\r\n                                            borderColor: '#333',\r\n                                            borderWidth: 1,\r\n                                            cornerRadius: 6,\r\n                                            padding: 12,\r\n                                            displayColors: true,\r\n                                            callbacks: {\r\n                                              label: function (context) {\r\n                                                const label = context.label || '';\r\n                                                const value = context.parsed || 0;\r\n                                                const total = context.dataset.data.reduce((a, b) => a + b, 0);\r\n                                                const percentage = total > 0 ? ((value / total) * 100).toFixed(2) : 0;\r\n\r\n                                                const sharePrice = roundData?.share_price || 0;\r\n                                                const valueAmount = value * sharePrice;\r\n\r\n                                                return [\r\n                                                  `${label}`,\r\n                                                  `Shares: ${formatNumber(value)}`,\r\n                                                  `Ownership: ${percentage}%`,\r\n                                                  `Value: ${formatCurrency(valueAmount, roundData?.currency)}`,\r\n                                                  `Price/Share: ${formatCurrencyNotRound(sharePrice, roundData?.currency)}`\r\n                                                ];\r\n                                              },\r\n                                              title: function (tooltipItems) {\r\n                                                const index = tooltipItems[0].dataIndex;\r\n                                                const item = capTableData?.post_money?.items?.[index];\r\n\r\n                                                if (item) {\r\n                                                  if (item.type === 'founder') {\r\n                                                    return ` Founder: ${item.name}`;\r\n                                                  } else if (item.type === 'investor') {\r\n                                                    return ` Investor: ${item.name}`;\r\n                                                  } else if (item.type === 'option_pool') {\r\n                                                    return ` Option Pool: ${item.name}`;\r\n                                                  }\r\n                                                }\r\n                                                return tooltipItems[0].label;\r\n                                              }\r\n                                            }\r\n                                          }\r\n                                        }\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n\r\n                                  {/* Custom Legend with Permanent Percentage - Right Side */}\r\n                                  <div className=\"col-md-12\">\r\n                                    <div className=\"chart-legend-permanent h-100\">\r\n                                      <h6 className=\"mb-3 text-center fw-semibold\">Ownership Distribution</h6>\r\n                                      <div className=\"legend-list\" style={{ maxHeight: '240px', overflowY: 'auto' }}>\r\n                                        {capTableData?.post_money?.items?.map((item, index) => {\r\n                                          const total = capTableData.post_money.totals.total_shares || 1;\r\n                                          const percentage = ((item.shares || 0) / total * 100).toFixed(1);\r\n                                          const colors = [\r\n                                            '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0',\r\n                                            '#9966FF', '#FF9F40', '#8AC926', '#1982C4',\r\n                                            '#6A0572', '#118AB2', '#06D6A0', '#FFD166'\r\n                                          ];\r\n                                          const color = colors[index % colors.length];\r\n\r\n                                          // Get display name with emojis\r\n                                          let displayName = item.name;\r\n                                          let emoji = '';\r\n                                          if (item.type === 'founder') {\r\n                                            emoji = ' ';\r\n                                            if (item.founder_code) {\r\n                                              displayName = `${item.founder_code} - ${item.name}`;\r\n                                            }\r\n                                          } else if (item.type === 'investor') {\r\n                                            emoji = ' ';\r\n                                            if (item.is_converted) {\r\n                                              displayName = ` ${item.name} (Converted)`;\r\n                                            } else if (item.is_new_investment) {\r\n                                              displayName = ` ${item.name}`;\r\n                                            }\r\n                                          } else if (item.type === 'option_pool') {\r\n                                            emoji = ' ';\r\n                                          } else if (item.type === 'pending') {\r\n                                            emoji = ' ';\r\n                                          }\r\n\r\n                                          return (\r\n                                            <div key={index} className=\"legend-item d-flex align-items-center mb-2 p-2 border rounded\">\r\n                                              <div\r\n                                                className=\"legend-color me-2 flex-shrink-0\"\r\n                                                style={{\r\n                                                  width: '14px',\r\n                                                  height: '14px',\r\n                                                  borderRadius: '50%',\r\n                                                  backgroundColor: color,\r\n                                                  border: '2px solid #fff',\r\n                                                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\r\n                                                }}\r\n                                              ></div>\r\n                                              <div className=\"legend-text flex-grow-1\">\r\n                                                <div className=\"d-flex justify-content-between align-items-center\">\r\n                                                  <small className=\"fw-semibold text-truncate\" style={{ maxWidth: '100px' }}>\r\n                                                    {emoji}{displayName}\r\n                                                  </small>\r\n                                                  <span className=\"badge bg-success ms-2\">\r\n                                                    {percentage}%\r\n                                                  </span>\r\n                                                </div>\r\n                                                <small className=\"text-muted d-block\">\r\n                                                  {formatNumber(item.shares || 0)} shares\r\n                                                  {item.new_shares > 0 && (\r\n                                                    <span className=\"text-success ms-2\">\r\n                                                      (+{formatNumber(item.new_shares)})\r\n                                                    </span>\r\n                                                  )}\r\n                                                </small>\r\n                                                {item.round_name && item.round_name !== 'Founding Share Allocation' && (\r\n                                                  <small className=\"text-muted d-block\">\r\n                                                    {item.round_name}\r\n                                                  </small>\r\n                                                )}\r\n                                              </div>\r\n                                            </div>\r\n                                          );\r\n                                        })}\r\n                                      </div>\r\n\r\n                                      {/* Total Summary */}\r\n                                      <div className=\"legend-total mt-3 pt-3 border-top\">\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Total Shares:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatNumber(capTableData?.post_money?.totals?.total_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">New Shares:</small>\r\n                                          <small className=\"fw-semibold text-success\">\r\n                                            +{formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between mb-1\">\r\n                                          <small className=\"text-muted\">Share Prissce:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrencyNotRound(roundData?.share_price || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                        <div className=\"d-flex justify-content-between\">\r\n                                          <small className=\"text-muted\">Total Value:</small>\r\n                                          <small className=\"fw-semibold\">\r\n                                            {formatCurrency(capTableData?.post_money?.totals?.total_value || 0, roundData?.currency)}\r\n                                          </small>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                {/* Post-Money Statistics */}\r\n                                <div className=\"mt-3\">\r\n                                  <div className=\"row\">\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Shares</small></p>\r\n                                        <h6 className=\"mb-0\">{formatNumber(capTableData?.post_money?.totals?.total_shares || 0)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>New Shares</small></p>\r\n                                        <h6 className=\"mb-0 text-success\">\r\n                                          +{formatNumber(capTableData?.post_money?.totals?.total_new_shares || 0)}\r\n                                        </h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Share Price</small></p>\r\n                                        <h6 className=\"mb-0\"><p>{\r\n                                          isUnpricedRound && !isConverted\r\n                                            ? 'N/A'\r\n                                            : formatCurrencyNotRound(displaySharePrice, roundData?.currency)\r\n                                        }</p>\r\n                                        </h6>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-3\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Total Value</small></p>\r\n                                        <h6 className=\"mb-0\">{formatCurrency(capTableData?.post_money?.totals?.total_value || 0, roundData?.currency)}</h6>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                  {/* Ownership Breakdown */}\r\n                                  <div className=\"row mt-3\">\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Founders</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-info me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_founders /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Investors</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-success me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_investors /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-4\">\r\n                                      <div className=\"text-center\">\r\n                                        <p className=\"mb-1 text-muted\"><small>Option Pool</small></p>\r\n                                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                                          <div className=\"rounded-circle bg-warning me-2\" style={{ width: '10px', height: '10px' }}></div>\r\n                                          <h6 className=\"mb-0\">\r\n                                            {formatPercentage(\r\n                                              (capTableData?.post_money?.totals?.total_option_pool /\r\n                                                capTableData?.post_money?.totals?.total_shares) * 100 || 0\r\n                                            )}\r\n                                          </h6>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"col-md-12\">\r\n                          <div className=\"card\">\r\n                            <div className=\"card-header d-flex justify-content-between align-items-center\">\r\n                              <h6 className=\"mb-0\">Ownership Percentage Comparison</h6>\r\n                              <div>\r\n                                <span className=\"badge bg-primary me-2\">Pre-Money</span>\r\n                                <span className=\"badge bg-danger\">Post-Money</span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                              <div style={{ height: '400px' }}>\r\n                                <Bar\r\n                                  data={{\r\n                                    labels:\r\n                                      capTableData?.pre_money?.items?.map(item => {\r\n                                        const name = item.name || ''\r\n                                        return name.length > 20\r\n                                          ? name.substring(0, 20) + '...'\r\n                                          : name\r\n                                      }) || [],\r\n                                    datasets: [\r\n                                      {\r\n                                        label: 'Pre-Money %',\r\n                                        data:\r\n                                          capTableData?.pre_money?.items?.map(item => {\r\n                                            const total =\r\n                                              capTableData.pre_money.totals.total_shares || 1\r\n                                            return parseFloat(\r\n                                              (((item.shares || 0) / total) * 100).toFixed(1)\r\n                                            )\r\n                                          }) || [],\r\n                                        backgroundColor: '#4e73df',\r\n                                        borderColor: '#4e73df',\r\n                                        borderWidth: 2,\r\n                                        borderRadius: 5,\r\n                                        barThickness: 30,\r\n                                        maxBarThickness: 30,\r\n                                        categoryPercentage: 0.5,\r\n                                        barPercentage: 1\r\n                                      },\r\n                                      {\r\n                                        label: 'Post-Money %',\r\n                                        data:\r\n                                          capTableData?.post_money?.items?.map(item => {\r\n                                            const total =\r\n                                              capTableData.post_money.totals.total_shares || 1\r\n                                            return parseFloat(\r\n                                              (((item.shares || 0) / total) * 100).toFixed(1)\r\n                                            )\r\n                                          }) || [],\r\n                                        backgroundColor: '#e74a3b',\r\n                                        borderColor: '#e74a3b',\r\n                                        borderWidth: 2,\r\n                                        borderRadius: 5,\r\n                                        barThickness: 30,\r\n                                        maxBarThickness: 30,\r\n                                        categoryPercentage: 0.5,\r\n                                        barPercentage: 1\r\n                                      }\r\n                                    ]\r\n                                  }}\r\n                                  options={{\r\n                                    responsive: true,\r\n                                    maintainAspectRatio: false,\r\n                                    plugins: {\r\n                                      legend: {\r\n                                        position: 'top',\r\n                                        labels: {\r\n                                          boxWidth: 12,\r\n                                          padding: 15,\r\n                                          font: {\r\n                                            size: 12\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      tooltip: {\r\n                                        backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n                                        titleColor: '#fff',\r\n                                        bodyColor: '#fff',\r\n                                        borderColor: '#333',\r\n                                        borderWidth: 1,\r\n                                        cornerRadius: 6,\r\n                                        padding: 12,\r\n                                        displayColors: true,\r\n                                        callbacks: {\r\n                                          label: function (context) {\r\n                                            const label = context.dataset.label || ''\r\n                                            const value = context.parsed.y || 0\r\n\r\n                                            // Find the item\r\n                                            const itemIndex = context.dataIndex\r\n                                            const preItem =\r\n                                              capTableData?.pre_money?.items?.[itemIndex]\r\n                                            const postItem =\r\n                                              capTableData?.post_money?.items?.[itemIndex]\r\n\r\n                                            let tooltipText = `${label}: ${value}%`\r\n\r\n                                            if (preItem && postItem) {\r\n                                              const preShares = preItem.shares || 0\r\n                                              const postShares = postItem.shares || 0\r\n                                              const shareDiff = postShares - preShares\r\n\r\n                                              if (shareDiff !== 0) {\r\n                                                tooltipText += `\\nShares Change: ${shareDiff > 0 ? '+' : ''\r\n                                                  }${formatNumber(shareDiff)}`\r\n                                              }\r\n                                            }\r\n\r\n                                            return tooltipText\r\n                                          },\r\n                                          afterLabel: function (context) {\r\n                                            const itemIndex = context.dataIndex\r\n                                            const item =\r\n                                              capTableData?.post_money?.items?.[itemIndex]\r\n\r\n                                            if (item?.type) {\r\n                                              return `Type: ${item.type.charAt(0).toUpperCase() +\r\n                                                item.type.slice(1)\r\n                                                }`\r\n                                            }\r\n                                            return ''\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      datalabels: {\r\n                                        display: true,\r\n                                        formatter: function (value) {\r\n                                          return value + '%'\r\n                                        },\r\n                                        color: '#fff',\r\n                                        font: {\r\n                                          weight: 'bold',\r\n                                          size: 10\r\n                                        },\r\n                                        anchor: 'center',\r\n                                        align: 'center'\r\n                                      }\r\n                                    },\r\n                                    scales: {\r\n                                      x: {\r\n                                        grid: {\r\n                                          display: false\r\n                                        },\r\n                                        title: {\r\n                                          display: true,\r\n                                          text: 'Stakeholders',\r\n                                          font: {\r\n                                            size: 12,\r\n                                            weight: 'bold'\r\n                                          }\r\n                                        }\r\n                                      },\r\n                                      y: {\r\n                                        beginAtZero: true,\r\n                                        max: 100,\r\n                                        ticks: {\r\n                                          callback: function (value) {\r\n                                            return value + '%'\r\n                                          },\r\n                                          stepSize: 10\r\n                                        },\r\n                                        title: {\r\n                                          display: true,\r\n                                          text: 'Ownership Percentage',\r\n                                          font: {\r\n                                            size: 12,\r\n                                            weight: 'bold'\r\n                                          }\r\n                                        },\r\n                                        grid: {\r\n                                          color: 'rgba(0, 0, 0, 0.05)'\r\n                                        }\r\n                                      }\r\n                                    }\r\n                                  }}\r\n                                />\r\n                              </div>\r\n\r\n                              {/* Summary Statistics */}\r\n                              <div className=\"row mt-4\">\r\n                                <div className=\"col-md-6\">\r\n                                  <div className=\"card bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"text-muted mb-2\">Total Stakeholders</h6>\r\n                                      <h3 className=\"mb-0\">\r\n                                        {capTableData?.pre_money?.items?.length || 0}\r\n                                      </h3>\r\n                                      <small className=\"text-muted\">Same in Pre & Post</small>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n\r\n                                <div className=\"col-md-6\">\r\n                                  <div className=\"card bg-light\">\r\n                                    <div className=\"card-body text-center\">\r\n                                      <h6 className=\"text-muted mb-2\">Largest Change</h6>\r\n                                      <h3 className=\"mb-0\">\r\n                                        {(() => {\r\n                                          let maxChange = 0;\r\n                                          if (capTableData?.pre_money?.items && capTableData?.post_money?.items) {\r\n                                            capTableData.pre_money.items.forEach((preItem, index) => {\r\n                                              const postItem = capTableData.post_money.items[index];\r\n                                              if (preItem && postItem) {\r\n                                                const preTotal = capTableData.pre_money.totals.total_shares || 1;\r\n                                                const postTotal = capTableData.post_money.totals.total_shares || 1;\r\n                                                const prePercent = (preItem.shares / preTotal * 100);\r\n                                                const postPercent = (postItem.shares / postTotal * 100);\r\n                                                const change = Math.abs(postPercent - prePercent);\r\n                                                if (change > maxChange) maxChange = change;\r\n                                              }\r\n                                            });\r\n                                          }\r\n                                          return `${maxChange.toFixed(1)}%`;\r\n                                        })()}\r\n                                      </h3>\r\n                                      <small className=\"text-muted\">Maximum percentage change</small>\r\n                                    </div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Pending Conversions Tab */}\r\n              {activeTab === 'pending' && pendingConversions.length > 0 && (\r\n                <div className=\"card\">\r\n                  <div className=\"card-header bg-warning\">\r\n                    <h5 className=\"mb-0\">Pending Conversions</h5>\r\n                    <small className=\"text-white\">SAFE/Convertible Notes waiting to convert</small>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"table-responsive\">\r\n                      <table className=\"table table-striped\">\r\n                        <thead>\r\n                          <tr>\r\n                            <th>Instrument</th>\r\n                            <th>Round</th>\r\n                            <th className=\"text-end\">Investment</th>\r\n                            <th className=\"text-end\">Conversion Price</th>\r\n                            <th className=\"text-end\">Potential Shares</th>\r\n                            <th>Discount</th>\r\n                            <th>Valuation Cap</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          {pendingConversions.map((conv, index) => {\r\n                            const mappedConv = {\r\n                              instrument: conv.instrument_type || conv.instrument,\r\n                              round_name: conv.round_name,\r\n                              investment: conv.investment_amount || conv.investment,\r\n                              conversion_price: conv.share_price || conv.conversion_price,\r\n                              potential_shares: conv.estimated_shares || conv.potential_shares,\r\n                              discount_rate: conv.instrument_data?.discountRate_note || conv.discount_rate,\r\n                              valuation_cap: conv.instrument_data?.valuationCap_note || conv.valuation_cap\r\n                            };\r\n\r\n                            return (\r\n                              <tr key={index}>\r\n                                <td>\r\n                                  <span className={`badge ${mappedConv.instrument === 'Safe' ? 'bg-primary' : 'bg-info'}`}>\r\n                                    {mappedConv.instrument}\r\n                                  </span>\r\n                                </td>\r\n                                <td>{mappedConv.round_name}</td>\r\n                                <td className=\"text-end\">{formatCurrency(mappedConv.investment, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatCurrency(mappedConv.conversion_price, roundData?.currency)}</td>\r\n                                <td className=\"text-end\">{formatNumber(mappedConv.potential_shares)}</td>\r\n                                <td>{mappedConv.discount_rate}%</td>\r\n                                <td>{formatCurrency(mappedConv.valuation_cap, roundData?.currency)}</td>\r\n                              </tr>\r\n                            );\r\n                          })}\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* ===== OWNERSHIP STATISTICS SECTION ===== */}\r\n              {roundData?.type === 'Round 0' && (\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"card border-0 shadow-sm\">\r\n                      <div className=\"card-header bg-white border-0 py-3\">\r\n                        <h6 className=\"mb-0 fw-bold text-dark\">\r\n                          <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                          Ownership Distribution Statistics\r\n                        </h6>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"row text-center\">\r\n                          {/* Largest Ownership */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-primary bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-arrow-up-short text-primary fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Largest Ownership</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-primary\">{stats.largest}%</h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Smallest Ownership */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-info bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-arrow-down-short text-info fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Smallest Ownership</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-info\">{stats.smallest}%</h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Founders Count */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-success bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-people-fill text-success fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Founders</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-success\">\r\n                                    {stats.votingCount} / {stats.totalFounders}\r\n                                  </h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Progress Bar Visualization */}\r\n                        {stats.totalFounders > 0 && (\r\n                          <div className=\"mt-4\">\r\n                            <div className=\"d-flex justify-content-between mb-2\">\r\n                              <span className=\"small text-muted\">Ownership Distribution</span>\r\n                              <span className=\"small fw-bold\">\r\n                                {stats.largest}% Max | {stats.smallest}% Min\r\n                              </span>\r\n                            </div>\r\n                            <div className=\"progress\" style={{ height: '8px' }}>\r\n                              {capTableData?.pre_money?.items\r\n                                ?.filter(item => item.type === 'founder')\r\n                                .map((item, index) => {\r\n                                  const percentage = parseFloat(item.percentage || 0);\r\n                                  const colors = ['#4e73df', '#1cc88a', '#36b9cc', '#f6c23e', '#e74a3b'];\r\n                                  const color = colors[index % colors.length];\r\n\r\n                                  return (\r\n                                    <div\r\n                                      key={index}\r\n                                      className=\"progress-bar\"\r\n                                      role=\"progressbar\"\r\n                                      style={{\r\n                                        width: `${percentage}%`,\r\n                                        backgroundColor: color,\r\n                                        borderRight: index < stats.totalFounders - 1 ? '2px solid #fff' : 'none'\r\n                                      }}\r\n                                      aria-valuenow={percentage}\r\n                                      aria-valuemin=\"0\"\r\n                                      aria-valuemax=\"100\"\r\n                                      title={`${item.name}: ${percentage}%`}\r\n                                    />\r\n                                  );\r\n                                })}\r\n                            </div>\r\n                            <div className=\"d-flex justify-content-between mt-2 small text-muted\">\r\n                              {capTableData?.pre_money?.items\r\n                                ?.filter(item => item.type === 'founder')\r\n                                .map((item, index) => (\r\n                                  <span key={index} className=\"text-truncate\" style={{ maxWidth: '100px' }}>\r\n                                    {item.founder_code || `F${index + 1}`}\r\n                                  </span>\r\n                                ))}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {activeTab === 'post-money' && (\r\n                <div className=\"row mb-4\">\r\n                  <div className=\"col-md-12\">\r\n                    <div className=\"card border-0 shadow-sm\">\r\n                      <div className=\"card-header bg-white border-0 py-3\">\r\n                        <h6 className=\"mb-0 fw-bold text-dark\">\r\n                          <i className=\"bi bi-pie-chart-fill text-primary me-2\"></i>\r\n                          Founder Ownership Statistics\r\n                        </h6>\r\n                      </div>\r\n                      <div className=\"card-body\">\r\n                        <div className=\"row text-center\">\r\n                          {/* Largest Ownership */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-primary bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-arrow-up-short text-primary fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Largest Founder Ownership</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-primary\">{postStats.largest}%</h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Smallest Ownership */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-info bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-arrow-down-short text-info fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Smallest Founder Ownership</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-info\">{postStats.smallest}%</h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Founders Count */}\r\n                          <div className=\"col-md-4\">\r\n                            <div className=\"p-3\">\r\n                              <div className=\"d-flex align-items-center justify-content-center mb-2\">\r\n                                <div className=\"rounded-circle bg-success bg-opacity-10 p-3 me-2\">\r\n                                  <i className=\"bi bi-people-fill text-success fs-4\"></i>\r\n                                </div>\r\n                                <div>\r\n                                  <small className=\"text-muted d-block\">Founders</small>\r\n                                  <h3 className=\"mb-0 fw-bold text-success\">\r\n                                    {postStats.votingCount} / {postStats.totalFounders}\r\n                                  </h3>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n\r\n                        {/* Optional: Founder List with Percentages */}\r\n                        <div className=\"mt-4 pt-3 border-top\">\r\n                          <div className=\"row\">\r\n                            {capTableData?.post_money?.items\r\n                              ?.filter(item => item.type === 'founder')\r\n                              .map((item, index) => (\r\n                                <div key={index} className=\"col-md-4 mb-2\">\r\n                                  <div className=\"d-flex justify-content-between align-items-center\">\r\n                                    <span className=\"text-muted\">\r\n                                      {item.founder_code || `F${index + 1}`} - {item.name}\r\n                                    </span>\r\n                                    <span className=\"fw-bold\">{formatPercentage(item.percentage)}</span>\r\n                                  </div>\r\n                                  <div className=\"progress mt-1\" style={{ height: '4px' }}>\r\n                                    <div\r\n                                      className=\"progress-bar\"\r\n                                      style={{\r\n                                        width: `${item.percentage}%`,\r\n                                        backgroundColor:\r\n                                          index === 0 ? '#4e73df' :\r\n                                            index === 1 ? '#1cc88a' :\r\n                                              index === 2 ? '#36b9cc' : '#f6c23e'\r\n                                      }}\r\n                                    />\r\n                                  </div>\r\n                                </div>\r\n                              ))}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {/* Calculations Summary */}\r\n              {roundData?.type !== 'Round 0' && (\r\n                <div className=\"card mt-4\">\r\n                  <div className=\"card-header bg-light\">\r\n                    <h6 className=\"mb-0\">Valuation Summary</h6>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-md-4\">\r\n                        <p className=\"mb-1\"><strong>Pre-Money Valuation</strong></p>\r\n                        <h4>{formatCurrency(calculations.pre_money_valuation, roundData?.currency)}</h4>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p className=\"mb-1\"><strong>Investment</strong></p>\r\n                        <h4 className=\"text-success\">{formatCurrency(roundData?.investment, roundData?.currency)}</h4>\r\n                      </div>\r\n                      <div className=\"col-md-4\">\r\n                        <p className=\"mb-1\"><strong>Post-Money Valuation</strong></p>\r\n                        <h4 className=\"text-info\">{formatCurrency(calculations.post_money_valuation, roundData?.currency)}</h4>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row mt-3\">\r\n                      <div className=\"col-md-6\">\r\n                        <p className=\"mb-1\"><strong>Total Shares Outstanding</strong></p>\r\n                        <h5>{formatNumber(calculations.total_shares_outstanding)}</h5>\r\n                      </div>\r\n\r\n                      <div className=\"col-md-6\">\r\n                        <p className=\"mb-1\"><strong>Share Price</strong></p>\r\n                        <h5>{\r\n                          isUnpricedRound && !isConverted\r\n                            ? 'N/A'\r\n                            : formatCurrencyNotRound(displaySharePrice, roundData?.currency)\r\n                        }</h5>\r\n                      </div>\r\n\r\n\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Back Button */}\r\n              <div className=\"mt-4\">\r\n                <button className=\"btn btn-secondary\" onClick={() => navigate(-1)}>\r\n                  <i className=\"bi bi-arrow-left me-2\"></i>\r\n                  Back to Rounds List\r\n                </button>\r\n                <button className=\"btn btn-primary ms-2\" onClick={getCapTableData}>\r\n                  <i className=\"bi bi-arrow-clockwise me-2\"></i>\r\n                  Refresh Data\r\n                </button>\r\n              </div>\r\n\r\n            </SectionWrapper>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n}"],"names":["RecordRoundCaptable","_capTableData$pre_mon","_capTableData$post_mo","_capTableData$pre_mon2","_capTableData$pre_mon3","_capTableData$pre_mon8","_capTableData$pre_mon9","_capTableData$pre_mon10","_capTableData$pre_mon11","_capTableData$pre_mon12","_capTableData$pre_mon13","_capTableData$pre_mon14","_capTableData$pre_mon15","_capTableData$pre_mon16","_capTableData$pre_mon17","_capTableData$pre_mon18","_capTableData$pre_mon19","_capTableData$pre_mon24","_capTableData$pre_mon25","_capTableData$pre_mon26","_capTableData$pre_mon27","_capTableData$pre_mon28","_capTableData$pre_mon29","_capTableData$pre_mon30","_capTableData$pre_mon31","_capTableData$pre_mon32","_capTableData$pre_mon33","_capTableData$post_mo2","_capTableData$post_mo3","_capTableData$post_mo6","_capTableData$post_mo7","_capTableData$post_mo8","_capTableData$post_mo9","_capTableData$post_mo10","_capTableData$post_mo11","_capTableData$post_mo12","_capTableData$post_mo13","_capTableData$pre_mon34","_capTableData$pre_mon35","_capTableData$pre_mon42","_capTableData$pre_mon43","_capTableData$pre_mon44","_capTableData$pre_mon45","_capTableData$pre_mon46","_capTableData$pre_mon47","_capTableData$pre_mon48","_capTableData$pre_mon49","_capTableData$pre_mon50","_capTableData$pre_mon51","_capTableData$pre_mon54","_capTableData$pre_mon55","_capTableData$pre_mon56","_capTableData$pre_mon57","_capTableData$pre_mon58","_capTableData$pre_mon59","_capTableData$pre_mon60","_capTableData$pre_mon61","_capTableData$pre_mon62","_capTableData$pre_mon63","_capTableData$post_mo14","_capTableData$post_mo15","_capTableData$post_mo18","_capTableData$post_mo19","_capTableData$post_mo20","_capTableData$post_mo21","_capTableData$post_mo22","_capTableData$post_mo23","_capTableData$post_mo24","_capTableData$post_mo25","_capTableData$post_mo26","_capTableData$post_mo27","_capTableData$post_mo28","_capTableData$post_mo29","_capTableData$post_mo30","_capTableData$post_mo31","_capTableData$post_mo32","_capTableData$post_mo33","_capTableData$post_mo34","_capTableData$post_mo35","_capTableData$post_mo36","_capTableData$post_mo37","_capTableData$post_mo38","_capTableData$post_mo39","_capTableData$post_mo40","_capTableData$post_mo41","_capTableData$post_mo42","_capTableData$post_mo43","_capTableData$pre_mon64","_capTableData$pre_mon65","_capTableData$pre_mon66","_capTableData$pre_mon67","_capTableData$post_mo44","_capTableData$post_mo45","_capTableData$pre_mon70","_capTableData$pre_mon71","_capTableData$pre_mon73","_capTableData$pre_mon74","_capTableData$pre_mon75","_capTableData$pre_mon76","_capTableData$post_mo51","_capTableData$post_mo52","id","useParams","navigate","useNavigate","API_URL_CAPTABLE","API_BASE_URL","storedUsername","localStorage","getItem","userLogin","JSON","parse","loading","setLoading","useState","error","setError","capTableData","setCapTableData","pre_money","items","totals","post_money","roundData","setRoundData","pendingConversions","setPendingConversions","calculations","setCalculations","summaryDetails","setSummaryDetails","preMoneyChartData","setPreMoneyChartData","postMoneyChartData","setPostMoneyChartData","activeTab","setActiveTab","isCollapsed","setIsCollapsed","conversionStatus","setConversionStatus","conversionData","setConversionData","formatCurrency","amount","currency","arguments","length","undefined","cleanCurrency","trim","split","currencyCode","includes","toUpperCase","Intl","NumberFormat","style","minimumFractionDigits","maximumFractionDigits","format","parseFloat","toFixed","formatCurrencyNotRound","numAmount","formatPercentage","value","formatNumber","num","getCapTableData","useCallback","async","formData","company_id","companies","round_id","res","axios","post","headers","Accept","data","success","_capTable$pre_money","_capTable$pre_money$i","_capTable$post_money","_capTable$post_money$","capTable","cap_table","console","log","conversion_status","round","pending_conversions","conversions","calculateSummaryDetails","preMoneyData","labels","map","item","name","datasets","label","shares","backgroundColor","borderWidth","postMoneyData","message","err","_err$response","_err$response$data","response","isUnpricedRound","instrument","isConverted","is_converted","isRound0","issued_shares","type","displaySharePrice","displayIssuedShares","share_price","converted_shares","preMoneyTable","postMoneyTable","preMoneyVal","postMoneyVal","investment","totalSharesPre","total_shares","totalSharesPost","sharePricePre","sharePricePost","founderShares","filter","reduce","sum","founderValuePre","founderValuePost","investorValue","optionPoolShares","total_option_pool","optionPoolValue","useEffect","stats","founders","largest","smallest","votingCount","totalFounders","percentages","f","percentage","Math","max","min","voting","getOwnershipStats","postStats","getPostMoneyOwnershipStats","_jsx","Wrapper","children","className","_jsxs","ModuleSideNav","TopBar","SectionWrapper","role","onClick","status","incorporation_date","test","input","date","Date","isNaN","day","getDate","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","toString","padStart","ampm","getSeconds","n","getOrdinal","formatCurrentDate","converted_in_round","converted_round_name","conversion_price","targetPool","option_pool_percent_post","option_pool_percent","_Fragment","newPool","index","founder_code","email","Number","toLocaleString","pre_money_display_value","share_type","_capTableData$pre_mon4","_capTableData$pre_mon5","_capTableData$pre_mon6","_capTableData$pre_mon7","optionItems","totalOptionShares","totalShares","optionPercentage","optionValue","createdInRounds","round_name","join","i","_item$shares","discount_rate","valuation_cap","interest_rate","colSpan","total_value","original_round_0_value","_capTableData$pre_mon20","_capTableData$pre_mon21","_capTableData$pre_mon22","_capTableData$pre_mon23","_item$shares2","pre_money_valuation","shareClassType","_capTableData$post_mo4","_capTableData$post_mo5","optionItem","find","existing_shares","new_shares","is_new_investment","instrument_type","height","position","Pie","indexOf","borderColor","options","responsive","maintainAspectRatio","cutout","plugins","datalabels","display","context","dataset","total","a","b","dataIndex","formatter","color","font","weight","size","textShadow","padding","borderRadius","legend","usePointStyle","pointStyle","generateLabels","chart","_capTableData$pre_mon36","_capTableData$pre_mon37","displayLabel","sharesInfo","text","fillStyle","strokeStyle","lineWidth","hidden","getDatasetMeta","fontColor","tooltip","titleColor","bodyColor","cornerRadius","displayColors","callbacks","_capTableData$pre_mon38","_capTableData$pre_mon39","parsed","itemIndex","title","tooltipItems","_capTableData$pre_mon40","_capTableData$pre_mon41","maxHeight","overflowY","colors","width","fontSize","fontWeight","maxWidth","transition","post_money_valuation","total_founders","total_investors","sharePrice","valueAmount","_capTableData$pre_mon52","_capTableData$pre_mon53","displayName","border","boxShadow","_capTableData$post_mo16","_capTableData$post_mo17","emoji","total_new_shares","Bar","substring","barThickness","maxBarThickness","categoryPercentage","barPercentage","boxWidth","_capTableData$pre_mon68","_capTableData$pre_mon69","_capTableData$post_mo46","_capTableData$post_mo47","y","preItem","postItem","tooltipText","preShares","shareDiff","afterLabel","_capTableData$post_mo48","_capTableData$post_mo49","charAt","slice","anchor","align","scales","x","grid","beginAtZero","ticks","callback","stepSize","_capTableData$pre_mon72","_capTableData$post_mo50","maxChange","forEach","preTotal","postTotal","prePercent","postPercent","change","abs","conv","_conv$instrument_data","_conv$instrument_data2","mappedConv","investment_amount","potential_shares","estimated_shares","instrument_data","discountRate_note","valuationCap_note","borderRight","total_shares_outstanding","ChartJS","register","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","ArcElement","ChartDataLabels"],"sourceRoot":""}