{"version":3,"file":"static/js/9598.e3cb7c20.chunk.js","mappings":"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","sources":["components/ErrorPop.jsx","components/SuccessPop.jsx","pages/Admin/Login.jsx"],"sourcesContent":["import React from \"react\";\n\nexport default function ErrorPop({ message }) {\n  return (\n    <>\n      <div className=\"popup-overlay sucess_alert\">\n        <div className=\"popup-content col-md-4\">\n          <div className=\"danger_meess d-flex flex-column gap-4\">\n            <div className=\"d-block danger_notification\">\n              <p>{message}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function SuccessPop({ message }) {\n  return (\n    <>\n      <div className=\"popup-overlay sucess_alert\">\n        <div className=\"popup-content col-md-4\">\n          <div className=\"sucess_meess d-flex flex-column gap-4\">\n            <div className=\"d-block sucess_notification\">\n              <p>{message}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport SuccessPop from \"../../components/SuccessPop\";\nimport ErrorPop from \"../../components/ErrorPop\";\n\nexport default function Login() {\n  var apiURL = \"https://backend.amourette.no/api/admin/\";\n  const [showPopSuccess, setShowPopSuccess] = useState(false);\n  const [showPopError, setShowPopError] = useState(false);\n  const [successPopMessage, setPopsuccessMessage] = useState(\"\");\n  const [errorPopMessage, setPoperrorMessage] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Check if the username key exists in session storage\n    const storedUsername = localStorage.getItem(\"adminLogin\");\n    const userLogin = JSON.parse(storedUsername);\n    console.log(userLogin);\n    if (userLogin != null) {\n      navigate(\"/admin/users\");\n    }\n  }, []);\n  const handleSubmit = async (event) => {\n    event.preventDefault(); // Prevent default form submission\n\n    // Validate email and password\n    var vl = event.target;\n    const formData = new FormData();\n    formData.append(\"email\", vl.email.value);\n    formData.append(\"password\", vl.password.value);\n\n    try {\n      const res = await axios.post(apiURL + \"login\", formData, {\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      console.log(res.data);\n      setShowPopSuccess(true);\n      setPopsuccessMessage(res.data.message);\n\n      var userResp = res.data.user;\n      let userData = {\n        id: userResp.id,\n        email: userResp.email,\n      };\n      localStorage.setItem(\"adminLogin\", JSON.stringify(userData));\n\n      setShowPopError(false);\n      setShowPopSuccess(false);\n      navigate(\"/admin/dashboard\");\n      // Handle success (e.g., redirect or show a success message)\n    } catch (err) {\n      console.log(\"dd\");\n      console.error(err);\n      if (err.response && err.response.data && err.response.data.message) {\n        setShowPopSuccess(false);\n        setShowPopError(true);\n\n        setPoperrorMessage(err.response.data.message); // Store the error message in state\n      } else {\n        setShowPopSuccess(false);\n        setShowPopError(true);\n\n        setPoperrorMessage(\"An unknown error occurred.\");\n      }\n\n      setTimeout(() => {\n        setShowPopError(false);\n        setShowPopSuccess(false);\n      }, 3500);\n    }\n  };\n  return (\n    <div>\n      {showPopSuccess && <SuccessPop message={successPopMessage} />}\n      {showPopError && <ErrorPop message={errorPopMessage} />}\n      <section className=\"regblock d-block\">\n        <div className=\"container-lg\">\n          <div className=\"row justify-content-end\">\n            <div className=\"col-md-6 p-md-0\">\n              <div className=\"regform d-flex flex-column gap-4\">\n                <form onSubmit={handleSubmit} method=\"post\">\n                  {/* 1st step */}\n                  <div className=\"stepbox\">\n                    <div className=\"d-flex flex-column gap-3 regtitle mb-5\">\n                      <div className=\"d-flex justify-content-between\">\n                        <h2>Admin Login</h2>\n                      </div>\n                    </div>\n                    <div className=\"row gy-4\">\n                      <div className=\"col-12\">\n                        <div className=\"d-flex flex-column gap-2\">\n                          <label htmlFor=\"\">E-mail</label>\n                          <input\n                            type=\"email\"\n                            placeholder=\"You e-mail\"\n                            name=\"email\"\n                          />\n                        </div>\n                      </div>\n                      <div className=\"col-12\">\n                        <div className=\"d-flex flex-column gap-2\">\n                          <label htmlFor=\"\">Password</label>\n                          <input\n                            type=\"password\"\n                            name=\"password\"\n                            required\n                            placeholder=\"You password\"\n                          />\n                        </div>\n                        {/* <span className=\"text-danger\">{err_email}</span> */}\n                      </div>\n\n                      <div className=\"col-12\">\n                        <div className=\"d-flex flex-column gap-2\">\n                          <div className=\"listbox\">\n                            <label className=\"cbox p-0\">\n                              <Link to=\"/admin/forgot-pasword\">\n                                Forget Password\n                              </Link>\n                            </label>\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"col-12\">\n                        <button type=\"submit\" className=\"regbtnsubmit\">\n                          LOG IN\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":["ErrorPop","_ref","message","_jsx","_Fragment","children","className","SuccessPop","Login","showPopSuccess","setShowPopSuccess","useState","showPopError","setShowPopError","successPopMessage","setPopsuccessMessage","errorPopMessage","setPoperrorMessage","navigate","useNavigate","useEffect","storedUsername","localStorage","getItem","userLogin","JSON","parse","console","log","_jsxs","onSubmit","async","event","preventDefault","vl","target","formData","FormData","append","email","value","password","res","axios","post","apiURL","headers","Accept","data","userResp","user","userData","id","setItem","stringify","err","error","response","setTimeout","method","htmlFor","type","placeholder","name","required","Link","to"],"sourceRoot":""}