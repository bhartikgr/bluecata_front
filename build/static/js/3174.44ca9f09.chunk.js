"use strict";(self.webpackChunkamourette=self.webpackChunkamourette||[]).push([[3174],{603:(e,a,s)=>{s.d(a,{A:()=>u});var n=s(5043),t=s(3216),i=s(5475),l=s(2843),c=s(6905);const o=s.p+"static/media/user_img.6419dd0712d26f16611c.jpg";var r=s(3910),d=s(7929),m=s(579);function u(){const e=(0,t.zy)(),[a,s]=(0,n.useState)(window.location.pathname),[u,p]=(0,n.useState)(!1),[h,x]=(0,n.useState)(!1),g=(0,t.Zp)();(0,n.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),a=JSON.parse(e);console.log(a),null===a&&g("/admin/login")}),[]),(0,n.useEffect)((()=>{"/admin/media"===e.pathname||"/admin/groups"===e.pathname||"/admin/forum"===e.pathname||"/admin/messaging"===e.pathname?x(!0):x(!1)}),[e.pathname]);const j=e=>{s(e)},[N,v]=(0,n.useState)(!1),b=()=>{v(!N)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"nav_openres",style:{opacity:N?"0":"1",zIndex:N?"1":"9998",transition:"all 0.3s ease"},children:(0,m.jsx)("button",{onClick:b,children:(0,m.jsx)(r.g,{icon:d.ckx})})}),(0,m.jsx)("div",{className:"nav_closeres",style:{left:N?"245px":"150px",opacity:N?"1":"0",zIndex:N?"9998":"1",transition:"all 0.3s ease"},children:(0,m.jsx)("button",{onClick:b,children:(0,m.jsx)(r.g,{icon:d.Jyw})})}),(0,m.jsx)("div",{className:"d-block admin_bar",style:{width:N?"300px":"",height:N?"100vh":"",opacity:N?"1":"",zIndex:N?"98":"",transition:"all 0.3s ease"},children:(0,m.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,m.jsxs)("div",{className:"d-flex align-items-center gap-3 admin-top",children:[(0,m.jsx)("div",{className:"d-block admin_profile",children:(0,m.jsx)("img",{className:"w-100 h-100",src:o,alt:"Admin Profile"})}),(0,m.jsx)("div",{className:"d-flex flex-column gap-1",children:(0,m.jsx)("h6",{children:"Admin"})})]}),(0,m.jsx)("div",{className:"d-flex flex-column gap-3 admin_nav",children:(0,m.jsxs)(l.A,{className:"w-100 d-flex flex-column gap-2",children:[(0,m.jsx)(l.A.Link,{className:"/admin/users"===e.pathname?"active":"",as:i.N_,to:"/admin/users",onClick:()=>j("/users"),"aria-label":"User Management",children:"User Management"}),(0,m.jsxs)(c.A,{autoClose:!1,show:h,onToggle:e=>{x(e)},children:[(0,m.jsx)(c.A.Toggle,{variant:"link",className:"/admin/media"===e.pathname||"/admin/groups"===e.pathname||"/admin/forum"===e.pathname||"/admin/messaging"===e.pathname?"active":"",id:"dropdown-custom-components",children:"Content Management"}),(0,m.jsxs)(c.A.Menu,{children:[(0,m.jsx)(c.A.Item,{as:i.N_,to:"/admin/media",className:"/admin/media"===e.pathname?"active submenuadmin":"submenuadmin",children:"Media"}),(0,m.jsx)(c.A.Item,{as:i.N_,to:"/admin/groups",className:"/admin/groups"===e.pathname?"active submenuadmin":"submenuadmin",children:"Groups"}),(0,m.jsx)(c.A.Item,{as:i.N_,to:"/admin/forum",className:"/admin/forum"===e.pathname?"active submenuadmin":"submenuadmin",children:"Forums"}),(0,m.jsx)(c.A.Item,{as:i.N_,to:"/admin/messaging",className:"/admin/messaging"===e.pathname?"active submenuadmin":"submenuadmin",children:"Messaging & Communication"})]})]}),(0,m.jsx)(l.A.Link,{className:"/admin/paymentsubscription"===a?"active":"",as:i.N_,to:"/admin/paymentsubscription",onClick:()=>j("/paymentsubscription"),"aria-label":"Payment & Subscription",children:"Payment & Subscription"}),(0,m.jsx)(l.A.Link,{className:"/admin/securityprivacy"===a?"active":"",as:i.N_,to:"/admin/securityprivacy",onClick:()=>j("/securityprivacy"),"aria-label":"Security & Privacy",children:"Security & Privacy"}),(0,m.jsx)(l.A.Link,{className:"/moderationguidelines"===a?"active":"",as:i.N_,to:"/moderationguidelines",onClick:()=>j("/moderationguidelines"),"aria-label":"Content Moderation & Guidelines",children:"Content Moderation & Guidelines"}),(0,m.jsx)(l.A.Link,{className:"/backup"===a?"active":"",as:i.N_,to:"/backup",onClick:()=>j("/backup"),"aria-label":"Backup & Site Recovery",children:"Backup & Site Recovery"}),(0,m.jsx)(l.A.Link,{className:"/legal"===a?"active":"",as:i.N_,to:"/legal",onClick:()=>j("/legal"),"aria-label":"Legal & Compliance",children:"Legal & Compliance"}),(0,m.jsx)(l.A.Link,{className:"/performance"===a?"active":"",as:i.N_,to:"/performance",onClick:()=>j("/performance"),"aria-label":"Performance Monitoring",children:"Performance Monitoring"}),(0,m.jsx)(l.A.Link,{className:"/performance"===a?"active":"",as:i.N_,to:"#",onClick:()=>(sessionStorage.removeItem("adminLogin"),localStorage.removeItem("adminLogin"),console.log("User logged out"),void setTimeout((()=>{g("/admin/login")}),10)),"aria-label":"Logout",children:"Logout"})]})})]})})]})}},5748:(e,a,s)=>{s.d(a,{A:()=>i});var n=s(5043),t=s(579);const i=e=>{let{isOpen1:a,onClose1:s,message:i,onReturnSent:l}=e;const[c,o]=(0,n.useState)([]),[r,d]=(0,n.useState)("");if(!a)return null;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"popup-overlay",onClick:e=>{e.target.classList.contains("popup-overlay")&&s()},children:(0,t.jsxs)("div",{className:"popup-content col-md-5",children:[(0,t.jsx)("button",{className:"close-button",onClick:s,children:"\xd7 "}),(0,t.jsxs)("div",{className:"invite_pop delete_pop gallery_pop d-flex flex-column gap-4",children:[(0,t.jsx)("div",{className:"d-flex flex-column gap-2",children:(0,t.jsx)("h3",{children:i})}),(0,t.jsx)("form",{action:"javascript:void(0)",method:"post",children:(0,t.jsx)("div",{className:"row gy-3 align-items-end",children:(0,t.jsx)("div",{className:"col-12",children:(0,t.jsxs)("div",{className:"d-flex align-items-center  justify-content-center gap-4",children:[(0,t.jsx)("button",{className:"yes-btn delete_btn",type:"button",onClick:async()=>{l()},children:"Yes"}),(0,t.jsx)("button",{className:"no-btn delete_btn",type:"button",onClick:s,children:"No"})]})})})})]})]})})})}},6305:(e,a,s)=>{s.d(a,{A:()=>t});s(5043);var n=s(579);function t(e){let{message:a}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"popup-overlay sucess_alert",children:(0,n.jsx)("div",{className:"popup-content col-md-4",children:(0,n.jsx)("div",{className:"sucess_meess d-flex flex-column gap-4",children:(0,n.jsx)("div",{className:"d-block sucess_notification",children:(0,n.jsx)("p",{children:a})})})})})})}},7777:(e,a,s)=>{s.r(a),s.d(a,{default:()=>N});var n=s(5043),t=s(5284),i=s(4282),l=s(8786),c=s(3910),o=s(7929),r=s(603),d=s(6305),m=s(6213),u=s(6178),p=s.n(u),h=s(2916),x=s(5748),g=s(3216),j=s(579);function N(){const[e,a]=(0,n.useState)([]),[s,u]=(0,n.useState)([]),[N,v]=(0,n.useState)(!1),[b,f]=(0,n.useState)(!1),[y,k]=(0,n.useState)({start_date:"",status:""}),[A,C]=(0,n.useState)(!1),[S,_]=(0,n.useState)(""),[w,L]=(0,n.useState)(""),[M,I]=(0,n.useState)(!1),[F,Y]=(0,n.useState)(""),P=(0,g.Zp)();(0,n.useEffect)((()=>{const e=localStorage.getItem("adminLogin"),a=JSON.parse(e);console.log(a),null===a&&P("/admin/login")}),[]);const R=[{name:"Username",selector:e=>e.username,sortable:!0},{name:"Message",selector:e=>e.message,sortable:!0},{name:"Create Date",selector:e=>p()(e.date).format("YYYY-MM-DD"),sortable:!0,className:"age"},{name:"Status",selector:e=>"Normal",sortable:!0,className:"age"},{name:"Action",cell:e=>(0,j.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,j.jsx)("button",{className:"dataedit_btn",title:"View Message",onClick:()=>D(e),children:(0,j.jsx)(c.g,{icon:h.pS3})}),(0,j.jsx)("button",{className:"datadelete_btn",onClick:()=>B(e.id),children:(0,j.jsx)(c.g,{icon:o.yLS})})]}),ignoreRowClick:!0,allowOverflow:!0,button:!0}],T="https://backend.amourette.no/api/admin/";(0,n.useEffect)((()=>{q()}),[]);const q=async()=>{let e={};try{var s=(await m.A.post(T+"getallmessaging",e,{headers:{Accept:"application/json","Content-Type":"application/json"}})).data.result;console.log(s),a(s)}catch(n){n.response||(n.request?console.error("Request data:",n.request):console.error("Error message:",n.message))}},B=e=>{C(!0),_("Are you sure? You want to delete this message"),L(e)},D=e=>{L(e.id),k(e),v(!0)},E=()=>{v(!1)},H=()=>{f(!1)};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)("section",{className:"d-block admin",children:(0,j.jsxs)("div",{className:"d-flex align-items-start gap-0",children:[(0,j.jsx)(r.A,{}),A&&(0,j.jsx)(x.A,{isOpen1:A,onClose1:()=>C(!1),message:S,onReturnSent:async()=>{let e={id:w};try{await m.A.post(T+"deletemessage",e,{headers:{Accept:"application/json","Content-Type":"application/json"}});q()}catch(a){a.response||(a.request?console.error("Request data:",a.request):console.error("Error message:",a.message))}C(!1)}}),M&&(0,j.jsx)(d.A,{message:F}),(0,j.jsxs)("div",{className:"d-flex flex-column gap-3 justify-content-end align-items-end main_dashboard",children:[(0,j.jsx)("input",{type:"text",onChange:n=>{const t=n.target.value.toLowerCase();if(""===t.trim())a(s);else{const s=e.filter((e=>e.username.toLowerCase().includes(t)||e.message.toLowerCase().includes(t)));a(s)}},className:"search_filter",placeholder:"Search"}),(0,j.jsx)(l.Ay,{columns:R,data:e,highlightOnHover:!0,pagination:!0,fixedHeader:!0,paginationPerPage:10,className:"custom-data-table"})]}),(0,j.jsxs)(t.A,{show:N,className:"edit_admin",onHide:E,children:[(0,j.jsx)(t.A.Header,{closeButton:!0,children:(0,j.jsx)(t.A.Title,{children:"View Media"})}),(0,j.jsx)(t.A.Body,{children:(0,j.jsxs)("form",{children:[(0,j.jsxs)("div",{className:"mb-3",children:[(0,j.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),(0,j.jsx)("input",{type:"text",className:"form-control",disabled:!0,value:y.username})]}),(0,j.jsxs)("div",{className:"mb-3",children:[(0,j.jsx)("label",{htmlFor:"status",className:"form-label",children:"Message"}),(0,j.jsx)("textarea",{className:"form-control",disabled:!0,value:y.message})]}),(0,j.jsxs)("div",{className:"mb-3",children:[(0,j.jsx)("label",{htmlFor:"status",className:"form-label",children:"Created Date"}),(0,j.jsx)("input",{type:"text",className:"form-control",disabled:!0,value:p()(y.date).format("DD-MM-YYYY")})]}),(0,j.jsx)(t.A.Footer,{children:(0,j.jsx)(i.A,{variant:"secondary",onClick:E,children:"Close"})})]})})]}),(0,j.jsxs)(t.A,{show:b,className:"edit_admin modal-lg",onHide:H,children:[(0,j.jsx)(t.A.Header,{closeButton:!0,children:(0,j.jsx)(t.A.Title,{children:"View Media"})}),(0,j.jsx)(t.A.Body,{style:{width:"100%"},children:(0,j.jsxs)("form",{children:[(0,j.jsx)("div",{className:"mb-3",children:(0,j.jsx)("img",{src:y.image,className:"w-100 h-100"})}),(0,j.jsx)(t.A.Footer,{children:(0,j.jsx)(i.A,{variant:"secondary",onClick:H,children:"Close"})})]})})]})]})})})}}}]);
//# sourceMappingURL=3174.44ca9f09.chunk.js.map